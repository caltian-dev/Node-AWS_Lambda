var Ir=Object.create;var ee=Object.defineProperty;var Ar=Object.getOwnPropertyDescriptor;var Cr=Object.getOwnPropertyNames;var hr=Object.getPrototypeOf,mr=Object.prototype.hasOwnProperty;var i=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),xr=(t,e)=>{for(var r in e)ee(t,r,{get:e[r],enumerable:!0})},St=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let a of Cr(e))!mr.call(t,a)&&a!==r&&ee(t,a,{get:()=>e[a],enumerable:!(n=Ar(e,a))||n.enumerable});return t};var Dr=(t,e,r)=>(r=t!=null?Ir(hr(t)):{},St(e||!t||!t.__esModule?ee(r,"default",{value:t,enumerable:!0}):r,t)),jr=t=>St(ee({},"__esModule",{value:!0}),t);var yt=i(te=>{"use strict";Object.defineProperty(te,"__esModule",{value:!0});te._globalThis=void 0;te._globalThis=typeof globalThis=="object"?globalThis:global});var Mt=i(N=>{"use strict";var Lr=N&&N.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),wr=N&&N.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Lr(e,t,r)};Object.defineProperty(N,"__esModule",{value:!0});wr(yt(),N)});var Rt=i(S=>{"use strict";var Vr=S&&S.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),qr=S&&S.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Vr(e,t,r)};Object.defineProperty(S,"__esModule",{value:!0});qr(Mt(),S)});var Ue=i(re=>{"use strict";Object.defineProperty(re,"__esModule",{value:!0});re.VERSION=void 0;re.VERSION="1.3.0"});var Ct=i(R=>{"use strict";Object.defineProperty(R,"__esModule",{value:!0});R.isCompatible=R._makeCompatibilityCheck=void 0;var Gr=Ue(),It=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;function At(t){let e=new Set([t]),r=new Set,n=t.match(It);if(!n)return()=>!1;let a={major:+n[1],minor:+n[2],patch:+n[3],prerelease:n[4]};if(a.prerelease!=null)return function(l){return l===t};function c(_){return r.add(_),!1}function u(_){return e.add(_),!0}return function(l){if(e.has(l))return!0;if(r.has(l))return!1;let p=l.match(It);if(!p)return c(l);let f={major:+p[1],minor:+p[2],patch:+p[3],prerelease:p[4]};return f.prerelease!=null||a.major!==f.major?c(l):a.major===0?a.minor===f.minor&&a.patch<=f.patch?u(l):c(l):a.minor<=f.minor?u(l):c(l)}}R._makeCompatibilityCheck=At;R.isCompatible=At(Gr.VERSION)});var y=i(P=>{"use strict";Object.defineProperty(P,"__esModule",{value:!0});P.unregisterGlobal=P.getGlobal=P.registerGlobal=void 0;var Br=Rt(),V=Ue(),Ur=Ct(),Fr=V.VERSION.split(".")[0],q=Symbol.for(`opentelemetry.js.api.${Fr}`),G=Br._globalThis;function Kr(t,e,r,n=!1){var a;let c=G[q]=(a=G[q])!==null&&a!==void 0?a:{version:V.VERSION};if(!n&&c[t]){let u=new Error(`@opentelemetry/api: Attempted duplicate registration of API: ${t}`);return r.error(u.stack||u.message),!1}if(c.version!==V.VERSION){let u=new Error("@opentelemetry/api: All API registration versions must match");return r.error(u.stack||u.message),!1}return c[t]=e,r.debug(`@opentelemetry/api: Registered a global for ${t} v${V.VERSION}.`),!0}P.registerGlobal=Kr;function kr(t){var e,r;let n=(e=G[q])===null||e===void 0?void 0:e.version;if(!(!n||!(0,Ur.isCompatible)(n)))return(r=G[q])===null||r===void 0?void 0:r[t]}P.getGlobal=kr;function Xr(t,e){e.debug(`@opentelemetry/api: Unregistering a global for ${t} v${V.VERSION}.`);let r=G[q];r&&delete r[t]}P.unregisterGlobal=Xr});var ht=i(ne=>{"use strict";Object.defineProperty(ne,"__esModule",{value:!0});ne.DiagComponentLogger=void 0;var $r=y(),Fe=class{constructor(e){this._namespace=e.namespace||"DiagComponentLogger"}debug(...e){return B("debug",this._namespace,e)}error(...e){return B("error",this._namespace,e)}info(...e){return B("info",this._namespace,e)}warn(...e){return B("warn",this._namespace,e)}verbose(...e){return B("verbose",this._namespace,e)}};ne.DiagComponentLogger=Fe;function B(t,e,r){let n=(0,$r.getGlobal)("diag");if(n)return r.unshift(e),n[t](...r)}});var ae=i(U=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0});U.DiagLogLevel=void 0;var Wr;(function(t){t[t.NONE=0]="NONE",t[t.ERROR=30]="ERROR",t[t.WARN=50]="WARN",t[t.INFO=60]="INFO",t[t.DEBUG=70]="DEBUG",t[t.VERBOSE=80]="VERBOSE",t[t.ALL=9999]="ALL"})(Wr=U.DiagLogLevel||(U.DiagLogLevel={}))});var mt=i(oe=>{"use strict";Object.defineProperty(oe,"__esModule",{value:!0});oe.createLogLevelDiagLogger=void 0;var b=ae();function Yr(t,e){t<b.DiagLogLevel.NONE?t=b.DiagLogLevel.NONE:t>b.DiagLogLevel.ALL&&(t=b.DiagLogLevel.ALL),e=e||{};function r(n,a){let c=e[n];return typeof c=="function"&&t>=a?c.bind(e):function(){}}return{error:r("error",b.DiagLogLevel.ERROR),warn:r("warn",b.DiagLogLevel.WARN),info:r("info",b.DiagLogLevel.INFO),debug:r("debug",b.DiagLogLevel.DEBUG),verbose:r("verbose",b.DiagLogLevel.VERBOSE)}}oe.createLogLevelDiagLogger=Yr});var M=i(se=>{"use strict";Object.defineProperty(se,"__esModule",{value:!0});se.DiagAPI=void 0;var zr=ht(),Hr=mt(),xt=ae(),ie=y(),Qr="diag",F=class{constructor(){function e(a){return function(...c){let u=(0,ie.getGlobal)("diag");if(u)return u[a](...c)}}let r=this,n=(a,c={logLevel:xt.DiagLogLevel.INFO})=>{var u,_,l;if(a===r){let w=new Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return r.error((u=w.stack)!==null&&u!==void 0?u:w.message),!1}typeof c=="number"&&(c={logLevel:c});let p=(0,ie.getGlobal)("diag"),f=(0,Hr.createLogLevelDiagLogger)((_=c.logLevel)!==null&&_!==void 0?_:xt.DiagLogLevel.INFO,a);if(p&&!c.suppressOverrideMessage){let w=(l=new Error().stack)!==null&&l!==void 0?l:"<failed to generate stacktrace>";p.warn(`Current logger will be overwritten from ${w}`),f.warn(`Current logger will overwrite one already registered from ${w}`)}return(0,ie.registerGlobal)("diag",f,r,!0)};r.setLogger=n,r.disable=()=>{(0,ie.unregisterGlobal)(Qr,r)},r.createComponentLogger=a=>new zr.DiagComponentLogger(a),r.verbose=e("verbose"),r.debug=e("debug"),r.info=e("info"),r.warn=e("warn"),r.error=e("error")}static instance(){return this._instance||(this._instance=new F),this._instance}};se.DiagAPI=F});var Dt=i(ce=>{"use strict";Object.defineProperty(ce,"__esModule",{value:!0});ce.BaggageImpl=void 0;var E=class{constructor(e){this._entries=e?new Map(e):new Map}getEntry(e){let r=this._entries.get(e);if(r)return Object.assign({},r)}getAllEntries(){return Array.from(this._entries.entries()).map(([e,r])=>[e,r])}setEntry(e,r){let n=new E(this._entries);return n._entries.set(e,r),n}removeEntry(e){let r=new E(this._entries);return r._entries.delete(e),r}removeEntries(...e){let r=new E(this._entries);for(let n of e)r._entries.delete(n);return r}clear(){return new E}};ce.BaggageImpl=E});var jt=i(ue=>{"use strict";Object.defineProperty(ue,"__esModule",{value:!0});ue.baggageEntryMetadataSymbol=void 0;ue.baggageEntryMetadataSymbol=Symbol("BaggageEntryMetadata")});var Ke=i(I=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0});I.baggageEntryMetadataFromString=I.createBaggage=void 0;var Jr=M(),Zr=Dt(),en=jt(),tn=Jr.DiagAPI.instance();function rn(t={}){return new Zr.BaggageImpl(new Map(Object.entries(t)))}I.createBaggage=rn;function nn(t){return typeof t!="string"&&(tn.error(`Cannot create baggage metadata from unknown type: ${typeof t}`),t=""),{__TYPE__:en.baggageEntryMetadataSymbol,toString(){return t}}}I.baggageEntryMetadataFromString=nn});var K=i(C=>{"use strict";Object.defineProperty(C,"__esModule",{value:!0});C.ROOT_CONTEXT=C.createContextKey=void 0;function an(t){return Symbol.for(t)}C.createContextKey=an;var A=class{constructor(e){let r=this;r._currentContext=e?new Map(e):new Map,r.getValue=n=>r._currentContext.get(n),r.setValue=(n,a)=>{let c=new A(r._currentContext);return c._currentContext.set(n,a),c},r.deleteValue=n=>{let a=new A(r._currentContext);return a._currentContext.delete(n),a}}};C.ROOT_CONTEXT=new A});var Lt=i(le=>{"use strict";Object.defineProperty(le,"__esModule",{value:!0});le.DiagConsoleLogger=void 0;var ke=[{n:"error",c:"error"},{n:"warn",c:"warn"},{n:"info",c:"info"},{n:"debug",c:"debug"},{n:"verbose",c:"trace"}],Xe=class{constructor(){function e(r){return function(...n){if(console){let a=console[r];if(typeof a!="function"&&(a=console.log),typeof a=="function")return a.apply(console,n)}}}for(let r=0;r<ke.length;r++)this[ke[r].n]=e(ke[r].c)}};le.DiagConsoleLogger=Xe});var $e=i(s=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0});s.createNoopMeter=s.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=s.NOOP_OBSERVABLE_GAUGE_METRIC=s.NOOP_OBSERVABLE_COUNTER_METRIC=s.NOOP_UP_DOWN_COUNTER_METRIC=s.NOOP_HISTOGRAM_METRIC=s.NOOP_COUNTER_METRIC=s.NOOP_METER=s.NoopObservableUpDownCounterMetric=s.NoopObservableGaugeMetric=s.NoopObservableCounterMetric=s.NoopObservableMetric=s.NoopHistogramMetric=s.NoopUpDownCounterMetric=s.NoopCounterMetric=s.NoopMetric=s.NoopMeter=void 0;var _e=class{constructor(){}createHistogram(e,r){return s.NOOP_HISTOGRAM_METRIC}createCounter(e,r){return s.NOOP_COUNTER_METRIC}createUpDownCounter(e,r){return s.NOOP_UP_DOWN_COUNTER_METRIC}createObservableGauge(e,r){return s.NOOP_OBSERVABLE_GAUGE_METRIC}createObservableCounter(e,r){return s.NOOP_OBSERVABLE_COUNTER_METRIC}createObservableUpDownCounter(e,r){return s.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC}addBatchObservableCallback(e,r){}removeBatchObservableCallback(e){}};s.NoopMeter=_e;var h=class{};s.NoopMetric=h;var ge=class extends h{add(e,r){}};s.NoopCounterMetric=ge;var de=class extends h{add(e,r){}};s.NoopUpDownCounterMetric=de;var pe=class extends h{record(e,r){}};s.NoopHistogramMetric=pe;var m=class{addCallback(e){}removeCallback(e){}};s.NoopObservableMetric=m;var fe=class extends m{};s.NoopObservableCounterMetric=fe;var Oe=class extends m{};s.NoopObservableGaugeMetric=Oe;var ve=class extends m{};s.NoopObservableUpDownCounterMetric=ve;s.NOOP_METER=new _e;s.NOOP_COUNTER_METRIC=new ge;s.NOOP_HISTOGRAM_METRIC=new pe;s.NOOP_UP_DOWN_COUNTER_METRIC=new de;s.NOOP_OBSERVABLE_COUNTER_METRIC=new fe;s.NOOP_OBSERVABLE_GAUGE_METRIC=new Oe;s.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=new ve;function on(){return s.NOOP_METER}s.createNoopMeter=on});var wt=i(k=>{"use strict";Object.defineProperty(k,"__esModule",{value:!0});k.ValueType=void 0;var sn;(function(t){t[t.INT=0]="INT",t[t.DOUBLE=1]="DOUBLE"})(sn=k.ValueType||(k.ValueType={}))});var We=i(x=>{"use strict";Object.defineProperty(x,"__esModule",{value:!0});x.defaultTextMapSetter=x.defaultTextMapGetter=void 0;x.defaultTextMapGetter={get(t,e){if(t!=null)return t[e]},keys(t){return t==null?[]:Object.keys(t)}};x.defaultTextMapSetter={set(t,e,r){t!=null&&(t[e]=r)}}});var Vt=i(be=>{"use strict";Object.defineProperty(be,"__esModule",{value:!0});be.NoopContextManager=void 0;var cn=K(),Ye=class{active(){return cn.ROOT_CONTEXT}with(e,r,n,...a){return r.call(n,...a)}bind(e,r){return r}enable(){return this}disable(){return this}};be.NoopContextManager=Ye});var Ee=i(Pe=>{"use strict";Object.defineProperty(Pe,"__esModule",{value:!0});Pe.ContextAPI=void 0;var un=Vt(),ze=y(),qt=M(),He="context",ln=new un.NoopContextManager,X=class{constructor(){}static getInstance(){return this._instance||(this._instance=new X),this._instance}setGlobalContextManager(e){return(0,ze.registerGlobal)(He,e,qt.DiagAPI.instance())}active(){return this._getContextManager().active()}with(e,r,n,...a){return this._getContextManager().with(e,r,n,...a)}bind(e,r){return this._getContextManager().bind(e,r)}_getContextManager(){return(0,ze.getGlobal)(He)||ln}disable(){this._getContextManager().disable(),(0,ze.unregisterGlobal)(He,qt.DiagAPI.instance())}};Pe.ContextAPI=X});var Qe=i($=>{"use strict";Object.defineProperty($,"__esModule",{value:!0});$.TraceFlags=void 0;var _n;(function(t){t[t.NONE=0]="NONE",t[t.SAMPLED=1]="SAMPLED"})(_n=$.TraceFlags||($.TraceFlags={}))});var Te=i(O=>{"use strict";Object.defineProperty(O,"__esModule",{value:!0});O.INVALID_SPAN_CONTEXT=O.INVALID_TRACEID=O.INVALID_SPANID=void 0;var gn=Qe();O.INVALID_SPANID="0000000000000000";O.INVALID_TRACEID="00000000000000000000000000000000";O.INVALID_SPAN_CONTEXT={traceId:O.INVALID_TRACEID,spanId:O.INVALID_SPANID,traceFlags:gn.TraceFlags.NONE}});var Se=i(Ne=>{"use strict";Object.defineProperty(Ne,"__esModule",{value:!0});Ne.NonRecordingSpan=void 0;var dn=Te(),Je=class{constructor(e=dn.INVALID_SPAN_CONTEXT){this._spanContext=e}spanContext(){return this._spanContext}setAttribute(e,r){return this}setAttributes(e){return this}addEvent(e,r){return this}setStatus(e){return this}updateName(e){return this}end(e){}isRecording(){return!1}recordException(e,r){}};Ne.NonRecordingSpan=Je});var tt=i(d=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0});d.getSpanContext=d.setSpanContext=d.deleteSpan=d.setSpan=d.getActiveSpan=d.getSpan=void 0;var pn=K(),fn=Se(),On=Ee(),Ze=(0,pn.createContextKey)("OpenTelemetry Context Key SPAN");function et(t){return t.getValue(Ze)||void 0}d.getSpan=et;function vn(){return et(On.ContextAPI.getInstance().active())}d.getActiveSpan=vn;function Gt(t,e){return t.setValue(Ze,e)}d.setSpan=Gt;function bn(t){return t.deleteValue(Ze)}d.deleteSpan=bn;function Pn(t,e){return Gt(t,new fn.NonRecordingSpan(e))}d.setSpanContext=Pn;function En(t){var e;return(e=et(t))===null||e===void 0?void 0:e.spanContext()}d.getSpanContext=En});var ye=i(v=>{"use strict";Object.defineProperty(v,"__esModule",{value:!0});v.wrapSpanContext=v.isSpanContextValid=v.isValidSpanId=v.isValidTraceId=void 0;var Bt=Te(),Tn=Se(),Nn=/^([0-9a-f]{32})$/i,Sn=/^[0-9a-f]{16}$/i;function Ut(t){return Nn.test(t)&&t!==Bt.INVALID_TRACEID}v.isValidTraceId=Ut;function Ft(t){return Sn.test(t)&&t!==Bt.INVALID_SPANID}v.isValidSpanId=Ft;function yn(t){return Ut(t.traceId)&&Ft(t.spanId)}v.isSpanContextValid=yn;function Mn(t){return new Tn.NonRecordingSpan(t)}v.wrapSpanContext=Mn});var at=i(Me=>{"use strict";Object.defineProperty(Me,"__esModule",{value:!0});Me.NoopTracer=void 0;var Rn=Ee(),Kt=tt(),rt=Se(),In=ye(),kt=Rn.ContextAPI.getInstance(),nt=class{startSpan(e,r,n){if(Boolean(r==null?void 0:r.root))return new rt.NonRecordingSpan;let c=n&&(0,Kt.getSpanContext)(n);return An(c)&&(0,In.isSpanContextValid)(c)?new rt.NonRecordingSpan(c):new rt.NonRecordingSpan}startActiveSpan(e,r,n,a){let c,u,_;if(arguments.length<2)return;arguments.length===2?_=r:arguments.length===3?(c=r,_=n):(c=r,u=n,_=a);let l=u??kt.active(),p=this.startSpan(e,c,l),f=(0,Kt.setSpan)(l,p);return kt.with(f,_,void 0,p)}};Me.NoopTracer=nt;function An(t){return typeof t=="object"&&typeof t.spanId=="string"&&typeof t.traceId=="string"&&typeof t.traceFlags=="number"}});var it=i(Re=>{"use strict";Object.defineProperty(Re,"__esModule",{value:!0});Re.ProxyTracer=void 0;var Cn=at(),hn=new Cn.NoopTracer,ot=class{constructor(e,r,n,a){this._provider=e,this.name=r,this.version=n,this.options=a}startSpan(e,r,n){return this._getTracer().startSpan(e,r,n)}startActiveSpan(e,r,n,a){let c=this._getTracer();return Reflect.apply(c.startActiveSpan,c,arguments)}_getTracer(){if(this._delegate)return this._delegate;let e=this._provider.getDelegateTracer(this.name,this.version,this.options);return e?(this._delegate=e,this._delegate):hn}};Re.ProxyTracer=ot});var Xt=i(Ie=>{"use strict";Object.defineProperty(Ie,"__esModule",{value:!0});Ie.NoopTracerProvider=void 0;var mn=at(),st=class{getTracer(e,r,n){return new mn.NoopTracer}};Ie.NoopTracerProvider=st});var ut=i(Ae=>{"use strict";Object.defineProperty(Ae,"__esModule",{value:!0});Ae.ProxyTracerProvider=void 0;var xn=it(),Dn=Xt(),jn=new Dn.NoopTracerProvider,ct=class{getTracer(e,r,n){var a;return(a=this.getDelegateTracer(e,r,n))!==null&&a!==void 0?a:new xn.ProxyTracer(this,e,r,n)}getDelegate(){var e;return(e=this._delegate)!==null&&e!==void 0?e:jn}setDelegate(e){this._delegate=e}getDelegateTracer(e,r,n){var a;return(a=this._delegate)===null||a===void 0?void 0:a.getTracer(e,r,n)}};Ae.ProxyTracerProvider=ct});var $t=i(W=>{"use strict";Object.defineProperty(W,"__esModule",{value:!0});W.SamplingDecision=void 0;var Ln;(function(t){t[t.NOT_RECORD=0]="NOT_RECORD",t[t.RECORD=1]="RECORD",t[t.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"})(Ln=W.SamplingDecision||(W.SamplingDecision={}))});var Wt=i(Y=>{"use strict";Object.defineProperty(Y,"__esModule",{value:!0});Y.SpanKind=void 0;var wn;(function(t){t[t.INTERNAL=0]="INTERNAL",t[t.SERVER=1]="SERVER",t[t.CLIENT=2]="CLIENT",t[t.PRODUCER=3]="PRODUCER",t[t.CONSUMER=4]="CONSUMER"})(wn=Y.SpanKind||(Y.SpanKind={}))});var Yt=i(z=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});z.SpanStatusCode=void 0;var Vn;(function(t){t[t.UNSET=0]="UNSET",t[t.OK=1]="OK",t[t.ERROR=2]="ERROR"})(Vn=z.SpanStatusCode||(z.SpanStatusCode={}))});var zt=i(D=>{"use strict";Object.defineProperty(D,"__esModule",{value:!0});D.validateValue=D.validateKey=void 0;var lt="[_0-9a-z-*/]",qn=`[a-z]${lt}{0,255}`,Gn=`[a-z0-9]${lt}{0,240}@[a-z]${lt}{0,13}`,Bn=new RegExp(`^(?:${qn}|${Gn})$`),Un=/^[ -~]{0,255}[!-~]$/,Fn=/,|=/;function Kn(t){return Bn.test(t)}D.validateKey=Kn;function kn(t){return Un.test(t)&&!Fn.test(t)}D.validateValue=kn});var er=i(Ce=>{"use strict";Object.defineProperty(Ce,"__esModule",{value:!0});Ce.TraceStateImpl=void 0;var Ht=zt(),Qt=32,Xn=512,Jt=",",Zt="=",H=class{constructor(e){this._internalState=new Map,e&&this._parse(e)}set(e,r){let n=this._clone();return n._internalState.has(e)&&n._internalState.delete(e),n._internalState.set(e,r),n}unset(e){let r=this._clone();return r._internalState.delete(e),r}get(e){return this._internalState.get(e)}serialize(){return this._keys().reduce((e,r)=>(e.push(r+Zt+this.get(r)),e),[]).join(Jt)}_parse(e){e.length>Xn||(this._internalState=e.split(Jt).reverse().reduce((r,n)=>{let a=n.trim(),c=a.indexOf(Zt);if(c!==-1){let u=a.slice(0,c),_=a.slice(c+1,n.length);(0,Ht.validateKey)(u)&&(0,Ht.validateValue)(_)&&r.set(u,_)}return r},new Map),this._internalState.size>Qt&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,Qt))))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let e=new H;return e._internalState=new Map(this._internalState),e}};Ce.TraceStateImpl=H});var tr=i(he=>{"use strict";Object.defineProperty(he,"__esModule",{value:!0});he.createTraceState=void 0;var $n=er();function Wn(t){return new $n.TraceStateImpl(t)}he.createTraceState=Wn});var rr=i(me=>{"use strict";Object.defineProperty(me,"__esModule",{value:!0});me.context=void 0;var Yn=Ee();me.context=Yn.ContextAPI.getInstance()});var nr=i(xe=>{"use strict";Object.defineProperty(xe,"__esModule",{value:!0});xe.diag=void 0;var zn=M();xe.diag=zn.DiagAPI.instance()});var ar=i(j=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});j.NOOP_METER_PROVIDER=j.NoopMeterProvider=void 0;var Hn=$e(),De=class{getMeter(e,r,n){return Hn.NOOP_METER}};j.NoopMeterProvider=De;j.NOOP_METER_PROVIDER=new De});var ir=i(je=>{"use strict";Object.defineProperty(je,"__esModule",{value:!0});je.MetricsAPI=void 0;var Qn=ar(),_t=y(),or=M(),gt="metrics",Q=class{constructor(){}static getInstance(){return this._instance||(this._instance=new Q),this._instance}setGlobalMeterProvider(e){return(0,_t.registerGlobal)(gt,e,or.DiagAPI.instance())}getMeterProvider(){return(0,_t.getGlobal)(gt)||Qn.NOOP_METER_PROVIDER}getMeter(e,r,n){return this.getMeterProvider().getMeter(e,r,n)}disable(){(0,_t.unregisterGlobal)(gt,or.DiagAPI.instance())}};je.MetricsAPI=Q});var sr=i(Le=>{"use strict";Object.defineProperty(Le,"__esModule",{value:!0});Le.metrics=void 0;var Jn=ir();Le.metrics=Jn.MetricsAPI.getInstance()});var cr=i(we=>{"use strict";Object.defineProperty(we,"__esModule",{value:!0});we.NoopTextMapPropagator=void 0;var dt=class{inject(e,r){}extract(e,r){return e}fields(){return[]}};we.NoopTextMapPropagator=dt});var ur=i(T=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0});T.deleteBaggage=T.setBaggage=T.getBaggage=void 0;var Zn=K(),pt=(0,Zn.createContextKey)("OpenTelemetry Baggage Key");function ea(t){return t.getValue(pt)||void 0}T.getBaggage=ea;function ta(t,e){return t.setValue(pt,e)}T.setBaggage=ta;function ra(t){return t.deleteValue(pt)}T.deleteBaggage=ra});var gr=i(Ve=>{"use strict";Object.defineProperty(Ve,"__esModule",{value:!0});Ve.PropagationAPI=void 0;var ft=y(),na=cr(),lr=We(),Ot=ur(),aa=Ke(),_r=M(),vt="propagation",oa=new na.NoopTextMapPropagator,J=class{constructor(){this.createBaggage=aa.createBaggage,this.getBaggage=Ot.getBaggage,this.setBaggage=Ot.setBaggage,this.deleteBaggage=Ot.deleteBaggage}static getInstance(){return this._instance||(this._instance=new J),this._instance}setGlobalPropagator(e){return(0,ft.registerGlobal)(vt,e,_r.DiagAPI.instance())}inject(e,r,n=lr.defaultTextMapSetter){return this._getGlobalPropagator().inject(e,r,n)}extract(e,r,n=lr.defaultTextMapGetter){return this._getGlobalPropagator().extract(e,r,n)}fields(){return this._getGlobalPropagator().fields()}disable(){(0,ft.unregisterGlobal)(vt,_r.DiagAPI.instance())}_getGlobalPropagator(){return(0,ft.getGlobal)(vt)||oa}};Ve.PropagationAPI=J});var dr=i(qe=>{"use strict";Object.defineProperty(qe,"__esModule",{value:!0});qe.propagation=void 0;var ia=gr();qe.propagation=ia.PropagationAPI.getInstance()});var vr=i(Ge=>{"use strict";Object.defineProperty(Ge,"__esModule",{value:!0});Ge.TraceAPI=void 0;var bt=y(),pr=ut(),fr=ye(),L=tt(),Or=M(),Pt="trace",Z=class{constructor(){this._proxyTracerProvider=new pr.ProxyTracerProvider,this.wrapSpanContext=fr.wrapSpanContext,this.isSpanContextValid=fr.isSpanContextValid,this.deleteSpan=L.deleteSpan,this.getSpan=L.getSpan,this.getActiveSpan=L.getActiveSpan,this.getSpanContext=L.getSpanContext,this.setSpan=L.setSpan,this.setSpanContext=L.setSpanContext}static getInstance(){return this._instance||(this._instance=new Z),this._instance}setGlobalTracerProvider(e){let r=(0,bt.registerGlobal)(Pt,this._proxyTracerProvider,Or.DiagAPI.instance());return r&&this._proxyTracerProvider.setDelegate(e),r}getTracerProvider(){return(0,bt.getGlobal)(Pt)||this._proxyTracerProvider}getTracer(e,r){return this.getTracerProvider().getTracer(e,r)}disable(){(0,bt.unregisterGlobal)(Pt,Or.DiagAPI.instance()),this._proxyTracerProvider=new pr.ProxyTracerProvider}};Ge.TraceAPI=Z});var br=i(Be=>{"use strict";Object.defineProperty(Be,"__esModule",{value:!0});Be.trace=void 0;var sa=vr();Be.trace=sa.TraceAPI.getInstance()});var Rr=i(o=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0});o.trace=o.propagation=o.metrics=o.diag=o.context=o.INVALID_SPAN_CONTEXT=o.INVALID_TRACEID=o.INVALID_SPANID=o.isValidSpanId=o.isValidTraceId=o.isSpanContextValid=o.createTraceState=o.TraceFlags=o.SpanStatusCode=o.SpanKind=o.SamplingDecision=o.ProxyTracerProvider=o.ProxyTracer=o.defaultTextMapSetter=o.defaultTextMapGetter=o.ValueType=o.createNoopMeter=o.DiagLogLevel=o.DiagConsoleLogger=o.ROOT_CONTEXT=o.createContextKey=o.baggageEntryMetadataFromString=void 0;var ca=Ke();Object.defineProperty(o,"baggageEntryMetadataFromString",{enumerable:!0,get:function(){return ca.baggageEntryMetadataFromString}});var Pr=K();Object.defineProperty(o,"createContextKey",{enumerable:!0,get:function(){return Pr.createContextKey}});Object.defineProperty(o,"ROOT_CONTEXT",{enumerable:!0,get:function(){return Pr.ROOT_CONTEXT}});var ua=Lt();Object.defineProperty(o,"DiagConsoleLogger",{enumerable:!0,get:function(){return ua.DiagConsoleLogger}});var la=ae();Object.defineProperty(o,"DiagLogLevel",{enumerable:!0,get:function(){return la.DiagLogLevel}});var _a=$e();Object.defineProperty(o,"createNoopMeter",{enumerable:!0,get:function(){return _a.createNoopMeter}});var ga=wt();Object.defineProperty(o,"ValueType",{enumerable:!0,get:function(){return ga.ValueType}});var Er=We();Object.defineProperty(o,"defaultTextMapGetter",{enumerable:!0,get:function(){return Er.defaultTextMapGetter}});Object.defineProperty(o,"defaultTextMapSetter",{enumerable:!0,get:function(){return Er.defaultTextMapSetter}});var da=it();Object.defineProperty(o,"ProxyTracer",{enumerable:!0,get:function(){return da.ProxyTracer}});var pa=ut();Object.defineProperty(o,"ProxyTracerProvider",{enumerable:!0,get:function(){return pa.ProxyTracerProvider}});var fa=$t();Object.defineProperty(o,"SamplingDecision",{enumerable:!0,get:function(){return fa.SamplingDecision}});var Oa=Wt();Object.defineProperty(o,"SpanKind",{enumerable:!0,get:function(){return Oa.SpanKind}});var va=Yt();Object.defineProperty(o,"SpanStatusCode",{enumerable:!0,get:function(){return va.SpanStatusCode}});var ba=Qe();Object.defineProperty(o,"TraceFlags",{enumerable:!0,get:function(){return ba.TraceFlags}});var Pa=tr();Object.defineProperty(o,"createTraceState",{enumerable:!0,get:function(){return Pa.createTraceState}});var Et=ye();Object.defineProperty(o,"isSpanContextValid",{enumerable:!0,get:function(){return Et.isSpanContextValid}});Object.defineProperty(o,"isValidTraceId",{enumerable:!0,get:function(){return Et.isValidTraceId}});Object.defineProperty(o,"isValidSpanId",{enumerable:!0,get:function(){return Et.isValidSpanId}});var Tt=Te();Object.defineProperty(o,"INVALID_SPANID",{enumerable:!0,get:function(){return Tt.INVALID_SPANID}});Object.defineProperty(o,"INVALID_TRACEID",{enumerable:!0,get:function(){return Tt.INVALID_TRACEID}});Object.defineProperty(o,"INVALID_SPAN_CONTEXT",{enumerable:!0,get:function(){return Tt.INVALID_SPAN_CONTEXT}});var Tr=rr();Object.defineProperty(o,"context",{enumerable:!0,get:function(){return Tr.context}});var Nr=nr();Object.defineProperty(o,"diag",{enumerable:!0,get:function(){return Nr.diag}});var Sr=sr();Object.defineProperty(o,"metrics",{enumerable:!0,get:function(){return Sr.metrics}});var yr=dr();Object.defineProperty(o,"propagation",{enumerable:!0,get:function(){return yr.propagation}});var Mr=br();Object.defineProperty(o,"trace",{enumerable:!0,get:function(){return Mr.trace}});o.default={context:Tr.context,diag:Nr.diag,metrics:Sr.metrics,propagation:yr.propagation,trace:Mr.trace}});var ya={};xr(ya,{enrich:()=>Ta,label:()=>Na,log:()=>Sa,track:()=>Ea});module.exports=jr(ya);var g=Dr(Rr());function Nt(t,e,r){if(e===void 0&&(e=""),r===void 0&&(r={}),e&&typeof t=="object"&&t!==null&&Object.keys(t).length===0)return r[e]=Array.isArray(t)?[]:{},r;e=e?"".concat(e,"."):"";for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(typeof t[n]=="object"&&t[n]!==null?Nt(t[n],e+n,r):r[e+n]=t[n]);return r}var Ea=(t,e)=>async(...r)=>{let n=g.trace.getTracer(t),a=Nt(r,"name.args"),c=n.startSpan(t,{attributes:a}),u=g.trace.setSpan(g.context.active(),c),_=await g.context.with(u,e,null,r),l=Nt(_,`${t}.result`);return c.setAttributes(l),c.end(),_},Ta=(t,e)=>{let r=g.trace.getSpan(g.context.active());r?r.setAttribute(t,e):console.log()},Na=(t,e)=>{let r=g.trace.getSpan(g.context.active());if(r){let n=g.trace.setSpan(g.context.active(),r),a=g.propagation.createBaggage({[t]:{value:e}});g.propagation.setBaggage(n,a)}else console.log("yo this did not work")},Sa=(t,e)=>{let r=g.trace.getSpan(g.context.active());r?e?r.addEvent(t,e,Date.now()):r.addEvent(t,Date.now()):console.log("yo this did not work")};0&&(module.exports={enrich,label,log,track});
