"use strict";var gw=Object.create;var Wm=Object.defineProperty;var mw=Object.getOwnPropertyDescriptor;var Tw=Object.getOwnPropertyNames;var Sw=Object.getPrototypeOf,vw=Object.prototype.hasOwnProperty;var c=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports);var Aw=(r,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of Tw(e))!vw.call(r,s)&&s!==t&&Wm(r,s,{get:()=>e[s],enumerable:!(n=mw(e,s))||n.enumerable});return r};var yr=(r,e,t)=>(t=r!=null?gw(Sw(r)):{},Aw(e||!r||!r.__esModule?Wm(t,"default",{value:r,enumerable:!0}):t,r));var km=c(tu=>{"use strict";Object.defineProperty(tu,"__esModule",{value:!0});tu._globalThis=void 0;tu._globalThis=typeof globalThis=="object"?globalThis:global});var Km=c(an=>{"use strict";var Ow=an&&an.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Rw=an&&an.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Ow(e,r,t)};Object.defineProperty(an,"__esModule",{value:!0});Rw(km(),an)});var Ym=c(un=>{"use strict";var Iw=un&&un.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),bw=un&&un.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Iw(e,r,t)};Object.defineProperty(un,"__esModule",{value:!0});bw(Km(),un)});var Yd=c(ru=>{"use strict";Object.defineProperty(ru,"__esModule",{value:!0});ru.VERSION=void 0;ru.VERSION="1.4.1"});var Zm=c(ps=>{"use strict";Object.defineProperty(ps,"__esModule",{value:!0});ps.isCompatible=ps._makeCompatibilityCheck=void 0;var Pw=Yd(),zm=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;function Qm(r){let e=new Set([r]),t=new Set,n=r.match(zm);if(!n)return()=>!1;let s={major:+n[1],minor:+n[2],patch:+n[3],prerelease:n[4]};if(s.prerelease!=null)return function(u){return u===r};function i(a){return t.add(a),!1}function o(a){return e.add(a),!0}return function(u){if(e.has(u))return!0;if(t.has(u))return!1;let l=u.match(zm);if(!l)return i(u);let h={major:+l[1],minor:+l[2],patch:+l[3],prerelease:l[4]};return h.prerelease!=null||s.major!==h.major?i(u):s.major===0?s.minor===h.minor&&s.patch<=h.patch?o(u):i(u):s.minor<=h.minor?o(u):i(u)}}ps._makeCompatibilityCheck=Qm;ps.isCompatible=Qm(Pw.VERSION)});var cn=c(Nr=>{"use strict";Object.defineProperty(Nr,"__esModule",{value:!0});Nr.unregisterGlobal=Nr.getGlobal=Nr.registerGlobal=void 0;var yw=Ym(),fs=Yd(),Nw=Zm(),Lw=fs.VERSION.split(".")[0],zi=Symbol.for(`opentelemetry.js.api.${Lw}`),Qi=yw._globalThis;function Cw(r,e,t,n=!1){var s;let i=Qi[zi]=(s=Qi[zi])!==null&&s!==void 0?s:{version:fs.VERSION};if(!n&&i[r]){let o=new Error(`@opentelemetry/api: Attempted duplicate registration of API: ${r}`);return t.error(o.stack||o.message),!1}if(i.version!==fs.VERSION){let o=new Error(`@opentelemetry/api: Registration of version v${i.version} for ${r} does not match previously registered API v${fs.VERSION}`);return t.error(o.stack||o.message),!1}return i[r]=e,t.debug(`@opentelemetry/api: Registered a global for ${r} v${fs.VERSION}.`),!0}Nr.registerGlobal=Cw;function Mw(r){var e,t;let n=(e=Qi[zi])===null||e===void 0?void 0:e.version;if(!(!n||!(0,Nw.isCompatible)(n)))return(t=Qi[zi])===null||t===void 0?void 0:t[r]}Nr.getGlobal=Mw;function ww(r,e){e.debug(`@opentelemetry/api: Unregistering a global for ${r} v${fs.VERSION}.`);let t=Qi[zi];t&&delete t[r]}Nr.unregisterGlobal=ww});var Jm=c(nu=>{"use strict";Object.defineProperty(nu,"__esModule",{value:!0});nu.DiagComponentLogger=void 0;var qw=cn(),zd=class{constructor(e){this._namespace=e.namespace||"DiagComponentLogger"}debug(...e){return Zi("debug",this._namespace,e)}error(...e){return Zi("error",this._namespace,e)}info(...e){return Zi("info",this._namespace,e)}warn(...e){return Zi("warn",this._namespace,e)}verbose(...e){return Zi("verbose",this._namespace,e)}};nu.DiagComponentLogger=zd;function Zi(r,e,t){let n=(0,qw.getGlobal)("diag");if(n)return t.unshift(e),n[r](...t)}});var su=c(Ji=>{"use strict";Object.defineProperty(Ji,"__esModule",{value:!0});Ji.DiagLogLevel=void 0;var xw;(function(r){r[r.NONE=0]="NONE",r[r.ERROR=30]="ERROR",r[r.WARN=50]="WARN",r[r.INFO=60]="INFO",r[r.DEBUG=70]="DEBUG",r[r.VERBOSE=80]="VERBOSE",r[r.ALL=9999]="ALL"})(xw=Ji.DiagLogLevel||(Ji.DiagLogLevel={}))});var eT=c(iu=>{"use strict";Object.defineProperty(iu,"__esModule",{value:!0});iu.createLogLevelDiagLogger=void 0;var ur=su();function Dw(r,e){r<ur.DiagLogLevel.NONE?r=ur.DiagLogLevel.NONE:r>ur.DiagLogLevel.ALL&&(r=ur.DiagLogLevel.ALL),e=e||{};function t(n,s){let i=e[n];return typeof i=="function"&&r>=s?i.bind(e):function(){}}return{error:t("error",ur.DiagLogLevel.ERROR),warn:t("warn",ur.DiagLogLevel.WARN),info:t("info",ur.DiagLogLevel.INFO),debug:t("debug",ur.DiagLogLevel.DEBUG),verbose:t("verbose",ur.DiagLogLevel.VERBOSE)}}iu.createLogLevelDiagLogger=Dw});var ln=c(au=>{"use strict";Object.defineProperty(au,"__esModule",{value:!0});au.DiagAPI=void 0;var $w=Jm(),jw=eT(),tT=su(),ou=cn(),Uw="diag",eo=class{constructor(){function e(s){return function(...i){let o=(0,ou.getGlobal)("diag");if(o)return o[s](...i)}}let t=this,n=(s,i={logLevel:tT.DiagLogLevel.INFO})=>{var o,a,u;if(s===t){let d=new Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return t.error((o=d.stack)!==null&&o!==void 0?o:d.message),!1}typeof i=="number"&&(i={logLevel:i});let l=(0,ou.getGlobal)("diag"),h=(0,jw.createLogLevelDiagLogger)((a=i.logLevel)!==null&&a!==void 0?a:tT.DiagLogLevel.INFO,s);if(l&&!i.suppressOverrideMessage){let d=(u=new Error().stack)!==null&&u!==void 0?u:"<failed to generate stacktrace>";l.warn(`Current logger will be overwritten from ${d}`),h.warn(`Current logger will overwrite one already registered from ${d}`)}return(0,ou.registerGlobal)("diag",h,t,!0)};t.setLogger=n,t.disable=()=>{(0,ou.unregisterGlobal)(Uw,t)},t.createComponentLogger=s=>new $w.DiagComponentLogger(s),t.verbose=e("verbose"),t.debug=e("debug"),t.info=e("info"),t.warn=e("warn"),t.error=e("error")}static instance(){return this._instance||(this._instance=new eo),this._instance}};au.DiagAPI=eo});var rT=c(uu=>{"use strict";Object.defineProperty(uu,"__esModule",{value:!0});uu.BaggageImpl=void 0;var Lr=class{constructor(e){this._entries=e?new Map(e):new Map}getEntry(e){let t=this._entries.get(e);if(t)return Object.assign({},t)}getAllEntries(){return Array.from(this._entries.entries()).map(([e,t])=>[e,t])}setEntry(e,t){let n=new Lr(this._entries);return n._entries.set(e,t),n}removeEntry(e){let t=new Lr(this._entries);return t._entries.delete(e),t}removeEntries(...e){let t=new Lr(this._entries);for(let n of e)t._entries.delete(n);return t}clear(){return new Lr}};uu.BaggageImpl=Lr});var nT=c(cu=>{"use strict";Object.defineProperty(cu,"__esModule",{value:!0});cu.baggageEntryMetadataSymbol=void 0;cu.baggageEntryMetadataSymbol=Symbol("BaggageEntryMetadata")});var Qd=c(_s=>{"use strict";Object.defineProperty(_s,"__esModule",{value:!0});_s.baggageEntryMetadataFromString=_s.createBaggage=void 0;var Gw=ln(),Bw=rT(),Fw=nT(),Vw=Gw.DiagAPI.instance();function Hw(r={}){return new Bw.BaggageImpl(new Map(Object.entries(r)))}_s.createBaggage=Hw;function Xw(r){return typeof r!="string"&&(Vw.error(`Cannot create baggage metadata from unknown type: ${typeof r}`),r=""),{__TYPE__:Fw.baggageEntryMetadataSymbol,toString(){return r}}}_s.baggageEntryMetadataFromString=Xw});var to=c(gs=>{"use strict";Object.defineProperty(gs,"__esModule",{value:!0});gs.ROOT_CONTEXT=gs.createContextKey=void 0;function Ww(r){return Symbol.for(r)}gs.createContextKey=Ww;var Es=class{constructor(e){let t=this;t._currentContext=e?new Map(e):new Map,t.getValue=n=>t._currentContext.get(n),t.setValue=(n,s)=>{let i=new Es(t._currentContext);return i._currentContext.set(n,s),i},t.deleteValue=n=>{let s=new Es(t._currentContext);return s._currentContext.delete(n),s}}};gs.ROOT_CONTEXT=new Es});var sT=c(lu=>{"use strict";Object.defineProperty(lu,"__esModule",{value:!0});lu.DiagConsoleLogger=void 0;var Zd=[{n:"error",c:"error"},{n:"warn",c:"warn"},{n:"info",c:"info"},{n:"debug",c:"debug"},{n:"verbose",c:"trace"}],Jd=class{constructor(){function e(t){return function(...n){if(console){let s=console[t];if(typeof s!="function"&&(s=console.log),typeof s=="function")return s.apply(console,n)}}}for(let t=0;t<Zd.length;t++)this[Zd[t].n]=e(Zd[t].c)}};lu.DiagConsoleLogger=Jd});var ep=c(x=>{"use strict";Object.defineProperty(x,"__esModule",{value:!0});x.createNoopMeter=x.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=x.NOOP_OBSERVABLE_GAUGE_METRIC=x.NOOP_OBSERVABLE_COUNTER_METRIC=x.NOOP_UP_DOWN_COUNTER_METRIC=x.NOOP_HISTOGRAM_METRIC=x.NOOP_COUNTER_METRIC=x.NOOP_METER=x.NoopObservableUpDownCounterMetric=x.NoopObservableGaugeMetric=x.NoopObservableCounterMetric=x.NoopObservableMetric=x.NoopHistogramMetric=x.NoopUpDownCounterMetric=x.NoopCounterMetric=x.NoopMetric=x.NoopMeter=void 0;var hu=class{constructor(){}createHistogram(e,t){return x.NOOP_HISTOGRAM_METRIC}createCounter(e,t){return x.NOOP_COUNTER_METRIC}createUpDownCounter(e,t){return x.NOOP_UP_DOWN_COUNTER_METRIC}createObservableGauge(e,t){return x.NOOP_OBSERVABLE_GAUGE_METRIC}createObservableCounter(e,t){return x.NOOP_OBSERVABLE_COUNTER_METRIC}createObservableUpDownCounter(e,t){return x.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC}addBatchObservableCallback(e,t){}removeBatchObservableCallback(e){}};x.NoopMeter=hu;var ms=class{};x.NoopMetric=ms;var du=class extends ms{add(e,t){}};x.NoopCounterMetric=du;var pu=class extends ms{add(e,t){}};x.NoopUpDownCounterMetric=pu;var fu=class extends ms{record(e,t){}};x.NoopHistogramMetric=fu;var Ts=class{addCallback(e){}removeCallback(e){}};x.NoopObservableMetric=Ts;var _u=class extends Ts{};x.NoopObservableCounterMetric=_u;var Eu=class extends Ts{};x.NoopObservableGaugeMetric=Eu;var gu=class extends Ts{};x.NoopObservableUpDownCounterMetric=gu;x.NOOP_METER=new hu;x.NOOP_COUNTER_METRIC=new du;x.NOOP_HISTOGRAM_METRIC=new fu;x.NOOP_UP_DOWN_COUNTER_METRIC=new pu;x.NOOP_OBSERVABLE_COUNTER_METRIC=new _u;x.NOOP_OBSERVABLE_GAUGE_METRIC=new Eu;x.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=new gu;function kw(){return x.NOOP_METER}x.createNoopMeter=kw});var iT=c(ro=>{"use strict";Object.defineProperty(ro,"__esModule",{value:!0});ro.ValueType=void 0;var Kw;(function(r){r[r.INT=0]="INT",r[r.DOUBLE=1]="DOUBLE"})(Kw=ro.ValueType||(ro.ValueType={}))});var tp=c(Ss=>{"use strict";Object.defineProperty(Ss,"__esModule",{value:!0});Ss.defaultTextMapSetter=Ss.defaultTextMapGetter=void 0;Ss.defaultTextMapGetter={get(r,e){if(r!=null)return r[e]},keys(r){return r==null?[]:Object.keys(r)}};Ss.defaultTextMapSetter={set(r,e,t){r!=null&&(r[e]=t)}}});var oT=c(mu=>{"use strict";Object.defineProperty(mu,"__esModule",{value:!0});mu.NoopContextManager=void 0;var Yw=to(),rp=class{active(){return Yw.ROOT_CONTEXT}with(e,t,n,...s){return t.call(n,...s)}bind(e,t){return t}enable(){return this}disable(){return this}};mu.NoopContextManager=rp});var so=c(Tu=>{"use strict";Object.defineProperty(Tu,"__esModule",{value:!0});Tu.ContextAPI=void 0;var zw=oT(),np=cn(),aT=ln(),sp="context",Qw=new zw.NoopContextManager,no=class{constructor(){}static getInstance(){return this._instance||(this._instance=new no),this._instance}setGlobalContextManager(e){return(0,np.registerGlobal)(sp,e,aT.DiagAPI.instance())}active(){return this._getContextManager().active()}with(e,t,n,...s){return this._getContextManager().with(e,t,n,...s)}bind(e,t){return this._getContextManager().bind(e,t)}_getContextManager(){return(0,np.getGlobal)(sp)||Qw}disable(){this._getContextManager().disable(),(0,np.unregisterGlobal)(sp,aT.DiagAPI.instance())}};Tu.ContextAPI=no});var ip=c(io=>{"use strict";Object.defineProperty(io,"__esModule",{value:!0});io.TraceFlags=void 0;var Zw;(function(r){r[r.NONE=0]="NONE",r[r.SAMPLED=1]="SAMPLED"})(Zw=io.TraceFlags||(io.TraceFlags={}))});var Su=c(zt=>{"use strict";Object.defineProperty(zt,"__esModule",{value:!0});zt.INVALID_SPAN_CONTEXT=zt.INVALID_TRACEID=zt.INVALID_SPANID=void 0;var Jw=ip();zt.INVALID_SPANID="0000000000000000";zt.INVALID_TRACEID="00000000000000000000000000000000";zt.INVALID_SPAN_CONTEXT={traceId:zt.INVALID_TRACEID,spanId:zt.INVALID_SPANID,traceFlags:Jw.TraceFlags.NONE}});var Au=c(vu=>{"use strict";Object.defineProperty(vu,"__esModule",{value:!0});vu.NonRecordingSpan=void 0;var eq=Su(),op=class{constructor(e=eq.INVALID_SPAN_CONTEXT){this._spanContext=e}spanContext(){return this._spanContext}setAttribute(e,t){return this}setAttributes(e){return this}addEvent(e,t){return this}setStatus(e){return this}updateName(e){return this}end(e){}isRecording(){return!1}recordException(e,t){}};vu.NonRecordingSpan=op});var cp=c(ot=>{"use strict";Object.defineProperty(ot,"__esModule",{value:!0});ot.getSpanContext=ot.setSpanContext=ot.deleteSpan=ot.setSpan=ot.getActiveSpan=ot.getSpan=void 0;var tq=to(),rq=Au(),nq=so(),ap=(0,tq.createContextKey)("OpenTelemetry Context Key SPAN");function up(r){return r.getValue(ap)||void 0}ot.getSpan=up;function sq(){return up(nq.ContextAPI.getInstance().active())}ot.getActiveSpan=sq;function uT(r,e){return r.setValue(ap,e)}ot.setSpan=uT;function iq(r){return r.deleteValue(ap)}ot.deleteSpan=iq;function oq(r,e){return uT(r,new rq.NonRecordingSpan(e))}ot.setSpanContext=oq;function aq(r){var e;return(e=up(r))===null||e===void 0?void 0:e.spanContext()}ot.getSpanContext=aq});var Ou=c(Qt=>{"use strict";Object.defineProperty(Qt,"__esModule",{value:!0});Qt.wrapSpanContext=Qt.isSpanContextValid=Qt.isValidSpanId=Qt.isValidTraceId=void 0;var cT=Su(),uq=Au(),cq=/^([0-9a-f]{32})$/i,lq=/^[0-9a-f]{16}$/i;function lT(r){return cq.test(r)&&r!==cT.INVALID_TRACEID}Qt.isValidTraceId=lT;function hT(r){return lq.test(r)&&r!==cT.INVALID_SPANID}Qt.isValidSpanId=hT;function hq(r){return lT(r.traceId)&&hT(r.spanId)}Qt.isSpanContextValid=hq;function dq(r){return new uq.NonRecordingSpan(r)}Qt.wrapSpanContext=dq});var pp=c(Ru=>{"use strict";Object.defineProperty(Ru,"__esModule",{value:!0});Ru.NoopTracer=void 0;var pq=so(),dT=cp(),lp=Au(),fq=Ou(),hp=pq.ContextAPI.getInstance(),dp=class{startSpan(e,t,n=hp.active()){if(!!(t!=null&&t.root))return new lp.NonRecordingSpan;let i=n&&(0,dT.getSpanContext)(n);return _q(i)&&(0,fq.isSpanContextValid)(i)?new lp.NonRecordingSpan(i):new lp.NonRecordingSpan}startActiveSpan(e,t,n,s){let i,o,a;if(arguments.length<2)return;arguments.length===2?a=t:arguments.length===3?(i=t,a=n):(i=t,o=n,a=s);let u=o??hp.active(),l=this.startSpan(e,i,u),h=(0,dT.setSpan)(u,l);return hp.with(h,a,void 0,l)}};Ru.NoopTracer=dp;function _q(r){return typeof r=="object"&&typeof r.spanId=="string"&&typeof r.traceId=="string"&&typeof r.traceFlags=="number"}});var _p=c(Iu=>{"use strict";Object.defineProperty(Iu,"__esModule",{value:!0});Iu.ProxyTracer=void 0;var Eq=pp(),gq=new Eq.NoopTracer,fp=class{constructor(e,t,n,s){this._provider=e,this.name=t,this.version=n,this.options=s}startSpan(e,t,n){return this._getTracer().startSpan(e,t,n)}startActiveSpan(e,t,n,s){let i=this._getTracer();return Reflect.apply(i.startActiveSpan,i,arguments)}_getTracer(){if(this._delegate)return this._delegate;let e=this._provider.getDelegateTracer(this.name,this.version,this.options);return e?(this._delegate=e,this._delegate):gq}};Iu.ProxyTracer=fp});var pT=c(bu=>{"use strict";Object.defineProperty(bu,"__esModule",{value:!0});bu.NoopTracerProvider=void 0;var mq=pp(),Ep=class{getTracer(e,t,n){return new mq.NoopTracer}};bu.NoopTracerProvider=Ep});var mp=c(Pu=>{"use strict";Object.defineProperty(Pu,"__esModule",{value:!0});Pu.ProxyTracerProvider=void 0;var Tq=_p(),Sq=pT(),vq=new Sq.NoopTracerProvider,gp=class{getTracer(e,t,n){var s;return(s=this.getDelegateTracer(e,t,n))!==null&&s!==void 0?s:new Tq.ProxyTracer(this,e,t,n)}getDelegate(){var e;return(e=this._delegate)!==null&&e!==void 0?e:vq}setDelegate(e){this._delegate=e}getDelegateTracer(e,t,n){var s;return(s=this._delegate)===null||s===void 0?void 0:s.getTracer(e,t,n)}};Pu.ProxyTracerProvider=gp});var fT=c(oo=>{"use strict";Object.defineProperty(oo,"__esModule",{value:!0});oo.SamplingDecision=void 0;var Aq;(function(r){r[r.NOT_RECORD=0]="NOT_RECORD",r[r.RECORD=1]="RECORD",r[r.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"})(Aq=oo.SamplingDecision||(oo.SamplingDecision={}))});var _T=c(ao=>{"use strict";Object.defineProperty(ao,"__esModule",{value:!0});ao.SpanKind=void 0;var Oq;(function(r){r[r.INTERNAL=0]="INTERNAL",r[r.SERVER=1]="SERVER",r[r.CLIENT=2]="CLIENT",r[r.PRODUCER=3]="PRODUCER",r[r.CONSUMER=4]="CONSUMER"})(Oq=ao.SpanKind||(ao.SpanKind={}))});var ET=c(uo=>{"use strict";Object.defineProperty(uo,"__esModule",{value:!0});uo.SpanStatusCode=void 0;var Rq;(function(r){r[r.UNSET=0]="UNSET",r[r.OK=1]="OK",r[r.ERROR=2]="ERROR"})(Rq=uo.SpanStatusCode||(uo.SpanStatusCode={}))});var gT=c(vs=>{"use strict";Object.defineProperty(vs,"__esModule",{value:!0});vs.validateValue=vs.validateKey=void 0;var Tp="[_0-9a-z-*/]",Iq=`[a-z]${Tp}{0,255}`,bq=`[a-z0-9]${Tp}{0,240}@[a-z]${Tp}{0,13}`,Pq=new RegExp(`^(?:${Iq}|${bq})$`),yq=/^[ -~]{0,255}[!-~]$/,Nq=/,|=/;function Lq(r){return Pq.test(r)}vs.validateKey=Lq;function Cq(r){return yq.test(r)&&!Nq.test(r)}vs.validateValue=Cq});var AT=c(yu=>{"use strict";Object.defineProperty(yu,"__esModule",{value:!0});yu.TraceStateImpl=void 0;var mT=gT(),TT=32,Mq=512,ST=",",vT="=",co=class{constructor(e){this._internalState=new Map,e&&this._parse(e)}set(e,t){let n=this._clone();return n._internalState.has(e)&&n._internalState.delete(e),n._internalState.set(e,t),n}unset(e){let t=this._clone();return t._internalState.delete(e),t}get(e){return this._internalState.get(e)}serialize(){return this._keys().reduce((e,t)=>(e.push(t+vT+this.get(t)),e),[]).join(ST)}_parse(e){e.length>Mq||(this._internalState=e.split(ST).reverse().reduce((t,n)=>{let s=n.trim(),i=s.indexOf(vT);if(i!==-1){let o=s.slice(0,i),a=s.slice(i+1,n.length);(0,mT.validateKey)(o)&&(0,mT.validateValue)(a)&&t.set(o,a)}return t},new Map),this._internalState.size>TT&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,TT))))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let e=new co;return e._internalState=new Map(this._internalState),e}};yu.TraceStateImpl=co});var OT=c(Nu=>{"use strict";Object.defineProperty(Nu,"__esModule",{value:!0});Nu.createTraceState=void 0;var wq=AT();function qq(r){return new wq.TraceStateImpl(r)}Nu.createTraceState=qq});var RT=c(Lu=>{"use strict";Object.defineProperty(Lu,"__esModule",{value:!0});Lu.context=void 0;var xq=so();Lu.context=xq.ContextAPI.getInstance()});var IT=c(Cu=>{"use strict";Object.defineProperty(Cu,"__esModule",{value:!0});Cu.diag=void 0;var Dq=ln();Cu.diag=Dq.DiagAPI.instance()});var bT=c(As=>{"use strict";Object.defineProperty(As,"__esModule",{value:!0});As.NOOP_METER_PROVIDER=As.NoopMeterProvider=void 0;var $q=ep(),Mu=class{getMeter(e,t,n){return $q.NOOP_METER}};As.NoopMeterProvider=Mu;As.NOOP_METER_PROVIDER=new Mu});var yT=c(wu=>{"use strict";Object.defineProperty(wu,"__esModule",{value:!0});wu.MetricsAPI=void 0;var jq=bT(),Sp=cn(),PT=ln(),vp="metrics",lo=class{constructor(){}static getInstance(){return this._instance||(this._instance=new lo),this._instance}setGlobalMeterProvider(e){return(0,Sp.registerGlobal)(vp,e,PT.DiagAPI.instance())}getMeterProvider(){return(0,Sp.getGlobal)(vp)||jq.NOOP_METER_PROVIDER}getMeter(e,t,n){return this.getMeterProvider().getMeter(e,t,n)}disable(){(0,Sp.unregisterGlobal)(vp,PT.DiagAPI.instance())}};wu.MetricsAPI=lo});var NT=c(qu=>{"use strict";Object.defineProperty(qu,"__esModule",{value:!0});qu.metrics=void 0;var Uq=yT();qu.metrics=Uq.MetricsAPI.getInstance()});var LT=c(xu=>{"use strict";Object.defineProperty(xu,"__esModule",{value:!0});xu.NoopTextMapPropagator=void 0;var Ap=class{inject(e,t){}extract(e,t){return e}fields(){return[]}};xu.NoopTextMapPropagator=Ap});var MT=c(Zt=>{"use strict";Object.defineProperty(Zt,"__esModule",{value:!0});Zt.deleteBaggage=Zt.setBaggage=Zt.getActiveBaggage=Zt.getBaggage=void 0;var Gq=so(),Bq=to(),Op=(0,Bq.createContextKey)("OpenTelemetry Baggage Key");function CT(r){return r.getValue(Op)||void 0}Zt.getBaggage=CT;function Fq(){return CT(Gq.ContextAPI.getInstance().active())}Zt.getActiveBaggage=Fq;function Vq(r,e){return r.setValue(Op,e)}Zt.setBaggage=Vq;function Hq(r){return r.deleteValue(Op)}Zt.deleteBaggage=Hq});var xT=c($u=>{"use strict";Object.defineProperty($u,"__esModule",{value:!0});$u.PropagationAPI=void 0;var Rp=cn(),Xq=LT(),wT=tp(),Du=MT(),Wq=Qd(),qT=ln(),Ip="propagation",kq=new Xq.NoopTextMapPropagator,ho=class{constructor(){this.createBaggage=Wq.createBaggage,this.getBaggage=Du.getBaggage,this.getActiveBaggage=Du.getActiveBaggage,this.setBaggage=Du.setBaggage,this.deleteBaggage=Du.deleteBaggage}static getInstance(){return this._instance||(this._instance=new ho),this._instance}setGlobalPropagator(e){return(0,Rp.registerGlobal)(Ip,e,qT.DiagAPI.instance())}inject(e,t,n=wT.defaultTextMapSetter){return this._getGlobalPropagator().inject(e,t,n)}extract(e,t,n=wT.defaultTextMapGetter){return this._getGlobalPropagator().extract(e,t,n)}fields(){return this._getGlobalPropagator().fields()}disable(){(0,Rp.unregisterGlobal)(Ip,qT.DiagAPI.instance())}_getGlobalPropagator(){return(0,Rp.getGlobal)(Ip)||kq}};$u.PropagationAPI=ho});var DT=c(ju=>{"use strict";Object.defineProperty(ju,"__esModule",{value:!0});ju.propagation=void 0;var Kq=xT();ju.propagation=Kq.PropagationAPI.getInstance()});var GT=c(Uu=>{"use strict";Object.defineProperty(Uu,"__esModule",{value:!0});Uu.TraceAPI=void 0;var bp=cn(),$T=mp(),jT=Ou(),Os=cp(),UT=ln(),Pp="trace",po=class{constructor(){this._proxyTracerProvider=new $T.ProxyTracerProvider,this.wrapSpanContext=jT.wrapSpanContext,this.isSpanContextValid=jT.isSpanContextValid,this.deleteSpan=Os.deleteSpan,this.getSpan=Os.getSpan,this.getActiveSpan=Os.getActiveSpan,this.getSpanContext=Os.getSpanContext,this.setSpan=Os.setSpan,this.setSpanContext=Os.setSpanContext}static getInstance(){return this._instance||(this._instance=new po),this._instance}setGlobalTracerProvider(e){let t=(0,bp.registerGlobal)(Pp,this._proxyTracerProvider,UT.DiagAPI.instance());return t&&this._proxyTracerProvider.setDelegate(e),t}getTracerProvider(){return(0,bp.getGlobal)(Pp)||this._proxyTracerProvider}getTracer(e,t){return this.getTracerProvider().getTracer(e,t)}disable(){(0,bp.unregisterGlobal)(Pp,UT.DiagAPI.instance()),this._proxyTracerProvider=new $T.ProxyTracerProvider}};Uu.TraceAPI=po});var BT=c(Gu=>{"use strict";Object.defineProperty(Gu,"__esModule",{value:!0});Gu.trace=void 0;var Yq=GT();Gu.trace=Yq.TraceAPI.getInstance()});var _=c(N=>{"use strict";Object.defineProperty(N,"__esModule",{value:!0});N.trace=N.propagation=N.metrics=N.diag=N.context=N.INVALID_SPAN_CONTEXT=N.INVALID_TRACEID=N.INVALID_SPANID=N.isValidSpanId=N.isValidTraceId=N.isSpanContextValid=N.createTraceState=N.TraceFlags=N.SpanStatusCode=N.SpanKind=N.SamplingDecision=N.ProxyTracerProvider=N.ProxyTracer=N.defaultTextMapSetter=N.defaultTextMapGetter=N.ValueType=N.createNoopMeter=N.DiagLogLevel=N.DiagConsoleLogger=N.ROOT_CONTEXT=N.createContextKey=N.baggageEntryMetadataFromString=void 0;var zq=Qd();Object.defineProperty(N,"baggageEntryMetadataFromString",{enumerable:!0,get:function(){return zq.baggageEntryMetadataFromString}});var FT=to();Object.defineProperty(N,"createContextKey",{enumerable:!0,get:function(){return FT.createContextKey}});Object.defineProperty(N,"ROOT_CONTEXT",{enumerable:!0,get:function(){return FT.ROOT_CONTEXT}});var Qq=sT();Object.defineProperty(N,"DiagConsoleLogger",{enumerable:!0,get:function(){return Qq.DiagConsoleLogger}});var Zq=su();Object.defineProperty(N,"DiagLogLevel",{enumerable:!0,get:function(){return Zq.DiagLogLevel}});var Jq=ep();Object.defineProperty(N,"createNoopMeter",{enumerable:!0,get:function(){return Jq.createNoopMeter}});var ex=iT();Object.defineProperty(N,"ValueType",{enumerable:!0,get:function(){return ex.ValueType}});var VT=tp();Object.defineProperty(N,"defaultTextMapGetter",{enumerable:!0,get:function(){return VT.defaultTextMapGetter}});Object.defineProperty(N,"defaultTextMapSetter",{enumerable:!0,get:function(){return VT.defaultTextMapSetter}});var tx=_p();Object.defineProperty(N,"ProxyTracer",{enumerable:!0,get:function(){return tx.ProxyTracer}});var rx=mp();Object.defineProperty(N,"ProxyTracerProvider",{enumerable:!0,get:function(){return rx.ProxyTracerProvider}});var nx=fT();Object.defineProperty(N,"SamplingDecision",{enumerable:!0,get:function(){return nx.SamplingDecision}});var sx=_T();Object.defineProperty(N,"SpanKind",{enumerable:!0,get:function(){return sx.SpanKind}});var ix=ET();Object.defineProperty(N,"SpanStatusCode",{enumerable:!0,get:function(){return ix.SpanStatusCode}});var ox=ip();Object.defineProperty(N,"TraceFlags",{enumerable:!0,get:function(){return ox.TraceFlags}});var ax=OT();Object.defineProperty(N,"createTraceState",{enumerable:!0,get:function(){return ax.createTraceState}});var yp=Ou();Object.defineProperty(N,"isSpanContextValid",{enumerable:!0,get:function(){return yp.isSpanContextValid}});Object.defineProperty(N,"isValidTraceId",{enumerable:!0,get:function(){return yp.isValidTraceId}});Object.defineProperty(N,"isValidSpanId",{enumerable:!0,get:function(){return yp.isValidSpanId}});var Np=Su();Object.defineProperty(N,"INVALID_SPANID",{enumerable:!0,get:function(){return Np.INVALID_SPANID}});Object.defineProperty(N,"INVALID_TRACEID",{enumerable:!0,get:function(){return Np.INVALID_TRACEID}});Object.defineProperty(N,"INVALID_SPAN_CONTEXT",{enumerable:!0,get:function(){return Np.INVALID_SPAN_CONTEXT}});var HT=RT();Object.defineProperty(N,"context",{enumerable:!0,get:function(){return HT.context}});var XT=IT();Object.defineProperty(N,"diag",{enumerable:!0,get:function(){return XT.diag}});var WT=NT();Object.defineProperty(N,"metrics",{enumerable:!0,get:function(){return WT.metrics}});var kT=DT();Object.defineProperty(N,"propagation",{enumerable:!0,get:function(){return kT.propagation}});var KT=BT();Object.defineProperty(N,"trace",{enumerable:!0,get:function(){return KT.trace}});N.default={context:HT.context,diag:XT.diag,metrics:WT.metrics,propagation:kT.propagation,trace:KT.trace}});var fo=c(Cr=>{"use strict";Object.defineProperty(Cr,"__esModule",{value:!0});Cr.isTracingSuppressed=Cr.unsuppressTracing=Cr.suppressTracing=void 0;var ux=_(),Lp=(0,ux.createContextKey)("OpenTelemetry SDK Context Key SUPPRESS_TRACING");function cx(r){return r.setValue(Lp,!0)}Cr.suppressTracing=cx;function lx(r){return r.deleteValue(Lp)}Cr.unsuppressTracing=lx;function hx(r){return r.getValue(Lp)===!0}Cr.isTracingSuppressed=hx});var Cp=c(Ue=>{"use strict";Object.defineProperty(Ue,"__esModule",{value:!0});Ue.BAGGAGE_MAX_TOTAL_LENGTH=Ue.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=Ue.BAGGAGE_MAX_NAME_VALUE_PAIRS=Ue.BAGGAGE_HEADER=Ue.BAGGAGE_ITEMS_SEPARATOR=Ue.BAGGAGE_PROPERTIES_SEPARATOR=Ue.BAGGAGE_KEY_PAIR_SEPARATOR=void 0;Ue.BAGGAGE_KEY_PAIR_SEPARATOR="=";Ue.BAGGAGE_PROPERTIES_SEPARATOR=";";Ue.BAGGAGE_ITEMS_SEPARATOR=",";Ue.BAGGAGE_HEADER="baggage";Ue.BAGGAGE_MAX_NAME_VALUE_PAIRS=180;Ue.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=4096;Ue.BAGGAGE_MAX_TOTAL_LENGTH=8192});var Mp=c(Jt=>{"use strict";Object.defineProperty(Jt,"__esModule",{value:!0});Jt.parseKeyPairsIntoRecord=Jt.parsePairKeyValue=Jt.getKeyPairs=Jt.serializeKeyPairs=void 0;var dx=_(),hn=Cp();function px(r){return r.reduce((e,t)=>{let n=`${e}${e!==""?hn.BAGGAGE_ITEMS_SEPARATOR:""}${t}`;return n.length>hn.BAGGAGE_MAX_TOTAL_LENGTH?e:n},"")}Jt.serializeKeyPairs=px;function fx(r){return r.getAllEntries().map(([e,t])=>{let n=`${encodeURIComponent(e)}=${encodeURIComponent(t.value)}`;return t.metadata!==void 0&&(n+=hn.BAGGAGE_PROPERTIES_SEPARATOR+t.metadata.toString()),n})}Jt.getKeyPairs=fx;function YT(r){let e=r.split(hn.BAGGAGE_PROPERTIES_SEPARATOR);if(e.length<=0)return;let t=e.shift();if(!t)return;let n=t.split(hn.BAGGAGE_KEY_PAIR_SEPARATOR);if(n.length!==2)return;let s=decodeURIComponent(n[0].trim()),i=decodeURIComponent(n[1].trim()),o;return e.length>0&&(o=(0,dx.baggageEntryMetadataFromString)(e.join(hn.BAGGAGE_PROPERTIES_SEPARATOR))),{key:s,value:i,metadata:o}}Jt.parsePairKeyValue=YT;function _x(r){return typeof r!="string"||r.length===0?{}:r.split(hn.BAGGAGE_ITEMS_SEPARATOR).map(e=>YT(e)).filter(e=>e!==void 0&&e.value.length>0).reduce((e,t)=>(e[t.key]=t.value,e),{})}Jt.parseKeyPairsIntoRecord=_x});var zT=c(Bu=>{"use strict";Object.defineProperty(Bu,"__esModule",{value:!0});Bu.W3CBaggagePropagator=void 0;var wp=_(),Ex=fo(),dn=Cp(),qp=Mp(),xp=class{inject(e,t,n){let s=wp.propagation.getBaggage(e);if(!s||(0,Ex.isTracingSuppressed)(e))return;let i=(0,qp.getKeyPairs)(s).filter(a=>a.length<=dn.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS).slice(0,dn.BAGGAGE_MAX_NAME_VALUE_PAIRS),o=(0,qp.serializeKeyPairs)(i);o.length>0&&n.set(t,dn.BAGGAGE_HEADER,o)}extract(e,t,n){let s=n.get(t,dn.BAGGAGE_HEADER),i=Array.isArray(s)?s.join(dn.BAGGAGE_ITEMS_SEPARATOR):s;if(!i)return e;let o={};return i.length===0||(i.split(dn.BAGGAGE_ITEMS_SEPARATOR).forEach(u=>{let l=(0,qp.parsePairKeyValue)(u);if(l){let h={value:l.value};l.metadata&&(h.metadata=l.metadata),o[l.key]=h}}),Object.entries(o).length===0)?e:wp.propagation.setBaggage(e,wp.propagation.createBaggage(o))}fields(){return[dn.BAGGAGE_HEADER]}};Bu.W3CBaggagePropagator=xp});var QT=c(Fu=>{"use strict";Object.defineProperty(Fu,"__esModule",{value:!0});Fu.AnchoredClock=void 0;var Dp=class{constructor(e,t){this._monotonicClock=t,this._epochMillis=e.now(),this._performanceMillis=t.now()}now(){let e=this._monotonicClock.now()-this._performanceMillis;return this._epochMillis+e}};Fu.AnchoredClock=Dp});var rS=c(Mr=>{"use strict";Object.defineProperty(Mr,"__esModule",{value:!0});Mr.isAttributeValue=Mr.isAttributeKey=Mr.sanitizeAttributes=void 0;var ZT=_();function gx(r){let e={};if(typeof r!="object"||r==null)return e;for(let[t,n]of Object.entries(r)){if(!JT(t)){ZT.diag.warn(`Invalid attribute key: ${t}`);continue}if(!eS(n)){ZT.diag.warn(`Invalid attribute value set for key: ${t}`);continue}Array.isArray(n)?e[t]=n.slice():e[t]=n}return e}Mr.sanitizeAttributes=gx;function JT(r){return typeof r=="string"&&r.length>0}Mr.isAttributeKey=JT;function eS(r){return r==null?!0:Array.isArray(r)?mx(r):tS(r)}Mr.isAttributeValue=eS;function mx(r){let e;for(let t of r)if(t!=null){if(!e){if(tS(t)){e=typeof t;continue}return!1}if(typeof t!==e)return!1}return!0}function tS(r){switch(typeof r){case"number":case"boolean":case"string":return!0}return!1}});var $p=c(Vu=>{"use strict";Object.defineProperty(Vu,"__esModule",{value:!0});Vu.loggingErrorHandler=void 0;var Tx=_();function Sx(){return r=>{Tx.diag.error(vx(r))}}Vu.loggingErrorHandler=Sx;function vx(r){return typeof r=="string"?r:JSON.stringify(Ax(r))}function Ax(r){let e={},t=r;for(;t!==null;)Object.getOwnPropertyNames(t).forEach(n=>{if(e[n])return;let s=t[n];s&&(e[n]=String(s))}),t=Object.getPrototypeOf(t);return e}});var jp=c(Rs=>{"use strict";Object.defineProperty(Rs,"__esModule",{value:!0});Rs.globalErrorHandler=Rs.setGlobalErrorHandler=void 0;var Ox=$p(),nS=(0,Ox.loggingErrorHandler)();function Rx(r){nS=r}Rs.setGlobalErrorHandler=Rx;function Ix(r){try{nS(r)}catch{}}Rs.globalErrorHandler=Ix});var Up=c(_o=>{"use strict";Object.defineProperty(_o,"__esModule",{value:!0});_o.TracesSamplerValues=void 0;var bx;(function(r){r.AlwaysOff="always_off",r.AlwaysOn="always_on",r.ParentBasedAlwaysOff="parentbased_always_off",r.ParentBasedAlwaysOn="parentbased_always_on",r.ParentBasedTraceIdRatio="parentbased_traceidratio",r.TraceIdRatio="traceidratio"})(bx=_o.TracesSamplerValues||(_o.TracesSamplerValues={}))});var sS=c(Hu=>{"use strict";Object.defineProperty(Hu,"__esModule",{value:!0});Hu._globalThis=void 0;Hu._globalThis=typeof globalThis=="object"?globalThis:typeof self=="object"?self:typeof window=="object"?window:typeof global=="object"?global:{}});var Bp=c(ue=>{"use strict";Object.defineProperty(ue,"__esModule",{value:!0});ue.getEnvWithoutDefaults=ue.parseEnvironment=ue.DEFAULT_ENVIRONMENT=ue.DEFAULT_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT=ue.DEFAULT_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT=ue.DEFAULT_ATTRIBUTE_COUNT_LIMIT=ue.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT=void 0;var wr=_(),Px=Up(),yx=sS(),Nx=",",Lx=["OTEL_SDK_DISABLED"];function Cx(r){return Lx.indexOf(r)>-1}var Mx=["OTEL_BSP_EXPORT_TIMEOUT","OTEL_BSP_MAX_EXPORT_BATCH_SIZE","OTEL_BSP_MAX_QUEUE_SIZE","OTEL_BSP_SCHEDULE_DELAY","OTEL_BLRP_EXPORT_TIMEOUT","OTEL_BLRP_MAX_EXPORT_BATCH_SIZE","OTEL_BLRP_MAX_QUEUE_SIZE","OTEL_BLRP_SCHEDULE_DELAY","OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT","OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_EVENT_COUNT_LIMIT","OTEL_SPAN_LINK_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT","OTEL_EXPORTER_OTLP_TIMEOUT","OTEL_EXPORTER_OTLP_TRACES_TIMEOUT","OTEL_EXPORTER_OTLP_METRICS_TIMEOUT","OTEL_EXPORTER_OTLP_LOGS_TIMEOUT","OTEL_EXPORTER_JAEGER_AGENT_PORT"];function wx(r){return Mx.indexOf(r)>-1}var qx=["OTEL_NO_PATCH_MODULES","OTEL_PROPAGATORS"];function xx(r){return qx.indexOf(r)>-1}ue.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT=1/0;ue.DEFAULT_ATTRIBUTE_COUNT_LIMIT=128;ue.DEFAULT_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT=128;ue.DEFAULT_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT=128;ue.DEFAULT_ENVIRONMENT={OTEL_SDK_DISABLED:!1,CONTAINER_NAME:"",ECS_CONTAINER_METADATA_URI_V4:"",ECS_CONTAINER_METADATA_URI:"",HOSTNAME:"",KUBERNETES_SERVICE_HOST:"",NAMESPACE:"",OTEL_BSP_EXPORT_TIMEOUT:3e4,OTEL_BSP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BSP_MAX_QUEUE_SIZE:2048,OTEL_BSP_SCHEDULE_DELAY:5e3,OTEL_BLRP_EXPORT_TIMEOUT:3e4,OTEL_BLRP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BLRP_MAX_QUEUE_SIZE:2048,OTEL_BLRP_SCHEDULE_DELAY:5e3,OTEL_EXPORTER_JAEGER_AGENT_HOST:"",OTEL_EXPORTER_JAEGER_AGENT_PORT:6832,OTEL_EXPORTER_JAEGER_ENDPOINT:"",OTEL_EXPORTER_JAEGER_PASSWORD:"",OTEL_EXPORTER_JAEGER_USER:"",OTEL_EXPORTER_OTLP_ENDPOINT:"",OTEL_EXPORTER_OTLP_TRACES_ENDPOINT:"",OTEL_EXPORTER_OTLP_METRICS_ENDPOINT:"",OTEL_EXPORTER_OTLP_LOGS_ENDPOINT:"",OTEL_EXPORTER_OTLP_HEADERS:"",OTEL_EXPORTER_OTLP_TRACES_HEADERS:"",OTEL_EXPORTER_OTLP_METRICS_HEADERS:"",OTEL_EXPORTER_OTLP_LOGS_HEADERS:"",OTEL_EXPORTER_OTLP_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_TRACES_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_METRICS_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_LOGS_TIMEOUT:1e4,OTEL_EXPORTER_ZIPKIN_ENDPOINT:"http://localhost:9411/api/v2/spans",OTEL_LOG_LEVEL:wr.DiagLogLevel.INFO,OTEL_NO_PATCH_MODULES:[],OTEL_PROPAGATORS:["tracecontext","baggage"],OTEL_RESOURCE_ATTRIBUTES:"",OTEL_SERVICE_NAME:"",OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT:ue.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT,OTEL_ATTRIBUTE_COUNT_LIMIT:ue.DEFAULT_ATTRIBUTE_COUNT_LIMIT,OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT:ue.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT,OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT:ue.DEFAULT_ATTRIBUTE_COUNT_LIMIT,OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT:ue.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT,OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT:ue.DEFAULT_ATTRIBUTE_COUNT_LIMIT,OTEL_SPAN_EVENT_COUNT_LIMIT:128,OTEL_SPAN_LINK_COUNT_LIMIT:128,OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT:ue.DEFAULT_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT,OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT:ue.DEFAULT_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT,OTEL_TRACES_EXPORTER:"",OTEL_TRACES_SAMPLER:Px.TracesSamplerValues.ParentBasedAlwaysOn,OTEL_TRACES_SAMPLER_ARG:"",OTEL_LOGS_EXPORTER:"",OTEL_EXPORTER_OTLP_INSECURE:"",OTEL_EXPORTER_OTLP_TRACES_INSECURE:"",OTEL_EXPORTER_OTLP_METRICS_INSECURE:"",OTEL_EXPORTER_OTLP_LOGS_INSECURE:"",OTEL_EXPORTER_OTLP_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_LOGS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_COMPRESSION:"",OTEL_EXPORTER_OTLP_TRACES_COMPRESSION:"",OTEL_EXPORTER_OTLP_METRICS_COMPRESSION:"",OTEL_EXPORTER_OTLP_LOGS_COMPRESSION:"",OTEL_EXPORTER_OTLP_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_LOGS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_LOGS_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_TRACES_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_LOGS_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_TEMPORALITY_PREFERENCE:"cumulative"};function Dx(r,e,t){if(typeof t[r]>"u")return;let n=String(t[r]);e[r]=n.toLowerCase()==="true"}function $x(r,e,t,n=-1/0,s=1/0){if(typeof t[r]<"u"){let i=Number(t[r]);isNaN(i)||(i<n?e[r]=n:i>s?e[r]=s:e[r]=i)}}function jx(r,e,t,n=Nx){let s=t[r];typeof s=="string"&&(e[r]=s.split(n).map(i=>i.trim()))}var Ux={ALL:wr.DiagLogLevel.ALL,VERBOSE:wr.DiagLogLevel.VERBOSE,DEBUG:wr.DiagLogLevel.DEBUG,INFO:wr.DiagLogLevel.INFO,WARN:wr.DiagLogLevel.WARN,ERROR:wr.DiagLogLevel.ERROR,NONE:wr.DiagLogLevel.NONE};function Gx(r,e,t){let n=t[r];if(typeof n=="string"){let s=Ux[n.toUpperCase()];s!=null&&(e[r]=s)}}function Gp(r){let e={};for(let t in ue.DEFAULT_ENVIRONMENT){let n=t;switch(n){case"OTEL_LOG_LEVEL":Gx(n,e,r);break;default:if(Cx(n))Dx(n,e,r);else if(wx(n))$x(n,e,r);else if(xx(n))jx(n,e,r);else{let s=r[n];typeof s<"u"&&s!==null&&(e[n]=String(s))}}}return e}ue.parseEnvironment=Gp;function Bx(){return typeof process<"u"&&process&&process.env?Gp(process.env):Gp(yx._globalThis)}ue.getEnvWithoutDefaults=Bx});var oS=c(Xu=>{"use strict";Object.defineProperty(Xu,"__esModule",{value:!0});Xu.getEnv=void 0;var Fx=require("os"),iS=Bp();function Vx(){let r=(0,iS.parseEnvironment)(process.env);return Object.assign({HOSTNAME:Fx.hostname()},iS.DEFAULT_ENVIRONMENT,r)}Xu.getEnv=Vx});var aS=c(Wu=>{"use strict";Object.defineProperty(Wu,"__esModule",{value:!0});Wu._globalThis=void 0;Wu._globalThis=typeof globalThis=="object"?globalThis:global});var cS=c(ku=>{"use strict";Object.defineProperty(ku,"__esModule",{value:!0});ku.hexToBase64=void 0;function uS(r){return r>=48&&r<=57?r-48:r>=97&&r<=102?r-87:r-55}var Hx=Buffer.alloc(8),Xx=Buffer.alloc(16);function Wx(r){let e;r.length===16?e=Hx:r.length===32?e=Xx:e=Buffer.alloc(r.length/2);let t=0;for(let n=0;n<r.length;n+=2){let s=uS(r.charCodeAt(n)),i=uS(r.charCodeAt(n+1));e.writeUInt8(s<<4|i,t++)}return e.toString("base64")}ku.hexToBase64=Wx});var dS=c(Yu=>{"use strict";Object.defineProperty(Yu,"__esModule",{value:!0});Yu.RandomIdGenerator=void 0;var kx=8,hS=16,Fp=class{constructor(){this.generateTraceId=lS(hS),this.generateSpanId=lS(kx)}};Yu.RandomIdGenerator=Fp;var Ku=Buffer.allocUnsafe(hS);function lS(r){return function(){for(let t=0;t<r/4;t++)Ku.writeUInt32BE(Math.random()*2**32>>>0,t*4);for(let t=0;t<r&&!(Ku[t]>0);t++)t===r-1&&(Ku[r-1]=1);return Ku.toString("hex",0,r)}}});var pS=c(zu=>{"use strict";Object.defineProperty(zu,"__esModule",{value:!0});zu.otperformance=void 0;var Kx=require("perf_hooks");zu.otperformance=Kx.performance});var Zu=c(Qu=>{"use strict";Object.defineProperty(Qu,"__esModule",{value:!0});Qu.VERSION=void 0;Qu.VERSION="1.14.0"});var fS=c(Q=>{"use strict";Object.defineProperty(Q,"__esModule",{value:!0});Q.MessageTypeValues=Q.RpcGrpcStatusCodeValues=Q.MessagingOperationValues=Q.MessagingDestinationKindValues=Q.HttpFlavorValues=Q.NetHostConnectionSubtypeValues=Q.NetHostConnectionTypeValues=Q.NetTransportValues=Q.FaasInvokedProviderValues=Q.FaasDocumentOperationValues=Q.FaasTriggerValues=Q.DbCassandraConsistencyLevelValues=Q.DbSystemValues=Q.SemanticAttributes=void 0;Q.SemanticAttributes={AWS_LAMBDA_INVOKED_ARN:"aws.lambda.invoked_arn",DB_SYSTEM:"db.system",DB_CONNECTION_STRING:"db.connection_string",DB_USER:"db.user",DB_JDBC_DRIVER_CLASSNAME:"db.jdbc.driver_classname",DB_NAME:"db.name",DB_STATEMENT:"db.statement",DB_OPERATION:"db.operation",DB_MSSQL_INSTANCE_NAME:"db.mssql.instance_name",DB_CASSANDRA_KEYSPACE:"db.cassandra.keyspace",DB_CASSANDRA_PAGE_SIZE:"db.cassandra.page_size",DB_CASSANDRA_CONSISTENCY_LEVEL:"db.cassandra.consistency_level",DB_CASSANDRA_TABLE:"db.cassandra.table",DB_CASSANDRA_IDEMPOTENCE:"db.cassandra.idempotence",DB_CASSANDRA_SPECULATIVE_EXECUTION_COUNT:"db.cassandra.speculative_execution_count",DB_CASSANDRA_COORDINATOR_ID:"db.cassandra.coordinator.id",DB_CASSANDRA_COORDINATOR_DC:"db.cassandra.coordinator.dc",DB_HBASE_NAMESPACE:"db.hbase.namespace",DB_REDIS_DATABASE_INDEX:"db.redis.database_index",DB_MONGODB_COLLECTION:"db.mongodb.collection",DB_SQL_TABLE:"db.sql.table",EXCEPTION_TYPE:"exception.type",EXCEPTION_MESSAGE:"exception.message",EXCEPTION_STACKTRACE:"exception.stacktrace",EXCEPTION_ESCAPED:"exception.escaped",FAAS_TRIGGER:"faas.trigger",FAAS_EXECUTION:"faas.execution",FAAS_DOCUMENT_COLLECTION:"faas.document.collection",FAAS_DOCUMENT_OPERATION:"faas.document.operation",FAAS_DOCUMENT_TIME:"faas.document.time",FAAS_DOCUMENT_NAME:"faas.document.name",FAAS_TIME:"faas.time",FAAS_CRON:"faas.cron",FAAS_COLDSTART:"faas.coldstart",FAAS_INVOKED_NAME:"faas.invoked_name",FAAS_INVOKED_PROVIDER:"faas.invoked_provider",FAAS_INVOKED_REGION:"faas.invoked_region",NET_TRANSPORT:"net.transport",NET_PEER_IP:"net.peer.ip",NET_PEER_PORT:"net.peer.port",NET_PEER_NAME:"net.peer.name",NET_HOST_IP:"net.host.ip",NET_HOST_PORT:"net.host.port",NET_HOST_NAME:"net.host.name",NET_HOST_CONNECTION_TYPE:"net.host.connection.type",NET_HOST_CONNECTION_SUBTYPE:"net.host.connection.subtype",NET_HOST_CARRIER_NAME:"net.host.carrier.name",NET_HOST_CARRIER_MCC:"net.host.carrier.mcc",NET_HOST_CARRIER_MNC:"net.host.carrier.mnc",NET_HOST_CARRIER_ICC:"net.host.carrier.icc",PEER_SERVICE:"peer.service",ENDUSER_ID:"enduser.id",ENDUSER_ROLE:"enduser.role",ENDUSER_SCOPE:"enduser.scope",THREAD_ID:"thread.id",THREAD_NAME:"thread.name",CODE_FUNCTION:"code.function",CODE_NAMESPACE:"code.namespace",CODE_FILEPATH:"code.filepath",CODE_LINENO:"code.lineno",HTTP_METHOD:"http.method",HTTP_URL:"http.url",HTTP_TARGET:"http.target",HTTP_HOST:"http.host",HTTP_SCHEME:"http.scheme",HTTP_STATUS_CODE:"http.status_code",HTTP_FLAVOR:"http.flavor",HTTP_USER_AGENT:"http.user_agent",HTTP_REQUEST_CONTENT_LENGTH:"http.request_content_length",HTTP_REQUEST_CONTENT_LENGTH_UNCOMPRESSED:"http.request_content_length_uncompressed",HTTP_RESPONSE_CONTENT_LENGTH:"http.response_content_length",HTTP_RESPONSE_CONTENT_LENGTH_UNCOMPRESSED:"http.response_content_length_uncompressed",HTTP_SERVER_NAME:"http.server_name",HTTP_ROUTE:"http.route",HTTP_CLIENT_IP:"http.client_ip",AWS_DYNAMODB_TABLE_NAMES:"aws.dynamodb.table_names",AWS_DYNAMODB_CONSUMED_CAPACITY:"aws.dynamodb.consumed_capacity",AWS_DYNAMODB_ITEM_COLLECTION_METRICS:"aws.dynamodb.item_collection_metrics",AWS_DYNAMODB_PROVISIONED_READ_CAPACITY:"aws.dynamodb.provisioned_read_capacity",AWS_DYNAMODB_PROVISIONED_WRITE_CAPACITY:"aws.dynamodb.provisioned_write_capacity",AWS_DYNAMODB_CONSISTENT_READ:"aws.dynamodb.consistent_read",AWS_DYNAMODB_PROJECTION:"aws.dynamodb.projection",AWS_DYNAMODB_LIMIT:"aws.dynamodb.limit",AWS_DYNAMODB_ATTRIBUTES_TO_GET:"aws.dynamodb.attributes_to_get",AWS_DYNAMODB_INDEX_NAME:"aws.dynamodb.index_name",AWS_DYNAMODB_SELECT:"aws.dynamodb.select",AWS_DYNAMODB_GLOBAL_SECONDARY_INDEXES:"aws.dynamodb.global_secondary_indexes",AWS_DYNAMODB_LOCAL_SECONDARY_INDEXES:"aws.dynamodb.local_secondary_indexes",AWS_DYNAMODB_EXCLUSIVE_START_TABLE:"aws.dynamodb.exclusive_start_table",AWS_DYNAMODB_TABLE_COUNT:"aws.dynamodb.table_count",AWS_DYNAMODB_SCAN_FORWARD:"aws.dynamodb.scan_forward",AWS_DYNAMODB_SEGMENT:"aws.dynamodb.segment",AWS_DYNAMODB_TOTAL_SEGMENTS:"aws.dynamodb.total_segments",AWS_DYNAMODB_COUNT:"aws.dynamodb.count",AWS_DYNAMODB_SCANNED_COUNT:"aws.dynamodb.scanned_count",AWS_DYNAMODB_ATTRIBUTE_DEFINITIONS:"aws.dynamodb.attribute_definitions",AWS_DYNAMODB_GLOBAL_SECONDARY_INDEX_UPDATES:"aws.dynamodb.global_secondary_index_updates",MESSAGING_SYSTEM:"messaging.system",MESSAGING_DESTINATION:"messaging.destination",MESSAGING_DESTINATION_KIND:"messaging.destination_kind",MESSAGING_TEMP_DESTINATION:"messaging.temp_destination",MESSAGING_PROTOCOL:"messaging.protocol",MESSAGING_PROTOCOL_VERSION:"messaging.protocol_version",MESSAGING_URL:"messaging.url",MESSAGING_MESSAGE_ID:"messaging.message_id",MESSAGING_CONVERSATION_ID:"messaging.conversation_id",MESSAGING_MESSAGE_PAYLOAD_SIZE_BYTES:"messaging.message_payload_size_bytes",MESSAGING_MESSAGE_PAYLOAD_COMPRESSED_SIZE_BYTES:"messaging.message_payload_compressed_size_bytes",MESSAGING_OPERATION:"messaging.operation",MESSAGING_CONSUMER_ID:"messaging.consumer_id",MESSAGING_RABBITMQ_ROUTING_KEY:"messaging.rabbitmq.routing_key",MESSAGING_KAFKA_MESSAGE_KEY:"messaging.kafka.message_key",MESSAGING_KAFKA_CONSUMER_GROUP:"messaging.kafka.consumer_group",MESSAGING_KAFKA_CLIENT_ID:"messaging.kafka.client_id",MESSAGING_KAFKA_PARTITION:"messaging.kafka.partition",MESSAGING_KAFKA_TOMBSTONE:"messaging.kafka.tombstone",RPC_SYSTEM:"rpc.system",RPC_SERVICE:"rpc.service",RPC_METHOD:"rpc.method",RPC_GRPC_STATUS_CODE:"rpc.grpc.status_code",RPC_JSONRPC_VERSION:"rpc.jsonrpc.version",RPC_JSONRPC_REQUEST_ID:"rpc.jsonrpc.request_id",RPC_JSONRPC_ERROR_CODE:"rpc.jsonrpc.error_code",RPC_JSONRPC_ERROR_MESSAGE:"rpc.jsonrpc.error_message",MESSAGE_TYPE:"message.type",MESSAGE_ID:"message.id",MESSAGE_COMPRESSED_SIZE:"message.compressed_size",MESSAGE_UNCOMPRESSED_SIZE:"message.uncompressed_size"};Q.DbSystemValues={OTHER_SQL:"other_sql",MSSQL:"mssql",MYSQL:"mysql",ORACLE:"oracle",DB2:"db2",POSTGRESQL:"postgresql",REDSHIFT:"redshift",HIVE:"hive",CLOUDSCAPE:"cloudscape",HSQLDB:"hsqldb",PROGRESS:"progress",MAXDB:"maxdb",HANADB:"hanadb",INGRES:"ingres",FIRSTSQL:"firstsql",EDB:"edb",CACHE:"cache",ADABAS:"adabas",FIREBIRD:"firebird",DERBY:"derby",FILEMAKER:"filemaker",INFORMIX:"informix",INSTANTDB:"instantdb",INTERBASE:"interbase",MARIADB:"mariadb",NETEZZA:"netezza",PERVASIVE:"pervasive",POINTBASE:"pointbase",SQLITE:"sqlite",SYBASE:"sybase",TERADATA:"teradata",VERTICA:"vertica",H2:"h2",COLDFUSION:"coldfusion",CASSANDRA:"cassandra",HBASE:"hbase",MONGODB:"mongodb",REDIS:"redis",COUCHBASE:"couchbase",COUCHDB:"couchdb",COSMOSDB:"cosmosdb",DYNAMODB:"dynamodb",NEO4J:"neo4j",GEODE:"geode",ELASTICSEARCH:"elasticsearch",MEMCACHED:"memcached",COCKROACHDB:"cockroachdb"};Q.DbCassandraConsistencyLevelValues={ALL:"all",EACH_QUORUM:"each_quorum",QUORUM:"quorum",LOCAL_QUORUM:"local_quorum",ONE:"one",TWO:"two",THREE:"three",LOCAL_ONE:"local_one",ANY:"any",SERIAL:"serial",LOCAL_SERIAL:"local_serial"};Q.FaasTriggerValues={DATASOURCE:"datasource",HTTP:"http",PUBSUB:"pubsub",TIMER:"timer",OTHER:"other"};Q.FaasDocumentOperationValues={INSERT:"insert",EDIT:"edit",DELETE:"delete"};Q.FaasInvokedProviderValues={ALIBABA_CLOUD:"alibaba_cloud",AWS:"aws",AZURE:"azure",GCP:"gcp"};Q.NetTransportValues={IP_TCP:"ip_tcp",IP_UDP:"ip_udp",IP:"ip",UNIX:"unix",PIPE:"pipe",INPROC:"inproc",OTHER:"other"};Q.NetHostConnectionTypeValues={WIFI:"wifi",WIRED:"wired",CELL:"cell",UNAVAILABLE:"unavailable",UNKNOWN:"unknown"};Q.NetHostConnectionSubtypeValues={GPRS:"gprs",EDGE:"edge",UMTS:"umts",CDMA:"cdma",EVDO_0:"evdo_0",EVDO_A:"evdo_a",CDMA2000_1XRTT:"cdma2000_1xrtt",HSDPA:"hsdpa",HSUPA:"hsupa",HSPA:"hspa",IDEN:"iden",EVDO_B:"evdo_b",LTE:"lte",EHRPD:"ehrpd",HSPAP:"hspap",GSM:"gsm",TD_SCDMA:"td_scdma",IWLAN:"iwlan",NR:"nr",NRNSA:"nrnsa",LTE_CA:"lte_ca"};Q.HttpFlavorValues={HTTP_1_0:"1.0",HTTP_1_1:"1.1",HTTP_2_0:"2.0",SPDY:"SPDY",QUIC:"QUIC"};Q.MessagingDestinationKindValues={QUEUE:"queue",TOPIC:"topic"};Q.MessagingOperationValues={RECEIVE:"receive",PROCESS:"process"};Q.RpcGrpcStatusCodeValues={OK:0,CANCELLED:1,UNKNOWN:2,INVALID_ARGUMENT:3,DEADLINE_EXCEEDED:4,NOT_FOUND:5,ALREADY_EXISTS:6,PERMISSION_DENIED:7,RESOURCE_EXHAUSTED:8,FAILED_PRECONDITION:9,ABORTED:10,OUT_OF_RANGE:11,UNIMPLEMENTED:12,INTERNAL:13,UNAVAILABLE:14,DATA_LOSS:15,UNAUTHENTICATED:16};Q.MessageTypeValues={SENT:"SENT",RECEIVED:"RECEIVED"}});var _S=c(pn=>{"use strict";var Yx=pn&&pn.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),zx=pn&&pn.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Yx(e,r,t)};Object.defineProperty(pn,"__esModule",{value:!0});zx(fS(),pn)});var ES=c(Ge=>{"use strict";Object.defineProperty(Ge,"__esModule",{value:!0});Ge.TelemetrySdkLanguageValues=Ge.OsTypeValues=Ge.HostArchValues=Ge.AwsEcsLaunchtypeValues=Ge.CloudPlatformValues=Ge.CloudProviderValues=Ge.SemanticResourceAttributes=void 0;Ge.SemanticResourceAttributes={CLOUD_PROVIDER:"cloud.provider",CLOUD_ACCOUNT_ID:"cloud.account.id",CLOUD_REGION:"cloud.region",CLOUD_AVAILABILITY_ZONE:"cloud.availability_zone",CLOUD_PLATFORM:"cloud.platform",AWS_ECS_CONTAINER_ARN:"aws.ecs.container.arn",AWS_ECS_CLUSTER_ARN:"aws.ecs.cluster.arn",AWS_ECS_LAUNCHTYPE:"aws.ecs.launchtype",AWS_ECS_TASK_ARN:"aws.ecs.task.arn",AWS_ECS_TASK_FAMILY:"aws.ecs.task.family",AWS_ECS_TASK_REVISION:"aws.ecs.task.revision",AWS_EKS_CLUSTER_ARN:"aws.eks.cluster.arn",AWS_LOG_GROUP_NAMES:"aws.log.group.names",AWS_LOG_GROUP_ARNS:"aws.log.group.arns",AWS_LOG_STREAM_NAMES:"aws.log.stream.names",AWS_LOG_STREAM_ARNS:"aws.log.stream.arns",CONTAINER_NAME:"container.name",CONTAINER_ID:"container.id",CONTAINER_RUNTIME:"container.runtime",CONTAINER_IMAGE_NAME:"container.image.name",CONTAINER_IMAGE_TAG:"container.image.tag",DEPLOYMENT_ENVIRONMENT:"deployment.environment",DEVICE_ID:"device.id",DEVICE_MODEL_IDENTIFIER:"device.model.identifier",DEVICE_MODEL_NAME:"device.model.name",FAAS_NAME:"faas.name",FAAS_ID:"faas.id",FAAS_VERSION:"faas.version",FAAS_INSTANCE:"faas.instance",FAAS_MAX_MEMORY:"faas.max_memory",HOST_ID:"host.id",HOST_NAME:"host.name",HOST_TYPE:"host.type",HOST_ARCH:"host.arch",HOST_IMAGE_NAME:"host.image.name",HOST_IMAGE_ID:"host.image.id",HOST_IMAGE_VERSION:"host.image.version",K8S_CLUSTER_NAME:"k8s.cluster.name",K8S_NODE_NAME:"k8s.node.name",K8S_NODE_UID:"k8s.node.uid",K8S_NAMESPACE_NAME:"k8s.namespace.name",K8S_POD_UID:"k8s.pod.uid",K8S_POD_NAME:"k8s.pod.name",K8S_CONTAINER_NAME:"k8s.container.name",K8S_REPLICASET_UID:"k8s.replicaset.uid",K8S_REPLICASET_NAME:"k8s.replicaset.name",K8S_DEPLOYMENT_UID:"k8s.deployment.uid",K8S_DEPLOYMENT_NAME:"k8s.deployment.name",K8S_STATEFULSET_UID:"k8s.statefulset.uid",K8S_STATEFULSET_NAME:"k8s.statefulset.name",K8S_DAEMONSET_UID:"k8s.daemonset.uid",K8S_DAEMONSET_NAME:"k8s.daemonset.name",K8S_JOB_UID:"k8s.job.uid",K8S_JOB_NAME:"k8s.job.name",K8S_CRONJOB_UID:"k8s.cronjob.uid",K8S_CRONJOB_NAME:"k8s.cronjob.name",OS_TYPE:"os.type",OS_DESCRIPTION:"os.description",OS_NAME:"os.name",OS_VERSION:"os.version",PROCESS_PID:"process.pid",PROCESS_EXECUTABLE_NAME:"process.executable.name",PROCESS_EXECUTABLE_PATH:"process.executable.path",PROCESS_COMMAND:"process.command",PROCESS_COMMAND_LINE:"process.command_line",PROCESS_COMMAND_ARGS:"process.command_args",PROCESS_OWNER:"process.owner",PROCESS_RUNTIME_NAME:"process.runtime.name",PROCESS_RUNTIME_VERSION:"process.runtime.version",PROCESS_RUNTIME_DESCRIPTION:"process.runtime.description",SERVICE_NAME:"service.name",SERVICE_NAMESPACE:"service.namespace",SERVICE_INSTANCE_ID:"service.instance.id",SERVICE_VERSION:"service.version",TELEMETRY_SDK_NAME:"telemetry.sdk.name",TELEMETRY_SDK_LANGUAGE:"telemetry.sdk.language",TELEMETRY_SDK_VERSION:"telemetry.sdk.version",TELEMETRY_AUTO_VERSION:"telemetry.auto.version",WEBENGINE_NAME:"webengine.name",WEBENGINE_VERSION:"webengine.version",WEBENGINE_DESCRIPTION:"webengine.description"};Ge.CloudProviderValues={ALIBABA_CLOUD:"alibaba_cloud",AWS:"aws",AZURE:"azure",GCP:"gcp"};Ge.CloudPlatformValues={ALIBABA_CLOUD_ECS:"alibaba_cloud_ecs",ALIBABA_CLOUD_FC:"alibaba_cloud_fc",AWS_EC2:"aws_ec2",AWS_ECS:"aws_ecs",AWS_EKS:"aws_eks",AWS_LAMBDA:"aws_lambda",AWS_ELASTIC_BEANSTALK:"aws_elastic_beanstalk",AZURE_VM:"azure_vm",AZURE_CONTAINER_INSTANCES:"azure_container_instances",AZURE_AKS:"azure_aks",AZURE_FUNCTIONS:"azure_functions",AZURE_APP_SERVICE:"azure_app_service",GCP_COMPUTE_ENGINE:"gcp_compute_engine",GCP_CLOUD_RUN:"gcp_cloud_run",GCP_KUBERNETES_ENGINE:"gcp_kubernetes_engine",GCP_CLOUD_FUNCTIONS:"gcp_cloud_functions",GCP_APP_ENGINE:"gcp_app_engine"};Ge.AwsEcsLaunchtypeValues={EC2:"ec2",FARGATE:"fargate"};Ge.HostArchValues={AMD64:"amd64",ARM32:"arm32",ARM64:"arm64",IA64:"ia64",PPC32:"ppc32",PPC64:"ppc64",X86:"x86"};Ge.OsTypeValues={WINDOWS:"windows",LINUX:"linux",DARWIN:"darwin",FREEBSD:"freebsd",NETBSD:"netbsd",OPENBSD:"openbsd",DRAGONFLYBSD:"dragonflybsd",HPUX:"hpux",AIX:"aix",SOLARIS:"solaris",Z_OS:"z_os"};Ge.TelemetrySdkLanguageValues={CPP:"cpp",DOTNET:"dotnet",ERLANG:"erlang",GO:"go",JAVA:"java",NODEJS:"nodejs",PHP:"php",PYTHON:"python",RUBY:"ruby",WEBJS:"webjs"}});var gS=c(fn=>{"use strict";var Qx=fn&&fn.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Zx=fn&&fn.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Qx(e,r,t)};Object.defineProperty(fn,"__esModule",{value:!0});Zx(ES(),fn)});var Ce=c(qr=>{"use strict";var Jx=qr&&qr.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),mS=qr&&qr.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Jx(e,r,t)};Object.defineProperty(qr,"__esModule",{value:!0});mS(_S(),qr);mS(gS(),qr)});var TS=c(Ju=>{"use strict";Object.defineProperty(Ju,"__esModule",{value:!0});Ju.SDK_INFO=void 0;var eD=Zu(),Eo=Ce();Ju.SDK_INFO={[Eo.SemanticResourceAttributes.TELEMETRY_SDK_NAME]:"opentelemetry",[Eo.SemanticResourceAttributes.PROCESS_RUNTIME_NAME]:"node",[Eo.SemanticResourceAttributes.TELEMETRY_SDK_LANGUAGE]:Eo.TelemetrySdkLanguageValues.NODEJS,[Eo.SemanticResourceAttributes.TELEMETRY_SDK_VERSION]:eD.VERSION}});var SS=c(ec=>{"use strict";Object.defineProperty(ec,"__esModule",{value:!0});ec.unrefTimer=void 0;function tD(r){r.unref()}ec.unrefTimer=tD});var vS=c(_t=>{"use strict";var rD=_t&&_t.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),_n=_t&&_t.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&rD(e,r,t)};Object.defineProperty(_t,"__esModule",{value:!0});_n(oS(),_t);_n(aS(),_t);_n(cS(),_t);_n(dS(),_t);_n(pS(),_t);_n(TS(),_t);_n(SS(),_t)});var Vp=c(En=>{"use strict";var nD=En&&En.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),sD=En&&En.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&nD(e,r,t)};Object.defineProperty(En,"__esModule",{value:!0});sD(vS(),En)});var IS=c(se=>{"use strict";Object.defineProperty(se,"__esModule",{value:!0});se.addHrTimes=se.isTimeInput=se.isTimeInputHrTime=se.hrTimeToMicroseconds=se.hrTimeToMilliseconds=se.hrTimeToNanoseconds=se.hrTimeToTimeStamp=se.hrTimeDuration=se.timeInputToHrTime=se.hrTime=se.getTimeOrigin=se.millisToHrTime=void 0;var Hp=Vp(),AS=9,iD=6,oD=Math.pow(10,iD),tc=Math.pow(10,AS);function go(r){let e=r/1e3,t=Math.trunc(e),n=Math.round(r%1e3*oD);return[t,n]}se.millisToHrTime=go;function Xp(){let r=Hp.otperformance.timeOrigin;if(typeof r!="number"){let e=Hp.otperformance;r=e.timing&&e.timing.fetchStart}return r}se.getTimeOrigin=Xp;function OS(r){let e=go(Xp()),t=go(typeof r=="number"?r:Hp.otperformance.now());return RS(e,t)}se.hrTime=OS;function aD(r){if(Wp(r))return r;if(typeof r=="number")return r<Xp()?OS(r):go(r);if(r instanceof Date)return go(r.getTime());throw TypeError("Invalid input type")}se.timeInputToHrTime=aD;function uD(r,e){let t=e[0]-r[0],n=e[1]-r[1];return n<0&&(t-=1,n+=tc),[t,n]}se.hrTimeDuration=uD;function cD(r){let e=AS,t=`${"0".repeat(e)}${r[1]}Z`,n=t.substr(t.length-e-1);return new Date(r[0]*1e3).toISOString().replace("000Z",n)}se.hrTimeToTimeStamp=cD;function lD(r){return r[0]*tc+r[1]}se.hrTimeToNanoseconds=lD;function hD(r){return Math.round(r[0]*1e3+r[1]/1e6)}se.hrTimeToMilliseconds=hD;function dD(r){return Math.round(r[0]*1e6+r[1]/1e3)}se.hrTimeToMicroseconds=dD;function Wp(r){return Array.isArray(r)&&r.length===2&&typeof r[0]=="number"&&typeof r[1]=="number"}se.isTimeInputHrTime=Wp;function pD(r){return Wp(r)||typeof r=="number"||r instanceof Date}se.isTimeInput=pD;function RS(r,e){let t=[r[0]+e[0],r[1]+e[1]];return t[1]>=tc&&(t[1]-=tc,t[0]+=1),t}se.addHrTimes=RS});var PS=c(bS=>{"use strict";Object.defineProperty(bS,"__esModule",{value:!0})});var yS=c(mo=>{"use strict";Object.defineProperty(mo,"__esModule",{value:!0});mo.ExportResultCode=void 0;var fD;(function(r){r[r.SUCCESS=0]="SUCCESS",r[r.FAILED=1]="FAILED"})(fD=mo.ExportResultCode||(mo.ExportResultCode={}))});var LS=c(rc=>{"use strict";Object.defineProperty(rc,"__esModule",{value:!0});rc.CompositePropagator=void 0;var NS=_(),kp=class{constructor(e={}){var t;this._propagators=(t=e.propagators)!==null&&t!==void 0?t:[],this._fields=Array.from(new Set(this._propagators.map(n=>typeof n.fields=="function"?n.fields():[]).reduce((n,s)=>n.concat(s),[])))}inject(e,t,n){for(let s of this._propagators)try{s.inject(e,t,n)}catch(i){NS.diag.warn(`Failed to inject with ${s.constructor.name}. Err: ${i.message}`)}}extract(e,t,n){return this._propagators.reduce((s,i)=>{try{return i.extract(s,t,n)}catch(o){NS.diag.warn(`Failed to inject with ${i.constructor.name}. Err: ${o.message}`)}return s},e)}fields(){return this._fields.slice()}};rc.CompositePropagator=kp});var CS=c(Is=>{"use strict";Object.defineProperty(Is,"__esModule",{value:!0});Is.validateValue=Is.validateKey=void 0;var Kp="[_0-9a-z-*/]",_D=`[a-z]${Kp}{0,255}`,ED=`[a-z0-9]${Kp}{0,240}@[a-z]${Kp}{0,13}`,gD=new RegExp(`^(?:${_D}|${ED})$`),mD=/^[ -~]{0,255}[!-~]$/,TD=/,|=/;function SD(r){return gD.test(r)}Is.validateKey=SD;function vD(r){return mD.test(r)&&!TD.test(r)}Is.validateValue=vD});var Yp=c(nc=>{"use strict";Object.defineProperty(nc,"__esModule",{value:!0});nc.TraceState=void 0;var MS=CS(),wS=32,AD=512,qS=",",xS="=",To=class{constructor(e){this._internalState=new Map,e&&this._parse(e)}set(e,t){let n=this._clone();return n._internalState.has(e)&&n._internalState.delete(e),n._internalState.set(e,t),n}unset(e){let t=this._clone();return t._internalState.delete(e),t}get(e){return this._internalState.get(e)}serialize(){return this._keys().reduce((e,t)=>(e.push(t+xS+this.get(t)),e),[]).join(qS)}_parse(e){e.length>AD||(this._internalState=e.split(qS).reverse().reduce((t,n)=>{let s=n.trim(),i=s.indexOf(xS);if(i!==-1){let o=s.slice(0,i),a=s.slice(i+1,n.length);(0,MS.validateKey)(o)&&(0,MS.validateValue)(a)&&t.set(o,a)}return t},new Map),this._internalState.size>wS&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,wS))))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let e=new To;return e._internalState=new Map(this._internalState),e}};nc.TraceState=To});var $S=c(Be=>{"use strict";Object.defineProperty(Be,"__esModule",{value:!0});Be.W3CTraceContextPropagator=Be.parseTraceParent=Be.TRACE_STATE_HEADER=Be.TRACE_PARENT_HEADER=void 0;var sc=_(),OD=fo(),RD=Yp();Be.TRACE_PARENT_HEADER="traceparent";Be.TRACE_STATE_HEADER="tracestate";var ID="00",bD="(?!ff)[\\da-f]{2}",PD="(?![0]{32})[\\da-f]{32}",yD="(?![0]{16})[\\da-f]{16}",ND="[\\da-f]{2}",LD=new RegExp(`^\\s?(${bD})-(${PD})-(${yD})-(${ND})(-.*)?\\s?$`);function DS(r){let e=LD.exec(r);return!e||e[1]==="00"&&e[5]?null:{traceId:e[2],spanId:e[3],traceFlags:parseInt(e[4],16)}}Be.parseTraceParent=DS;var zp=class{inject(e,t,n){let s=sc.trace.getSpanContext(e);if(!s||(0,OD.isTracingSuppressed)(e)||!(0,sc.isSpanContextValid)(s))return;let i=`${ID}-${s.traceId}-${s.spanId}-0${Number(s.traceFlags||sc.TraceFlags.NONE).toString(16)}`;n.set(t,Be.TRACE_PARENT_HEADER,i),s.traceState&&n.set(t,Be.TRACE_STATE_HEADER,s.traceState.serialize())}extract(e,t,n){let s=n.get(t,Be.TRACE_PARENT_HEADER);if(!s)return e;let i=Array.isArray(s)?s[0]:s;if(typeof i!="string")return e;let o=DS(i);if(!o)return e;o.isRemote=!0;let a=n.get(t,Be.TRACE_STATE_HEADER);if(a){let u=Array.isArray(a)?a.join(","):a;o.traceState=new RD.TraceState(typeof u=="string"?u:void 0)}return sc.trace.setSpanContext(e,o)}fields(){return[Be.TRACE_PARENT_HEADER,Be.TRACE_STATE_HEADER]}};Be.W3CTraceContextPropagator=zp});var US=c(jS=>{"use strict";Object.defineProperty(jS,"__esModule",{value:!0})});var GS=c($t=>{"use strict";Object.defineProperty($t,"__esModule",{value:!0});$t.getRPCMetadata=$t.deleteRPCMetadata=$t.setRPCMetadata=$t.RPCType=void 0;var CD=_(),Qp=(0,CD.createContextKey)("OpenTelemetry SDK Context Key RPC_METADATA"),MD;(function(r){r.HTTP="http"})(MD=$t.RPCType||($t.RPCType={}));function wD(r,e){return r.setValue(Qp,e)}$t.setRPCMetadata=wD;function qD(r){return r.deleteValue(Qp)}$t.deleteRPCMetadata=qD;function xD(r){return r.getValue(Qp)}$t.getRPCMetadata=xD});var Jp=c(ic=>{"use strict";Object.defineProperty(ic,"__esModule",{value:!0});ic.AlwaysOffSampler=void 0;var DD=_(),Zp=class{shouldSample(){return{decision:DD.SamplingDecision.NOT_RECORD}}toString(){return"AlwaysOffSampler"}};ic.AlwaysOffSampler=Zp});var tf=c(oc=>{"use strict";Object.defineProperty(oc,"__esModule",{value:!0});oc.AlwaysOnSampler=void 0;var $D=_(),ef=class{shouldSample(){return{decision:$D.SamplingDecision.RECORD_AND_SAMPLED}}toString(){return"AlwaysOnSampler"}};oc.AlwaysOnSampler=ef});var FS=c(uc=>{"use strict";Object.defineProperty(uc,"__esModule",{value:!0});uc.ParentBasedSampler=void 0;var ac=_(),jD=jp(),BS=Jp(),rf=tf(),nf=class{constructor(e){var t,n,s,i;this._root=e.root,this._root||((0,jD.globalErrorHandler)(new Error("ParentBasedSampler must have a root sampler configured")),this._root=new rf.AlwaysOnSampler),this._remoteParentSampled=(t=e.remoteParentSampled)!==null&&t!==void 0?t:new rf.AlwaysOnSampler,this._remoteParentNotSampled=(n=e.remoteParentNotSampled)!==null&&n!==void 0?n:new BS.AlwaysOffSampler,this._localParentSampled=(s=e.localParentSampled)!==null&&s!==void 0?s:new rf.AlwaysOnSampler,this._localParentNotSampled=(i=e.localParentNotSampled)!==null&&i!==void 0?i:new BS.AlwaysOffSampler}shouldSample(e,t,n,s,i,o){let a=ac.trace.getSpanContext(e);return!a||!(0,ac.isSpanContextValid)(a)?this._root.shouldSample(e,t,n,s,i,o):a.isRemote?a.traceFlags&ac.TraceFlags.SAMPLED?this._remoteParentSampled.shouldSample(e,t,n,s,i,o):this._remoteParentNotSampled.shouldSample(e,t,n,s,i,o):a.traceFlags&ac.TraceFlags.SAMPLED?this._localParentSampled.shouldSample(e,t,n,s,i,o):this._localParentNotSampled.shouldSample(e,t,n,s,i,o)}toString(){return`ParentBased{root=${this._root.toString()}, remoteParentSampled=${this._remoteParentSampled.toString()}, remoteParentNotSampled=${this._remoteParentNotSampled.toString()}, localParentSampled=${this._localParentSampled.toString()}, localParentNotSampled=${this._localParentNotSampled.toString()}}`}};uc.ParentBasedSampler=nf});var VS=c(cc=>{"use strict";Object.defineProperty(cc,"__esModule",{value:!0});cc.TraceIdRatioBasedSampler=void 0;var sf=_(),of=class{constructor(e=0){this._ratio=e,this._ratio=this._normalize(e),this._upperBound=Math.floor(this._ratio*4294967295)}shouldSample(e,t){return{decision:(0,sf.isValidTraceId)(t)&&this._accumulate(t)<this._upperBound?sf.SamplingDecision.RECORD_AND_SAMPLED:sf.SamplingDecision.NOT_RECORD}}toString(){return`TraceIdRatioBased{${this._ratio}}`}_normalize(e){return typeof e!="number"||isNaN(e)?0:e>=1?1:e<=0?0:e}_accumulate(e){let t=0;for(let n=0;n<e.length/8;n++){let s=n*8,i=parseInt(e.slice(s,s+8),16);t=(t^i)>>>0}return t}};cc.TraceIdRatioBasedSampler=of});var KS=c(lc=>{"use strict";Object.defineProperty(lc,"__esModule",{value:!0});lc.isPlainObject=void 0;var UD="[object Object]",GD="[object Null]",BD="[object Undefined]",FD=Function.prototype,HS=FD.toString,VD=HS.call(Object),HD=XD(Object.getPrototypeOf,Object),XS=Object.prototype,WS=XS.hasOwnProperty,gn=Symbol?Symbol.toStringTag:void 0,kS=XS.toString;function XD(r,e){return function(t){return r(e(t))}}function WD(r){if(!kD(r)||KD(r)!==UD)return!1;let e=HD(r);if(e===null)return!0;let t=WS.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t instanceof t&&HS.call(t)===VD}lc.isPlainObject=WD;function kD(r){return r!=null&&typeof r=="object"}function KD(r){return r==null?r===void 0?BD:GD:gn&&gn in Object(r)?YD(r):zD(r)}function YD(r){let e=WS.call(r,gn),t=r[gn],n=!1;try{r[gn]=void 0,n=!0}catch{}let s=kS.call(r);return n&&(e?r[gn]=t:delete r[gn]),s}function zD(r){return kS.call(r)}});var JS=c(pc=>{"use strict";Object.defineProperty(pc,"__esModule",{value:!0});pc.merge=void 0;var YS=KS(),QD=20;function ZD(...r){let e=r.shift(),t=new WeakMap;for(;r.length>0;)e=QS(e,r.shift(),0,t);return e}pc.merge=ZD;function af(r){return dc(r)?r.slice():r}function QS(r,e,t=0,n){let s;if(!(t>QD)){if(t++,hc(r)||hc(e)||ZS(e))s=af(e);else if(dc(r)){if(s=r.slice(),dc(e))for(let i=0,o=e.length;i<o;i++)s.push(af(e[i]));else if(So(e)){let i=Object.keys(e);for(let o=0,a=i.length;o<a;o++){let u=i[o];s[u]=af(e[u])}}}else if(So(r))if(So(e)){if(!JD(r,e))return e;s=Object.assign({},r);let i=Object.keys(e);for(let o=0,a=i.length;o<a;o++){let u=i[o],l=e[u];if(hc(l))typeof l>"u"?delete s[u]:s[u]=l;else{let h=s[u],d=l;if(zS(r,u,n)||zS(e,u,n))delete s[u];else{if(So(h)&&So(d)){let f=n.get(h)||[],p=n.get(d)||[];f.push({obj:r,key:u}),p.push({obj:e,key:u}),n.set(h,f),n.set(d,p)}s[u]=QS(s[u],l,t,n)}}}}else s=e;return s}}function zS(r,e,t){let n=t.get(r[e])||[];for(let s=0,i=n.length;s<i;s++){let o=n[s];if(o.key===e&&o.obj===r)return!0}return!1}function dc(r){return Array.isArray(r)}function ZS(r){return typeof r=="function"}function So(r){return!hc(r)&&!dc(r)&&!ZS(r)&&typeof r=="object"}function hc(r){return typeof r=="string"||typeof r=="number"||typeof r=="boolean"||typeof r>"u"||r instanceof Date||r instanceof RegExp||r===null}function JD(r,e){return!(!(0,YS.isPlainObject)(r)||!(0,YS.isPlainObject)(e))}});var ev=c(Ps=>{"use strict";Object.defineProperty(Ps,"__esModule",{value:!0});Ps.callWithTimeout=Ps.TimeoutError=void 0;var bs=class extends Error{constructor(e){super(e),Object.setPrototypeOf(this,bs.prototype)}};Ps.TimeoutError=bs;function e$(r,e){let t,n=new Promise(function(i,o){t=setTimeout(function(){o(new bs("Operation timed out."))},e)});return Promise.race([r,n]).then(s=>(clearTimeout(t),s),s=>{throw clearTimeout(t),s})}Ps.callWithTimeout=e$});var rv=c(ys=>{"use strict";Object.defineProperty(ys,"__esModule",{value:!0});ys.isUrlIgnored=ys.urlMatches=void 0;function tv(r,e){return typeof e=="string"?r===e:!!r.match(e)}ys.urlMatches=tv;function t$(r,e){if(!e)return!1;for(let t of e)if(tv(r,t))return!0;return!1}ys.isUrlIgnored=t$});var nv=c(fc=>{"use strict";Object.defineProperty(fc,"__esModule",{value:!0});fc.isWrapped=void 0;function r$(r){return typeof r=="function"&&typeof r.__original=="function"&&typeof r.__unwrap=="function"&&r.__wrapped===!0}fc.isWrapped=r$});var sv=c(_c=>{"use strict";Object.defineProperty(_c,"__esModule",{value:!0});_c.Deferred=void 0;var uf=class{constructor(){this._promise=new Promise((e,t)=>{this._resolve=e,this._reject=t})}get promise(){return this._promise}resolve(e){this._resolve(e)}reject(e){this._reject(e)}};_c.Deferred=uf});var iv=c(Ec=>{"use strict";Object.defineProperty(Ec,"__esModule",{value:!0});Ec.BindOnceFuture=void 0;var n$=sv(),cf=class{constructor(e,t){this._callback=e,this._that=t,this._isCalled=!1,this._deferred=new n$.Deferred}get isCalled(){return this._isCalled}get promise(){return this._deferred.promise}call(...e){if(!this._isCalled){this._isCalled=!0;try{Promise.resolve(this._callback.call(this._that,...e)).then(t=>this._deferred.resolve(t),t=>this._deferred.reject(t))}catch(t){this._deferred.reject(t)}}return this._deferred.promise}};Ec.BindOnceFuture=cf});var av=c(gc=>{"use strict";Object.defineProperty(gc,"__esModule",{value:!0});gc._export=void 0;var ov=_(),s$=fo();function i$(r,e){return new Promise(t=>{ov.context.with((0,s$.suppressTracing)(ov.context.active()),()=>{r.export(e,n=>{t(n)})})})}gc._export=i$});var B=c(G=>{"use strict";var o$=G&&G.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),te=G&&G.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&o$(e,r,t)};Object.defineProperty(G,"__esModule",{value:!0});G.internal=G.baggageUtils=void 0;te(zT(),G);te(QT(),G);te(rS(),G);te(jp(),G);te($p(),G);te(IS(),G);te(PS(),G);te(yS(),G);te(Zu(),G);G.baggageUtils=Mp();te(Vp(),G);te(LS(),G);te($S(),G);te(US(),G);te(GS(),G);te(Jp(),G);te(tf(),G);te(FS(),G);te(VS(),G);te(fo(),G);te(Yp(),G);te(Bp(),G);te(JS(),G);te(Up(),G);te(ev(),G);te(rv(),G);te(nv(),G);te(iv(),G);te(Zu(),G);var a$=av();G.internal={_export:a$._export}});var uv=c(mc=>{"use strict";Object.defineProperty(mc,"__esModule",{value:!0});mc.ExceptionEventName=void 0;mc.ExceptionEventName="exception"});var hf=c(Tc=>{"use strict";Object.defineProperty(Tc,"__esModule",{value:!0});Tc.Span=void 0;var er=_(),Fe=B(),mn=Ce(),u$=uv(),lf=class{constructor(e,t,n,s,i,o,a=[],u,l){this.attributes={},this.links=[],this.events=[],this._droppedAttributesCount=0,this._droppedEventsCount=0,this._droppedLinksCount=0,this.status={code:er.SpanStatusCode.UNSET},this.endTime=[0,0],this._ended=!1,this._duration=[-1,-1],this.name=n,this._spanContext=s,this.parentSpanId=o,this.kind=i,this.links=a;let h=Date.now();this._performanceStartTime=Fe.otperformance.now(),this._performanceOffset=h-(this._performanceStartTime+(0,Fe.getTimeOrigin)()),this._startTimeProvided=u!=null,this.startTime=this._getTime(u??h),this.resource=e.resource,this.instrumentationLibrary=e.instrumentationLibrary,this._spanLimits=e.getSpanLimits(),this._spanProcessor=e.getActiveSpanProcessor(),this._spanProcessor.onStart(this,t),this._attributeValueLengthLimit=this._spanLimits.attributeValueLengthLimit||0}spanContext(){return this._spanContext}setAttribute(e,t){return t==null||this._isSpanEnded()?this:e.length===0?(er.diag.warn(`Invalid attribute key: ${e}`),this):(0,Fe.isAttributeValue)(t)?Object.keys(this.attributes).length>=this._spanLimits.attributeCountLimit&&!Object.prototype.hasOwnProperty.call(this.attributes,e)?(this._droppedAttributesCount++,this):(this.attributes[e]=this._truncateToSize(t),this):(er.diag.warn(`Invalid attribute value set for key: ${e}`),this)}setAttributes(e){for(let[t,n]of Object.entries(e))this.setAttribute(t,n);return this}addEvent(e,t,n){if(this._isSpanEnded())return this;if(this._spanLimits.eventCountLimit===0)return er.diag.warn("No events allowed."),this._droppedEventsCount++,this;this.events.length>=this._spanLimits.eventCountLimit&&(er.diag.warn("Dropping extra events."),this.events.shift(),this._droppedEventsCount++),(0,Fe.isTimeInput)(t)&&((0,Fe.isTimeInput)(n)||(n=t),t=void 0);let s=(0,Fe.sanitizeAttributes)(t);return this.events.push({name:e,attributes:s,time:this._getTime(n),droppedAttributesCount:0}),this}setStatus(e){return this._isSpanEnded()?this:(this.status=e,this)}updateName(e){return this._isSpanEnded()?this:(this.name=e,this)}end(e){if(this._isSpanEnded()){er.diag.error(`${this.name} ${this._spanContext.traceId}-${this._spanContext.spanId} - You can only call end() on a span once.`);return}this._ended=!0,this.endTime=this._getTime(e),this._duration=(0,Fe.hrTimeDuration)(this.startTime,this.endTime),this._duration[0]<0&&(er.diag.warn("Inconsistent start and end time, startTime > endTime. Setting span duration to 0ms.",this.startTime,this.endTime),this.endTime=this.startTime.slice(),this._duration=[0,0]),this._spanProcessor.onEnd(this)}_getTime(e){if(typeof e=="number"&&e<Fe.otperformance.now())return(0,Fe.hrTime)(e+this._performanceOffset);if(typeof e=="number")return(0,Fe.millisToHrTime)(e);if(e instanceof Date)return(0,Fe.millisToHrTime)(e.getTime());if((0,Fe.isTimeInputHrTime)(e))return e;if(this._startTimeProvided)return(0,Fe.millisToHrTime)(Date.now());let t=Fe.otperformance.now()-this._performanceStartTime;return(0,Fe.addHrTimes)(this.startTime,(0,Fe.millisToHrTime)(t))}isRecording(){return this._ended===!1}recordException(e,t){let n={};typeof e=="string"?n[mn.SemanticAttributes.EXCEPTION_MESSAGE]=e:e&&(e.code?n[mn.SemanticAttributes.EXCEPTION_TYPE]=e.code.toString():e.name&&(n[mn.SemanticAttributes.EXCEPTION_TYPE]=e.name),e.message&&(n[mn.SemanticAttributes.EXCEPTION_MESSAGE]=e.message),e.stack&&(n[mn.SemanticAttributes.EXCEPTION_STACKTRACE]=e.stack)),n[mn.SemanticAttributes.EXCEPTION_TYPE]||n[mn.SemanticAttributes.EXCEPTION_MESSAGE]?this.addEvent(u$.ExceptionEventName,n,t):er.diag.warn(`Failed to record an exception ${e}`)}get duration(){return this._duration}get ended(){return this._ended}get droppedAttributesCount(){return this._droppedAttributesCount}get droppedEventsCount(){return this._droppedEventsCount}get droppedLinksCount(){return this._droppedLinksCount}_isSpanEnded(){return this._ended&&er.diag.warn(`Can not execute the operation on ended Span {traceId: ${this._spanContext.traceId}, spanId: ${this._spanContext.spanId}}`),this._ended}_truncateToLimitUtil(e,t){return e.length<=t?e:e.substr(0,t)}_truncateToSize(e){let t=this._attributeValueLengthLimit;return t<=0?(er.diag.warn(`Attribute value limit must be positive, got ${t}`),e):typeof e=="string"?this._truncateToLimitUtil(e,t):Array.isArray(e)?e.map(n=>typeof n=="string"?this._truncateToLimitUtil(n,t):n):e}};Tc.Span=lf});var Ao=c(vo=>{"use strict";Object.defineProperty(vo,"__esModule",{value:!0});vo.SamplingDecision=void 0;var c$;(function(r){r[r.NOT_RECORD=0]="NOT_RECORD",r[r.RECORD=1]="RECORD",r[r.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"})(c$=vo.SamplingDecision||(vo.SamplingDecision={}))});var vc=c(Sc=>{"use strict";Object.defineProperty(Sc,"__esModule",{value:!0});Sc.AlwaysOffSampler=void 0;var l$=Ao(),df=class{shouldSample(){return{decision:l$.SamplingDecision.NOT_RECORD}}toString(){return"AlwaysOffSampler"}};Sc.AlwaysOffSampler=df});var Oc=c(Ac=>{"use strict";Object.defineProperty(Ac,"__esModule",{value:!0});Ac.AlwaysOnSampler=void 0;var h$=Ao(),pf=class{shouldSample(){return{decision:h$.SamplingDecision.RECORD_AND_SAMPLED}}toString(){return"AlwaysOnSampler"}};Ac.AlwaysOnSampler=pf});var Ef=c(Ic=>{"use strict";Object.defineProperty(Ic,"__esModule",{value:!0});Ic.ParentBasedSampler=void 0;var Rc=_(),d$=B(),cv=vc(),ff=Oc(),_f=class{constructor(e){var t,n,s,i;this._root=e.root,this._root||((0,d$.globalErrorHandler)(new Error("ParentBasedSampler must have a root sampler configured")),this._root=new ff.AlwaysOnSampler),this._remoteParentSampled=(t=e.remoteParentSampled)!==null&&t!==void 0?t:new ff.AlwaysOnSampler,this._remoteParentNotSampled=(n=e.remoteParentNotSampled)!==null&&n!==void 0?n:new cv.AlwaysOffSampler,this._localParentSampled=(s=e.localParentSampled)!==null&&s!==void 0?s:new ff.AlwaysOnSampler,this._localParentNotSampled=(i=e.localParentNotSampled)!==null&&i!==void 0?i:new cv.AlwaysOffSampler}shouldSample(e,t,n,s,i,o){let a=Rc.trace.getSpanContext(e);return!a||!(0,Rc.isSpanContextValid)(a)?this._root.shouldSample(e,t,n,s,i,o):a.isRemote?a.traceFlags&Rc.TraceFlags.SAMPLED?this._remoteParentSampled.shouldSample(e,t,n,s,i,o):this._remoteParentNotSampled.shouldSample(e,t,n,s,i,o):a.traceFlags&Rc.TraceFlags.SAMPLED?this._localParentSampled.shouldSample(e,t,n,s,i,o):this._localParentNotSampled.shouldSample(e,t,n,s,i,o)}toString(){return`ParentBased{root=${this._root.toString()}, remoteParentSampled=${this._remoteParentSampled.toString()}, remoteParentNotSampled=${this._remoteParentNotSampled.toString()}, localParentSampled=${this._localParentSampled.toString()}, localParentNotSampled=${this._localParentNotSampled.toString()}}`}};Ic.ParentBasedSampler=_f});var mf=c(bc=>{"use strict";Object.defineProperty(bc,"__esModule",{value:!0});bc.TraceIdRatioBasedSampler=void 0;var p$=_(),lv=Ao(),gf=class{constructor(e=0){this._ratio=e,this._ratio=this._normalize(e),this._upperBound=Math.floor(this._ratio*4294967295)}shouldSample(e,t){return{decision:(0,p$.isValidTraceId)(t)&&this._accumulate(t)<this._upperBound?lv.SamplingDecision.RECORD_AND_SAMPLED:lv.SamplingDecision.NOT_RECORD}}toString(){return`TraceIdRatioBased{${this._ratio}}`}_normalize(e){return typeof e!="number"||isNaN(e)?0:e>=1?1:e<=0?0:e}_accumulate(e){let t=0;for(let n=0;n<e.length/8;n++){let s=n*8,i=parseInt(e.slice(s,s+8),16);t=(t^i)>>>0}return t}};bc.TraceIdRatioBasedSampler=gf});var vf=c(Ls=>{"use strict";Object.defineProperty(Ls,"__esModule",{value:!0});Ls.buildSamplerFromEnv=Ls.loadDefaultConfig=void 0;var Pc=_(),Me=B(),hv=vc(),Tf=Oc(),Sf=Ef(),dv=mf(),f$=(0,Me.getEnv)(),_$=Me.TracesSamplerValues.AlwaysOn,Ns=1;function E$(){return{sampler:fv(f$),forceFlushTimeoutMillis:3e4,generalLimits:{attributeValueLengthLimit:(0,Me.getEnv)().OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT,attributeCountLimit:(0,Me.getEnv)().OTEL_ATTRIBUTE_COUNT_LIMIT},spanLimits:{attributeValueLengthLimit:(0,Me.getEnv)().OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT,attributeCountLimit:(0,Me.getEnv)().OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT,linkCountLimit:(0,Me.getEnv)().OTEL_SPAN_LINK_COUNT_LIMIT,eventCountLimit:(0,Me.getEnv)().OTEL_SPAN_EVENT_COUNT_LIMIT,attributePerEventCountLimit:(0,Me.getEnv)().OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT,attributePerLinkCountLimit:(0,Me.getEnv)().OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT}}}Ls.loadDefaultConfig=E$;function fv(r=(0,Me.getEnv)()){switch(r.OTEL_TRACES_SAMPLER){case Me.TracesSamplerValues.AlwaysOn:return new Tf.AlwaysOnSampler;case Me.TracesSamplerValues.AlwaysOff:return new hv.AlwaysOffSampler;case Me.TracesSamplerValues.ParentBasedAlwaysOn:return new Sf.ParentBasedSampler({root:new Tf.AlwaysOnSampler});case Me.TracesSamplerValues.ParentBasedAlwaysOff:return new Sf.ParentBasedSampler({root:new hv.AlwaysOffSampler});case Me.TracesSamplerValues.TraceIdRatio:return new dv.TraceIdRatioBasedSampler(pv(r));case Me.TracesSamplerValues.ParentBasedTraceIdRatio:return new Sf.ParentBasedSampler({root:new dv.TraceIdRatioBasedSampler(pv(r))});default:return Pc.diag.error(`OTEL_TRACES_SAMPLER value "${r.OTEL_TRACES_SAMPLER} invalid, defaulting to ${_$}".`),new Tf.AlwaysOnSampler}}Ls.buildSamplerFromEnv=fv;function pv(r){if(r.OTEL_TRACES_SAMPLER_ARG===void 0||r.OTEL_TRACES_SAMPLER_ARG==="")return Pc.diag.error(`OTEL_TRACES_SAMPLER_ARG is blank, defaulting to ${Ns}.`),Ns;let e=Number(r.OTEL_TRACES_SAMPLER_ARG);return isNaN(e)?(Pc.diag.error(`OTEL_TRACES_SAMPLER_ARG=${r.OTEL_TRACES_SAMPLER_ARG} was given, but it is invalid, defaulting to ${Ns}.`),Ns):e<0||e>1?(Pc.diag.error(`OTEL_TRACES_SAMPLER_ARG=${r.OTEL_TRACES_SAMPLER_ARG} was given, but it is out of range ([0..1]), defaulting to ${Ns}.`),Ns):e}});var Of=c(Cs=>{"use strict";Object.defineProperty(Cs,"__esModule",{value:!0});Cs.reconfigureLimits=Cs.mergeConfig=void 0;var _v=vf(),Af=B();function g$(r){let e={sampler:(0,_v.buildSamplerFromEnv)()},t=(0,_v.loadDefaultConfig)(),n=Object.assign({},t,e,r);return n.generalLimits=Object.assign({},t.generalLimits,r.generalLimits||{}),n.spanLimits=Object.assign({},t.spanLimits,r.spanLimits||{}),n}Cs.mergeConfig=g$;function m$(r){var e,t,n,s,i,o,a,u,l,h,d,f;let p=Object.assign({},r.spanLimits),I=(0,Af.getEnvWithoutDefaults)();return p.attributeCountLimit=(o=(i=(s=(t=(e=r.spanLimits)===null||e===void 0?void 0:e.attributeCountLimit)!==null&&t!==void 0?t:(n=r.generalLimits)===null||n===void 0?void 0:n.attributeCountLimit)!==null&&s!==void 0?s:I.OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT)!==null&&i!==void 0?i:I.OTEL_ATTRIBUTE_COUNT_LIMIT)!==null&&o!==void 0?o:Af.DEFAULT_ATTRIBUTE_COUNT_LIMIT,p.attributeValueLengthLimit=(f=(d=(h=(u=(a=r.spanLimits)===null||a===void 0?void 0:a.attributeValueLengthLimit)!==null&&u!==void 0?u:(l=r.generalLimits)===null||l===void 0?void 0:l.attributeValueLengthLimit)!==null&&h!==void 0?h:I.OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT)!==null&&d!==void 0?d:I.OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT)!==null&&f!==void 0?f:Af.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT,Object.assign({},r,{spanLimits:p})}Cs.reconfigureLimits=m$});var Ev=c(yc=>{"use strict";Object.defineProperty(yc,"__esModule",{value:!0});yc.BatchSpanProcessorBase=void 0;var Ms=_(),Tn=B(),Rf=class{constructor(e,t){this._exporter=e,this._finishedSpans=[],this._droppedSpansCount=0;let n=(0,Tn.getEnv)();this._maxExportBatchSize=typeof(t==null?void 0:t.maxExportBatchSize)=="number"?t.maxExportBatchSize:n.OTEL_BSP_MAX_EXPORT_BATCH_SIZE,this._maxQueueSize=typeof(t==null?void 0:t.maxQueueSize)=="number"?t.maxQueueSize:n.OTEL_BSP_MAX_QUEUE_SIZE,this._scheduledDelayMillis=typeof(t==null?void 0:t.scheduledDelayMillis)=="number"?t.scheduledDelayMillis:n.OTEL_BSP_SCHEDULE_DELAY,this._exportTimeoutMillis=typeof(t==null?void 0:t.exportTimeoutMillis)=="number"?t.exportTimeoutMillis:n.OTEL_BSP_EXPORT_TIMEOUT,this._shutdownOnce=new Tn.BindOnceFuture(this._shutdown,this),this._maxExportBatchSize>this._maxQueueSize&&(Ms.diag.warn("BatchSpanProcessor: maxExportBatchSize must be smaller or equal to maxQueueSize, setting maxExportBatchSize to match maxQueueSize"),this._maxExportBatchSize=this._maxQueueSize)}forceFlush(){return this._shutdownOnce.isCalled?this._shutdownOnce.promise:this._flushAll()}onStart(e,t){}onEnd(e){this._shutdownOnce.isCalled||e.spanContext().traceFlags&Ms.TraceFlags.SAMPLED&&this._addToBuffer(e)}shutdown(){return this._shutdownOnce.call()}_shutdown(){return Promise.resolve().then(()=>this.onShutdown()).then(()=>this._flushAll()).then(()=>this._exporter.shutdown())}_addToBuffer(e){if(this._finishedSpans.length>=this._maxQueueSize){this._droppedSpansCount===0&&Ms.diag.debug("maxQueueSize reached, dropping spans"),this._droppedSpansCount++;return}this._droppedSpansCount>0&&(Ms.diag.warn(`Dropped ${this._droppedSpansCount} spans because maxQueueSize reached`),this._droppedSpansCount=0),this._finishedSpans.push(e),this._maybeStartTimer()}_flushAll(){return new Promise((e,t)=>{let n=[],s=Math.ceil(this._finishedSpans.length/this._maxExportBatchSize);for(let i=0,o=s;i<o;i++)n.push(this._flushOneBatch());Promise.all(n).then(()=>{e()}).catch(t)})}_flushOneBatch(){return this._clearTimer(),this._finishedSpans.length===0?Promise.resolve():new Promise((e,t)=>{let n=setTimeout(()=>{t(new Error("Timeout"))},this._exportTimeoutMillis);Ms.context.with((0,Tn.suppressTracing)(Ms.context.active()),()=>{let s=this._finishedSpans.splice(0,this._maxExportBatchSize),i=()=>this._exporter.export(s,a=>{var u;clearTimeout(n),a.code===Tn.ExportResultCode.SUCCESS?e():t((u=a.error)!==null&&u!==void 0?u:new Error("BatchSpanProcessor: span export failed"))}),o=s.map(a=>a.resource).filter(a=>a.asyncAttributesPending);o.length===0?i():Promise.all(o.map(a=>{var u;return(u=a.waitForAsyncAttributes)===null||u===void 0?void 0:u.call(a)})).then(i,a=>{(0,Tn.globalErrorHandler)(a),t(a)})})})}_maybeStartTimer(){this._timer===void 0&&(this._timer=setTimeout(()=>{this._flushOneBatch().then(()=>{this._finishedSpans.length>0&&(this._clearTimer(),this._maybeStartTimer())}).catch(e=>{(0,Tn.globalErrorHandler)(e)})},this._scheduledDelayMillis),(0,Tn.unrefTimer)(this._timer))}_clearTimer(){this._timer!==void 0&&(clearTimeout(this._timer),this._timer=void 0)}};yc.BatchSpanProcessorBase=Rf});var gv=c(Nc=>{"use strict";Object.defineProperty(Nc,"__esModule",{value:!0});Nc.BatchSpanProcessor=void 0;var T$=Ev(),If=class extends T$.BatchSpanProcessorBase{onShutdown(){}};Nc.BatchSpanProcessor=If});var Sv=c(Cc=>{"use strict";Object.defineProperty(Cc,"__esModule",{value:!0});Cc.RandomIdGenerator=void 0;var S$=8,Tv=16,bf=class{constructor(){this.generateTraceId=mv(Tv),this.generateSpanId=mv(S$)}};Cc.RandomIdGenerator=bf;var Lc=Buffer.allocUnsafe(Tv);function mv(r){return function(){for(let t=0;t<r/4;t++)Lc.writeUInt32BE(Math.random()*2**32>>>0,t*4);for(let t=0;t<r&&!(Lc[t]>0);t++)t===r-1&&(Lc[r-1]=1);return Lc.toString("hex",0,r)}}});var Av=c(xr=>{"use strict";var v$=xr&&xr.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),vv=xr&&xr.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&v$(e,r,t)};Object.defineProperty(xr,"__esModule",{value:!0});vv(gv(),xr);vv(Sv(),xr)});var Mc=c(Sn=>{"use strict";var A$=Sn&&Sn.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),O$=Sn&&Sn.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&A$(e,r,t)};Object.defineProperty(Sn,"__esModule",{value:!0});O$(Av(),Sn)});var Ov=c(qc=>{"use strict";Object.defineProperty(qc,"__esModule",{value:!0});qc.Tracer=void 0;var we=_(),wc=B(),R$=hf(),I$=Of(),b$=Mc(),Pf=class{constructor(e,t,n){this._tracerProvider=n;let s=(0,I$.mergeConfig)(t);this._sampler=s.sampler,this._generalLimits=s.generalLimits,this._spanLimits=s.spanLimits,this._idGenerator=t.idGenerator||new b$.RandomIdGenerator,this.resource=n.resource,this.instrumentationLibrary=e}startSpan(e,t={},n=we.context.active()){var s,i,o;t.root&&(n=we.trace.deleteSpan(n));let a=we.trace.getSpan(n);if((0,wc.isTracingSuppressed)(n))return we.diag.debug("Instrumentation suppressed, returning Noop Span"),we.trace.wrapSpanContext(we.INVALID_SPAN_CONTEXT);let u=a==null?void 0:a.spanContext(),l=this._idGenerator.generateSpanId(),h,d,f;!u||!we.trace.isSpanContextValid(u)?h=this._idGenerator.generateTraceId():(h=u.traceId,d=u.traceState,f=u.spanId);let p=(s=t.kind)!==null&&s!==void 0?s:we.SpanKind.INTERNAL,I=((i=t.links)!==null&&i!==void 0?i:[]).map(re=>({context:re.context,attributes:(0,wc.sanitizeAttributes)(re.attributes)})),y=(0,wc.sanitizeAttributes)(t.attributes),M=this._sampler.shouldSample(n,h,e,p,y,I);d=(o=M.traceState)!==null&&o!==void 0?o:d;let R=M.decision===we.SamplingDecision.RECORD_AND_SAMPLED?we.TraceFlags.SAMPLED:we.TraceFlags.NONE,X={traceId:h,spanId:l,traceFlags:R,traceState:d};if(M.decision===we.SamplingDecision.NOT_RECORD)return we.diag.debug("Recording is off, propagating context in a non-recording span"),we.trace.wrapSpanContext(X);let L=new R$.Span(this,n,e,X,p,f,I,t.startTime),Z=(0,wc.sanitizeAttributes)(Object.assign(y,M.attributes));return L.setAttributes(Z),L}startActiveSpan(e,t,n,s){let i,o,a;if(arguments.length<2)return;arguments.length===2?a=t:arguments.length===3?(i=t,a=n):(i=t,o=n,a=s);let u=o??we.context.active(),l=this.startSpan(e,i,u),h=we.trace.setSpan(u,l);return we.context.with(h,a,void 0,l)}getGeneralLimits(){return this._generalLimits}getSpanLimits(){return this._spanLimits}getActiveSpanProcessor(){return this._tracerProvider.getActiveSpanProcessor()}};qc.Tracer=Pf});var Rv=c(xc=>{"use strict";Object.defineProperty(xc,"__esModule",{value:!0});xc.defaultServiceName=void 0;function P$(){return`unknown_service:${process.argv0}`}xc.defaultServiceName=P$});var yf=c(ws=>{"use strict";Object.defineProperty(ws,"__esModule",{value:!0});ws.normalizeType=ws.normalizeArch=void 0;var y$=r=>{switch(r){case"arm":return"arm32";case"ppc":return"ppc32";case"x64":return"amd64";default:return r}};ws.normalizeArch=y$;var N$=r=>{switch(r){case"sunos":return"solaris";case"win32":return"windows";default:return r}};ws.normalizeType=N$});var $c=c(Dc=>{"use strict";Object.defineProperty(Dc,"__esModule",{value:!0});Dc.execAsync=void 0;var L$=require("child_process"),C$=require("util");Dc.execAsync=C$.promisify(L$.exec)});var Iv=c(jc=>{"use strict";Object.defineProperty(jc,"__esModule",{value:!0});jc.getMachineId=void 0;var M$=$c(),w$=_();async function q$(){try{let e=(await(0,M$.execAsync)('ioreg -rd1 -c "IOPlatformExpertDevice"')).stdout.split(`
`).find(n=>n.includes("IOPlatformUUID"));if(!e)return"";let t=e.split('" = "');if(t.length===2)return t[1].slice(0,-1)}catch(r){w$.diag.debug(`error reading machine id: ${r}`)}return""}jc.getMachineId=q$});var bv=c(Uc=>{"use strict";Object.defineProperty(Uc,"__esModule",{value:!0});Uc.getMachineId=void 0;var x$=require("fs"),D$=_();async function $$(){let r=["/etc/machine-id","/var/lib/dbus/machine-id"];for(let e of r)try{return(await x$.promises.readFile(e,{encoding:"utf8"})).trim()}catch(t){D$.diag.debug(`error reading machine id: ${t}`)}return""}Uc.getMachineId=$$});var yv=c(Gc=>{"use strict";Object.defineProperty(Gc,"__esModule",{value:!0});Gc.getMachineId=void 0;var j$=require("fs"),U$=$c(),Pv=_();async function G$(){try{return(await j$.promises.readFile("/etc/hostid",{encoding:"utf8"})).trim()}catch(r){Pv.diag.debug(`error reading machine id: ${r}`)}try{return(await(0,U$.execAsync)("kenv -q smbios.system.uuid")).stdout.trim()}catch(r){Pv.diag.debug(`error reading machine id: ${r}`)}return""}Gc.getMachineId=G$});var Lv=c(Bc=>{"use strict";Object.defineProperty(Bc,"__esModule",{value:!0});Bc.getMachineId=void 0;var Nv=require("process"),B$=$c(),F$=_();async function V$(){let r="QUERY HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Cryptography /v MachineGuid",e="%windir%\\System32\\REG.exe";Nv.arch==="ia32"&&"PROCESSOR_ARCHITEW6432"in Nv.env&&(e="%windir%\\sysnative\\cmd.exe /c "+e);try{let n=(await(0,B$.execAsync)(`${e} ${r}`)).stdout.split("REG_SZ");if(n.length===2)return n[1].trim()}catch(t){F$.diag.debug(`error reading machine id: ${t}`)}return""}Bc.getMachineId=V$});var Cv=c(Fc=>{"use strict";Object.defineProperty(Fc,"__esModule",{value:!0});Fc.getMachineId=void 0;var H$=_();async function X$(){return H$.diag.debug("could not read machine-id: unsupported platform"),""}Fc.getMachineId=X$});var Mv=c(cr=>{"use strict";Object.defineProperty(cr,"__esModule",{value:!0});cr.getMachineId=void 0;var W$=require("process"),qs;cr.getMachineId=qs;switch(W$.platform){case"darwin":cr.getMachineId=qs=Iv().getMachineId;break;case"linux":cr.getMachineId=qs=bv().getMachineId;break;case"freebsd":cr.getMachineId=qs=yv().getMachineId;break;case"win32":cr.getMachineId=qs=Lv().getMachineId;break;default:cr.getMachineId=qs=Cv().getMachineId}});var Cf=c(Vc=>{"use strict";Object.defineProperty(Vc,"__esModule",{value:!0});Vc.hostDetectorSync=void 0;var Nf=Ce(),k$=vn(),wv=require("os"),K$=yf(),Y$=Mv(),Lf=class{detect(e){let t={[Nf.SemanticResourceAttributes.HOST_NAME]:(0,wv.hostname)(),[Nf.SemanticResourceAttributes.HOST_ARCH]:(0,K$.normalizeArch)((0,wv.arch)())};return new k$.Resource(t,this._getAsyncAttributes())}_getAsyncAttributes(){return(0,Y$.getMachineId)().then(e=>{let t={};return e&&(t[Nf.SemanticResourceAttributes.HOST_ID]=e),t})}};Vc.hostDetectorSync=new Lf});var qv=c(Hc=>{"use strict";Object.defineProperty(Hc,"__esModule",{value:!0});Hc.hostDetector=void 0;var z$=Cf(),Mf=class{detect(e){return Promise.resolve(z$.hostDetectorSync.detect(e))}};Hc.hostDetector=new Mf});var qf=c(Xc=>{"use strict";Object.defineProperty(Xc,"__esModule",{value:!0});Xc.osDetectorSync=void 0;var xv=Ce(),Q$=vn(),Dv=require("os"),Z$=yf(),wf=class{detect(e){let t={[xv.SemanticResourceAttributes.OS_TYPE]:(0,Z$.normalizeType)((0,Dv.platform)()),[xv.SemanticResourceAttributes.OS_VERSION]:(0,Dv.release)()};return new Q$.Resource(t)}};Xc.osDetectorSync=new wf});var $v=c(Wc=>{"use strict";Object.defineProperty(Wc,"__esModule",{value:!0});Wc.osDetector=void 0;var J$=qf(),xf=class{detect(e){return Promise.resolve(J$.osDetectorSync.detect(e))}};Wc.osDetector=new xf});var $f=c(kc=>{"use strict";Object.defineProperty(kc,"__esModule",{value:!0});kc.processDetectorSync=void 0;var ej=_(),lr=Ce(),tj=vn(),rj=require("os"),Df=class{detect(e){let t={[lr.SemanticResourceAttributes.PROCESS_PID]:process.pid,[lr.SemanticResourceAttributes.PROCESS_EXECUTABLE_NAME]:process.title,[lr.SemanticResourceAttributes.PROCESS_EXECUTABLE_PATH]:process.execPath,[lr.SemanticResourceAttributes.PROCESS_COMMAND_ARGS]:[process.argv[0],...process.execArgv,...process.argv.slice(1)],[lr.SemanticResourceAttributes.PROCESS_RUNTIME_VERSION]:process.versions.node,[lr.SemanticResourceAttributes.PROCESS_RUNTIME_NAME]:"nodejs",[lr.SemanticResourceAttributes.PROCESS_RUNTIME_DESCRIPTION]:"Node.js"};process.argv.length>1&&(t[lr.SemanticResourceAttributes.PROCESS_COMMAND]=process.argv[1]);try{let n=rj.userInfo();t[lr.SemanticResourceAttributes.PROCESS_OWNER]=n.username}catch(n){ej.diag.debug(`error obtaining process owner: ${n}`)}return new tj.Resource(t)}};kc.processDetectorSync=new Df});var jv=c(Kc=>{"use strict";Object.defineProperty(Kc,"__esModule",{value:!0});Kc.processDetector=void 0;var nj=$f(),jf=class{detect(e){return Promise.resolve(nj.processDetectorSync.detect(e))}};Kc.processDetector=new jf});var Uv=c(Et=>{"use strict";var sj=Et&&Et.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),An=Et&&Et.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&sj(e,r,t)};Object.defineProperty(Et,"__esModule",{value:!0});An(Rv(),Et);An(qv(),Et);An($v(),Et);An(Cf(),Et);An(qf(),Et);An(jv(),Et);An($f(),Et)});var Uf=c(On=>{"use strict";var ij=On&&On.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),oj=On&&On.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&ij(e,r,t)};Object.defineProperty(On,"__esModule",{value:!0});oj(Uv(),On)});var vn=c(Yc=>{"use strict";Object.defineProperty(Yc,"__esModule",{value:!0});Yc.Resource=void 0;var Gv=_(),Rn=Ce(),Gf=B(),aj=Uf(),tr=class{constructor(e,t){var n;this._attributes=e,this.asyncAttributesPending=t!=null,this._syncAttributes=(n=this._attributes)!==null&&n!==void 0?n:{},this._asyncAttributesPromise=t==null?void 0:t.then(s=>(this._attributes=Object.assign({},this._attributes,s),this.asyncAttributesPending=!1,s),s=>(Gv.diag.debug("a resource's async attributes promise rejected: %s",s),this.asyncAttributesPending=!1,{}))}static empty(){return tr.EMPTY}static default(){return new tr({[Rn.SemanticResourceAttributes.SERVICE_NAME]:(0,aj.defaultServiceName)(),[Rn.SemanticResourceAttributes.TELEMETRY_SDK_LANGUAGE]:Gf.SDK_INFO[Rn.SemanticResourceAttributes.TELEMETRY_SDK_LANGUAGE],[Rn.SemanticResourceAttributes.TELEMETRY_SDK_NAME]:Gf.SDK_INFO[Rn.SemanticResourceAttributes.TELEMETRY_SDK_NAME],[Rn.SemanticResourceAttributes.TELEMETRY_SDK_VERSION]:Gf.SDK_INFO[Rn.SemanticResourceAttributes.TELEMETRY_SDK_VERSION]})}get attributes(){var e;return this.asyncAttributesPending&&Gv.diag.error("Accessing resource attributes before async attributes settled"),(e=this._attributes)!==null&&e!==void 0?e:{}}async waitForAsyncAttributes(){this.asyncAttributesPending&&await this._asyncAttributesPromise}merge(e){var t;if(!e)return this;let n=Object.assign(Object.assign({},this._syncAttributes),(t=e._syncAttributes)!==null&&t!==void 0?t:e.attributes);if(!this._asyncAttributesPromise&&!e._asyncAttributesPromise)return new tr(n);let s=Promise.all([this._asyncAttributesPromise,e._asyncAttributesPromise]).then(([i,o])=>{var a;return Object.assign(Object.assign(Object.assign(Object.assign({},this._syncAttributes),i),(a=e._syncAttributes)!==null&&a!==void 0?a:e.attributes),o)});return new tr(n,s)}};Yc.Resource=tr;tr.EMPTY=new tr({})});var Fv=c(Bv=>{"use strict";Object.defineProperty(Bv,"__esModule",{value:!0})});var Hv=c(Vv=>{"use strict";Object.defineProperty(Vv,"__esModule",{value:!0})});var Wv=c(Xv=>{"use strict";Object.defineProperty(Xv,"__esModule",{value:!0})});var kv=c(zc=>{"use strict";Object.defineProperty(zc,"__esModule",{value:!0});zc.browserDetector=void 0;var uj=xs(),Bf=class{detect(e){return Promise.resolve(uj.browserDetectorSync.detect(e))}};zc.browserDetector=new Bf});var Vf=c(Qc=>{"use strict";Object.defineProperty(Qc,"__esModule",{value:!0});Qc.envDetectorSync=void 0;var cj=_(),lj=B(),hj=Ce(),dj=vn(),Ff=class{constructor(){this._MAX_LENGTH=255,this._COMMA_SEPARATOR=",",this._LABEL_KEY_VALUE_SPLITTER="=",this._ERROR_MESSAGE_INVALID_CHARS="should be a ASCII string with a length greater than 0 and not exceed "+this._MAX_LENGTH+" characters.",this._ERROR_MESSAGE_INVALID_VALUE="should be a ASCII string with a length not exceed "+this._MAX_LENGTH+" characters."}detect(e){let t={},n=(0,lj.getEnv)(),s=n.OTEL_RESOURCE_ATTRIBUTES,i=n.OTEL_SERVICE_NAME;if(s)try{let o=this._parseResourceAttributes(s);Object.assign(t,o)}catch(o){cj.diag.debug(`EnvDetector failed: ${o.message}`)}return i&&(t[hj.SemanticResourceAttributes.SERVICE_NAME]=i),new dj.Resource(t)}_parseResourceAttributes(e){if(!e)return{};let t={},n=e.split(this._COMMA_SEPARATOR,-1);for(let s of n){let i=s.split(this._LABEL_KEY_VALUE_SPLITTER,-1);if(i.length!==2)continue;let[o,a]=i;if(o=o.trim(),a=a.trim().split(/^"|"$/).join(""),!this._isValidAndNotEmpty(o))throw new Error(`Attribute key ${this._ERROR_MESSAGE_INVALID_CHARS}`);if(!this._isValid(a))throw new Error(`Attribute value ${this._ERROR_MESSAGE_INVALID_VALUE}`);t[o]=decodeURIComponent(a)}return t}_isValid(e){return e.length<=this._MAX_LENGTH&&this._isBaggageOctetString(e)}_isBaggageOctetString(e){for(let t=0;t<e.length;t++){let n=e.charCodeAt(t);if(n<33||n===44||n===59||n===92||n>126)return!1}return!0}_isValidAndNotEmpty(e){return e.length>0&&this._isValid(e)}};Qc.envDetectorSync=new Ff});var Kv=c(Zc=>{"use strict";Object.defineProperty(Zc,"__esModule",{value:!0});Zc.envDetector=void 0;var pj=Vf(),Hf=class{detect(e){return Promise.resolve(pj.envDetectorSync.detect(e))}};Zc.envDetector=new Hf});var Yv=c(el=>{"use strict";Object.defineProperty(el,"__esModule",{value:!0});el.browserDetectorSync=void 0;var Jc=Ce(),Xf=xs(),fj=_(),Wf=class{detect(e){if(!(typeof navigator<"u"))return Xf.Resource.empty();let n={[Jc.SemanticResourceAttributes.PROCESS_RUNTIME_NAME]:"browser",[Jc.SemanticResourceAttributes.PROCESS_RUNTIME_DESCRIPTION]:"Web Browser",[Jc.SemanticResourceAttributes.PROCESS_RUNTIME_VERSION]:navigator.userAgent};return this._getResourceAttributes(n,e)}_getResourceAttributes(e,t){return e[Jc.SemanticResourceAttributes.PROCESS_RUNTIME_VERSION]===""?(fj.diag.debug("BrowserDetector failed: Unable to find required browser resources. "),Xf.Resource.empty()):new Xf.Resource(Object.assign({},e))}};el.browserDetectorSync=new Wf});var zv=c(rr=>{"use strict";var _j=rr&&rr.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),tl=rr&&rr.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&_j(e,r,t)};Object.defineProperty(rr,"__esModule",{value:!0});tl(kv(),rr);tl(Kv(),rr);tl(Yv(),rr);tl(Vf(),rr)});var Qv=c(rl=>{"use strict";Object.defineProperty(rl,"__esModule",{value:!0});rl.isPromiseLike=void 0;var Ej=r=>r!==null&&typeof r=="object"&&typeof r.then=="function";rl.isPromiseLike=Ej});var Jv=c($s=>{"use strict";Object.defineProperty($s,"__esModule",{value:!0});$s.detectResourcesSync=$s.detectResources=void 0;var Oo=vn(),Ds=_(),gj=Qv(),mj=async(r={})=>{let e=await Promise.all((r.detectors||[]).map(async t=>{try{let n=await t.detect(r);return Ds.diag.debug(`${t.constructor.name} found resource.`,n),n}catch(n){return Ds.diag.debug(`${t.constructor.name} failed: ${n.message}`),Oo.Resource.empty()}}));return Zv(e),e.reduce((t,n)=>t.merge(n),Oo.Resource.empty())};$s.detectResources=mj;var Tj=(r={})=>{var e;let t=((e=r.detectors)!==null&&e!==void 0?e:[]).map(s=>{try{let i=s.detect(r),o;if((0,gj.isPromiseLike)(i)){let a=async()=>(await i).attributes;o=new Oo.Resource({},a())}else o=i;return o.waitForAsyncAttributes?o.waitForAsyncAttributes().then(()=>Ds.diag.debug(`${s.constructor.name} found resource.`,o)):Ds.diag.debug(`${s.constructor.name} found resource.`,o),o}catch(i){return Ds.diag.error(`${s.constructor.name} failed: ${i.message}`),Oo.Resource.empty()}}),n=t.reduce((s,i)=>s.merge(i),Oo.Resource.empty());return n.waitForAsyncAttributes&&n.waitForAsyncAttributes().then(()=>{Zv(t)}),n};$s.detectResourcesSync=Tj;var Zv=r=>{r.forEach(e=>{if(Object.keys(e.attributes).length>0){let t=JSON.stringify(e.attributes,null,4);Ds.diag.verbose(t)}})}});var xs=c(gt=>{"use strict";var Sj=gt&&gt.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),In=gt&&gt.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Sj(e,r,t)};Object.defineProperty(gt,"__esModule",{value:!0});In(vn(),gt);In(Fv(),gt);In(Uf(),gt);In(Hv(),gt);In(Wv(),gt);In(zv(),gt);In(Jv(),gt)});var eA=c(nl=>{"use strict";Object.defineProperty(nl,"__esModule",{value:!0});nl.MultiSpanProcessor=void 0;var vj=B(),kf=class{constructor(e){this._spanProcessors=e}forceFlush(){let e=[];for(let t of this._spanProcessors)e.push(t.forceFlush());return new Promise(t=>{Promise.all(e).then(()=>{t()}).catch(n=>{(0,vj.globalErrorHandler)(n||new Error("MultiSpanProcessor: forceFlush failed")),t()})})}onStart(e,t){for(let n of this._spanProcessors)n.onStart(e,t)}onEnd(e){for(let t of this._spanProcessors)t.onEnd(e)}shutdown(){let e=[];for(let t of this._spanProcessors)e.push(t.shutdown());return new Promise((t,n)=>{Promise.all(e).then(()=>{t()},n)})}};nl.MultiSpanProcessor=kf});var Yf=c(sl=>{"use strict";Object.defineProperty(sl,"__esModule",{value:!0});sl.NoopSpanProcessor=void 0;var Kf=class{onStart(e,t){}onEnd(e){}shutdown(){return Promise.resolve()}forceFlush(){return Promise.resolve()}};sl.NoopSpanProcessor=Kf});var rA=c(bn=>{"use strict";Object.defineProperty(bn,"__esModule",{value:!0});bn.BasicTracerProvider=bn.ForceFlushState=void 0;var js=_(),Gs=B(),tA=xs(),Aj=Io(),Oj=vf(),Rj=eA(),Ij=Yf(),bj=Mc(),Pj=Of(),Us;(function(r){r[r.resolved=0]="resolved",r[r.timeout=1]="timeout",r[r.error=2]="error",r[r.unresolved=3]="unresolved"})(Us=bn.ForceFlushState||(bn.ForceFlushState={}));var Ro=class{constructor(e={}){var t;this._registeredSpanProcessors=[],this._tracers=new Map;let n=(0,Gs.merge)({},(0,Oj.loadDefaultConfig)(),(0,Pj.reconfigureLimits)(e));this.resource=(t=n.resource)!==null&&t!==void 0?t:tA.Resource.empty(),this.resource=tA.Resource.default().merge(this.resource),this._config=Object.assign({},n,{resource:this.resource});let s=this._buildExporterFromEnv();if(s!==void 0){let i=new bj.BatchSpanProcessor(s);this.activeSpanProcessor=i}else this.activeSpanProcessor=new Ij.NoopSpanProcessor}getTracer(e,t,n){let s=`${e}@${t||""}:${(n==null?void 0:n.schemaUrl)||""}`;return this._tracers.has(s)||this._tracers.set(s,new Aj.Tracer({name:e,version:t,schemaUrl:n==null?void 0:n.schemaUrl},this._config,this)),this._tracers.get(s)}addSpanProcessor(e){this._registeredSpanProcessors.length===0&&this.activeSpanProcessor.shutdown().catch(t=>js.diag.error("Error while trying to shutdown current span processor",t)),this._registeredSpanProcessors.push(e),this.activeSpanProcessor=new Rj.MultiSpanProcessor(this._registeredSpanProcessors)}getActiveSpanProcessor(){return this.activeSpanProcessor}register(e={}){js.trace.setGlobalTracerProvider(this),e.propagator===void 0&&(e.propagator=this._buildPropagatorFromEnv()),e.contextManager&&js.context.setGlobalContextManager(e.contextManager),e.propagator&&js.propagation.setGlobalPropagator(e.propagator)}forceFlush(){let e=this._config.forceFlushTimeoutMillis,t=this._registeredSpanProcessors.map(n=>new Promise(s=>{let i,o=setTimeout(()=>{s(new Error(`Span processor did not completed within timeout period of ${e} ms`)),i=Us.timeout},e);n.forceFlush().then(()=>{clearTimeout(o),i!==Us.timeout&&(i=Us.resolved,s(i))}).catch(a=>{clearTimeout(o),i=Us.error,s(a)})}));return new Promise((n,s)=>{Promise.all(t).then(i=>{let o=i.filter(a=>a!==Us.resolved);o.length>0?s(o):n()}).catch(i=>s([i]))})}shutdown(){return this.activeSpanProcessor.shutdown()}_getPropagator(e){var t;return(t=this.constructor._registeredPropagators.get(e))===null||t===void 0?void 0:t()}_getSpanExporter(e){var t;return(t=this.constructor._registeredExporters.get(e))===null||t===void 0?void 0:t()}_buildPropagatorFromEnv(){let e=Array.from(new Set((0,Gs.getEnv)().OTEL_PROPAGATORS)),n=e.map(s=>{let i=this._getPropagator(s);return i||js.diag.warn(`Propagator "${s}" requested through environment variable is unavailable.`),i}).reduce((s,i)=>(i&&s.push(i),s),[]);if(n.length!==0)return e.length===1?n[0]:new Gs.CompositePropagator({propagators:n})}_buildExporterFromEnv(){let e=(0,Gs.getEnv)().OTEL_TRACES_EXPORTER;if(e==="none"||e==="")return;let t=this._getSpanExporter(e);return t||js.diag.error(`Exporter "${e}" requested through environment variable is unavailable.`),t}};bn.BasicTracerProvider=Ro;Ro._registeredPropagators=new Map([["tracecontext",()=>new Gs.W3CTraceContextPropagator],["baggage",()=>new Gs.W3CBaggagePropagator]]);Ro._registeredExporters=new Map});var nA=c(il=>{"use strict";Object.defineProperty(il,"__esModule",{value:!0});il.ConsoleSpanExporter=void 0;var zf=B(),Qf=class{export(e,t){return this._sendSpans(e,t)}shutdown(){return this._sendSpans([]),this.forceFlush()}forceFlush(){return Promise.resolve()}_exportInfo(e){var t;return{traceId:e.spanContext().traceId,parentId:e.parentSpanId,traceState:(t=e.spanContext().traceState)===null||t===void 0?void 0:t.serialize(),name:e.name,id:e.spanContext().spanId,kind:e.kind,timestamp:(0,zf.hrTimeToMicroseconds)(e.startTime),duration:(0,zf.hrTimeToMicroseconds)(e.duration),attributes:e.attributes,status:e.status,events:e.events,links:e.links}}_sendSpans(e,t){for(let n of e)console.dir(this._exportInfo(n),{depth:3});if(t)return t({code:zf.ExportResultCode.SUCCESS})}};il.ConsoleSpanExporter=Qf});var iA=c(ol=>{"use strict";Object.defineProperty(ol,"__esModule",{value:!0});ol.InMemorySpanExporter=void 0;var sA=B(),Zf=class{constructor(){this._finishedSpans=[],this._stopped=!1}export(e,t){if(this._stopped)return t({code:sA.ExportResultCode.FAILED,error:new Error("Exporter has been stopped")});this._finishedSpans.push(...e),setTimeout(()=>t({code:sA.ExportResultCode.SUCCESS}),0)}shutdown(){return this._stopped=!0,this._finishedSpans=[],this.forceFlush()}forceFlush(){return Promise.resolve()}reset(){this._finishedSpans=[]}getFinishedSpans(){return this._finishedSpans}};ol.InMemorySpanExporter=Zf});var aA=c(oA=>{"use strict";Object.defineProperty(oA,"__esModule",{value:!0})});var uA=c(al=>{"use strict";Object.defineProperty(al,"__esModule",{value:!0});al.SimpleSpanProcessor=void 0;var yj=_(),Bs=B(),Jf=class{constructor(e){this._exporter=e,this._shutdownOnce=new Bs.BindOnceFuture(this._shutdown,this),this._unresolvedExports=new Set}async forceFlush(){await Promise.all(Array.from(this._unresolvedExports)),this._exporter.forceFlush&&await this._exporter.forceFlush()}onStart(e,t){}onEnd(e){var t,n;if(this._shutdownOnce.isCalled||!(e.spanContext().traceFlags&yj.TraceFlags.SAMPLED))return;let s=()=>Bs.internal._export(this._exporter,[e]).then(i=>{var o;i.code!==Bs.ExportResultCode.SUCCESS&&(0,Bs.globalErrorHandler)((o=i.error)!==null&&o!==void 0?o:new Error(`SimpleSpanProcessor: span export failed (status ${i})`))}).catch(i=>{(0,Bs.globalErrorHandler)(i)});if(e.resource.asyncAttributesPending){let i=(n=(t=e.resource).waitForAsyncAttributes)===null||n===void 0?void 0:n.call(t).then(()=>(i!=null&&this._unresolvedExports.delete(i),s()),o=>(0,Bs.globalErrorHandler)(o));i!=null&&this._unresolvedExports.add(i)}else s()}shutdown(){return this._shutdownOnce.call()}_shutdown(){return this._exporter.shutdown()}};al.SimpleSpanProcessor=Jf});var lA=c(cA=>{"use strict";Object.defineProperty(cA,"__esModule",{value:!0})});var dA=c(hA=>{"use strict";Object.defineProperty(hA,"__esModule",{value:!0})});var fA=c(pA=>{"use strict";Object.defineProperty(pA,"__esModule",{value:!0})});var EA=c(_A=>{"use strict";Object.defineProperty(_A,"__esModule",{value:!0})});var mA=c(gA=>{"use strict";Object.defineProperty(gA,"__esModule",{value:!0})});var Io=c(ce=>{"use strict";var Nj=ce&&ce.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Ae=ce&&ce.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Nj(e,r,t)};Object.defineProperty(ce,"__esModule",{value:!0});Ae(Ov(),ce);Ae(rA(),ce);Ae(Mc(),ce);Ae(nA(),ce);Ae(iA(),ce);Ae(aA(),ce);Ae(uA(),ce);Ae(lA(),ce);Ae(Yf(),ce);Ae(vc(),ce);Ae(Oc(),ce);Ae(Ef(),ce);Ae(mf(),ce);Ae(Ao(),ce);Ae(hf(),ce);Ae(dA(),ce);Ae(fA(),ce);Ae(EA(),ce);Ae(mA(),ce)});var Pn=c(le=>{"use strict";Object.defineProperty(le,"__esModule",{value:!0});le.parseRetryAfterToMills=le.isExportRetryable=le.invalidTimeout=le.configureExporterTimeout=le.appendRootPathToUrlIfNeeded=le.appendResourcePathToUrl=le.parseHeaders=le.DEFAULT_EXPORT_BACKOFF_MULTIPLIER=le.DEFAULT_EXPORT_MAX_BACKOFF=le.DEFAULT_EXPORT_INITIAL_BACKOFF=le.DEFAULT_EXPORT_MAX_ATTEMPTS=void 0;var e_=_(),TA=B(),SA=1e4;le.DEFAULT_EXPORT_MAX_ATTEMPTS=5;le.DEFAULT_EXPORT_INITIAL_BACKOFF=1e3;le.DEFAULT_EXPORT_MAX_BACKOFF=5e3;le.DEFAULT_EXPORT_BACKOFF_MULTIPLIER=1.5;function Lj(r={}){let e={};return Object.entries(r).forEach(([t,n])=>{typeof n<"u"?e[t]=String(n):e_.diag.warn(`Header "${t}" has wrong value and will be ignored`)}),e}le.parseHeaders=Lj;function Cj(r,e){return r.endsWith("/")||(r=r+"/"),r+e}le.appendResourcePathToUrl=Cj;function Mj(r){try{let e=new URL(r);return e.pathname===""&&(e.pathname=e.pathname+"/"),e.toString()}catch{return e_.diag.warn(`Could not parse export URL: '${r}'`),r}}le.appendRootPathToUrlIfNeeded=Mj;function wj(r){return typeof r=="number"?r<=0?t_(r,SA):r:qj()}le.configureExporterTimeout=wj;function qj(){var r;let e=Number((r=(0,TA.getEnv)().OTEL_EXPORTER_OTLP_TRACES_TIMEOUT)!==null&&r!==void 0?r:(0,TA.getEnv)().OTEL_EXPORTER_OTLP_TIMEOUT);return e<=0?t_(e,SA):e}function t_(r,e){return e_.diag.warn("Timeout must be greater than 0",r),e}le.invalidTimeout=t_;function xj(r){return[429,502,503,504].includes(r)}le.isExportRetryable=xj;function Dj(r){if(r==null)return-1;let e=Number.parseInt(r,10);if(Number.isInteger(e))return e>0?e*1e3:-1;let t=new Date(r).getTime()-Date.now();return t>=0?t:0}le.parseRetryAfterToMills=Dj});var cl=c(ul=>{"use strict";Object.defineProperty(ul,"__esModule",{value:!0});ul.OTLPExporterBase=void 0;var vA=_(),bo=B(),$j=Pn(),r_=class{constructor(e={}){this._sendingPromises=[],this.url=this.getDefaultUrl(e),typeof e.hostname=="string"&&(this.hostname=e.hostname),this.shutdown=this.shutdown.bind(this),this._shutdownOnce=new bo.BindOnceFuture(this._shutdown,this),this._concurrencyLimit=typeof e.concurrencyLimit=="number"?e.concurrencyLimit:1/0,this.timeoutMillis=(0,$j.configureExporterTimeout)(e.timeoutMillis),this.onInit(e)}export(e,t){if(this._shutdownOnce.isCalled){t({code:bo.ExportResultCode.FAILED,error:new Error("Exporter has been shutdown")});return}if(this._sendingPromises.length>=this._concurrencyLimit){t({code:bo.ExportResultCode.FAILED,error:new Error("Concurrent export limit reached")});return}this._export(e).then(()=>{t({code:bo.ExportResultCode.SUCCESS})}).catch(n=>{t({code:bo.ExportResultCode.FAILED,error:n})})}_export(e){return new Promise((t,n)=>{try{vA.diag.debug("items to be sent",e),this.send(e,t,n)}catch(s){n(s)}})}shutdown(){return this._shutdownOnce.call()}forceFlush(){return Promise.all(this._sendingPromises).then(()=>{})}_shutdown(){return vA.diag.debug("shutdown started"),this.onShutdown(),this.forceFlush()}};ul.OTLPExporterBase=r_});var n_=c(Po=>{"use strict";Object.defineProperty(Po,"__esModule",{value:!0});Po.CompressionAlgorithm=void 0;var jj;(function(r){r.NONE="none",r.GZIP="gzip"})(jj=Po.CompressionAlgorithm||(Po.CompressionAlgorithm={}))});var hl=c(ll=>{"use strict";Object.defineProperty(ll,"__esModule",{value:!0});ll.OTLPExporterError=void 0;var s_=class extends Error{constructor(e,t,n){super(e),this.name="OTLPExporterError",this.data=n,this.code=t}};ll.OTLPExporterError=s_});var o_=c(Dr=>{"use strict";Object.defineProperty(Dr,"__esModule",{value:!0});Dr.configureCompression=Dr.createHttpAgent=Dr.sendWithHttp=void 0;var OA=require("url"),RA=require("http"),IA=require("https"),Uj=require("zlib"),Gj=require("stream"),i_=_(),dl=n_(),AA=B(),yo=hl(),Fs=Pn();function Bj(r,e,t,n,s){let i=r.timeoutMillis,o=new OA.URL(r.url),a=Number(process.versions.node.split(".")[0]),u,l,h=!1,d=setTimeout(()=>{if(clearTimeout(u),h=!0,l.destroyed){let y=new yo.OTLPExporterError("Request Timeout");s(y)}else a>=14?l.destroy():l.abort()},i),f={hostname:o.hostname,port:o.port,path:o.pathname,method:"POST",headers:Object.assign({"Content-Type":t},r.headers),agent:r.agent},p=o.protocol==="http:"?RA.request:IA.request,I=(y=Fs.DEFAULT_EXPORT_MAX_ATTEMPTS,M=Fs.DEFAULT_EXPORT_INITIAL_BACKOFF)=>{switch(l=p(f,R=>{let X="";R.on("data",L=>X+=L),R.on("aborted",()=>{if(h){let L=new yo.OTLPExporterError("Request Timeout");s(L)}}),R.on("end",()=>{if(h===!1)if(R.statusCode&&R.statusCode<299)i_.diag.debug(`statusCode: ${R.statusCode}`,X),n(),clearTimeout(d),clearTimeout(u);else if(R.statusCode&&(0,Fs.isExportRetryable)(R.statusCode)&&y>0){let L;M=Fs.DEFAULT_EXPORT_BACKOFF_MULTIPLIER*M,R.headers["retry-after"]?L=(0,Fs.parseRetryAfterToMills)(R.headers["retry-after"]):L=Math.round(Math.random()*(Fs.DEFAULT_EXPORT_MAX_BACKOFF-M)+M),u=setTimeout(()=>{I(y-1,M)},L)}else{let L=new yo.OTLPExporterError(R.statusMessage,R.statusCode,X);s(L),clearTimeout(d),clearTimeout(u)}})}),l.on("error",R=>{if(h){let X=new yo.OTLPExporterError("Request Timeout",R.code);s(X)}else s(R);clearTimeout(d),clearTimeout(u)}),l.on("abort",()=>{if(h){let R=new yo.OTLPExporterError("Request Timeout");s(R)}clearTimeout(d),clearTimeout(u)}),r.compression){case dl.CompressionAlgorithm.GZIP:{l.setHeader("Content-Encoding","gzip"),Fj(e).on("error",s).pipe(Uj.createGzip()).on("error",s).pipe(l);break}default:l.end(e);break}};I()}Dr.sendWithHttp=Bj;function Fj(r){let e=new Gj.Readable;return e.push(r),e.push(null),e}function Vj(r){if(r.httpAgentOptions&&r.keepAlive===!1){i_.diag.warn("httpAgentOptions is used only when keepAlive is true");return}if(!(r.keepAlive===!1||!r.url))try{let t=new OA.URL(r.url).protocol==="http:"?RA.Agent:IA.Agent;return new t(Object.assign({keepAlive:!0},r.httpAgentOptions))}catch(e){i_.diag.error(`collector exporter failed to create http agent. err: ${e.message}`);return}}Dr.createHttpAgent=Vj;function Hj(r){return r||(((0,AA.getEnv)().OTEL_EXPORTER_OTLP_TRACES_COMPRESSION||(0,AA.getEnv)().OTEL_EXPORTER_OTLP_COMPRESSION)===dl.CompressionAlgorithm.GZIP?dl.CompressionAlgorithm.GZIP:dl.CompressionAlgorithm.NONE)}Dr.configureCompression=Hj});var yA=c(pl=>{"use strict";Object.defineProperty(pl,"__esModule",{value:!0});pl.OTLPExporterNodeBase=void 0;var Xj=cl(),Wj=Pn(),a_=o_(),bA=_(),PA=B(),u_=class extends Xj.OTLPExporterBase{constructor(e={}){super(e),this.DEFAULT_HEADERS={},e.metadata&&bA.diag.warn("Metadata cannot be set when using http"),this.headers=Object.assign(this.DEFAULT_HEADERS,(0,Wj.parseHeaders)(e.headers),PA.baggageUtils.parseKeyPairsIntoRecord((0,PA.getEnv)().OTEL_EXPORTER_OTLP_HEADERS)),this.agent=(0,a_.createHttpAgent)(e),this.compression=(0,a_.configureCompression)(e.compression)}onInit(e){}send(e,t,n){if(this._shutdownOnce.isCalled){bA.diag.debug("Shutdown already started. Cannot send objects");return}let s=this.convert(e),i=new Promise((a,u)=>{(0,a_.sendWithHttp)(this,JSON.stringify(s),"application/json",a,u)}).then(t,n);this._sendingPromises.push(i);let o=()=>{let a=this._sendingPromises.indexOf(i);this._sendingPromises.splice(a,1)};i.then(o,o)}onShutdown(){}};pl.OTLPExporterNodeBase=u_});var NA=c(It=>{"use strict";Object.defineProperty(It,"__esModule",{value:!0});It.CompressionAlgorithm=It.configureCompression=It.createHttpAgent=It.sendWithHttp=It.OTLPExporterNodeBase=void 0;var kj=yA();Object.defineProperty(It,"OTLPExporterNodeBase",{enumerable:!0,get:function(){return kj.OTLPExporterNodeBase}});var c_=o_();Object.defineProperty(It,"sendWithHttp",{enumerable:!0,get:function(){return c_.sendWithHttp}});Object.defineProperty(It,"createHttpAgent",{enumerable:!0,get:function(){return c_.createHttpAgent}});Object.defineProperty(It,"configureCompression",{enumerable:!0,get:function(){return c_.configureCompression}});var Kj=n_();Object.defineProperty(It,"CompressionAlgorithm",{enumerable:!0,get:function(){return Kj.CompressionAlgorithm}})});var l_=c(Hs=>{"use strict";Object.defineProperty(Hs,"__esModule",{value:!0});Hs.sendWithXhr=Hs.sendWithBeacon=void 0;var LA=_(),No=hl(),Vs=Pn();function Yj(r,e,t,n,s){if(navigator.sendBeacon(e,new Blob([r],t)))LA.diag.debug("sendBeacon - can send",r),n();else{let i=new No.OTLPExporterError(`sendBeacon - cannot send ${r}`);s(i)}}Hs.sendWithBeacon=Yj;function zj(r,e,t,n,s,i){let o,a,u=!1,l=setTimeout(()=>{if(clearTimeout(o),u=!0,a.readyState===XMLHttpRequest.DONE){let d=new No.OTLPExporterError("Request Timeout");i(d)}else a.abort()},n),h=(d=Vs.DEFAULT_EXPORT_MAX_ATTEMPTS,f=Vs.DEFAULT_EXPORT_INITIAL_BACKOFF)=>{a=new XMLHttpRequest,a.open("POST",e),Object.entries(Object.assign(Object.assign({},{Accept:"application/json","Content-Type":"application/json"}),t)).forEach(([I,y])=>{a.setRequestHeader(I,y)}),a.send(r),a.onreadystatechange=()=>{if(a.readyState===XMLHttpRequest.DONE&&u===!1)if(a.status>=200&&a.status<=299)LA.diag.debug("xhr success",r),s(),clearTimeout(l),clearTimeout(o);else if(a.status&&(0,Vs.isExportRetryable)(a.status)&&d>0){let I;f=Vs.DEFAULT_EXPORT_BACKOFF_MULTIPLIER*f,a.getResponseHeader("Retry-After")?I=(0,Vs.parseRetryAfterToMills)(a.getResponseHeader("Retry-After")):I=Math.round(Math.random()*(Vs.DEFAULT_EXPORT_MAX_BACKOFF-f)+f),o=setTimeout(()=>{h(d-1,f)},I)}else{let I=new No.OTLPExporterError(`Failed to export with XHR (status: ${a.status})`,a.status);i(I),clearTimeout(l),clearTimeout(o)}},a.onabort=()=>{if(u){let I=new No.OTLPExporterError("Request Timeout");i(I)}clearTimeout(l),clearTimeout(o)},a.onerror=()=>{if(u){let I=new No.OTLPExporterError("Request Timeout");i(I)}clearTimeout(l),clearTimeout(o)}};h()}Hs.sendWithXhr=zj});var wA=c(fl=>{"use strict";Object.defineProperty(fl,"__esModule",{value:!0});fl.OTLPExporterBrowserBase=void 0;var Qj=cl(),Zj=Pn(),CA=l_(),Jj=_(),MA=B(),h_=class extends Qj.OTLPExporterBase{constructor(e={}){super(e),this._useXHR=!1,this._useXHR=!!e.headers||typeof navigator.sendBeacon!="function",this._useXHR?this._headers=Object.assign({},(0,Zj.parseHeaders)(e.headers),MA.baggageUtils.parseKeyPairsIntoRecord((0,MA.getEnv)().OTEL_EXPORTER_OTLP_HEADERS)):this._headers={}}onInit(){window.addEventListener("unload",this.shutdown)}onShutdown(){window.removeEventListener("unload",this.shutdown)}send(e,t,n){if(this._shutdownOnce.isCalled){Jj.diag.debug("Shutdown already started. Cannot send objects");return}let s=this.convert(e),i=JSON.stringify(s),o=new Promise((u,l)=>{this._useXHR?(0,CA.sendWithXhr)(i,this.url,this._headers,this.timeoutMillis,u,l):(0,CA.sendWithBeacon)(i,this.url,{type:"application/json"},u,l)}).then(t,n);this._sendingPromises.push(o);let a=()=>{let u=this._sendingPromises.indexOf(o);this._sendingPromises.splice(u,1)};o.then(a,a)}};fl.OTLPExporterBrowserBase=h_});var qA=c(Xs=>{"use strict";Object.defineProperty(Xs,"__esModule",{value:!0});Xs.sendWithXhr=Xs.OTLPExporterBrowserBase=void 0;var eU=wA();Object.defineProperty(Xs,"OTLPExporterBrowserBase",{enumerable:!0,get:function(){return eU.OTLPExporterBrowserBase}});var tU=l_();Object.defineProperty(Xs,"sendWithXhr",{enumerable:!0,get:function(){return tU.sendWithXhr}})});var DA=c(Ve=>{"use strict";Object.defineProperty(Ve,"__esModule",{value:!0});Ve.sendWithXhr=Ve.OTLPExporterBrowserBase=Ve.CompressionAlgorithm=Ve.configureCompression=Ve.createHttpAgent=Ve.sendWithHttp=Ve.OTLPExporterNodeBase=void 0;var Lo=NA();Object.defineProperty(Ve,"OTLPExporterNodeBase",{enumerable:!0,get:function(){return Lo.OTLPExporterNodeBase}});Object.defineProperty(Ve,"sendWithHttp",{enumerable:!0,get:function(){return Lo.sendWithHttp}});Object.defineProperty(Ve,"createHttpAgent",{enumerable:!0,get:function(){return Lo.createHttpAgent}});Object.defineProperty(Ve,"configureCompression",{enumerable:!0,get:function(){return Lo.configureCompression}});Object.defineProperty(Ve,"CompressionAlgorithm",{enumerable:!0,get:function(){return Lo.CompressionAlgorithm}});var xA=qA();Object.defineProperty(Ve,"OTLPExporterBrowserBase",{enumerable:!0,get:function(){return xA.OTLPExporterBrowserBase}});Object.defineProperty(Ve,"sendWithXhr",{enumerable:!0,get:function(){return xA.sendWithXhr}})});var d_=c(Te=>{"use strict";var rU=Te&&Te.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),nU=Te&&Te.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&rU(e,r,t)};Object.defineProperty(Te,"__esModule",{value:!0});Te.invalidTimeout=Te.configureExporterTimeout=Te.appendRootPathToUrlIfNeeded=Te.appendResourcePathToUrl=Te.parseHeaders=Te.OTLPExporterError=Te.OTLPExporterBase=void 0;nU(DA(),Te);var sU=cl();Object.defineProperty(Te,"OTLPExporterBase",{enumerable:!0,get:function(){return sU.OTLPExporterBase}});var iU=hl();Object.defineProperty(Te,"OTLPExporterError",{enumerable:!0,get:function(){return iU.OTLPExporterError}});var Co=Pn();Object.defineProperty(Te,"parseHeaders",{enumerable:!0,get:function(){return Co.parseHeaders}});Object.defineProperty(Te,"appendResourcePathToUrl",{enumerable:!0,get:function(){return Co.appendResourcePathToUrl}});Object.defineProperty(Te,"appendRootPathToUrlIfNeeded",{enumerable:!0,get:function(){return Co.appendRootPathToUrlIfNeeded}});Object.defineProperty(Te,"configureExporterTimeout",{enumerable:!0,get:function(){return Co.configureExporterTimeout}});Object.defineProperty(Te,"invalidTimeout",{enumerable:!0,get:function(){return Co.invalidTimeout}})});var jA=c($A=>{"use strict";Object.defineProperty($A,"__esModule",{value:!0})});var GA=c(UA=>{"use strict";Object.defineProperty(UA,"__esModule",{value:!0})});var FA=c(BA=>{"use strict";Object.defineProperty(BA,"__esModule",{value:!0})});var VA=c(Mo=>{"use strict";Object.defineProperty(Mo,"__esModule",{value:!0});Mo.ESpanKind=void 0;var oU;(function(r){r[r.SPAN_KIND_UNSPECIFIED=0]="SPAN_KIND_UNSPECIFIED",r[r.SPAN_KIND_INTERNAL=1]="SPAN_KIND_INTERNAL",r[r.SPAN_KIND_SERVER=2]="SPAN_KIND_SERVER",r[r.SPAN_KIND_CLIENT=3]="SPAN_KIND_CLIENT",r[r.SPAN_KIND_PRODUCER=4]="SPAN_KIND_PRODUCER",r[r.SPAN_KIND_CONSUMER=5]="SPAN_KIND_CONSUMER"})(oU=Mo.ESpanKind||(Mo.ESpanKind={}))});var XA=c(HA=>{"use strict";Object.defineProperty(HA,"__esModule",{value:!0})});var wo=c($r=>{"use strict";Object.defineProperty($r,"__esModule",{value:!0});$r.toAnyValue=$r.toKeyValue=$r.toAttributes=void 0;function aU(r){return Object.keys(r).map(e=>p_(e,r[e]))}$r.toAttributes=aU;function p_(r,e){return{key:r,value:f_(e)}}$r.toKeyValue=p_;function f_(r){let e=typeof r;return e==="string"?{stringValue:r}:e==="number"?Number.isInteger(r)?{intValue:r}:{doubleValue:r}:e==="boolean"?{boolValue:r}:r instanceof Uint8Array?{bytesValue:r}:Array.isArray(r)?{arrayValue:{values:r.map(f_)}}:e==="object"&&r!=null?{kvlistValue:{values:Object.entries(r).map(([t,n])=>p_(t,n))}}:{}}$r.toAnyValue=f_});var KA=c(jr=>{"use strict";Object.defineProperty(jr,"__esModule",{value:!0});jr.toOtlpSpanEvent=jr.toOtlpLink=jr.sdkSpanToOtlpSpan=void 0;var __=B(),E_=wo(),qo=B();function uU(r,e){var t;let n=r.spanContext(),s=r.status,i=e?r.parentSpanId:r.parentSpanId!=null?qo.hexToBase64(r.parentSpanId):void 0;return{traceId:e?n.traceId:qo.hexToBase64(n.traceId),spanId:e?n.spanId:qo.hexToBase64(n.spanId),parentSpanId:i,traceState:(t=n.traceState)===null||t===void 0?void 0:t.serialize(),name:r.name,kind:r.kind==null?0:r.kind+1,startTimeUnixNano:(0,__.hrTimeToNanoseconds)(r.startTime),endTimeUnixNano:(0,__.hrTimeToNanoseconds)(r.endTime),attributes:(0,E_.toAttributes)(r.attributes),droppedAttributesCount:r.droppedAttributesCount,events:r.events.map(kA),droppedEventsCount:r.droppedEventsCount,status:{code:s.code,message:s.message},links:r.links.map(o=>WA(o,e)),droppedLinksCount:r.droppedLinksCount}}jr.sdkSpanToOtlpSpan=uU;function WA(r,e){var t;return{attributes:r.attributes?(0,E_.toAttributes)(r.attributes):[],spanId:e?r.context.spanId:qo.hexToBase64(r.context.spanId),traceId:e?r.context.traceId:qo.hexToBase64(r.context.traceId),traceState:(t=r.context.traceState)===null||t===void 0?void 0:t.serialize(),droppedAttributesCount:r.droppedAttributesCount||0}}jr.toOtlpLink=WA;function kA(r){return{attributes:r.attributes?(0,E_.toAttributes)(r.attributes):[],name:r.name,timeUnixNano:(0,__.hrTimeToNanoseconds)(r.time),droppedAttributesCount:r.droppedAttributesCount||0}}jr.toOtlpSpanEvent=kA});var YA=c(_l=>{"use strict";Object.defineProperty(_l,"__esModule",{value:!0});_l.createExportTraceServiceRequest=void 0;var cU=wo(),lU=KA();function hU(r,e){return{resourceSpans:pU(r,e)}}_l.createExportTraceServiceRequest=hU;function dU(r){let e=new Map;for(let t of r){let n=e.get(t.resource);n||(n=new Map,e.set(t.resource,n));let s=`${t.instrumentationLibrary.name}@${t.instrumentationLibrary.version||""}:${t.instrumentationLibrary.schemaUrl||""}`,i=n.get(s);i||(i=[],n.set(s,i)),i.push(t)}return e}function pU(r,e){let t=dU(r),n=[],s=t.entries(),i=s.next();for(;!i.done;){let[o,a]=i.value,u=[],l=a.values(),h=l.next();for(;!h.done;){let f=h.value;if(f.length>0){let{name:p,version:I,schemaUrl:y}=f[0].instrumentationLibrary,M=f.map(R=>(0,lU.sdkSpanToOtlpSpan)(R,e));u.push({scope:{name:p,version:I},spans:M,schemaUrl:y})}h=l.next()}let d={resource:{attributes:(0,cU.toAttributes)(o.attributes),droppedAttributesCount:0},scopeSpans:u,schemaUrl:void 0};n.push(d),i=s.next()}return n}});var El=c(xo=>{"use strict";Object.defineProperty(xo,"__esModule",{value:!0});xo.AggregationTemporality=void 0;var fU;(function(r){r[r.DELTA=0]="DELTA",r[r.CUMULATIVE=1]="CUMULATIVE"})(fU=xo.AggregationTemporality||(xo.AggregationTemporality={}))});var Ws=c(Do=>{"use strict";Object.defineProperty(Do,"__esModule",{value:!0});Do.DataPointType=void 0;var _U;(function(r){r[r.HISTOGRAM=0]="HISTOGRAM",r[r.EXPONENTIAL_HISTOGRAM=1]="EXPONENTIAL_HISTOGRAM",r[r.GAUGE=2]="GAUGE",r[r.SUM=3]="SUM"})(_U=Do.DataPointType||(Do.DataPointType={}))});var nr=c(me=>{"use strict";Object.defineProperty(me,"__esModule",{value:!0});me.binarySearchLB=me.setEquals=me.FlatMap=me.isPromiseAllSettledRejectionResult=me.PromiseAllSettled=me.callWithTimeout=me.TimeoutError=me.instrumentationScopeId=me.hashAttributes=me.isNotNullish=void 0;function EU(r){return r!=null}me.isNotNullish=EU;function gU(r){let e=Object.keys(r);return e.length===0?"":(e=e.sort(),JSON.stringify(e.map(t=>[t,r[t]])))}me.hashAttributes=gU;function mU(r){var e,t;return`${r.name}:${(e=r.version)!==null&&e!==void 0?e:""}:${(t=r.schemaUrl)!==null&&t!==void 0?t:""}`}me.instrumentationScopeId=mU;var ks=class extends Error{constructor(e){super(e),Object.setPrototypeOf(this,ks.prototype)}};me.TimeoutError=ks;function TU(r,e){let t,n=new Promise(function(i,o){t=setTimeout(function(){o(new ks("Operation timed out."))},e)});return Promise.race([r,n]).then(s=>(clearTimeout(t),s),s=>{throw clearTimeout(t),s})}me.callWithTimeout=TU;async function SU(r){return Promise.all(r.map(async e=>{try{return{status:"fulfilled",value:await e}}catch(t){return{status:"rejected",reason:t}}}))}me.PromiseAllSettled=SU;function vU(r){return r.status==="rejected"}me.isPromiseAllSettledRejectionResult=vU;function AU(r,e){let t=[];return r.forEach(n=>{t.push(...e(n))}),t}me.FlatMap=AU;function OU(r,e){if(r.size!==e.size)return!1;for(let t of r)if(!e.has(t))return!1;return!0}me.setEquals=OU;function RU(r,e){let t=0,n=r.length-1;for(;n-t>1;){let s=Math.trunc((n+t)/2);r[s]<=e?t=s:n=s-1}return r[n]<=e?n:r[t]<=e?t:-1}me.binarySearchLB=RU});var Ks=c($o=>{"use strict";Object.defineProperty($o,"__esModule",{value:!0});$o.AggregatorKind=void 0;var IU;(function(r){r[r.DROP=0]="DROP",r[r.SUM=1]="SUM",r[r.LAST_VALUE=2]="LAST_VALUE",r[r.HISTOGRAM=3]="HISTOGRAM",r[r.EXPONENTIAL_HISTOGRAM=4]="EXPONENTIAL_HISTOGRAM"})(IU=$o.AggregatorKind||($o.AggregatorKind={}))});var zA=c(gl=>{"use strict";Object.defineProperty(gl,"__esModule",{value:!0});gl.DropAggregator=void 0;var bU=Ks(),g_=class{constructor(){this.kind=bU.AggregatorKind.DROP}createAccumulation(){}merge(e,t){}diff(e,t){}toMetricData(e,t,n,s){}};gl.DropAggregator=g_});var hr=c(jt=>{"use strict";Object.defineProperty(jt,"__esModule",{value:!0});jt.isDescriptorCompatibleWith=jt.createInstrumentDescriptorWithView=jt.createInstrumentDescriptor=jt.InstrumentType=void 0;var PU=_(),yU;(function(r){r.COUNTER="COUNTER",r.HISTOGRAM="HISTOGRAM",r.UP_DOWN_COUNTER="UP_DOWN_COUNTER",r.OBSERVABLE_COUNTER="OBSERVABLE_COUNTER",r.OBSERVABLE_GAUGE="OBSERVABLE_GAUGE",r.OBSERVABLE_UP_DOWN_COUNTER="OBSERVABLE_UP_DOWN_COUNTER"})(yU=jt.InstrumentType||(jt.InstrumentType={}));function NU(r,e,t){var n,s,i;return{name:r,type:e,description:(n=t==null?void 0:t.description)!==null&&n!==void 0?n:"",unit:(s=t==null?void 0:t.unit)!==null&&s!==void 0?s:"",valueType:(i=t==null?void 0:t.valueType)!==null&&i!==void 0?i:PU.ValueType.DOUBLE}}jt.createInstrumentDescriptor=NU;function LU(r,e){var t,n;return{name:(t=r.name)!==null&&t!==void 0?t:e.name,description:(n=r.description)!==null&&n!==void 0?n:e.description,type:e.type,unit:e.unit,valueType:e.valueType}}jt.createInstrumentDescriptorWithView=LU;function CU(r,e){return r.name===e.name&&r.unit===e.unit&&r.type===e.type&&r.valueType===e.valueType}jt.isDescriptorCompatibleWith=CU});var QA=c(zs=>{"use strict";Object.defineProperty(zs,"__esModule",{value:!0});zs.HistogramAggregator=zs.HistogramAccumulation=void 0;var MU=Ks(),wU=Ws(),m_=hr(),qU=nr();function xU(r){let e=r.map(()=>0);return e.push(0),{buckets:{boundaries:r,counts:e},sum:0,count:0,hasMinMax:!1,min:1/0,max:-1/0}}var Ys=class{constructor(e,t,n=!0,s=xU(t)){this.startTime=e,this._boundaries=t,this._recordMinMax=n,this._current=s}record(e){this._current.count+=1,this._current.sum+=e,this._recordMinMax&&(this._current.min=Math.min(e,this._current.min),this._current.max=Math.max(e,this._current.max),this._current.hasMinMax=!0);let t=(0,qU.binarySearchLB)(this._boundaries,e);this._current.buckets.counts[t+1]+=1}setStartTime(e){this.startTime=e}toPointValue(){return this._current}};zs.HistogramAccumulation=Ys;var T_=class{constructor(e,t){this._boundaries=e,this._recordMinMax=t,this.kind=MU.AggregatorKind.HISTOGRAM}createAccumulation(e){return new Ys(e,this._boundaries,this._recordMinMax)}merge(e,t){let n=e.toPointValue(),s=t.toPointValue(),i=n.buckets.counts,o=s.buckets.counts,a=new Array(i.length);for(let h=0;h<i.length;h++)a[h]=i[h]+o[h];let u=1/0,l=-1/0;return this._recordMinMax&&(n.hasMinMax&&s.hasMinMax?(u=Math.min(n.min,s.min),l=Math.max(n.max,s.max)):n.hasMinMax?(u=n.min,l=n.max):s.hasMinMax&&(u=s.min,l=s.max)),new Ys(e.startTime,n.buckets.boundaries,this._recordMinMax,{buckets:{boundaries:n.buckets.boundaries,counts:a},count:n.count+s.count,sum:n.sum+s.sum,hasMinMax:this._recordMinMax&&(n.hasMinMax||s.hasMinMax),min:u,max:l})}diff(e,t){let n=e.toPointValue(),s=t.toPointValue(),i=n.buckets.counts,o=s.buckets.counts,a=new Array(i.length);for(let u=0;u<i.length;u++)a[u]=o[u]-i[u];return new Ys(t.startTime,n.buckets.boundaries,this._recordMinMax,{buckets:{boundaries:n.buckets.boundaries,counts:a},count:s.count-n.count,sum:s.sum-n.sum,hasMinMax:!1,min:1/0,max:-1/0})}toMetricData(e,t,n,s){return{descriptor:e,aggregationTemporality:t,dataPointType:wU.DataPointType.HISTOGRAM,dataPoints:n.map(([i,o])=>{let a=o.toPointValue(),u=e.type===m_.InstrumentType.UP_DOWN_COUNTER||e.type===m_.InstrumentType.OBSERVABLE_GAUGE||e.type===m_.InstrumentType.OBSERVABLE_UP_DOWN_COUNTER;return{attributes:i,startTime:o.startTime,endTime:s,value:{min:a.hasMinMax?a.min:void 0,max:a.hasMinMax?a.max:void 0,sum:u?void 0:a.sum,buckets:a.buckets,count:a.count}}})}}};zs.HistogramAggregator=T_});var ZA=c(ml=>{"use strict";Object.defineProperty(ml,"__esModule",{value:!0});ml.Buckets=void 0;var jo=class{constructor(e=new Uo,t=0,n=0,s=0){this.backing=e,this.indexBase=t,this.indexStart=n,this.indexEnd=s}get offset(){return this.indexStart}get length(){return this.backing.length===0||this.indexEnd===this.indexStart&&this.at(0)===0?0:this.indexEnd-this.indexStart+1}counts(){return Array.from({length:this.length},(e,t)=>this.at(t))}at(e){let t=this.indexBase-this.indexStart;return e<t&&(e+=this.backing.length),e-=t,this.backing.countAt(e)}incrementBucket(e,t){this.backing.increment(e,t)}decrementBucket(e,t){this.backing.decrement(e,t)}trim(){for(let e=0;e<this.length;e++)if(this.at(e)!==0){this.indexStart+=e;break}else if(e===this.length-1){this.indexStart=this.indexEnd=this.indexBase=0;return}for(let e=this.length-1;e>=0;e--)if(this.at(e)!==0){this.indexEnd-=this.length-e-1;break}this._rotate()}downscale(e){this._rotate();let t=1+this.indexEnd-this.indexStart,n=1<<e,s=0,i=0;for(let o=this.indexStart;o<=this.indexEnd;){let a=o%n;a<0&&(a+=n);for(let u=a;u<n&&s<t;u++)this._relocateBucket(i,s),s++,o++;i++}this.indexStart>>=e,this.indexEnd>>=e,this.indexBase=this.indexStart}clone(){return new jo(this.backing.clone(),this.indexBase,this.indexStart,this.indexEnd)}_rotate(){let e=this.indexBase-this.indexStart;e!==0&&(e>0?(this.backing.reverse(0,this.backing.length),this.backing.reverse(0,e),this.backing.reverse(e,this.backing.length)):(this.backing.reverse(0,this.backing.length),this.backing.reverse(0,this.backing.length+e)),this.indexBase=this.indexStart)}_relocateBucket(e,t){e!==t&&this.incrementBucket(e,this.backing.emptyBucket(t))}};ml.Buckets=jo;var Uo=class{constructor(e=[0]){this._counts=e}get length(){return this._counts.length}countAt(e){return this._counts[e]}growTo(e,t,n){let s=new Array(e).fill(0);s.splice(n,this._counts.length-t,...this._counts.slice(t)),s.splice(0,t,...this._counts.slice(0,t)),this._counts=s}reverse(e,t){let n=Math.floor((e+t)/2)-e;for(let s=0;s<n;s++){let i=this._counts[e+s];this._counts[e+s]=this._counts[t-s-1],this._counts[t-s-1]=i}}emptyBucket(e){let t=this._counts[e];return this._counts[e]=0,t}increment(e,t){this._counts[e]+=t}decrement(e,t){this._counts[e]>=t?this._counts[e]-=t:this._counts[e]=0}clone(){return new Uo([...this._counts])}}});var v_=c(at=>{"use strict";Object.defineProperty(at,"__esModule",{value:!0});at.getSignificand=at.getNormalBase2=at.MIN_VALUE=at.MAX_NORMAL_EXPONENT=at.MIN_NORMAL_EXPONENT=at.SIGNIFICAND_WIDTH=void 0;at.SIGNIFICAND_WIDTH=52;var DU=2146435072,$U=1048575,S_=1023;at.MIN_NORMAL_EXPONENT=-S_+1;at.MAX_NORMAL_EXPONENT=S_;at.MIN_VALUE=Math.pow(2,-1022);function jU(r){let e=new DataView(new ArrayBuffer(8));return e.setFloat64(0,r),((e.getUint32(0)&DU)>>20)-S_}at.getNormalBase2=jU;function UU(r){let e=new DataView(new ArrayBuffer(8));e.setFloat64(0,r);let t=e.getUint32(0),n=e.getUint32(4);return(t&$U)*Math.pow(2,32)+n}at.getSignificand=UU});var Tl=c(Qs=>{"use strict";Object.defineProperty(Qs,"__esModule",{value:!0});Qs.nextGreaterSquare=Qs.ldexp=void 0;function GU(r,e){return r===0||r===Number.POSITIVE_INFINITY||r===Number.NEGATIVE_INFINITY||Number.isNaN(r)?r:r*Math.pow(2,e)}Qs.ldexp=GU;function BU(r){return r--,r|=r>>1,r|=r>>2,r|=r>>4,r|=r>>8,r|=r>>16,r++,r}Qs.nextGreaterSquare=BU});var vl=c(Sl=>{"use strict";Object.defineProperty(Sl,"__esModule",{value:!0});Sl.MappingError=void 0;var A_=class extends Error{};Sl.MappingError=A_});var eO=c(Al=>{"use strict";Object.defineProperty(Al,"__esModule",{value:!0});Al.ExponentMapping=void 0;var Zs=v_(),FU=Tl(),JA=vl(),O_=class{constructor(e){this._shift=-e}mapToIndex(e){if(e<Zs.MIN_VALUE)return this._minNormalLowerBoundaryIndex();let t=Zs.getNormalBase2(e),n=this._rightShift(Zs.getSignificand(e)-1,Zs.SIGNIFICAND_WIDTH);return t+n>>this._shift}lowerBoundary(e){let t=this._minNormalLowerBoundaryIndex();if(e<t)throw new JA.MappingError(`underflow: ${e} is < minimum lower boundary: ${t}`);let n=this._maxNormalLowerBoundaryIndex();if(e>n)throw new JA.MappingError(`overflow: ${e} is > maximum lower boundary: ${n}`);return FU.ldexp(1,e<<this._shift)}get scale(){return this._shift===0?0:-this._shift}_minNormalLowerBoundaryIndex(){let e=Zs.MIN_NORMAL_EXPONENT>>this._shift;return this._shift<2&&e--,e}_maxNormalLowerBoundaryIndex(){return Zs.MAX_NORMAL_EXPONENT>>this._shift}_rightShift(e,t){return Math.floor(e*Math.pow(2,-t))}};Al.ExponentMapping=O_});var nO=c(Ol=>{"use strict";Object.defineProperty(Ol,"__esModule",{value:!0});Ol.LogarithmMapping=void 0;var Js=v_(),tO=Tl(),rO=vl(),R_=class{constructor(e){this._scale=e,this._scaleFactor=tO.ldexp(Math.LOG2E,e),this._inverseFactor=tO.ldexp(Math.LN2,-e)}mapToIndex(e){if(e<=Js.MIN_VALUE)return this._minNormalLowerBoundaryIndex()-1;if(Js.getSignificand(e)===0)return(Js.getNormalBase2(e)<<this._scale)-1;let t=Math.floor(Math.log(e)*this._scaleFactor),n=this._maxNormalLowerBoundaryIndex();return t>=n?n:t}lowerBoundary(e){let t=this._maxNormalLowerBoundaryIndex();if(e>=t){if(e===t)return 2*Math.exp((e-(1<<this._scale))/this._scaleFactor);throw new rO.MappingError(`overflow: ${e} is > maximum lower boundary: ${t}`)}let n=this._minNormalLowerBoundaryIndex();if(e<=n){if(e===n)return Js.MIN_VALUE;if(e===n-1)return Math.exp((e+(1<<this._scale))/this._scaleFactor)/2;throw new rO.MappingError(`overflow: ${e} is < minimum lower boundary: ${n}`)}return Math.exp(e*this._inverseFactor)}get scale(){return this._scale}_minNormalLowerBoundaryIndex(){return Js.MIN_NORMAL_EXPONENT<<this._scale}_maxNormalLowerBoundaryIndex(){return(Js.MAX_NORMAL_EXPONENT+1<<this._scale)-1}};Ol.LogarithmMapping=R_});var oO=c(Rl=>{"use strict";Object.defineProperty(Rl,"__esModule",{value:!0});Rl.getMapping=void 0;var VU=eO(),HU=nO(),XU=vl(),sO=-10,iO=20,WU=Array.from({length:31},(r,e)=>e>10?new HU.LogarithmMapping(e-10):new VU.ExponentMapping(e-10));function kU(r){if(r>iO||r<sO)throw new XU.MappingError(`expected scale >= ${sO} && <= ${iO}, got: ${r}`);return WU[r+10]}Rl.getMapping=kU});var cO=c(ti=>{"use strict";Object.defineProperty(ti,"__esModule",{value:!0});ti.ExponentialHistogramAggregator=ti.ExponentialHistogramAccumulation=void 0;var KU=Ks(),YU=Ws(),zU=_(),I_=hr(),aO=ZA(),uO=oO(),QU=Tl(),Ur=class{constructor(e,t){this.low=e,this.high=t}static combine(e,t){return new Ur(Math.min(e.low,t.low),Math.max(e.high,t.high))}},ZU=20,JU=160,b_=2,ei=class{constructor(e=e,t=JU,n=!0,s=0,i=0,o=0,a=Number.POSITIVE_INFINITY,u=Number.NEGATIVE_INFINITY,l=new aO.Buckets,h=new aO.Buckets,d=(0,uO.getMapping)(ZU)){this.startTime=e,this._maxSize=t,this._recordMinMax=n,this._sum=s,this._count=i,this._zeroCount=o,this._min=a,this._max=u,this._positive=l,this._negative=h,this._mapping=d,this._maxSize<b_&&(zU.diag.warn(`Exponential Histogram Max Size set to ${this._maxSize},                 changing to the minimum size of: ${b_}`),this._maxSize=b_)}record(e){this.updateByIncrement(e,1)}setStartTime(e){this.startTime=e}toPointValue(){return{hasMinMax:this._recordMinMax,min:this.min,max:this.max,sum:this.sum,positive:{offset:this.positive.offset,bucketCounts:this.positive.counts()},negative:{offset:this.negative.offset,bucketCounts:this.negative.counts()},count:this.count,scale:this.scale,zeroCount:this.zeroCount}}get sum(){return this._sum}get min(){return this._min}get max(){return this._max}get count(){return this._count}get zeroCount(){return this._zeroCount}get scale(){return this._count===this._zeroCount?0:this._mapping.scale}get positive(){return this._positive}get negative(){return this._negative}updateByIncrement(e,t){if(e>this._max&&(this._max=e),e<this._min&&(this._min=e),this._count+=t,e===0){this._zeroCount+=t;return}this._sum+=e*t,e>0?this._updateBuckets(this._positive,e,t):this._updateBuckets(this._negative,-e,t)}merge(e){this._count===0?(this._min=e.min,this._max=e.max):e.count!==0&&(e.min<this.min&&(this._min=e.min),e.max>this.max&&(this._max=e.max)),this._sum+=e.sum,this._count+=e.count,this._zeroCount+=e.zeroCount;let t=this._minScale(e);this._downscale(this.scale-t),this._mergeBuckets(this.positive,e,e.positive,t),this._mergeBuckets(this.negative,e,e.negative,t)}diff(e){this._min=1/0,this._max=-1/0,this._sum-=e.sum,this._count-=e.count,this._zeroCount-=e.zeroCount;let t=this._minScale(e);this._downscale(this.scale-t),this._diffBuckets(this.positive,e,e.positive,t),this._diffBuckets(this.negative,e,e.negative,t)}clone(){return new ei(this.startTime,this._maxSize,this._recordMinMax,this._sum,this._count,this._zeroCount,this._min,this._max,this.positive.clone(),this.negative.clone(),this._mapping)}_updateBuckets(e,t,n){let s=this._mapping.mapToIndex(t),i=!1,o=0,a=0;if(e.length===0?(e.indexStart=s,e.indexEnd=e.indexStart,e.indexBase=e.indexStart):s<e.indexStart&&e.indexEnd-s>=this._maxSize?(i=!0,a=s,o=e.indexEnd):s>e.indexEnd&&s-e.indexStart>=this._maxSize&&(i=!0,a=e.indexStart,o=s),i){let u=this._changeScale(o,a);this._downscale(u),s=this._mapping.mapToIndex(t)}this._incrementIndexBy(e,s,n)}_incrementIndexBy(e,t,n){if(n===0)return;if(t<e.indexStart){let i=e.indexEnd-t;i>=e.backing.length&&this._grow(e,i+1),e.indexStart=t}else if(t>e.indexEnd){let i=t-e.indexStart;i>=e.backing.length&&this._grow(e,i+1),e.indexEnd=t}let s=t-e.indexBase;s<0&&(s+=e.backing.length),e.incrementBucket(s,n)}_grow(e,t){let n=e.backing.length,s=e.indexBase-e.indexStart,i=n-s,o=(0,QU.nextGreaterSquare)(t);o>this._maxSize&&(o=this._maxSize);let a=o-s;e.backing.growTo(o,i,a)}_changeScale(e,t){let n=0;for(;e-t>=this._maxSize;)e>>=1,t>>=1,n++;return n}_downscale(e){if(e===0)return;if(e<0)throw new Error(`impossible change of scale: ${this.scale}`);let t=this._mapping.scale-e;this._positive.downscale(e),this._negative.downscale(e),this._mapping=(0,uO.getMapping)(t)}_minScale(e){let t=Math.min(this.scale,e.scale),n=Ur.combine(this._highLowAtScale(this.positive,this.scale,t),this._highLowAtScale(e.positive,e.scale,t)),s=Ur.combine(this._highLowAtScale(this.negative,this.scale,t),this._highLowAtScale(e.negative,e.scale,t));return Math.min(t-this._changeScale(n.high,n.low),t-this._changeScale(s.high,s.low))}_highLowAtScale(e,t,n){if(e.length===0)return new Ur(0,-1);let s=t-n;return new Ur(e.indexStart>>s,e.indexEnd>>s)}_mergeBuckets(e,t,n,s){let i=n.offset,o=t.scale-s;for(let a=0;a<n.length;a++)this._incrementIndexBy(e,i+a>>o,n.at(a))}_diffBuckets(e,t,n,s){let i=n.offset,o=t.scale-s;for(let a=0;a<n.length;a++){let l=(i+a>>o)-e.indexBase;l<0&&(l+=e.backing.length),e.decrementBucket(l,n.at(a))}e.trim()}};ti.ExponentialHistogramAccumulation=ei;var P_=class{constructor(e,t){this._maxSize=e,this._recordMinMax=t,this.kind=KU.AggregatorKind.EXPONENTIAL_HISTOGRAM}createAccumulation(e){return new ei(e,this._maxSize,this._recordMinMax)}merge(e,t){let n=t.clone();return n.merge(e),n}diff(e,t){let n=t.clone();return n.diff(e),n}toMetricData(e,t,n,s){return{descriptor:e,aggregationTemporality:t,dataPointType:YU.DataPointType.EXPONENTIAL_HISTOGRAM,dataPoints:n.map(([i,o])=>{let a=o.toPointValue(),u=e.type===I_.InstrumentType.UP_DOWN_COUNTER||e.type===I_.InstrumentType.OBSERVABLE_GAUGE||e.type===I_.InstrumentType.OBSERVABLE_UP_DOWN_COUNTER;return{attributes:i,startTime:o.startTime,endTime:s,value:{min:a.hasMinMax?a.min:void 0,max:a.hasMinMax?a.max:void 0,sum:u?void 0:a.sum,positive:{offset:a.positive.offset,bucketCounts:a.positive.bucketCounts},negative:{offset:a.negative.offset,bucketCounts:a.negative.bucketCounts},count:a.count,scale:a.scale,zeroCount:a.zeroCount}}})}}};ti.ExponentialHistogramAggregator=P_});var lO=c(ni=>{"use strict";Object.defineProperty(ni,"__esModule",{value:!0});ni.LastValueAggregator=ni.LastValueAccumulation=void 0;var eG=Ks(),Go=B(),tG=Ws(),ri=class{constructor(e,t=0,n=[0,0]){this.startTime=e,this._current=t,this.sampleTime=n}record(e){this._current=e,this.sampleTime=(0,Go.millisToHrTime)(Date.now())}setStartTime(e){this.startTime=e}toPointValue(){return this._current}};ni.LastValueAccumulation=ri;var y_=class{constructor(){this.kind=eG.AggregatorKind.LAST_VALUE}createAccumulation(e){return new ri(e)}merge(e,t){let n=(0,Go.hrTimeToMicroseconds)(t.sampleTime)>=(0,Go.hrTimeToMicroseconds)(e.sampleTime)?t:e;return new ri(e.startTime,n.toPointValue(),n.sampleTime)}diff(e,t){let n=(0,Go.hrTimeToMicroseconds)(t.sampleTime)>=(0,Go.hrTimeToMicroseconds)(e.sampleTime)?t:e;return new ri(t.startTime,n.toPointValue(),n.sampleTime)}toMetricData(e,t,n,s){return{descriptor:e,aggregationTemporality:t,dataPointType:tG.DataPointType.GAUGE,dataPoints:n.map(([i,o])=>({attributes:i,startTime:o.startTime,endTime:s,value:o.toPointValue()}))}}};ni.LastValueAggregator=y_});var hO=c(si=>{"use strict";Object.defineProperty(si,"__esModule",{value:!0});si.SumAggregator=si.SumAccumulation=void 0;var rG=Ks(),nG=Ws(),Gr=class{constructor(e,t,n=0,s=!1){this.startTime=e,this.monotonic=t,this._current=n,this.reset=s}record(e){this.monotonic&&e<0||(this._current+=e)}setStartTime(e){this.startTime=e}toPointValue(){return this._current}};si.SumAccumulation=Gr;var N_=class{constructor(e){this.monotonic=e,this.kind=rG.AggregatorKind.SUM}createAccumulation(e){return new Gr(e,this.monotonic)}merge(e,t){let n=e.toPointValue(),s=t.toPointValue();return t.reset?new Gr(t.startTime,this.monotonic,s,t.reset):new Gr(e.startTime,this.monotonic,n+s)}diff(e,t){let n=e.toPointValue(),s=t.toPointValue();return this.monotonic&&n>s?new Gr(t.startTime,this.monotonic,s,!0):new Gr(t.startTime,this.monotonic,s-n)}toMetricData(e,t,n,s){return{descriptor:e,aggregationTemporality:t,dataPointType:nG.DataPointType.SUM,dataPoints:n.map(([i,o])=>({attributes:i,startTime:o.startTime,endTime:s,value:o.toPointValue()})),isMonotonic:this.monotonic}}};si.SumAggregator=N_});var dO=c(Ut=>{"use strict";var sG=Ut&&Ut.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Bo=Ut&&Ut.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&sG(e,r,t)};Object.defineProperty(Ut,"__esModule",{value:!0});Bo(zA(),Ut);Bo(QA(),Ut);Bo(cO(),Ut);Bo(lO(),Ut);Bo(hO(),Ut)});var Pl=c(Oe=>{"use strict";Object.defineProperty(Oe,"__esModule",{value:!0});Oe.DefaultAggregation=Oe.ExponentialHistogramAggregation=Oe.ExplicitBucketHistogramAggregation=Oe.HistogramAggregation=Oe.LastValueAggregation=Oe.SumAggregation=Oe.DropAggregation=Oe.Aggregation=void 0;var iG=_(),Cn=dO(),dr=hr(),sr=class{static Drop(){return pO}static Sum(){return fO}static LastValue(){return _O}static Histogram(){return EO}static ExponentialHistogram(){return oG}static Default(){return aG}};Oe.Aggregation=sr;var yn=class extends sr{createAggregator(e){return yn.DEFAULT_INSTANCE}};Oe.DropAggregation=yn;yn.DEFAULT_INSTANCE=new Cn.DropAggregator;var pr=class extends sr{createAggregator(e){switch(e.type){case dr.InstrumentType.COUNTER:case dr.InstrumentType.OBSERVABLE_COUNTER:case dr.InstrumentType.HISTOGRAM:return pr.MONOTONIC_INSTANCE;default:return pr.NON_MONOTONIC_INSTANCE}}};Oe.SumAggregation=pr;pr.MONOTONIC_INSTANCE=new Cn.SumAggregator(!0);pr.NON_MONOTONIC_INSTANCE=new Cn.SumAggregator(!1);var Nn=class extends sr{createAggregator(e){return Nn.DEFAULT_INSTANCE}};Oe.LastValueAggregation=Nn;Nn.DEFAULT_INSTANCE=new Cn.LastValueAggregator;var Ln=class extends sr{createAggregator(e){return Ln.DEFAULT_INSTANCE}};Oe.HistogramAggregation=Ln;Ln.DEFAULT_INSTANCE=new Cn.HistogramAggregator([0,5,10,25,50,75,100,250,500,1e3],!0);var L_=class extends sr{constructor(e,t=!0){if(super(),this._recordMinMax=t,e===void 0||e.length===0)throw new Error("HistogramAggregator should be created with boundaries.");e=e.concat(),e=e.sort((i,o)=>i-o);let n=e.lastIndexOf(-1/0),s=e.indexOf(1/0);s===-1&&(s=void 0),this._boundaries=e.slice(n+1,s)}createAggregator(e){return new Cn.HistogramAggregator(this._boundaries,this._recordMinMax)}};Oe.ExplicitBucketHistogramAggregation=L_;var Il=class extends sr{constructor(e=160,t=!0){super(),this._maxSize=e,this._recordMinMax=t}createAggregator(e){return new Cn.ExponentialHistogramAggregator(this._maxSize,this._recordMinMax)}};Oe.ExponentialHistogramAggregation=Il;var bl=class extends sr{_resolve(e){switch(e.type){case dr.InstrumentType.COUNTER:case dr.InstrumentType.UP_DOWN_COUNTER:case dr.InstrumentType.OBSERVABLE_COUNTER:case dr.InstrumentType.OBSERVABLE_UP_DOWN_COUNTER:return fO;case dr.InstrumentType.OBSERVABLE_GAUGE:return _O;case dr.InstrumentType.HISTOGRAM:return EO}return iG.diag.warn(`Unable to recognize instrument type: ${e.type}`),pO}createAggregator(e){return this._resolve(e).createAggregator(e)}};Oe.DefaultAggregation=bl;var pO=new yn,fO=new pr,_O=new Nn,EO=new Ln,oG=new Il,aG=new bl});var C_=c(ii=>{"use strict";Object.defineProperty(ii,"__esModule",{value:!0});ii.DEFAULT_AGGREGATION_TEMPORALITY_SELECTOR=ii.DEFAULT_AGGREGATION_SELECTOR=void 0;var uG=Pl(),cG=El(),lG=r=>uG.Aggregation.Default();ii.DEFAULT_AGGREGATION_SELECTOR=lG;var hG=r=>cG.AggregationTemporality.CUMULATIVE;ii.DEFAULT_AGGREGATION_TEMPORALITY_SELECTOR=hG});var w_=c(yl=>{"use strict";Object.defineProperty(yl,"__esModule",{value:!0});yl.MetricReader=void 0;var gO=_(),mO=nr(),TO=C_(),M_=class{constructor(e){var t,n;this._shutdown=!1,this._aggregationSelector=(t=e==null?void 0:e.aggregationSelector)!==null&&t!==void 0?t:TO.DEFAULT_AGGREGATION_SELECTOR,this._aggregationTemporalitySelector=(n=e==null?void 0:e.aggregationTemporalitySelector)!==null&&n!==void 0?n:TO.DEFAULT_AGGREGATION_TEMPORALITY_SELECTOR}setMetricProducer(e){if(this._metricProducer)throw new Error("MetricReader can not be bound to a MeterProvider again.");this._metricProducer=e,this.onInitialized()}selectAggregation(e){return this._aggregationSelector(e)}selectAggregationTemporality(e){return this._aggregationTemporalitySelector(e)}onInitialized(){}async collect(e){if(this._metricProducer===void 0)throw new Error("MetricReader is not bound to a MetricProducer");if(this._shutdown)throw new Error("MetricReader is shutdown");return this._metricProducer.collect({timeoutMillis:e==null?void 0:e.timeoutMillis})}async shutdown(e){if(this._shutdown){gO.diag.error("Cannot call shutdown twice.");return}(e==null?void 0:e.timeoutMillis)==null?await this.onShutdown():await(0,mO.callWithTimeout)(this.onShutdown(),e.timeoutMillis),this._shutdown=!0}async forceFlush(e){if(this._shutdown){gO.diag.warn("Cannot forceFlush on already shutdown MetricReader.");return}if((e==null?void 0:e.timeoutMillis)==null){await this.onForceFlush();return}await(0,mO.callWithTimeout)(this.onForceFlush(),e.timeoutMillis)}};yl.MetricReader=M_});var AO=c(Ll=>{"use strict";Object.defineProperty(Ll,"__esModule",{value:!0});Ll.PeriodicExportingMetricReader=void 0;var SO=_(),Nl=B(),dG=w_(),vO=nr(),pG=_(),q_=class extends dG.MetricReader{constructor(e){var t,n,s,i;if(super({aggregationSelector:(t=e.exporter.selectAggregation)===null||t===void 0?void 0:t.bind(e.exporter),aggregationTemporalitySelector:(n=e.exporter.selectAggregationTemporality)===null||n===void 0?void 0:n.bind(e.exporter)}),e.exportIntervalMillis!==void 0&&e.exportIntervalMillis<=0)throw Error("exportIntervalMillis must be greater than 0");if(e.exportTimeoutMillis!==void 0&&e.exportTimeoutMillis<=0)throw Error("exportTimeoutMillis must be greater than 0");if(e.exportTimeoutMillis!==void 0&&e.exportIntervalMillis!==void 0&&e.exportIntervalMillis<e.exportTimeoutMillis)throw Error("exportIntervalMillis must be greater than or equal to exportTimeoutMillis");this._exportInterval=(s=e.exportIntervalMillis)!==null&&s!==void 0?s:6e4,this._exportTimeout=(i=e.exportTimeoutMillis)!==null&&i!==void 0?i:3e4,this._exporter=e.exporter}async _runOnce(){try{await(0,vO.callWithTimeout)(this._doRun(),this._exportTimeout)}catch(e){if(e instanceof vO.TimeoutError){SO.diag.error("Export took longer than %s milliseconds and timed out.",this._exportTimeout);return}(0,Nl.globalErrorHandler)(e)}}async _doRun(){var e,t;let{resourceMetrics:n,errors:s}=await this.collect({timeoutMillis:this._exportTimeout});s.length>0&&SO.diag.error("PeriodicExportingMetricReader: metrics collection errors",...s);let i=async()=>{let o=await Nl.internal._export(this._exporter,n);if(o.code!==Nl.ExportResultCode.SUCCESS)throw new Error(`PeriodicExportingMetricReader: metrics export failed (error ${o.error})`)};n.resource.asyncAttributesPending?(t=(e=n.resource).waitForAsyncAttributes)===null||t===void 0||t.call(e).then(i,o=>pG.diag.debug("Error while resolving async portion of resource: ",o)):await i()}onInitialized(){this._interval=setInterval(()=>{this._runOnce()},this._exportInterval),(0,Nl.unrefTimer)(this._interval)}async onForceFlush(){await this._runOnce(),await this._exporter.forceFlush()}async onShutdown(){this._interval&&clearInterval(this._interval),await this._exporter.shutdown()}};Ll.PeriodicExportingMetricReader=q_});var RO=c(Cl=>{"use strict";Object.defineProperty(Cl,"__esModule",{value:!0});Cl.InMemoryMetricExporter=void 0;var OO=B(),x_=class{constructor(e){this._shutdown=!1,this._metrics=[],this._aggregationTemporality=e}export(e,t){if(this._shutdown){setTimeout(()=>t({code:OO.ExportResultCode.FAILED}),0);return}this._metrics.push(e),setTimeout(()=>t({code:OO.ExportResultCode.SUCCESS}),0)}getMetrics(){return this._metrics}forceFlush(){return Promise.resolve()}reset(){this._metrics=[]}selectAggregationTemporality(e){return this._aggregationTemporality}shutdown(){return this._shutdown=!0,Promise.resolve()}};Cl.InMemoryMetricExporter=x_});var bO=c(Ml=>{"use strict";Object.defineProperty(Ml,"__esModule",{value:!0});Ml.ConsoleMetricExporter=void 0;var IO=B(),fG=C_(),Fo=class{constructor(e){var t;this._shutdown=!1,this._temporalitySelector=(t=e==null?void 0:e.temporalitySelector)!==null&&t!==void 0?t:fG.DEFAULT_AGGREGATION_TEMPORALITY_SELECTOR}export(e,t){if(this._shutdown){setImmediate(t,{code:IO.ExportResultCode.FAILED});return}return Fo._sendMetrics(e,t)}forceFlush(){return Promise.resolve()}selectAggregationTemporality(e){return this._temporalitySelector(e)}shutdown(){return this._shutdown=!0,Promise.resolve()}static _sendMetrics(e,t){for(let n of e.scopeMetrics)for(let s of n.metrics)console.dir({descriptor:s.descriptor,dataPointType:s.dataPointType,dataPoints:s.dataPoints});t({code:IO.ExportResultCode.SUCCESS})}};Ml.ConsoleMetricExporter=Fo});var PO=c(wl=>{"use strict";Object.defineProperty(wl,"__esModule",{value:!0});wl.ViewRegistry=void 0;var D_=class{constructor(){this._registeredViews=[]}addView(e){this._registeredViews.push(e)}findViews(e,t){return this._registeredViews.filter(s=>this._matchInstrument(s.instrumentSelector,e)&&this._matchMeter(s.meterSelector,t))}_matchInstrument(e,t){return(e.getType()===void 0||t.type===e.getType())&&e.getNameFilter().match(t.name)&&e.getUnitFilter().match(t.unit)}_matchMeter(e,t){return e.getNameFilter().match(t.name)&&(t.version===void 0||e.getVersionFilter().match(t.version))&&(t.schemaUrl===void 0||e.getSchemaUrlFilter().match(t.schemaUrl))}};wl.ViewRegistry=D_});var ql=c(Se=>{"use strict";Object.defineProperty(Se,"__esModule",{value:!0});Se.isObservableInstrument=Se.ObservableUpDownCounterInstrument=Se.ObservableGaugeInstrument=Se.ObservableCounterInstrument=Se.ObservableInstrument=Se.HistogramInstrument=Se.CounterInstrument=Se.UpDownCounterInstrument=Se.SyncInstrument=void 0;var Vo=_(),_G=B(),oi=class{constructor(e,t){this._writableMetricStorage=e,this._descriptor=t}_record(e,t={},n=Vo.context.active()){this._descriptor.valueType===Vo.ValueType.INT&&!Number.isInteger(e)&&(Vo.diag.warn(`INT value type cannot accept a floating-point value for ${this._descriptor.name}, ignoring the fractional digits.`),e=Math.trunc(e)),this._writableMetricStorage.record(e,t,n,(0,_G.millisToHrTime)(Date.now()))}};Se.SyncInstrument=oi;var $_=class extends oi{add(e,t,n){this._record(e,t,n)}};Se.UpDownCounterInstrument=$_;var j_=class extends oi{add(e,t,n){if(e<0){Vo.diag.warn(`negative value provided to counter ${this._descriptor.name}: ${e}`);return}this._record(e,t,n)}};Se.CounterInstrument=j_;var U_=class extends oi{record(e,t,n){if(e<0){Vo.diag.warn(`negative value provided to histogram ${this._descriptor.name}: ${e}`);return}this._record(e,t,n)}};Se.HistogramInstrument=U_;var Mn=class{constructor(e,t,n){this._observableRegistry=n,this._descriptor=e,this._metricStorages=t}addCallback(e){this._observableRegistry.addCallback(e,this)}removeCallback(e){this._observableRegistry.removeCallback(e,this)}};Se.ObservableInstrument=Mn;var G_=class extends Mn{};Se.ObservableCounterInstrument=G_;var B_=class extends Mn{};Se.ObservableGaugeInstrument=B_;var F_=class extends Mn{};Se.ObservableUpDownCounterInstrument=F_;function EG(r){return r instanceof Mn}Se.isObservableInstrument=EG});var yO=c(xl=>{"use strict";Object.defineProperty(xl,"__esModule",{value:!0});xl.Meter=void 0;var bt=hr(),ai=ql(),V_=class{constructor(e){this._meterSharedState=e}createHistogram(e,t){let n=(0,bt.createInstrumentDescriptor)(e,bt.InstrumentType.HISTOGRAM,t),s=this._meterSharedState.registerMetricStorage(n);return new ai.HistogramInstrument(s,n)}createCounter(e,t){let n=(0,bt.createInstrumentDescriptor)(e,bt.InstrumentType.COUNTER,t),s=this._meterSharedState.registerMetricStorage(n);return new ai.CounterInstrument(s,n)}createUpDownCounter(e,t){let n=(0,bt.createInstrumentDescriptor)(e,bt.InstrumentType.UP_DOWN_COUNTER,t),s=this._meterSharedState.registerMetricStorage(n);return new ai.UpDownCounterInstrument(s,n)}createObservableGauge(e,t){let n=(0,bt.createInstrumentDescriptor)(e,bt.InstrumentType.OBSERVABLE_GAUGE,t),s=this._meterSharedState.registerAsyncMetricStorage(n);return new ai.ObservableGaugeInstrument(n,s,this._meterSharedState.observableRegistry)}createObservableCounter(e,t){let n=(0,bt.createInstrumentDescriptor)(e,bt.InstrumentType.OBSERVABLE_COUNTER,t),s=this._meterSharedState.registerAsyncMetricStorage(n);return new ai.ObservableCounterInstrument(n,s,this._meterSharedState.observableRegistry)}createObservableUpDownCounter(e,t){let n=(0,bt.createInstrumentDescriptor)(e,bt.InstrumentType.OBSERVABLE_UP_DOWN_COUNTER,t),s=this._meterSharedState.registerAsyncMetricStorage(n);return new ai.ObservableUpDownCounterInstrument(n,s,this._meterSharedState.observableRegistry)}addBatchObservableCallback(e,t){this._meterSharedState.observableRegistry.addBatchCallback(e,t)}removeBatchObservableCallback(e,t){this._meterSharedState.observableRegistry.removeBatchCallback(e,t)}};xl.Meter=V_});var X_=c(Dl=>{"use strict";Object.defineProperty(Dl,"__esModule",{value:!0});Dl.MetricStorage=void 0;var gG=hr(),H_=class{constructor(e){this._instrumentDescriptor=e}getInstrumentDescriptor(){return this._instrumentDescriptor}updateDescription(e){this._instrumentDescriptor=(0,gG.createInstrumentDescriptor)(this._instrumentDescriptor.name,this._instrumentDescriptor.type,{description:e,valueType:this._instrumentDescriptor.valueType,unit:this._instrumentDescriptor.unit})}};Dl.MetricStorage=H_});var Ho=c(ui=>{"use strict";Object.defineProperty(ui,"__esModule",{value:!0});ui.AttributeHashMap=ui.HashMap=void 0;var mG=nr(),$l=class{constructor(e){this._hash=e,this._valueMap=new Map,this._keyMap=new Map}get(e,t){return t??(t=this._hash(e)),this._valueMap.get(t)}getOrDefault(e,t){let n=this._hash(e);if(this._valueMap.has(n))return this._valueMap.get(n);let s=t();return this._keyMap.has(n)||this._keyMap.set(n,e),this._valueMap.set(n,s),s}set(e,t,n){n??(n=this._hash(e)),this._keyMap.has(n)||this._keyMap.set(n,e),this._valueMap.set(n,t)}has(e,t){return t??(t=this._hash(e)),this._valueMap.has(t)}*keys(){let e=this._keyMap.entries(),t=e.next();for(;t.done!==!0;)yield[t.value[1],t.value[0]],t=e.next()}*entries(){let e=this._valueMap.entries(),t=e.next();for(;t.done!==!0;)yield[this._keyMap.get(t.value[0]),t.value[1],t.value[0]],t=e.next()}get size(){return this._valueMap.size}};ui.HashMap=$l;var W_=class extends $l{constructor(){super(mG.hashAttributes)}};ui.AttributeHashMap=W_});var Y_=c(jl=>{"use strict";Object.defineProperty(jl,"__esModule",{value:!0});jl.DeltaMetricProcessor=void 0;var k_=Ho(),K_=class{constructor(e){this._aggregator=e,this._activeCollectionStorage=new k_.AttributeHashMap,this._cumulativeMemoStorage=new k_.AttributeHashMap}record(e,t,n,s){let i=this._activeCollectionStorage.getOrDefault(t,()=>this._aggregator.createAccumulation(s));i==null||i.record(e)}batchCumulate(e,t){Array.from(e.entries()).forEach(([n,s,i])=>{let o=this._aggregator.createAccumulation(t);o==null||o.record(s);let a=o;if(this._cumulativeMemoStorage.has(n,i)){let u=this._cumulativeMemoStorage.get(n,i);a=this._aggregator.diff(u,o)}if(this._activeCollectionStorage.has(n,i)){let u=this._activeCollectionStorage.get(n,i);a=this._aggregator.merge(u,a)}this._cumulativeMemoStorage.set(n,o,i),this._activeCollectionStorage.set(n,a,i)})}collect(){let e=this._activeCollectionStorage;return this._activeCollectionStorage=new k_.AttributeHashMap,e}};jl.DeltaMetricProcessor=K_});var z_=c(Ul=>{"use strict";Object.defineProperty(Ul,"__esModule",{value:!0});Ul.TemporalMetricProcessor=void 0;var TG=El(),SG=Ho(),wn=class{constructor(e){this._aggregator=e,this._unreportedAccumulations=new Map,this._reportHistory=new Map}buildMetrics(e,t,n,s,i){this._stashAccumulations(t,s);let o=this._getMergedUnreportedAccumulations(e),a=o,u;if(this._reportHistory.has(e)){let l=this._reportHistory.get(e),h=l.collectionTime;u=l.aggregationTemporality,u===TG.AggregationTemporality.CUMULATIVE?a=wn.merge(l.accumulations,o,this._aggregator):a=wn.calibrateStartTime(l.accumulations,o,h)}else u=e.selectAggregationTemporality(n.type);return this._reportHistory.set(e,{accumulations:a,collectionTime:i,aggregationTemporality:u}),this._aggregator.toMetricData(n,u,vG(a),i)}_stashAccumulations(e,t){e.forEach(n=>{let s=this._unreportedAccumulations.get(n);s===void 0&&(s=[],this._unreportedAccumulations.set(n,s)),s.push(t)})}_getMergedUnreportedAccumulations(e){let t=new SG.AttributeHashMap,n=this._unreportedAccumulations.get(e);if(this._unreportedAccumulations.set(e,[]),n===void 0)return t;for(let s of n)t=wn.merge(t,s,this._aggregator);return t}static merge(e,t,n){let s=e,i=t.entries(),o=i.next();for(;o.done!==!0;){let[a,u,l]=o.value;if(e.has(a,l)){let h=e.get(a,l),d=n.merge(h,u);s.set(a,d,l)}else s.set(a,u,l);o=i.next()}return s}static calibrateStartTime(e,t,n){for(let[s,i]of e.keys()){let o=t.get(s,i);o==null||o.setStartTime(n)}return t}};Ul.TemporalMetricProcessor=wn;function vG(r){return Array.from(r.entries())}});var NO=c(Gl=>{"use strict";Object.defineProperty(Gl,"__esModule",{value:!0});Gl.AsyncMetricStorage=void 0;var AG=X_(),OG=Y_(),RG=z_(),IG=Ho(),Q_=class extends AG.MetricStorage{constructor(e,t,n){super(e),this._attributesProcessor=n,this._deltaMetricStorage=new OG.DeltaMetricProcessor(t),this._temporalMetricStorage=new RG.TemporalMetricProcessor(t)}record(e,t){let n=new IG.AttributeHashMap;Array.from(e.entries()).forEach(([s,i])=>{n.set(this._attributesProcessor.process(s),i)}),this._deltaMetricStorage.batchCumulate(n,t)}collect(e,t,n){let s=this._deltaMetricStorage.collect();return this._temporalMetricStorage.buildMetrics(e,t,this._instrumentDescriptor,s,n)}};Gl.AsyncMetricStorage=Q_});var qO=c(ut=>{"use strict";Object.defineProperty(ut,"__esModule",{value:!0});ut.getConflictResolutionRecipe=ut.getDescriptionResolutionRecipe=ut.getTypeConflictResolutionRecipe=ut.getUnitConflictResolutionRecipe=ut.getValueTypeConflictResolutionRecipe=ut.getIncompatibilityDetails=void 0;function bG(r,e){let t="";return r.unit!==e.unit&&(t+=`	- Unit '${r.unit}' does not match '${e.unit}'
`),r.type!==e.type&&(t+=`	- Type '${r.type}' does not match '${e.type}'
`),r.valueType!==e.valueType&&(t+=`	- Value Type '${r.valueType}' does not match '${e.valueType}'
`),r.description!==e.description&&(t+=`	- Description '${r.description}' does not match '${e.description}'
`),t}ut.getIncompatibilityDetails=bG;function LO(r,e){return`	- use valueType '${r.valueType}' on instrument creation or use an instrument name other than '${e.name}'`}ut.getValueTypeConflictResolutionRecipe=LO;function CO(r,e){return`	- use unit '${r.unit}' on instrument creation or use an instrument name other than '${e.name}'`}ut.getUnitConflictResolutionRecipe=CO;function MO(r,e){let t={name:e.name,type:e.type,unit:e.unit},n=JSON.stringify(t);return`	- create a new view with a name other than '${r.name}' and InstrumentSelector '${n}'`}ut.getTypeConflictResolutionRecipe=MO;function wO(r,e){let t={name:e.name,type:e.type,unit:e.unit},n=JSON.stringify(t);return`	- create a new view with a name other than '${r.name}' and InstrumentSelector '${n}'
    	- OR - create a new view with the name ${r.name} and description '${r.description}' and InstrumentSelector ${n}
    	- OR - create a new view with the name ${e.name} and description '${r.description}' and InstrumentSelector ${n}`}ut.getDescriptionResolutionRecipe=wO;function PG(r,e){return r.valueType!==e.valueType?LO(r,e):r.unit!==e.unit?CO(r,e):r.type!==e.type?MO(r,e):r.description!==e.description?wO(r,e):""}ut.getConflictResolutionRecipe=PG});var DO=c(Fl=>{"use strict";Object.defineProperty(Fl,"__esModule",{value:!0});Fl.MetricStorageRegistry=void 0;var yG=hr(),xO=_(),Bl=qO(),Xo=class{constructor(){this._sharedRegistry=new Map,this._perCollectorRegistry=new Map}static create(){return new Xo}getStorages(e){let t=[];for(let s of this._sharedRegistry.values())t=t.concat(s);let n=this._perCollectorRegistry.get(e);if(n!=null)for(let s of n.values())t=t.concat(s);return t}register(e){this._registerStorage(e,this._sharedRegistry)}registerForCollector(e,t){let n=this._perCollectorRegistry.get(e);n==null&&(n=new Map,this._perCollectorRegistry.set(e,n)),this._registerStorage(t,n)}findOrUpdateCompatibleStorage(e){let t=this._sharedRegistry.get(e.name);return t===void 0?null:this._findOrUpdateCompatibleStorage(e,t)}findOrUpdateCompatibleCollectorStorage(e,t){let n=this._perCollectorRegistry.get(e);if(n===void 0)return null;let s=n.get(t.name);return s===void 0?null:this._findOrUpdateCompatibleStorage(t,s)}_registerStorage(e,t){let n=e.getInstrumentDescriptor(),s=t.get(n.name);if(s===void 0){t.set(n.name,[e]);return}s.push(e)}_findOrUpdateCompatibleStorage(e,t){let n=null;for(let s of t){let i=s.getInstrumentDescriptor();(0,yG.isDescriptorCompatibleWith)(i,e)?(i.description!==e.description&&(e.description.length>i.description.length&&s.updateDescription(e.description),xO.diag.warn("A view or instrument with the name ",e.name,` has already been registered, but has a different description and is incompatible with another registered view.
`,`Details:
`,(0,Bl.getIncompatibilityDetails)(i,e),`The longer description will be used.
To resolve the conflict:`,(0,Bl.getConflictResolutionRecipe)(i,e))),n=s):xO.diag.warn("A view or instrument with the name ",e.name,` has already been registered and is incompatible with another registered view.
`,`Details:
`,(0,Bl.getIncompatibilityDetails)(i,e),`To resolve the conflict:
`,(0,Bl.getConflictResolutionRecipe)(i,e))}return n}};Fl.MetricStorageRegistry=Xo});var $O=c(Vl=>{"use strict";Object.defineProperty(Vl,"__esModule",{value:!0});Vl.MultiMetricStorage=void 0;var Z_=class{constructor(e){this._backingStorages=e}record(e,t,n,s){this._backingStorages.forEach(i=>{i.record(e,t,n,s)})}};Vl.MultiMetricStorage=Z_});var UO=c(ci=>{"use strict";Object.defineProperty(ci,"__esModule",{value:!0});ci.BatchObservableResultImpl=ci.ObservableResultImpl=void 0;var Hl=_(),jO=Ho(),NG=ql(),J_=class{constructor(e){this._descriptor=e,this._buffer=new jO.AttributeHashMap}observe(e,t={}){this._descriptor.valueType===Hl.ValueType.INT&&!Number.isInteger(e)&&(Hl.diag.warn(`INT value type cannot accept a floating-point value for ${this._descriptor.name}, ignoring the fractional digits.`),e=Math.trunc(e)),this._buffer.set(t,e)}};ci.ObservableResultImpl=J_;var eE=class{constructor(){this._buffer=new Map}observe(e,t,n={}){if(!(0,NG.isObservableInstrument)(e))return;let s=this._buffer.get(e);s==null&&(s=new jO.AttributeHashMap,this._buffer.set(e,s)),e._descriptor.valueType===Hl.ValueType.INT&&!Number.isInteger(t)&&(Hl.diag.warn(`INT value type cannot accept a floating-point value for ${e._descriptor.name}, ignoring the fractional digits.`),t=Math.trunc(t)),s.set(n,t)}};ci.BatchObservableResultImpl=eE});var FO=c(Xl=>{"use strict";Object.defineProperty(Xl,"__esModule",{value:!0});Xl.ObservableRegistry=void 0;var LG=_(),GO=ql(),BO=UO(),Wo=nr(),tE=class{constructor(){this._callbacks=[],this._batchCallbacks=[]}addCallback(e,t){this._findCallback(e,t)>=0||this._callbacks.push({callback:e,instrument:t})}removeCallback(e,t){let n=this._findCallback(e,t);n<0||this._callbacks.splice(n,1)}addBatchCallback(e,t){let n=new Set(t.filter(GO.isObservableInstrument));if(n.size===0){LG.diag.error("BatchObservableCallback is not associated with valid instruments",t);return}this._findBatchCallback(e,n)>=0||this._batchCallbacks.push({callback:e,instruments:n})}removeBatchCallback(e,t){let n=new Set(t.filter(GO.isObservableInstrument)),s=this._findBatchCallback(e,n);s<0||this._batchCallbacks.splice(s,1)}async observe(e,t){let n=this._observeCallbacks(e,t),s=this._observeBatchCallbacks(e,t);return(await(0,Wo.PromiseAllSettled)([...n,...s])).filter(Wo.isPromiseAllSettledRejectionResult).map(a=>a.reason)}_observeCallbacks(e,t){return this._callbacks.map(async({callback:n,instrument:s})=>{let i=new BO.ObservableResultImpl(s._descriptor),o=Promise.resolve(n(i));t!=null&&(o=(0,Wo.callWithTimeout)(o,t)),await o,s._metricStorages.forEach(a=>{a.record(i._buffer,e)})})}_observeBatchCallbacks(e,t){return this._batchCallbacks.map(async({callback:n,instruments:s})=>{let i=new BO.BatchObservableResultImpl,o=Promise.resolve(n(i));t!=null&&(o=(0,Wo.callWithTimeout)(o,t)),await o,s.forEach(a=>{let u=i._buffer.get(a);u!=null&&a._metricStorages.forEach(l=>{l.record(u,e)})})})}_findCallback(e,t){return this._callbacks.findIndex(n=>n.callback===e&&n.instrument===t)}_findBatchCallback(e,t){return this._batchCallbacks.findIndex(n=>n.callback===e&&(0,Wo.setEquals)(n.instruments,t))}};Xl.ObservableRegistry=tE});var VO=c(Wl=>{"use strict";Object.defineProperty(Wl,"__esModule",{value:!0});Wl.SyncMetricStorage=void 0;var CG=X_(),MG=Y_(),wG=z_(),rE=class extends CG.MetricStorage{constructor(e,t,n){super(e),this._attributesProcessor=n,this._deltaMetricStorage=new MG.DeltaMetricProcessor(t),this._temporalMetricStorage=new wG.TemporalMetricProcessor(t)}record(e,t,n,s){t=this._attributesProcessor.process(t,n),this._deltaMetricStorage.record(e,t,n,s)}collect(e,t,n){let s=this._deltaMetricStorage.collect();return this._temporalMetricStorage.buildMetrics(e,t,this._instrumentDescriptor,s,n)}};Wl.SyncMetricStorage=rE});var sE=c(Br=>{"use strict";Object.defineProperty(Br,"__esModule",{value:!0});Br.FilteringAttributesProcessor=Br.NoopAttributesProcessor=Br.AttributesProcessor=void 0;var ko=class{static Noop(){return qG}};Br.AttributesProcessor=ko;var kl=class extends ko{process(e,t){return e}};Br.NoopAttributesProcessor=kl;var nE=class extends ko{constructor(e){super(),this._allowedAttributeNames=e}process(e,t){let n={};return Object.keys(e).filter(s=>this._allowedAttributeNames.includes(s)).forEach(s=>n[s]=e[s]),n}};Br.FilteringAttributesProcessor=nE;var qG=new kl});var XO=c(Kl=>{"use strict";Object.defineProperty(Kl,"__esModule",{value:!0});Kl.MeterSharedState=void 0;var xG=hr(),DG=yO(),HO=nr(),$G=NO(),jG=DO(),UG=$O(),GG=FO(),BG=VO(),FG=sE(),iE=class{constructor(e,t){this._meterProviderSharedState=e,this._instrumentationScope=t,this.metricStorageRegistry=new jG.MetricStorageRegistry,this.observableRegistry=new GG.ObservableRegistry,this.meter=new DG.Meter(this)}registerMetricStorage(e){let t=this._registerMetricStorage(e,BG.SyncMetricStorage);return t.length===1?t[0]:new UG.MultiMetricStorage(t)}registerAsyncMetricStorage(e){return this._registerMetricStorage(e,$G.AsyncMetricStorage)}async collect(e,t,n){let s=await this.observableRegistry.observe(t,n==null?void 0:n.timeoutMillis),i=Array.from(this.metricStorageRegistry.getStorages(e)).map(o=>o.collect(e,this._meterProviderSharedState.metricCollectors,t)).filter(HO.isNotNullish);return{scopeMetrics:{scope:this._instrumentationScope,metrics:i.filter(HO.isNotNullish)},errors:s}}_registerMetricStorage(e,t){let s=this._meterProviderSharedState.viewRegistry.findViews(e,this._instrumentationScope).map(i=>{let o=(0,xG.createInstrumentDescriptorWithView)(i,e),a=this.metricStorageRegistry.findOrUpdateCompatibleStorage(o);if(a!=null)return a;let u=i.aggregation.createAggregator(o),l=new t(o,u,i.attributesProcessor);return this.metricStorageRegistry.register(l),l});if(s.length===0){let o=this._meterProviderSharedState.selectAggregations(e.type).map(([a,u])=>{let l=this.metricStorageRegistry.findOrUpdateCompatibleCollectorStorage(a,e);if(l!=null)return l;let h=u.createAggregator(e),d=new t(e,h,FG.AttributesProcessor.Noop());return this.metricStorageRegistry.registerForCollector(a,d),d});s=s.concat(o)}return s}};Kl.MeterSharedState=iE});var WO=c(Yl=>{"use strict";Object.defineProperty(Yl,"__esModule",{value:!0});Yl.MeterProviderSharedState=void 0;var VG=nr(),HG=PO(),XG=XO(),oE=class{constructor(e){this.resource=e,this.viewRegistry=new HG.ViewRegistry,this.metricCollectors=[],this.meterSharedStates=new Map}getMeterSharedState(e){let t=(0,VG.instrumentationScopeId)(e),n=this.meterSharedStates.get(t);return n==null&&(n=new XG.MeterSharedState(this,e),this.meterSharedStates.set(t,n)),n}selectAggregations(e){let t=[];for(let n of this.metricCollectors)t.push([n,n.selectAggregation(e)]);return t}};Yl.MeterProviderSharedState=oE});var kO=c(zl=>{"use strict";Object.defineProperty(zl,"__esModule",{value:!0});zl.MetricCollector=void 0;var WG=B(),kG=nr(),aE=class{constructor(e,t){this._sharedState=e,this._metricReader=t}async collect(e){let t=(0,WG.millisToHrTime)(Date.now()),n=Array.from(this._sharedState.meterSharedStates.values()).map(i=>i.collect(this,t,e)),s=await Promise.all(n);return{resourceMetrics:{resource:this._sharedState.resource,scopeMetrics:s.map(i=>i.scopeMetrics)},errors:(0,kG.FlatMap)(s,i=>i.errors)}}async forceFlush(e){await this._metricReader.forceFlush(e)}async shutdown(e){await this._metricReader.shutdown(e)}selectAggregationTemporality(e){return this._metricReader.selectAggregationTemporality(e)}selectAggregation(e){return this._metricReader.selectAggregation(e)}};zl.MetricCollector=aE});var YO=c(Zl=>{"use strict";Object.defineProperty(Zl,"__esModule",{value:!0});Zl.MeterProvider=void 0;var Ql=_(),KO=xs(),KG=WO(),YG=kO(),uE=class{constructor(e){var t;this._shutdown=!1;let n=KO.Resource.default().merge((t=e==null?void 0:e.resource)!==null&&t!==void 0?t:KO.Resource.empty());if(this._sharedState=new KG.MeterProviderSharedState(n),(e==null?void 0:e.views)!=null&&e.views.length>0)for(let s of e.views)this._sharedState.viewRegistry.addView(s)}getMeter(e,t="",n={}){return this._shutdown?(Ql.diag.warn("A shutdown MeterProvider cannot provide a Meter"),(0,Ql.createNoopMeter)()):this._sharedState.getMeterSharedState({name:e,version:t,schemaUrl:n.schemaUrl}).meter}addMetricReader(e){let t=new YG.MetricCollector(this._sharedState,e);e.setMetricProducer(t),this._sharedState.metricCollectors.push(t)}async shutdown(e){if(this._shutdown){Ql.diag.warn("shutdown may only be called once per MeterProvider");return}this._shutdown=!0,await Promise.all(this._sharedState.metricCollectors.map(t=>t.shutdown(e)))}async forceFlush(e){if(this._shutdown){Ql.diag.warn("invalid attempt to force flush after MeterProvider shutdown");return}await Promise.all(this._sharedState.metricCollectors.map(t=>t.forceFlush(e)))}};Zl.MeterProvider=uE});var Jl=c(li=>{"use strict";Object.defineProperty(li,"__esModule",{value:!0});li.ExactPredicate=li.PatternPredicate=void 0;var zG=/[\^$\\.+?()[\]{}|]/g,Ko=class{constructor(e){e==="*"?(this._matchAll=!0,this._regexp=/.*/):(this._matchAll=!1,this._regexp=new RegExp(Ko.escapePattern(e)))}match(e){return this._matchAll?!0:this._regexp.test(e)}static escapePattern(e){return`^${e.replace(zG,"\\$&").replace("*",".*")}$`}static hasWildcard(e){return e.includes("*")}};li.PatternPredicate=Ko;var cE=class{constructor(e){this._matchAll=e===void 0,this._pattern=e}match(e){return!!(this._matchAll||e===this._pattern)}};li.ExactPredicate=cE});var QO=c(eh=>{"use strict";Object.defineProperty(eh,"__esModule",{value:!0});eh.InstrumentSelector=void 0;var zO=Jl(),lE=class{constructor(e){var t;this._nameFilter=new zO.PatternPredicate((t=e==null?void 0:e.name)!==null&&t!==void 0?t:"*"),this._type=e==null?void 0:e.type,this._unitFilter=new zO.ExactPredicate(e==null?void 0:e.unit)}getType(){return this._type}getNameFilter(){return this._nameFilter}getUnitFilter(){return this._unitFilter}};eh.InstrumentSelector=lE});var ZO=c(th=>{"use strict";Object.defineProperty(th,"__esModule",{value:!0});th.MeterSelector=void 0;var hE=Jl(),dE=class{constructor(e){this._nameFilter=new hE.ExactPredicate(e==null?void 0:e.name),this._versionFilter=new hE.ExactPredicate(e==null?void 0:e.version),this._schemaUrlFilter=new hE.ExactPredicate(e==null?void 0:e.schemaUrl)}getNameFilter(){return this._nameFilter}getVersionFilter(){return this._versionFilter}getSchemaUrlFilter(){return this._schemaUrlFilter}};th.MeterSelector=dE});var eR=c(rh=>{"use strict";Object.defineProperty(rh,"__esModule",{value:!0});rh.View=void 0;var QG=Jl(),JO=sE(),ZG=QO(),JG=ZO(),eB=Pl();function tB(r){return r.instrumentName==null&&r.instrumentType==null&&r.instrumentUnit==null&&r.meterName==null&&r.meterVersion==null&&r.meterSchemaUrl==null}var pE=class{constructor(e){var t;if(tB(e))throw new Error("Cannot create view with no selector arguments supplied");if(e.name!=null&&((e==null?void 0:e.instrumentName)==null||QG.PatternPredicate.hasWildcard(e.instrumentName)))throw new Error("Views with a specified name must be declared with an instrument selector that selects at most one instrument per meter.");e.attributeKeys!=null?this.attributesProcessor=new JO.FilteringAttributesProcessor(e.attributeKeys):this.attributesProcessor=JO.AttributesProcessor.Noop(),this.name=e.name,this.description=e.description,this.aggregation=(t=e.aggregation)!==null&&t!==void 0?t:eB.Aggregation.Default(),this.instrumentSelector=new ZG.InstrumentSelector({name:e.instrumentName,type:e.instrumentType,unit:e.instrumentUnit}),this.meterSelector=new JG.MeterSelector({name:e.meterName,version:e.meterVersion,schemaUrl:e.meterSchemaUrl})}};rh.View=pE});var tR=c(F=>{"use strict";Object.defineProperty(F,"__esModule",{value:!0});F.TimeoutError=F.View=F.Aggregation=F.SumAggregation=F.LastValueAggregation=F.HistogramAggregation=F.DropAggregation=F.ExponentialHistogramAggregation=F.ExplicitBucketHistogramAggregation=F.DefaultAggregation=F.MeterProvider=F.InstrumentType=F.ConsoleMetricExporter=F.InMemoryMetricExporter=F.PeriodicExportingMetricReader=F.MetricReader=F.DataPointType=F.AggregationTemporality=void 0;var rB=El();Object.defineProperty(F,"AggregationTemporality",{enumerable:!0,get:function(){return rB.AggregationTemporality}});var nB=Ws();Object.defineProperty(F,"DataPointType",{enumerable:!0,get:function(){return nB.DataPointType}});var sB=w_();Object.defineProperty(F,"MetricReader",{enumerable:!0,get:function(){return sB.MetricReader}});var iB=AO();Object.defineProperty(F,"PeriodicExportingMetricReader",{enumerable:!0,get:function(){return iB.PeriodicExportingMetricReader}});var oB=RO();Object.defineProperty(F,"InMemoryMetricExporter",{enumerable:!0,get:function(){return oB.InMemoryMetricExporter}});var aB=bO();Object.defineProperty(F,"ConsoleMetricExporter",{enumerable:!0,get:function(){return aB.ConsoleMetricExporter}});var uB=hr();Object.defineProperty(F,"InstrumentType",{enumerable:!0,get:function(){return uB.InstrumentType}});var cB=YO();Object.defineProperty(F,"MeterProvider",{enumerable:!0,get:function(){return cB.MeterProvider}});var Fr=Pl();Object.defineProperty(F,"DefaultAggregation",{enumerable:!0,get:function(){return Fr.DefaultAggregation}});Object.defineProperty(F,"ExplicitBucketHistogramAggregation",{enumerable:!0,get:function(){return Fr.ExplicitBucketHistogramAggregation}});Object.defineProperty(F,"ExponentialHistogramAggregation",{enumerable:!0,get:function(){return Fr.ExponentialHistogramAggregation}});Object.defineProperty(F,"DropAggregation",{enumerable:!0,get:function(){return Fr.DropAggregation}});Object.defineProperty(F,"HistogramAggregation",{enumerable:!0,get:function(){return Fr.HistogramAggregation}});Object.defineProperty(F,"LastValueAggregation",{enumerable:!0,get:function(){return Fr.LastValueAggregation}});Object.defineProperty(F,"SumAggregation",{enumerable:!0,get:function(){return Fr.SumAggregation}});Object.defineProperty(F,"Aggregation",{enumerable:!0,get:function(){return Fr.Aggregation}});var lB=eR();Object.defineProperty(F,"View",{enumerable:!0,get:function(){return lB.View}});var hB=nr();Object.defineProperty(F,"TimeoutError",{enumerable:!0,get:function(){return hB.TimeoutError}})});var oR=c(Vr=>{"use strict";Object.defineProperty(Vr,"__esModule",{value:!0});Vr.toMetric=Vr.toScopeMetrics=Vr.toResourceMetrics=void 0;var rR=_(),di=B(),hi=tR(),nh=wo();function dB(r){return{resource:{attributes:(0,nh.toAttributes)(r.resource.attributes),droppedAttributesCount:0},schemaUrl:void 0,scopeMetrics:sR(r.scopeMetrics)}}Vr.toResourceMetrics=dB;function sR(r){return Array.from(r.map(e=>({scope:{name:e.scope.name,version:e.scope.version},metrics:e.metrics.map(t=>iR(t)),schemaUrl:e.scope.schemaUrl})))}Vr.toScopeMetrics=sR;function iR(r){let e={name:r.descriptor.name,description:r.descriptor.description,unit:r.descriptor.unit},t=EB(r.aggregationTemporality);switch(r.dataPointType){case hi.DataPointType.SUM:e.sum={aggregationTemporality:t,isMonotonic:r.isMonotonic,dataPoints:nR(r)};break;case hi.DataPointType.GAUGE:e.gauge={dataPoints:nR(r)};break;case hi.DataPointType.HISTOGRAM:e.histogram={aggregationTemporality:t,dataPoints:fB(r)};break;case hi.DataPointType.EXPONENTIAL_HISTOGRAM:e.exponentialHistogram={aggregationTemporality:t,dataPoints:_B(r)};break}return e}Vr.toMetric=iR;function pB(r,e){let t={attributes:(0,nh.toAttributes)(r.attributes),startTimeUnixNano:(0,di.hrTimeToNanoseconds)(r.startTime),timeUnixNano:(0,di.hrTimeToNanoseconds)(r.endTime)};switch(e){case rR.ValueType.INT:t.asInt=r.value;break;case rR.ValueType.DOUBLE:t.asDouble=r.value;break}return t}function nR(r){return r.dataPoints.map(e=>pB(e,r.descriptor.valueType))}function fB(r){return r.dataPoints.map(e=>{let t=e.value;return{attributes:(0,nh.toAttributes)(e.attributes),bucketCounts:t.buckets.counts,explicitBounds:t.buckets.boundaries,count:t.count,sum:t.sum,min:t.min,max:t.max,startTimeUnixNano:(0,di.hrTimeToNanoseconds)(e.startTime),timeUnixNano:(0,di.hrTimeToNanoseconds)(e.endTime)}})}function _B(r){return r.dataPoints.map(e=>{let t=e.value;return{attributes:(0,nh.toAttributes)(e.attributes),count:t.count,min:t.min,max:t.max,sum:t.sum,positive:{offset:t.positive.offset,bucketCounts:t.positive.bucketCounts},negative:{offset:t.negative.offset,bucketCounts:t.negative.bucketCounts},scale:t.scale,zeroCount:t.zeroCount,startTimeUnixNano:(0,di.hrTimeToNanoseconds)(e.startTime),timeUnixNano:(0,di.hrTimeToNanoseconds)(e.endTime)}})}function EB(r){switch(r){case hi.AggregationTemporality.DELTA:return 1;case hi.AggregationTemporality.CUMULATIVE:return 2}}});var aR=c(sh=>{"use strict";Object.defineProperty(sh,"__esModule",{value:!0});sh.createExportMetricsServiceRequest=void 0;var gB=oR();function mB(r){return{resourceMetrics:r.map(e=>(0,gB.toResourceMetrics)(e))}}sh.createExportMetricsServiceRequest=mB});var lR=c(pi=>{"use strict";Object.defineProperty(pi,"__esModule",{value:!0});pi.toLogAttributes=pi.createExportLogsServiceRequest=void 0;var _E=wo(),fE=B();function TB(r,e){return{resourceLogs:vB(r,e)}}pi.createExportLogsServiceRequest=TB;function SB(r){let e=new Map;for(let t of r){let{resource:n,instrumentationScope:{name:s,version:i="",schemaUrl:o=""}}=t,a=e.get(n);a||(a=new Map,e.set(n,a));let u=`${s}@${i}:${o}`,l=a.get(u);l||(l=[],a.set(u,l)),l.push(t)}return e}function vB(r,e){let t=SB(r);return Array.from(t,([n,s])=>({resource:{attributes:(0,_E.toAttributes)(n.attributes),droppedAttributesCount:0},scopeLogs:Array.from(s,([,i])=>{let{instrumentationScope:{name:o,version:a,schemaUrl:u}}=i[0];return{scope:{name:o,version:a},logRecords:i.map(l=>AB(l,e)),schemaUrl:u}}),schemaUrl:void 0}))}function AB(r,e){var t,n,s,i,o;return{timeUnixNano:(0,fE.hrTimeToNanoseconds)(r.hrTime),observedTimeUnixNano:(0,fE.hrTimeToNanoseconds)(r.hrTimeObserved),severityNumber:r.severityNumber,severityText:r.severityText,body:(0,_E.toAnyValue)(r.body),attributes:cR(r.attributes),droppedAttributesCount:0,flags:(t=r.spanContext)===null||t===void 0?void 0:t.traceFlags,traceId:e?(n=r.spanContext)===null||n===void 0?void 0:n.traceId:uR((s=r.spanContext)===null||s===void 0?void 0:s.traceId),spanId:e?(i=r.spanContext)===null||i===void 0?void 0:i.spanId:uR((o=r.spanContext)===null||o===void 0?void 0:o.spanId)}}function uR(r){if(r!==void 0)return(0,fE.hexToBase64)(r)}function cR(r){return Object.keys(r).map(e=>(0,_E.toKeyValue)(e,r[e]))}pi.toLogAttributes=cR});var hR=c(qe=>{"use strict";var OB=qe&&qe.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Yo=qe&&qe.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&OB(e,r,t)};Object.defineProperty(qe,"__esModule",{value:!0});qe.createExportLogsServiceRequest=qe.createExportMetricsServiceRequest=qe.createExportTraceServiceRequest=void 0;Yo(jA(),qe);Yo(GA(),qe);Yo(FA(),qe);Yo(VA(),qe);Yo(XA(),qe);var RB=YA();Object.defineProperty(qe,"createExportTraceServiceRequest",{enumerable:!0,get:function(){return RB.createExportTraceServiceRequest}});var IB=aR();Object.defineProperty(qe,"createExportMetricsServiceRequest",{enumerable:!0,get:function(){return IB.createExportMetricsServiceRequest}});var bB=lR();Object.defineProperty(qe,"createExportLogsServiceRequest",{enumerable:!0,get:function(){return bB.createExportLogsServiceRequest}})});var dR=c(ih=>{"use strict";Object.defineProperty(ih,"__esModule",{value:!0});ih.VERSION=void 0;ih.VERSION="0.40.0"});var _R=c(oh=>{"use strict";Object.defineProperty(oh,"__esModule",{value:!0});oh.OTLPTraceExporter=void 0;var fi=B(),PB=d_(),pR=d_(),yB=hR(),NB=dR(),fR="v1/traces",LB=`http://localhost:4318/${fR}`,CB={"User-Agent":`OTel-OTLP-Exporter-JavaScript/${NB.VERSION}`},EE=class extends PB.OTLPExporterNodeBase{constructor(e={}){super(e),this.headers=Object.assign(Object.assign(Object.assign({},this.headers),CB),fi.baggageUtils.parseKeyPairsIntoRecord((0,fi.getEnv)().OTEL_EXPORTER_OTLP_TRACES_HEADERS))}convert(e){return(0,yB.createExportTraceServiceRequest)(e,!0)}getDefaultUrl(e){return typeof e.url=="string"?e.url:(0,fi.getEnv)().OTEL_EXPORTER_OTLP_TRACES_ENDPOINT.length>0?(0,pR.appendRootPathToUrlIfNeeded)((0,fi.getEnv)().OTEL_EXPORTER_OTLP_TRACES_ENDPOINT):(0,fi.getEnv)().OTEL_EXPORTER_OTLP_ENDPOINT.length>0?(0,pR.appendResourcePathToUrl)((0,fi.getEnv)().OTEL_EXPORTER_OTLP_ENDPOINT,fR):LB}};oh.OTLPTraceExporter=EE});var ER=c(qn=>{"use strict";var MB=qn&&qn.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),wB=qn&&qn.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&MB(e,r,t)};Object.defineProperty(qn,"__esModule",{value:!0});wB(_R(),qn)});var gR=c(xn=>{"use strict";var qB=xn&&xn.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),xB=xn&&xn.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&qB(e,r,t)};Object.defineProperty(xn,"__esModule",{value:!0});xB(ER(),xn)});var mR=c(Dn=>{"use strict";var DB=Dn&&Dn.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),$B=Dn&&Dn.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&DB(e,r,t)};Object.defineProperty(Dn,"__esModule",{value:!0});$B(gR(),Dn)});var mE=c(ah=>{"use strict";Object.defineProperty(ah,"__esModule",{value:!0});ah.AbstractAsyncHooksContextManager=void 0;var jB=require("events"),UB=["addListener","on","once","prependListener","prependOnceListener"],gE=class{constructor(){this._kOtListeners=Symbol("OtListeners"),this._wrapped=!1}bind(e,t){return t instanceof jB.EventEmitter?this._bindEventEmitter(e,t):typeof t=="function"?this._bindFunction(e,t):t}_bindFunction(e,t){let n=this,s=function(...i){return n.with(e,()=>t.apply(this,i))};return Object.defineProperty(s,"length",{enumerable:!1,configurable:!0,writable:!1,value:t.length}),s}_bindEventEmitter(e,t){return this._getPatchMap(t)!==void 0||(this._createPatchMap(t),UB.forEach(s=>{t[s]!==void 0&&(t[s]=this._patchAddListener(t,t[s],e))}),typeof t.removeListener=="function"&&(t.removeListener=this._patchRemoveListener(t,t.removeListener)),typeof t.off=="function"&&(t.off=this._patchRemoveListener(t,t.off)),typeof t.removeAllListeners=="function"&&(t.removeAllListeners=this._patchRemoveAllListeners(t,t.removeAllListeners))),t}_patchRemoveListener(e,t){let n=this;return function(s,i){var o;let a=(o=n._getPatchMap(e))===null||o===void 0?void 0:o[s];if(a===void 0)return t.call(this,s,i);let u=a.get(i);return t.call(this,s,u||i)}}_patchRemoveAllListeners(e,t){let n=this;return function(s){let i=n._getPatchMap(e);return i!==void 0&&(arguments.length===0?n._createPatchMap(e):i[s]!==void 0&&delete i[s]),t.apply(this,arguments)}}_patchAddListener(e,t,n){let s=this;return function(i,o){if(s._wrapped)return t.call(this,i,o);let a=s._getPatchMap(e);a===void 0&&(a=s._createPatchMap(e));let u=a[i];u===void 0&&(u=new WeakMap,a[i]=u);let l=s.bind(n,o);u.set(o,l),s._wrapped=!0;try{return t.call(this,i,l)}finally{s._wrapped=!1}}}_createPatchMap(e){let t=Object.create(null);return e[this._kOtListeners]=t,t}_getPatchMap(e){return e[this._kOtListeners]}};ah.AbstractAsyncHooksContextManager=gE});var TR=c(uh=>{"use strict";Object.defineProperty(uh,"__esModule",{value:!0});uh.AsyncHooksContextManager=void 0;var GB=_(),BB=require("async_hooks"),FB=mE(),TE=class extends FB.AbstractAsyncHooksContextManager{constructor(){super(),this._contexts=new Map,this._stack=[],this._asyncHook=BB.createHook({init:this._init.bind(this),before:this._before.bind(this),after:this._after.bind(this),destroy:this._destroy.bind(this),promiseResolve:this._destroy.bind(this)})}active(){var e;return(e=this._stack[this._stack.length-1])!==null&&e!==void 0?e:GB.ROOT_CONTEXT}with(e,t,n,...s){this._enterContext(e);try{return t.call(n,...s)}finally{this._exitContext()}}enable(){return this._asyncHook.enable(),this}disable(){return this._asyncHook.disable(),this._contexts.clear(),this._stack=[],this}_init(e,t){if(t==="TIMERWRAP")return;let n=this._stack[this._stack.length-1];n!==void 0&&this._contexts.set(e,n)}_destroy(e){this._contexts.delete(e)}_before(e){let t=this._contexts.get(e);t!==void 0&&this._enterContext(t)}_after(){this._exitContext()}_enterContext(e){this._stack.push(e)}_exitContext(){this._stack.pop()}};uh.AsyncHooksContextManager=TE});var SR=c(ch=>{"use strict";Object.defineProperty(ch,"__esModule",{value:!0});ch.AsyncLocalStorageContextManager=void 0;var VB=_(),HB=require("async_hooks"),XB=mE(),SE=class extends XB.AbstractAsyncHooksContextManager{constructor(){super(),this._asyncLocalStorage=new HB.AsyncLocalStorage}active(){var e;return(e=this._asyncLocalStorage.getStore())!==null&&e!==void 0?e:VB.ROOT_CONTEXT}with(e,t,n,...s){let i=n==null?t:t.bind(n);return this._asyncLocalStorage.run(e,i,...s)}enable(){return this}disable(){return this._asyncLocalStorage.disable(),this}};ch.AsyncLocalStorageContextManager=SE});var AR=c(Hr=>{"use strict";var WB=Hr&&Hr.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),vR=Hr&&Hr.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&WB(e,r,t)};Object.defineProperty(Hr,"__esModule",{value:!0});vR(TR(),Hr);vR(SR(),Hr)});var vE=c(lh=>{"use strict";Object.defineProperty(lh,"__esModule",{value:!0});lh.B3_DEBUG_FLAG_KEY=void 0;var kB=_();lh.B3_DEBUG_FLAG_KEY=(0,kB.createContextKey)("OpenTelemetry Context Key B3 Debug Flag")});var zo=c(ct=>{"use strict";Object.defineProperty(ct,"__esModule",{value:!0});ct.X_B3_FLAGS=ct.X_B3_PARENT_SPAN_ID=ct.X_B3_SAMPLED=ct.X_B3_SPAN_ID=ct.X_B3_TRACE_ID=ct.B3_CONTEXT_HEADER=void 0;ct.B3_CONTEXT_HEADER="b3";ct.X_B3_TRACE_ID="x-b3-traceid";ct.X_B3_SPAN_ID="x-b3-spanid";ct.X_B3_SAMPLED="x-b3-sampled";ct.X_B3_PARENT_SPAN_ID="x-b3-parentspanid";ct.X_B3_FLAGS="x-b3-flags"});var IR=c(dh=>{"use strict";Object.defineProperty(dh,"__esModule",{value:!0});dh.B3MultiPropagator=void 0;var Gt=_(),KB=B(),OR=vE(),mt=zo(),YB=new Set([!0,"true","True","1",1]),zB=new Set([!1,"false","False","0",0]);function QB(r){return r===Gt.TraceFlags.SAMPLED||r===Gt.TraceFlags.NONE}function ZB(r){return Array.isArray(r)?r[0]:r}function hh(r,e,t){let n=e.get(r,t);return ZB(n)}function JB(r,e){let t=hh(r,e,mt.X_B3_TRACE_ID);return typeof t=="string"?t.padStart(32,"0"):""}function eF(r,e){let t=hh(r,e,mt.X_B3_SPAN_ID);return typeof t=="string"?t:""}function RR(r,e){return hh(r,e,mt.X_B3_FLAGS)==="1"?"1":void 0}function tF(r,e){let t=hh(r,e,mt.X_B3_SAMPLED);if(RR(r,e)==="1"||YB.has(t))return Gt.TraceFlags.SAMPLED;if(t===void 0||zB.has(t))return Gt.TraceFlags.NONE}var AE=class{inject(e,t,n){let s=Gt.trace.getSpanContext(e);if(!s||!(0,Gt.isSpanContextValid)(s)||(0,KB.isTracingSuppressed)(e))return;let i=e.getValue(OR.B3_DEBUG_FLAG_KEY);n.set(t,mt.X_B3_TRACE_ID,s.traceId),n.set(t,mt.X_B3_SPAN_ID,s.spanId),i==="1"?n.set(t,mt.X_B3_FLAGS,i):s.traceFlags!==void 0&&n.set(t,mt.X_B3_SAMPLED,(Gt.TraceFlags.SAMPLED&s.traceFlags)===Gt.TraceFlags.SAMPLED?"1":"0")}extract(e,t,n){let s=JB(t,n),i=eF(t,n),o=tF(t,n),a=RR(t,n);return(0,Gt.isValidTraceId)(s)&&(0,Gt.isValidSpanId)(i)&&QB(o)?(e=e.setValue(OR.B3_DEBUG_FLAG_KEY,a),Gt.trace.setSpanContext(e,{traceId:s,spanId:i,isRemote:!0,traceFlags:o})):e}fields(){return[mt.X_B3_TRACE_ID,mt.X_B3_SPAN_ID,mt.X_B3_FLAGS,mt.X_B3_SAMPLED,mt.X_B3_PARENT_SPAN_ID]}};dh.B3MultiPropagator=AE});var PR=c(ph=>{"use strict";Object.defineProperty(ph,"__esModule",{value:!0});ph.B3SinglePropagator=void 0;var $n=_(),rF=B(),bR=vE(),OE=zo(),nF=/((?:[0-9a-f]{16}){1,2})-([0-9a-f]{16})(?:-([01d](?![0-9a-f])))?(?:-([0-9a-f]{16}))?/,sF="0".repeat(16),iF=new Set(["d","1"]),oF="d";function aF(r){return r.length===32?r:`${sF}${r}`}function uF(r){return r&&iF.has(r)?$n.TraceFlags.SAMPLED:$n.TraceFlags.NONE}var RE=class{inject(e,t,n){let s=$n.trace.getSpanContext(e);if(!s||!(0,$n.isSpanContextValid)(s)||(0,rF.isTracingSuppressed)(e))return;let i=e.getValue(bR.B3_DEBUG_FLAG_KEY)||s.traceFlags&1,o=`${s.traceId}-${s.spanId}-${i}`;n.set(t,OE.B3_CONTEXT_HEADER,o)}extract(e,t,n){let s=n.get(t,OE.B3_CONTEXT_HEADER),i=Array.isArray(s)?s[0]:s;if(typeof i!="string")return e;let o=i.match(nF);if(!o)return e;let[,a,u,l]=o,h=aF(a);if(!(0,$n.isValidTraceId)(h)||!(0,$n.isValidSpanId)(u))return e;let d=uF(l);return l===oF&&(e=e.setValue(bR.B3_DEBUG_FLAG_KEY,l)),$n.trace.setSpanContext(e,{traceId:h,spanId:u,isRemote:!0,traceFlags:d})}fields(){return[OE.B3_CONTEXT_HEADER]}};ph.B3SinglePropagator=RE});var IE=c(Qo=>{"use strict";Object.defineProperty(Qo,"__esModule",{value:!0});Qo.B3InjectEncoding=void 0;var cF;(function(r){r[r.SINGLE_HEADER=0]="SINGLE_HEADER",r[r.MULTI_HEADER=1]="MULTI_HEADER"})(cF=Qo.B3InjectEncoding||(Qo.B3InjectEncoding={}))});var yR=c(fh=>{"use strict";Object.defineProperty(fh,"__esModule",{value:!0});fh.B3Propagator=void 0;var lF=B(),hF=IR(),dF=PR(),pF=zo(),fF=IE(),bE=class{constructor(e={}){this._b3MultiPropagator=new hF.B3MultiPropagator,this._b3SinglePropagator=new dF.B3SinglePropagator,e.injectEncoding===fF.B3InjectEncoding.MULTI_HEADER?(this._inject=this._b3MultiPropagator.inject,this._fields=this._b3MultiPropagator.fields()):(this._inject=this._b3SinglePropagator.inject,this._fields=this._b3SinglePropagator.fields())}inject(e,t,n){(0,lF.isTracingSuppressed)(e)||this._inject(e,t,n)}extract(e,t,n){let s=n.get(t,pF.B3_CONTEXT_HEADER);return(Array.isArray(s)?s[0]:s)?this._b3SinglePropagator.extract(e,t,n):this._b3MultiPropagator.extract(e,t,n)}fields(){return this._fields}};fh.B3Propagator=bE});var NR=c(fr=>{"use strict";var _F=fr&&fr.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),PE=fr&&fr.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&_F(e,r,t)};Object.defineProperty(fr,"__esModule",{value:!0});PE(yR(),fr);PE(zo(),fr);PE(IE(),fr)});var Zo=c((gJ,LR)=>{var EF="2.0.0",gF=Number.MAX_SAFE_INTEGER||9007199254740991,mF=16,TF=["major","premajor","minor","preminor","patch","prepatch","prerelease"];LR.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:mF,MAX_SAFE_INTEGER:gF,RELEASE_TYPES:TF,SEMVER_SPEC_VERSION:EF,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var Jo=c((mJ,CR)=>{var SF=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...r)=>console.error("SEMVER",...r):()=>{};CR.exports=SF});var _i=c((Xr,MR)=>{var{MAX_SAFE_COMPONENT_LENGTH:yE}=Zo(),vF=Jo();Xr=MR.exports={};var AF=Xr.re=[],E=Xr.src=[],g=Xr.t={},OF=0,D=(r,e,t)=>{let n=OF++;vF(r,n,e),g[r]=n,E[n]=e,AF[n]=new RegExp(e,t?"g":void 0)};D("NUMERICIDENTIFIER","0|[1-9]\\d*");D("NUMERICIDENTIFIERLOOSE","[0-9]+");D("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*");D("MAINVERSION",`(${E[g.NUMERICIDENTIFIER]})\\.(${E[g.NUMERICIDENTIFIER]})\\.(${E[g.NUMERICIDENTIFIER]})`);D("MAINVERSIONLOOSE",`(${E[g.NUMERICIDENTIFIERLOOSE]})\\.(${E[g.NUMERICIDENTIFIERLOOSE]})\\.(${E[g.NUMERICIDENTIFIERLOOSE]})`);D("PRERELEASEIDENTIFIER",`(?:${E[g.NUMERICIDENTIFIER]}|${E[g.NONNUMERICIDENTIFIER]})`);D("PRERELEASEIDENTIFIERLOOSE",`(?:${E[g.NUMERICIDENTIFIERLOOSE]}|${E[g.NONNUMERICIDENTIFIER]})`);D("PRERELEASE",`(?:-(${E[g.PRERELEASEIDENTIFIER]}(?:\\.${E[g.PRERELEASEIDENTIFIER]})*))`);D("PRERELEASELOOSE",`(?:-?(${E[g.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${E[g.PRERELEASEIDENTIFIERLOOSE]})*))`);D("BUILDIDENTIFIER","[0-9A-Za-z-]+");D("BUILD",`(?:\\+(${E[g.BUILDIDENTIFIER]}(?:\\.${E[g.BUILDIDENTIFIER]})*))`);D("FULLPLAIN",`v?${E[g.MAINVERSION]}${E[g.PRERELEASE]}?${E[g.BUILD]}?`);D("FULL",`^${E[g.FULLPLAIN]}$`);D("LOOSEPLAIN",`[v=\\s]*${E[g.MAINVERSIONLOOSE]}${E[g.PRERELEASELOOSE]}?${E[g.BUILD]}?`);D("LOOSE",`^${E[g.LOOSEPLAIN]}$`);D("GTLT","((?:<|>)?=?)");D("XRANGEIDENTIFIERLOOSE",`${E[g.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);D("XRANGEIDENTIFIER",`${E[g.NUMERICIDENTIFIER]}|x|X|\\*`);D("XRANGEPLAIN",`[v=\\s]*(${E[g.XRANGEIDENTIFIER]})(?:\\.(${E[g.XRANGEIDENTIFIER]})(?:\\.(${E[g.XRANGEIDENTIFIER]})(?:${E[g.PRERELEASE]})?${E[g.BUILD]}?)?)?`);D("XRANGEPLAINLOOSE",`[v=\\s]*(${E[g.XRANGEIDENTIFIERLOOSE]})(?:\\.(${E[g.XRANGEIDENTIFIERLOOSE]})(?:\\.(${E[g.XRANGEIDENTIFIERLOOSE]})(?:${E[g.PRERELEASELOOSE]})?${E[g.BUILD]}?)?)?`);D("XRANGE",`^${E[g.GTLT]}\\s*${E[g.XRANGEPLAIN]}$`);D("XRANGELOOSE",`^${E[g.GTLT]}\\s*${E[g.XRANGEPLAINLOOSE]}$`);D("COERCE",`(^|[^\\d])(\\d{1,${yE}})(?:\\.(\\d{1,${yE}}))?(?:\\.(\\d{1,${yE}}))?(?:$|[^\\d])`);D("COERCERTL",E[g.COERCE],!0);D("LONETILDE","(?:~>?)");D("TILDETRIM",`(\\s*)${E[g.LONETILDE]}\\s+`,!0);Xr.tildeTrimReplace="$1~";D("TILDE",`^${E[g.LONETILDE]}${E[g.XRANGEPLAIN]}$`);D("TILDELOOSE",`^${E[g.LONETILDE]}${E[g.XRANGEPLAINLOOSE]}$`);D("LONECARET","(?:\\^)");D("CARETTRIM",`(\\s*)${E[g.LONECARET]}\\s+`,!0);Xr.caretTrimReplace="$1^";D("CARET",`^${E[g.LONECARET]}${E[g.XRANGEPLAIN]}$`);D("CARETLOOSE",`^${E[g.LONECARET]}${E[g.XRANGEPLAINLOOSE]}$`);D("COMPARATORLOOSE",`^${E[g.GTLT]}\\s*(${E[g.LOOSEPLAIN]})$|^$`);D("COMPARATOR",`^${E[g.GTLT]}\\s*(${E[g.FULLPLAIN]})$|^$`);D("COMPARATORTRIM",`(\\s*)${E[g.GTLT]}\\s*(${E[g.LOOSEPLAIN]}|${E[g.XRANGEPLAIN]})`,!0);Xr.comparatorTrimReplace="$1$2$3";D("HYPHENRANGE",`^\\s*(${E[g.XRANGEPLAIN]})\\s+-\\s+(${E[g.XRANGEPLAIN]})\\s*$`);D("HYPHENRANGELOOSE",`^\\s*(${E[g.XRANGEPLAINLOOSE]})\\s+-\\s+(${E[g.XRANGEPLAINLOOSE]})\\s*$`);D("STAR","(<|>)?=?\\s*\\*");D("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");D("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var _h=c((TJ,wR)=>{var RF=Object.freeze({loose:!0}),IF=Object.freeze({}),bF=r=>r?typeof r!="object"?RF:r:IF;wR.exports=bF});var NE=c((SJ,DR)=>{var qR=/^[0-9]+$/,xR=(r,e)=>{let t=qR.test(r),n=qR.test(e);return t&&n&&(r=+r,e=+e),r===e?0:t&&!n?-1:n&&!t?1:r<e?-1:1},PF=(r,e)=>xR(e,r);DR.exports={compareIdentifiers:xR,rcompareIdentifiers:PF}});var He=c((vJ,GR)=>{var Eh=Jo(),{MAX_LENGTH:$R,MAX_SAFE_INTEGER:gh}=Zo(),{re:jR,t:UR}=_i(),yF=_h(),{compareIdentifiers:Ei}=NE(),Tt=class{constructor(e,t){if(t=yF(t),e instanceof Tt){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>$R)throw new TypeError(`version is longer than ${$R} characters`);Eh("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;let n=e.trim().match(t.loose?jR[UR.LOOSE]:jR[UR.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>gh||this.major<0)throw new TypeError("Invalid major version");if(this.minor>gh||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>gh||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(s=>{if(/^[0-9]+$/.test(s)){let i=+s;if(i>=0&&i<gh)return i}return s}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(Eh("SemVer.compare",this.version,this.options,e),!(e instanceof Tt)){if(typeof e=="string"&&e===this.version)return 0;e=new Tt(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof Tt||(e=new Tt(e,this.options)),Ei(this.major,e.major)||Ei(this.minor,e.minor)||Ei(this.patch,e.patch)}comparePre(e){if(e instanceof Tt||(e=new Tt(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{let n=this.prerelease[t],s=e.prerelease[t];if(Eh("prerelease compare",t,n,s),n===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(n===void 0)return-1;if(n===s)continue;return Ei(n,s)}while(++t)}compareBuild(e){e instanceof Tt||(e=new Tt(e,this.options));let t=0;do{let n=this.build[t],s=e.build[t];if(Eh("prerelease compare",t,n,s),n===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(n===void 0)return-1;if(n===s)continue;return Ei(n,s)}while(++t)}inc(e,t,n){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,n),this.inc("pre",t,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",t,n),this.inc("pre",t,n);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let s=Number(n)?1:0;if(!t&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[s];else{let i=this.prerelease.length;for(;--i>=0;)typeof this.prerelease[i]=="number"&&(this.prerelease[i]++,i=-2);if(i===-1){if(t===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(s)}}if(t){let i=[t,s];n===!1&&(i=[t]),Ei(this.prerelease[0],t)===0?isNaN(this.prerelease[1])&&(this.prerelease=i):this.prerelease=i}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.format(),this.raw=this.version,this}};GR.exports=Tt});var jn=c((AJ,FR)=>{var BR=He(),NF=(r,e,t=!1)=>{if(r instanceof BR)return r;try{return new BR(r,e)}catch(n){if(!t)return null;throw n}};FR.exports=NF});var HR=c((OJ,VR)=>{var LF=jn(),CF=(r,e)=>{let t=LF(r,e);return t?t.version:null};VR.exports=CF});var WR=c((RJ,XR)=>{var MF=jn(),wF=(r,e)=>{let t=MF(r.trim().replace(/^[=v]+/,""),e);return t?t.version:null};XR.exports=wF});var YR=c((IJ,KR)=>{var kR=He(),qF=(r,e,t,n,s)=>{typeof t=="string"&&(s=n,n=t,t=void 0);try{return new kR(r instanceof kR?r.version:r,t).inc(e,n,s).version}catch{return null}};KR.exports=qF});var ZR=c((bJ,QR)=>{var zR=jn(),xF=(r,e)=>{let t=zR(r,null,!0),n=zR(e,null,!0),s=t.compare(n);if(s===0)return null;let i=s>0,o=i?t:n,a=i?n:t,u=!!o.prerelease.length,l=u?"pre":"";return t.major!==n.major?l+"major":t.minor!==n.minor?l+"minor":t.patch!==n.patch?l+"patch":u?"prerelease":a.patch?"patch":a.minor?"minor":"major"};QR.exports=xF});var e0=c((PJ,JR)=>{var DF=He(),$F=(r,e)=>new DF(r,e).major;JR.exports=$F});var r0=c((yJ,t0)=>{var jF=He(),UF=(r,e)=>new jF(r,e).minor;t0.exports=UF});var s0=c((NJ,n0)=>{var GF=He(),BF=(r,e)=>new GF(r,e).patch;n0.exports=BF});var o0=c((LJ,i0)=>{var FF=jn(),VF=(r,e)=>{let t=FF(r,e);return t&&t.prerelease.length?t.prerelease:null};i0.exports=VF});var Pt=c((CJ,u0)=>{var a0=He(),HF=(r,e,t)=>new a0(r,t).compare(new a0(e,t));u0.exports=HF});var l0=c((MJ,c0)=>{var XF=Pt(),WF=(r,e,t)=>XF(e,r,t);c0.exports=WF});var d0=c((wJ,h0)=>{var kF=Pt(),KF=(r,e)=>kF(r,e,!0);h0.exports=KF});var mh=c((qJ,f0)=>{var p0=He(),YF=(r,e,t)=>{let n=new p0(r,t),s=new p0(e,t);return n.compare(s)||n.compareBuild(s)};f0.exports=YF});var E0=c((xJ,_0)=>{var zF=mh(),QF=(r,e)=>r.sort((t,n)=>zF(t,n,e));_0.exports=QF});var m0=c((DJ,g0)=>{var ZF=mh(),JF=(r,e)=>r.sort((t,n)=>ZF(n,t,e));g0.exports=JF});var ea=c(($J,T0)=>{var eV=Pt(),tV=(r,e,t)=>eV(r,e,t)>0;T0.exports=tV});var Th=c((jJ,S0)=>{var rV=Pt(),nV=(r,e,t)=>rV(r,e,t)<0;S0.exports=nV});var LE=c((UJ,v0)=>{var sV=Pt(),iV=(r,e,t)=>sV(r,e,t)===0;v0.exports=iV});var CE=c((GJ,A0)=>{var oV=Pt(),aV=(r,e,t)=>oV(r,e,t)!==0;A0.exports=aV});var Sh=c((BJ,O0)=>{var uV=Pt(),cV=(r,e,t)=>uV(r,e,t)>=0;O0.exports=cV});var vh=c((FJ,R0)=>{var lV=Pt(),hV=(r,e,t)=>lV(r,e,t)<=0;R0.exports=hV});var ME=c((VJ,I0)=>{var dV=LE(),pV=CE(),fV=ea(),_V=Sh(),EV=Th(),gV=vh(),mV=(r,e,t,n)=>{switch(e){case"===":return typeof r=="object"&&(r=r.version),typeof t=="object"&&(t=t.version),r===t;case"!==":return typeof r=="object"&&(r=r.version),typeof t=="object"&&(t=t.version),r!==t;case"":case"=":case"==":return dV(r,t,n);case"!=":return pV(r,t,n);case">":return fV(r,t,n);case">=":return _V(r,t,n);case"<":return EV(r,t,n);case"<=":return gV(r,t,n);default:throw new TypeError(`Invalid operator: ${e}`)}};I0.exports=mV});var P0=c((HJ,b0)=>{var TV=He(),SV=jn(),{re:Ah,t:Oh}=_i(),vV=(r,e)=>{if(r instanceof TV)return r;if(typeof r=="number"&&(r=String(r)),typeof r!="string")return null;e=e||{};let t=null;if(!e.rtl)t=r.match(Ah[Oh.COERCE]);else{let n;for(;(n=Ah[Oh.COERCERTL].exec(r))&&(!t||t.index+t[0].length!==r.length);)(!t||n.index+n[0].length!==t.index+t[0].length)&&(t=n),Ah[Oh.COERCERTL].lastIndex=n.index+n[1].length+n[2].length;Ah[Oh.COERCERTL].lastIndex=-1}return t===null?null:SV(`${t[2]}.${t[3]||"0"}.${t[4]||"0"}`,e)};b0.exports=vV});var N0=c((XJ,y0)=>{"use strict";y0.exports=function(r){r.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}});var C0=c((WJ,L0)=>{"use strict";L0.exports=W;W.Node=Un;W.create=W;function W(r){var e=this;if(e instanceof W||(e=new W),e.tail=null,e.head=null,e.length=0,r&&typeof r.forEach=="function")r.forEach(function(s){e.push(s)});else if(arguments.length>0)for(var t=0,n=arguments.length;t<n;t++)e.push(arguments[t]);return e}W.prototype.removeNode=function(r){if(r.list!==this)throw new Error("removing node which does not belong to this list");var e=r.next,t=r.prev;return e&&(e.prev=t),t&&(t.next=e),r===this.head&&(this.head=e),r===this.tail&&(this.tail=t),r.list.length--,r.next=null,r.prev=null,r.list=null,e};W.prototype.unshiftNode=function(r){if(r!==this.head){r.list&&r.list.removeNode(r);var e=this.head;r.list=this,r.next=e,e&&(e.prev=r),this.head=r,this.tail||(this.tail=r),this.length++}};W.prototype.pushNode=function(r){if(r!==this.tail){r.list&&r.list.removeNode(r);var e=this.tail;r.list=this,r.prev=e,e&&(e.next=r),this.tail=r,this.head||(this.head=r),this.length++}};W.prototype.push=function(){for(var r=0,e=arguments.length;r<e;r++)OV(this,arguments[r]);return this.length};W.prototype.unshift=function(){for(var r=0,e=arguments.length;r<e;r++)RV(this,arguments[r]);return this.length};W.prototype.pop=function(){if(this.tail){var r=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,r}};W.prototype.shift=function(){if(this.head){var r=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,r}};W.prototype.forEach=function(r,e){e=e||this;for(var t=this.head,n=0;t!==null;n++)r.call(e,t.value,n,this),t=t.next};W.prototype.forEachReverse=function(r,e){e=e||this;for(var t=this.tail,n=this.length-1;t!==null;n--)r.call(e,t.value,n,this),t=t.prev};W.prototype.get=function(r){for(var e=0,t=this.head;t!==null&&e<r;e++)t=t.next;if(e===r&&t!==null)return t.value};W.prototype.getReverse=function(r){for(var e=0,t=this.tail;t!==null&&e<r;e++)t=t.prev;if(e===r&&t!==null)return t.value};W.prototype.map=function(r,e){e=e||this;for(var t=new W,n=this.head;n!==null;)t.push(r.call(e,n.value,this)),n=n.next;return t};W.prototype.mapReverse=function(r,e){e=e||this;for(var t=new W,n=this.tail;n!==null;)t.push(r.call(e,n.value,this)),n=n.prev;return t};W.prototype.reduce=function(r,e){var t,n=this.head;if(arguments.length>1)t=e;else if(this.head)n=this.head.next,t=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var s=0;n!==null;s++)t=r(t,n.value,s),n=n.next;return t};W.prototype.reduceReverse=function(r,e){var t,n=this.tail;if(arguments.length>1)t=e;else if(this.tail)n=this.tail.prev,t=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var s=this.length-1;n!==null;s--)t=r(t,n.value,s),n=n.prev;return t};W.prototype.toArray=function(){for(var r=new Array(this.length),e=0,t=this.head;t!==null;e++)r[e]=t.value,t=t.next;return r};W.prototype.toArrayReverse=function(){for(var r=new Array(this.length),e=0,t=this.tail;t!==null;e++)r[e]=t.value,t=t.prev;return r};W.prototype.slice=function(r,e){e=e||this.length,e<0&&(e+=this.length),r=r||0,r<0&&(r+=this.length);var t=new W;if(e<r||e<0)return t;r<0&&(r=0),e>this.length&&(e=this.length);for(var n=0,s=this.head;s!==null&&n<r;n++)s=s.next;for(;s!==null&&n<e;n++,s=s.next)t.push(s.value);return t};W.prototype.sliceReverse=function(r,e){e=e||this.length,e<0&&(e+=this.length),r=r||0,r<0&&(r+=this.length);var t=new W;if(e<r||e<0)return t;r<0&&(r=0),e>this.length&&(e=this.length);for(var n=this.length,s=this.tail;s!==null&&n>e;n--)s=s.prev;for(;s!==null&&n>r;n--,s=s.prev)t.push(s.value);return t};W.prototype.splice=function(r,e,...t){r>this.length&&(r=this.length-1),r<0&&(r=this.length+r);for(var n=0,s=this.head;s!==null&&n<r;n++)s=s.next;for(var i=[],n=0;s&&n<e;n++)i.push(s.value),s=this.removeNode(s);s===null&&(s=this.tail),s!==this.head&&s!==this.tail&&(s=s.prev);for(var n=0;n<t.length;n++)s=AV(this,s,t[n]);return i};W.prototype.reverse=function(){for(var r=this.head,e=this.tail,t=r;t!==null;t=t.prev){var n=t.prev;t.prev=t.next,t.next=n}return this.head=e,this.tail=r,this};function AV(r,e,t){var n=e===r.head?new Un(t,null,e,r):new Un(t,e,e.next,r);return n.next===null&&(r.tail=n),n.prev===null&&(r.head=n),r.length++,n}function OV(r,e){r.tail=new Un(e,r.tail,null,r),r.head||(r.head=r.tail),r.length++}function RV(r,e){r.head=new Un(e,null,r.head,r),r.tail||(r.tail=r.head),r.length++}function Un(r,e,t,n){if(!(this instanceof Un))return new Un(r,e,t,n);this.list=n,this.value=r,e?(e.next=this,this.prev=e):this.prev=null,t?(t.prev=this,this.next=t):this.next=null}try{N0()(W)}catch{}});var D0=c((kJ,x0)=>{"use strict";var IV=C0(),Gn=Symbol("max"),Er=Symbol("length"),gi=Symbol("lengthCalculator"),ra=Symbol("allowStale"),Bn=Symbol("maxAge"),_r=Symbol("dispose"),M0=Symbol("noDisposeOnSet"),Re=Symbol("lruList"),Bt=Symbol("cache"),q0=Symbol("updateAgeOnGet"),wE=()=>1,xE=class{constructor(e){if(typeof e=="number"&&(e={max:e}),e||(e={}),e.max&&(typeof e.max!="number"||e.max<0))throw new TypeError("max must be a non-negative number");let t=this[Gn]=e.max||1/0,n=e.length||wE;if(this[gi]=typeof n!="function"?wE:n,this[ra]=e.stale||!1,e.maxAge&&typeof e.maxAge!="number")throw new TypeError("maxAge must be a number");this[Bn]=e.maxAge||0,this[_r]=e.dispose,this[M0]=e.noDisposeOnSet||!1,this[q0]=e.updateAgeOnGet||!1,this.reset()}set max(e){if(typeof e!="number"||e<0)throw new TypeError("max must be a non-negative number");this[Gn]=e||1/0,ta(this)}get max(){return this[Gn]}set allowStale(e){this[ra]=!!e}get allowStale(){return this[ra]}set maxAge(e){if(typeof e!="number")throw new TypeError("maxAge must be a non-negative number");this[Bn]=e,ta(this)}get maxAge(){return this[Bn]}set lengthCalculator(e){typeof e!="function"&&(e=wE),e!==this[gi]&&(this[gi]=e,this[Er]=0,this[Re].forEach(t=>{t.length=this[gi](t.value,t.key),this[Er]+=t.length})),ta(this)}get lengthCalculator(){return this[gi]}get length(){return this[Er]}get itemCount(){return this[Re].length}rforEach(e,t){t=t||this;for(let n=this[Re].tail;n!==null;){let s=n.prev;w0(this,e,n,t),n=s}}forEach(e,t){t=t||this;for(let n=this[Re].head;n!==null;){let s=n.next;w0(this,e,n,t),n=s}}keys(){return this[Re].toArray().map(e=>e.key)}values(){return this[Re].toArray().map(e=>e.value)}reset(){this[_r]&&this[Re]&&this[Re].length&&this[Re].forEach(e=>this[_r](e.key,e.value)),this[Bt]=new Map,this[Re]=new IV,this[Er]=0}dump(){return this[Re].map(e=>Rh(this,e)?!1:{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[Re]}set(e,t,n){if(n=n||this[Bn],n&&typeof n!="number")throw new TypeError("maxAge must be a number");let s=n?Date.now():0,i=this[gi](t,e);if(this[Bt].has(e)){if(i>this[Gn])return mi(this,this[Bt].get(e)),!1;let u=this[Bt].get(e).value;return this[_r]&&(this[M0]||this[_r](e,u.value)),u.now=s,u.maxAge=n,u.value=t,this[Er]+=i-u.length,u.length=i,this.get(e),ta(this),!0}let o=new DE(e,t,i,s,n);return o.length>this[Gn]?(this[_r]&&this[_r](e,t),!1):(this[Er]+=o.length,this[Re].unshift(o),this[Bt].set(e,this[Re].head),ta(this),!0)}has(e){if(!this[Bt].has(e))return!1;let t=this[Bt].get(e).value;return!Rh(this,t)}get(e){return qE(this,e,!0)}peek(e){return qE(this,e,!1)}pop(){let e=this[Re].tail;return e?(mi(this,e),e.value):null}del(e){mi(this,this[Bt].get(e))}load(e){this.reset();let t=Date.now();for(let n=e.length-1;n>=0;n--){let s=e[n],i=s.e||0;if(i===0)this.set(s.k,s.v);else{let o=i-t;o>0&&this.set(s.k,s.v,o)}}}prune(){this[Bt].forEach((e,t)=>qE(this,t,!1))}},qE=(r,e,t)=>{let n=r[Bt].get(e);if(n){let s=n.value;if(Rh(r,s)){if(mi(r,n),!r[ra])return}else t&&(r[q0]&&(n.value.now=Date.now()),r[Re].unshiftNode(n));return s.value}},Rh=(r,e)=>{if(!e||!e.maxAge&&!r[Bn])return!1;let t=Date.now()-e.now;return e.maxAge?t>e.maxAge:r[Bn]&&t>r[Bn]},ta=r=>{if(r[Er]>r[Gn])for(let e=r[Re].tail;r[Er]>r[Gn]&&e!==null;){let t=e.prev;mi(r,e),e=t}},mi=(r,e)=>{if(e){let t=e.value;r[_r]&&r[_r](t.key,t.value),r[Er]-=t.length,r[Bt].delete(t.key),r[Re].removeNode(e)}},DE=class{constructor(e,t,n,s,i){this.key=e,this.value=t,this.length=n,this.now=s,this.maxAge=i||0}},w0=(r,e,t,n)=>{let s=t.value;Rh(r,s)&&(mi(r,t),r[ra]||(s=void 0)),s&&e.call(n,s.value,s.key,r)};x0.exports=xE});var yt=c((KJ,G0)=>{var Fn=class{constructor(e,t){if(t=PV(t),e instanceof Fn)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new Fn(e.raw,t);if(e instanceof $E)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split("||").map(n=>this.parseRange(n.trim())).filter(n=>n.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${e}`);if(this.set.length>1){let n=this.set[0];if(this.set=this.set.filter(s=>!j0(s[0])),this.set.length===0)this.set=[n];else if(this.set.length>1){for(let s of this.set)if(s.length===1&&qV(s[0])){this.set=[s];break}}}this.format()}format(){return this.range=this.set.map(e=>e.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(e){e=e.trim();let n=((this.options.includePrerelease&&MV)|(this.options.loose&&wV))+":"+e,s=$0.get(n);if(s)return s;let i=this.options.loose,o=i?lt[Qe.HYPHENRANGELOOSE]:lt[Qe.HYPHENRANGE];e=e.replace(o,HV(this.options.includePrerelease)),pe("hyphen replace",e),e=e.replace(lt[Qe.COMPARATORTRIM],NV),pe("comparator trim",e),e=e.replace(lt[Qe.TILDETRIM],LV),e=e.replace(lt[Qe.CARETTRIM],CV),e=e.split(/\s+/).join(" ");let a=e.split(" ").map(d=>xV(d,this.options)).join(" ").split(/\s+/).map(d=>VV(d,this.options));i&&(a=a.filter(d=>(pe("loose invalid filter",d,this.options),!!d.match(lt[Qe.COMPARATORLOOSE])))),pe("range list",a);let u=new Map,l=a.map(d=>new $E(d,this.options));for(let d of l){if(j0(d))return[d];u.set(d.value,d)}u.size>1&&u.has("")&&u.delete("");let h=[...u.values()];return $0.set(n,h),h}intersects(e,t){if(!(e instanceof Fn))throw new TypeError("a Range is required");return this.set.some(n=>U0(n,t)&&e.set.some(s=>U0(s,t)&&n.every(i=>s.every(o=>i.intersects(o,t)))))}test(e){if(!e)return!1;if(typeof e=="string")try{e=new yV(e,this.options)}catch{return!1}for(let t=0;t<this.set.length;t++)if(XV(this.set[t],e,this.options))return!0;return!1}};G0.exports=Fn;var bV=D0(),$0=new bV({max:1e3}),PV=_h(),$E=na(),pe=Jo(),yV=He(),{re:lt,t:Qe,comparatorTrimReplace:NV,tildeTrimReplace:LV,caretTrimReplace:CV}=_i(),{FLAG_INCLUDE_PRERELEASE:MV,FLAG_LOOSE:wV}=Zo(),j0=r=>r.value==="<0.0.0-0",qV=r=>r.value==="",U0=(r,e)=>{let t=!0,n=r.slice(),s=n.pop();for(;t&&n.length;)t=n.every(i=>s.intersects(i,e)),s=n.pop();return t},xV=(r,e)=>(pe("comp",r,e),r=jV(r,e),pe("caret",r),r=DV(r,e),pe("tildes",r),r=GV(r,e),pe("xrange",r),r=FV(r,e),pe("stars",r),r),Ze=r=>!r||r.toLowerCase()==="x"||r==="*",DV=(r,e)=>r.trim().split(/\s+/).map(t=>$V(t,e)).join(" "),$V=(r,e)=>{let t=e.loose?lt[Qe.TILDELOOSE]:lt[Qe.TILDE];return r.replace(t,(n,s,i,o,a)=>{pe("tilde",r,n,s,i,o,a);let u;return Ze(s)?u="":Ze(i)?u=`>=${s}.0.0 <${+s+1}.0.0-0`:Ze(o)?u=`>=${s}.${i}.0 <${s}.${+i+1}.0-0`:a?(pe("replaceTilde pr",a),u=`>=${s}.${i}.${o}-${a} <${s}.${+i+1}.0-0`):u=`>=${s}.${i}.${o} <${s}.${+i+1}.0-0`,pe("tilde return",u),u})},jV=(r,e)=>r.trim().split(/\s+/).map(t=>UV(t,e)).join(" "),UV=(r,e)=>{pe("caret",r,e);let t=e.loose?lt[Qe.CARETLOOSE]:lt[Qe.CARET],n=e.includePrerelease?"-0":"";return r.replace(t,(s,i,o,a,u)=>{pe("caret",r,s,i,o,a,u);let l;return Ze(i)?l="":Ze(o)?l=`>=${i}.0.0${n} <${+i+1}.0.0-0`:Ze(a)?i==="0"?l=`>=${i}.${o}.0${n} <${i}.${+o+1}.0-0`:l=`>=${i}.${o}.0${n} <${+i+1}.0.0-0`:u?(pe("replaceCaret pr",u),i==="0"?o==="0"?l=`>=${i}.${o}.${a}-${u} <${i}.${o}.${+a+1}-0`:l=`>=${i}.${o}.${a}-${u} <${i}.${+o+1}.0-0`:l=`>=${i}.${o}.${a}-${u} <${+i+1}.0.0-0`):(pe("no pr"),i==="0"?o==="0"?l=`>=${i}.${o}.${a}${n} <${i}.${o}.${+a+1}-0`:l=`>=${i}.${o}.${a}${n} <${i}.${+o+1}.0-0`:l=`>=${i}.${o}.${a} <${+i+1}.0.0-0`),pe("caret return",l),l})},GV=(r,e)=>(pe("replaceXRanges",r,e),r.split(/\s+/).map(t=>BV(t,e)).join(" ")),BV=(r,e)=>{r=r.trim();let t=e.loose?lt[Qe.XRANGELOOSE]:lt[Qe.XRANGE];return r.replace(t,(n,s,i,o,a,u)=>{pe("xRange",r,n,s,i,o,a,u);let l=Ze(i),h=l||Ze(o),d=h||Ze(a),f=d;return s==="="&&f&&(s=""),u=e.includePrerelease?"-0":"",l?s===">"||s==="<"?n="<0.0.0-0":n="*":s&&f?(h&&(o=0),a=0,s===">"?(s=">=",h?(i=+i+1,o=0,a=0):(o=+o+1,a=0)):s==="<="&&(s="<",h?i=+i+1:o=+o+1),s==="<"&&(u="-0"),n=`${s+i}.${o}.${a}${u}`):h?n=`>=${i}.0.0${u} <${+i+1}.0.0-0`:d&&(n=`>=${i}.${o}.0${u} <${i}.${+o+1}.0-0`),pe("xRange return",n),n})},FV=(r,e)=>(pe("replaceStars",r,e),r.trim().replace(lt[Qe.STAR],"")),VV=(r,e)=>(pe("replaceGTE0",r,e),r.trim().replace(lt[e.includePrerelease?Qe.GTE0PRE:Qe.GTE0],"")),HV=r=>(e,t,n,s,i,o,a,u,l,h,d,f,p)=>(Ze(n)?t="":Ze(s)?t=`>=${n}.0.0${r?"-0":""}`:Ze(i)?t=`>=${n}.${s}.0${r?"-0":""}`:o?t=`>=${t}`:t=`>=${t}${r?"-0":""}`,Ze(l)?u="":Ze(h)?u=`<${+l+1}.0.0-0`:Ze(d)?u=`<${l}.${+h+1}.0-0`:f?u=`<=${l}.${h}.${d}-${f}`:r?u=`<${l}.${h}.${+d+1}-0`:u=`<=${u}`,`${t} ${u}`.trim()),XV=(r,e,t)=>{for(let n=0;n<r.length;n++)if(!r[n].test(e))return!1;if(e.prerelease.length&&!t.includePrerelease){for(let n=0;n<r.length;n++)if(pe(r[n].semver),r[n].semver!==$E.ANY&&r[n].semver.prerelease.length>0){let s=r[n].semver;if(s.major===e.major&&s.minor===e.minor&&s.patch===e.patch)return!0}return!1}return!0}});var na=c((YJ,W0)=>{var sa=Symbol("SemVer ANY"),Ti=class{static get ANY(){return sa}constructor(e,t){if(t=B0(t),e instanceof Ti){if(e.loose===!!t.loose)return e;e=e.value}UE("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===sa?this.value="":this.value=this.operator+this.semver.version,UE("comp",this)}parse(e){let t=this.options.loose?F0[V0.COMPARATORLOOSE]:F0[V0.COMPARATOR],n=e.match(t);if(!n)throw new TypeError(`Invalid comparator: ${e}`);this.operator=n[1]!==void 0?n[1]:"",this.operator==="="&&(this.operator=""),n[2]?this.semver=new H0(n[2],this.options.loose):this.semver=sa}toString(){return this.value}test(e){if(UE("Comparator.test",e,this.options.loose),this.semver===sa||e===sa)return!0;if(typeof e=="string")try{e=new H0(e,this.options)}catch{return!1}return jE(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof Ti))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new X0(e.value,t).test(this.value):e.operator===""?e.value===""?!0:new X0(this.value,t).test(e.semver):(t=B0(t),t.includePrerelease&&(this.value==="<0.0.0-0"||e.value==="<0.0.0-0")||!t.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&e.operator.startsWith(">")||this.operator.startsWith("<")&&e.operator.startsWith("<")||this.semver.version===e.semver.version&&this.operator.includes("=")&&e.operator.includes("=")||jE(this.semver,"<",e.semver,t)&&this.operator.startsWith(">")&&e.operator.startsWith("<")||jE(this.semver,">",e.semver,t)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))}};W0.exports=Ti;var B0=_h(),{re:F0,t:V0}=_i(),jE=ME(),UE=Jo(),H0=He(),X0=yt()});var ia=c((zJ,k0)=>{var WV=yt(),kV=(r,e,t)=>{try{e=new WV(e,t)}catch{return!1}return e.test(r)};k0.exports=kV});var Y0=c((QJ,K0)=>{var KV=yt(),YV=(r,e)=>new KV(r,e).set.map(t=>t.map(n=>n.value).join(" ").trim().split(" "));K0.exports=YV});var Q0=c((ZJ,z0)=>{var zV=He(),QV=yt(),ZV=(r,e,t)=>{let n=null,s=null,i=null;try{i=new QV(e,t)}catch{return null}return r.forEach(o=>{i.test(o)&&(!n||s.compare(o)===-1)&&(n=o,s=new zV(n,t))}),n};z0.exports=ZV});var J0=c((JJ,Z0)=>{var JV=He(),eH=yt(),tH=(r,e,t)=>{let n=null,s=null,i=null;try{i=new eH(e,t)}catch{return null}return r.forEach(o=>{i.test(o)&&(!n||s.compare(o)===1)&&(n=o,s=new JV(n,t))}),n};Z0.exports=tH});var rI=c((eee,tI)=>{var GE=He(),rH=yt(),eI=ea(),nH=(r,e)=>{r=new rH(r,e);let t=new GE("0.0.0");if(r.test(t)||(t=new GE("0.0.0-0"),r.test(t)))return t;t=null;for(let n=0;n<r.set.length;++n){let s=r.set[n],i=null;s.forEach(o=>{let a=new GE(o.semver.version);switch(o.operator){case">":a.prerelease.length===0?a.patch++:a.prerelease.push(0),a.raw=a.format();case"":case">=":(!i||eI(a,i))&&(i=a);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${o.operator}`)}}),i&&(!t||eI(t,i))&&(t=i)}return t&&r.test(t)?t:null};tI.exports=nH});var sI=c((tee,nI)=>{var sH=yt(),iH=(r,e)=>{try{return new sH(r,e).range||"*"}catch{return null}};nI.exports=iH});var Ih=c((ree,uI)=>{var oH=He(),aI=na(),{ANY:aH}=aI,uH=yt(),cH=ia(),iI=ea(),oI=Th(),lH=vh(),hH=Sh(),dH=(r,e,t,n)=>{r=new oH(r,n),e=new uH(e,n);let s,i,o,a,u;switch(t){case">":s=iI,i=lH,o=oI,a=">",u=">=";break;case"<":s=oI,i=hH,o=iI,a="<",u="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(cH(r,e,n))return!1;for(let l=0;l<e.set.length;++l){let h=e.set[l],d=null,f=null;if(h.forEach(p=>{p.semver===aH&&(p=new aI(">=0.0.0")),d=d||p,f=f||p,s(p.semver,d.semver,n)?d=p:o(p.semver,f.semver,n)&&(f=p)}),d.operator===a||d.operator===u||(!f.operator||f.operator===a)&&i(r,f.semver))return!1;if(f.operator===u&&o(r,f.semver))return!1}return!0};uI.exports=dH});var lI=c((nee,cI)=>{var pH=Ih(),fH=(r,e,t)=>pH(r,e,">",t);cI.exports=fH});var dI=c((see,hI)=>{var _H=Ih(),EH=(r,e,t)=>_H(r,e,"<",t);hI.exports=EH});var _I=c((iee,fI)=>{var pI=yt(),gH=(r,e,t)=>(r=new pI(r,t),e=new pI(e,t),r.intersects(e,t));fI.exports=gH});var gI=c((oee,EI)=>{var mH=ia(),TH=Pt();EI.exports=(r,e,t)=>{let n=[],s=null,i=null,o=r.sort((h,d)=>TH(h,d,t));for(let h of o)mH(h,e,t)?(i=h,s||(s=h)):(i&&n.push([s,i]),i=null,s=null);s&&n.push([s,null]);let a=[];for(let[h,d]of n)h===d?a.push(h):!d&&h===o[0]?a.push("*"):d?h===o[0]?a.push(`<=${d}`):a.push(`${h} - ${d}`):a.push(`>=${h}`);let u=a.join(" || "),l=typeof e.raw=="string"?e.raw:String(e);return u.length<l.length?u:e}});var OI=c((aee,AI)=>{var mI=yt(),FE=na(),{ANY:BE}=FE,oa=ia(),VE=Pt(),SH=(r,e,t={})=>{if(r===e)return!0;r=new mI(r,t),e=new mI(e,t);let n=!1;e:for(let s of r.set){for(let i of e.set){let o=AH(s,i,t);if(n=n||o!==null,o)continue e}if(n)return!1}return!0},vH=[new FE(">=0.0.0-0")],TI=[new FE(">=0.0.0")],AH=(r,e,t)=>{if(r===e)return!0;if(r.length===1&&r[0].semver===BE){if(e.length===1&&e[0].semver===BE)return!0;t.includePrerelease?r=vH:r=TI}if(e.length===1&&e[0].semver===BE){if(t.includePrerelease)return!0;e=TI}let n=new Set,s,i;for(let p of r)p.operator===">"||p.operator===">="?s=SI(s,p,t):p.operator==="<"||p.operator==="<="?i=vI(i,p,t):n.add(p.semver);if(n.size>1)return null;let o;if(s&&i){if(o=VE(s.semver,i.semver,t),o>0)return null;if(o===0&&(s.operator!==">="||i.operator!=="<="))return null}for(let p of n){if(s&&!oa(p,String(s),t)||i&&!oa(p,String(i),t))return null;for(let I of e)if(!oa(p,String(I),t))return!1;return!0}let a,u,l,h,d=i&&!t.includePrerelease&&i.semver.prerelease.length?i.semver:!1,f=s&&!t.includePrerelease&&s.semver.prerelease.length?s.semver:!1;d&&d.prerelease.length===1&&i.operator==="<"&&d.prerelease[0]===0&&(d=!1);for(let p of e){if(h=h||p.operator===">"||p.operator===">=",l=l||p.operator==="<"||p.operator==="<=",s){if(f&&p.semver.prerelease&&p.semver.prerelease.length&&p.semver.major===f.major&&p.semver.minor===f.minor&&p.semver.patch===f.patch&&(f=!1),p.operator===">"||p.operator===">="){if(a=SI(s,p,t),a===p&&a!==s)return!1}else if(s.operator===">="&&!oa(s.semver,String(p),t))return!1}if(i){if(d&&p.semver.prerelease&&p.semver.prerelease.length&&p.semver.major===d.major&&p.semver.minor===d.minor&&p.semver.patch===d.patch&&(d=!1),p.operator==="<"||p.operator==="<="){if(u=vI(i,p,t),u===p&&u!==i)return!1}else if(i.operator==="<="&&!oa(i.semver,String(p),t))return!1}if(!p.operator&&(i||s)&&o!==0)return!1}return!(s&&l&&!i&&o!==0||i&&h&&!s&&o!==0||f||d)},SI=(r,e,t)=>{if(!r)return e;let n=VE(r.semver,e.semver,t);return n>0?r:n<0||e.operator===">"&&r.operator===">="?e:r},vI=(r,e,t)=>{if(!r)return e;let n=VE(r.semver,e.semver,t);return n<0?r:n>0||e.operator==="<"&&r.operator==="<="?e:r};AI.exports=SH});var PI=c((uee,bI)=>{var HE=_i(),RI=Zo(),OH=He(),II=NE(),RH=jn(),IH=HR(),bH=WR(),PH=YR(),yH=ZR(),NH=e0(),LH=r0(),CH=s0(),MH=o0(),wH=Pt(),qH=l0(),xH=d0(),DH=mh(),$H=E0(),jH=m0(),UH=ea(),GH=Th(),BH=LE(),FH=CE(),VH=Sh(),HH=vh(),XH=ME(),WH=P0(),kH=na(),KH=yt(),YH=ia(),zH=Y0(),QH=Q0(),ZH=J0(),JH=rI(),eX=sI(),tX=Ih(),rX=lI(),nX=dI(),sX=_I(),iX=gI(),oX=OI();bI.exports={parse:RH,valid:IH,clean:bH,inc:PH,diff:yH,major:NH,minor:LH,patch:CH,prerelease:MH,compare:wH,rcompare:qH,compareLoose:xH,compareBuild:DH,sort:$H,rsort:jH,gt:UH,lt:GH,eq:BH,neq:FH,gte:VH,lte:HH,cmp:XH,coerce:WH,Comparator:kH,Range:KH,satisfies:YH,toComparators:zH,maxSatisfying:QH,minSatisfying:ZH,minVersion:JH,validRange:eX,outside:tX,gtr:rX,ltr:nX,intersects:sX,simplifyRange:iX,subset:oX,SemVer:OH,re:HE.re,src:HE.src,tokens:HE.t,SEMVER_SPEC_VERSION:RI.SEMVER_SPEC_VERSION,RELEASE_TYPES:RI.RELEASE_TYPES,compareIdentifiers:II.compareIdentifiers,rcompareIdentifiers:II.rcompareIdentifiers}});var yI=c(Ft=>{"use strict";Object.defineProperty(Ft,"__esModule",{value:!0});Ft.JaegerPropagator=Ft.UBER_BAGGAGE_HEADER_PREFIX=Ft.UBER_TRACE_ID_HEADER=void 0;var Vn=_(),aX=B();Ft.UBER_TRACE_ID_HEADER="uber-trace-id";Ft.UBER_BAGGAGE_HEADER_PREFIX="uberctx";var XE=class{constructor(e){typeof e=="string"?(this._jaegerTraceHeader=e,this._jaegerBaggageHeaderPrefix=Ft.UBER_BAGGAGE_HEADER_PREFIX):(this._jaegerTraceHeader=(e==null?void 0:e.customTraceHeader)||Ft.UBER_TRACE_ID_HEADER,this._jaegerBaggageHeaderPrefix=(e==null?void 0:e.customBaggageHeaderPrefix)||Ft.UBER_BAGGAGE_HEADER_PREFIX)}inject(e,t,n){let s=Vn.trace.getSpanContext(e),i=Vn.propagation.getBaggage(e);if(s&&(0,aX.isTracingSuppressed)(e)===!1){let o=`0${(s.traceFlags||Vn.TraceFlags.NONE).toString(16)}`;n.set(t,this._jaegerTraceHeader,`${s.traceId}:${s.spanId}:0:${o}`)}if(i)for(let[o,a]of i.getAllEntries())n.set(t,`${this._jaegerBaggageHeaderPrefix}-${o}`,encodeURIComponent(a.value))}extract(e,t,n){var s;let i=n.get(t,this._jaegerTraceHeader),o=Array.isArray(i)?i[0]:i,a=n.keys(t).filter(h=>h.startsWith(`${this._jaegerBaggageHeaderPrefix}-`)).map(h=>{let d=n.get(t,h);return{key:h.substring(this._jaegerBaggageHeaderPrefix.length+1),value:Array.isArray(d)?d[0]:d}}),u=e;if(typeof o=="string"){let h=cX(o);h&&(u=Vn.trace.setSpanContext(u,h))}if(a.length===0)return u;let l=(s=Vn.propagation.getBaggage(e))!==null&&s!==void 0?s:Vn.propagation.createBaggage();for(let h of a)h.value!==void 0&&(l=l.setEntry(h.key,{value:decodeURIComponent(h.value)}));return u=Vn.propagation.setBaggage(u,l),u}fields(){return[this._jaegerTraceHeader]}};Ft.JaegerPropagator=XE;var uX=/^[0-9a-f]{1,2}$/i;function cX(r){let e=decodeURIComponent(r).split(":");if(e.length!==4)return null;let[t,n,,s]=e,i=t.padStart(32,"0"),o=n.padStart(16,"0"),a=uX.test(s)?parseInt(s,16)&1:1;return{traceId:i,spanId:o,isRemote:!0,traceFlags:a}}});var NI=c(Hn=>{"use strict";var lX=Hn&&Hn.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),hX=Hn&&Hn.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&lX(e,r,t)};Object.defineProperty(Hn,"__esModule",{value:!0});hX(yI(),Hn)});var MI=c(yh=>{"use strict";Object.defineProperty(yh,"__esModule",{value:!0});yh.NodeTracerProvider=void 0;var LI=AR(),bh=NR(),CI=Io(),dX=PI(),pX=NI(),Ph=class extends CI.BasicTracerProvider{constructor(e={}){super(e)}register(e={}){if(e.contextManager===void 0){let t=dX.gte(process.version,"14.8.0")?LI.AsyncLocalStorageContextManager:LI.AsyncHooksContextManager;e.contextManager=new t,e.contextManager.enable()}super.register(e)}};yh.NodeTracerProvider=Ph;Ph._registeredPropagators=new Map([...CI.BasicTracerProvider._registeredPropagators,["b3",()=>new bh.B3Propagator({injectEncoding:bh.B3InjectEncoding.SINGLE_HEADER})],["b3multi",()=>new bh.B3Propagator({injectEncoding:bh.B3InjectEncoding.MULTI_HEADER})],["jaeger",()=>new pX.JaegerPropagator]])});var qI=c(Wr=>{"use strict";var fX=Wr&&Wr.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),wI=Wr&&Wr.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&fX(e,r,t)};Object.defineProperty(Wr,"__esModule",{value:!0});wI(MI(),Wr);wI(Io(),Wr)});var DI=c(kr=>{"use strict";Object.defineProperty(kr,"__esModule",{value:!0});kr.disableInstrumentations=kr.enableInstrumentations=kr.parseInstrumentationOptions=void 0;function xI(r=[]){let e=[];for(let t=0,n=r.length;t<n;t++){let s=r[t];if(Array.isArray(s)){let i=xI(s);e=e.concat(i.instrumentations)}else typeof s=="function"?e.push(new s):s.instrumentationName&&e.push(s)}return{instrumentations:e}}kr.parseInstrumentationOptions=xI;function _X(r,e,t){for(let n=0,s=r.length;n<s;n++){let i=r[n];e&&i.setTracerProvider(e),t&&i.setMeterProvider(t),i.getConfig().enabled||i.enable()}}kr.enableInstrumentations=_X;function EX(r){r.forEach(e=>e.disable())}kr.disableInstrumentations=EX});var jI=c(Nh=>{"use strict";Object.defineProperty(Nh,"__esModule",{value:!0});Nh.registerInstrumentations=void 0;var $I=_(),WE=DI();function gX(r){let{instrumentations:e}=(0,WE.parseInstrumentationOptions)(r.instrumentations),t=r.tracerProvider||$I.trace.getTracerProvider(),n=r.meterProvider||$I.metrics.getMeterProvider();return(0,WE.enableInstrumentations)(e,t,n),()=>{(0,WE.disableInstrumentations)(e)}}Nh.registerInstrumentations=gX});var aa=c((_ee,UI)=>{var mX="2.0.0",TX=Number.MAX_SAFE_INTEGER||9007199254740991,SX=16,vX=["major","premajor","minor","preminor","patch","prepatch","prerelease"];UI.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:SX,MAX_SAFE_INTEGER:TX,RELEASE_TYPES:vX,SEMVER_SPEC_VERSION:mX,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var ua=c((Eee,GI)=>{var AX=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...r)=>console.error("SEMVER",...r):()=>{};GI.exports=AX});var Si=c((Kr,BI)=>{var{MAX_SAFE_COMPONENT_LENGTH:kE}=aa(),OX=ua();Kr=BI.exports={};var RX=Kr.re=[],m=Kr.src=[],T=Kr.t={},IX=0,$=(r,e,t)=>{let n=IX++;OX(r,n,e),T[r]=n,m[n]=e,RX[n]=new RegExp(e,t?"g":void 0)};$("NUMERICIDENTIFIER","0|[1-9]\\d*");$("NUMERICIDENTIFIERLOOSE","[0-9]+");$("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*");$("MAINVERSION",`(${m[T.NUMERICIDENTIFIER]})\\.(${m[T.NUMERICIDENTIFIER]})\\.(${m[T.NUMERICIDENTIFIER]})`);$("MAINVERSIONLOOSE",`(${m[T.NUMERICIDENTIFIERLOOSE]})\\.(${m[T.NUMERICIDENTIFIERLOOSE]})\\.(${m[T.NUMERICIDENTIFIERLOOSE]})`);$("PRERELEASEIDENTIFIER",`(?:${m[T.NUMERICIDENTIFIER]}|${m[T.NONNUMERICIDENTIFIER]})`);$("PRERELEASEIDENTIFIERLOOSE",`(?:${m[T.NUMERICIDENTIFIERLOOSE]}|${m[T.NONNUMERICIDENTIFIER]})`);$("PRERELEASE",`(?:-(${m[T.PRERELEASEIDENTIFIER]}(?:\\.${m[T.PRERELEASEIDENTIFIER]})*))`);$("PRERELEASELOOSE",`(?:-?(${m[T.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${m[T.PRERELEASEIDENTIFIERLOOSE]})*))`);$("BUILDIDENTIFIER","[0-9A-Za-z-]+");$("BUILD",`(?:\\+(${m[T.BUILDIDENTIFIER]}(?:\\.${m[T.BUILDIDENTIFIER]})*))`);$("FULLPLAIN",`v?${m[T.MAINVERSION]}${m[T.PRERELEASE]}?${m[T.BUILD]}?`);$("FULL",`^${m[T.FULLPLAIN]}$`);$("LOOSEPLAIN",`[v=\\s]*${m[T.MAINVERSIONLOOSE]}${m[T.PRERELEASELOOSE]}?${m[T.BUILD]}?`);$("LOOSE",`^${m[T.LOOSEPLAIN]}$`);$("GTLT","((?:<|>)?=?)");$("XRANGEIDENTIFIERLOOSE",`${m[T.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);$("XRANGEIDENTIFIER",`${m[T.NUMERICIDENTIFIER]}|x|X|\\*`);$("XRANGEPLAIN",`[v=\\s]*(${m[T.XRANGEIDENTIFIER]})(?:\\.(${m[T.XRANGEIDENTIFIER]})(?:\\.(${m[T.XRANGEIDENTIFIER]})(?:${m[T.PRERELEASE]})?${m[T.BUILD]}?)?)?`);$("XRANGEPLAINLOOSE",`[v=\\s]*(${m[T.XRANGEIDENTIFIERLOOSE]})(?:\\.(${m[T.XRANGEIDENTIFIERLOOSE]})(?:\\.(${m[T.XRANGEIDENTIFIERLOOSE]})(?:${m[T.PRERELEASELOOSE]})?${m[T.BUILD]}?)?)?`);$("XRANGE",`^${m[T.GTLT]}\\s*${m[T.XRANGEPLAIN]}$`);$("XRANGELOOSE",`^${m[T.GTLT]}\\s*${m[T.XRANGEPLAINLOOSE]}$`);$("COERCE",`(^|[^\\d])(\\d{1,${kE}})(?:\\.(\\d{1,${kE}}))?(?:\\.(\\d{1,${kE}}))?(?:$|[^\\d])`);$("COERCERTL",m[T.COERCE],!0);$("LONETILDE","(?:~>?)");$("TILDETRIM",`(\\s*)${m[T.LONETILDE]}\\s+`,!0);Kr.tildeTrimReplace="$1~";$("TILDE",`^${m[T.LONETILDE]}${m[T.XRANGEPLAIN]}$`);$("TILDELOOSE",`^${m[T.LONETILDE]}${m[T.XRANGEPLAINLOOSE]}$`);$("LONECARET","(?:\\^)");$("CARETTRIM",`(\\s*)${m[T.LONECARET]}\\s+`,!0);Kr.caretTrimReplace="$1^";$("CARET",`^${m[T.LONECARET]}${m[T.XRANGEPLAIN]}$`);$("CARETLOOSE",`^${m[T.LONECARET]}${m[T.XRANGEPLAINLOOSE]}$`);$("COMPARATORLOOSE",`^${m[T.GTLT]}\\s*(${m[T.LOOSEPLAIN]})$|^$`);$("COMPARATOR",`^${m[T.GTLT]}\\s*(${m[T.FULLPLAIN]})$|^$`);$("COMPARATORTRIM",`(\\s*)${m[T.GTLT]}\\s*(${m[T.LOOSEPLAIN]}|${m[T.XRANGEPLAIN]})`,!0);Kr.comparatorTrimReplace="$1$2$3";$("HYPHENRANGE",`^\\s*(${m[T.XRANGEPLAIN]})\\s+-\\s+(${m[T.XRANGEPLAIN]})\\s*$`);$("HYPHENRANGELOOSE",`^\\s*(${m[T.XRANGEPLAINLOOSE]})\\s+-\\s+(${m[T.XRANGEPLAINLOOSE]})\\s*$`);$("STAR","(<|>)?=?\\s*\\*");$("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");$("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var Lh=c((gee,FI)=>{var bX=Object.freeze({loose:!0}),PX=Object.freeze({}),yX=r=>r?typeof r!="object"?bX:r:PX;FI.exports=yX});var KE=c((mee,XI)=>{var VI=/^[0-9]+$/,HI=(r,e)=>{let t=VI.test(r),n=VI.test(e);return t&&n&&(r=+r,e=+e),r===e?0:t&&!n?-1:n&&!t?1:r<e?-1:1},NX=(r,e)=>HI(e,r);XI.exports={compareIdentifiers:HI,rcompareIdentifiers:NX}});var Xe=c((Tee,YI)=>{var Ch=ua(),{MAX_LENGTH:WI,MAX_SAFE_INTEGER:Mh}=aa(),{re:kI,t:KI}=Si(),LX=Lh(),{compareIdentifiers:vi}=KE(),St=class{constructor(e,t){if(t=LX(t),e instanceof St){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>WI)throw new TypeError(`version is longer than ${WI} characters`);Ch("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;let n=e.trim().match(t.loose?kI[KI.LOOSE]:kI[KI.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>Mh||this.major<0)throw new TypeError("Invalid major version");if(this.minor>Mh||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>Mh||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(s=>{if(/^[0-9]+$/.test(s)){let i=+s;if(i>=0&&i<Mh)return i}return s}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(Ch("SemVer.compare",this.version,this.options,e),!(e instanceof St)){if(typeof e=="string"&&e===this.version)return 0;e=new St(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof St||(e=new St(e,this.options)),vi(this.major,e.major)||vi(this.minor,e.minor)||vi(this.patch,e.patch)}comparePre(e){if(e instanceof St||(e=new St(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{let n=this.prerelease[t],s=e.prerelease[t];if(Ch("prerelease compare",t,n,s),n===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(n===void 0)return-1;if(n===s)continue;return vi(n,s)}while(++t)}compareBuild(e){e instanceof St||(e=new St(e,this.options));let t=0;do{let n=this.build[t],s=e.build[t];if(Ch("prerelease compare",t,n,s),n===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(n===void 0)return-1;if(n===s)continue;return vi(n,s)}while(++t)}inc(e,t,n){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,n),this.inc("pre",t,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",t,n),this.inc("pre",t,n);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let s=Number(n)?1:0;if(!t&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[s];else{let i=this.prerelease.length;for(;--i>=0;)typeof this.prerelease[i]=="number"&&(this.prerelease[i]++,i=-2);if(i===-1){if(t===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(s)}}if(t){let i=[t,s];n===!1&&(i=[t]),vi(this.prerelease[0],t)===0?isNaN(this.prerelease[1])&&(this.prerelease=i):this.prerelease=i}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.format(),this.raw=this.version,this}};YI.exports=St});var Xn=c((See,QI)=>{var zI=Xe(),CX=(r,e,t=!1)=>{if(r instanceof zI)return r;try{return new zI(r,e)}catch(n){if(!t)return null;throw n}};QI.exports=CX});var JI=c((vee,ZI)=>{var MX=Xn(),wX=(r,e)=>{let t=MX(r,e);return t?t.version:null};ZI.exports=wX});var tb=c((Aee,eb)=>{var qX=Xn(),xX=(r,e)=>{let t=qX(r.trim().replace(/^[=v]+/,""),e);return t?t.version:null};eb.exports=xX});var sb=c((Oee,nb)=>{var rb=Xe(),DX=(r,e,t,n,s)=>{typeof t=="string"&&(s=n,n=t,t=void 0);try{return new rb(r instanceof rb?r.version:r,t).inc(e,n,s).version}catch{return null}};nb.exports=DX});var ab=c((Ree,ob)=>{var ib=Xn(),$X=(r,e)=>{let t=ib(r,null,!0),n=ib(e,null,!0),s=t.compare(n);if(s===0)return null;let i=s>0,o=i?t:n,a=i?n:t,u=!!o.prerelease.length,l=u?"pre":"";return t.major!==n.major?l+"major":t.minor!==n.minor?l+"minor":t.patch!==n.patch?l+"patch":u?"prerelease":a.patch?"patch":a.minor?"minor":"major"};ob.exports=$X});var cb=c((Iee,ub)=>{var jX=Xe(),UX=(r,e)=>new jX(r,e).major;ub.exports=UX});var hb=c((bee,lb)=>{var GX=Xe(),BX=(r,e)=>new GX(r,e).minor;lb.exports=BX});var pb=c((Pee,db)=>{var FX=Xe(),VX=(r,e)=>new FX(r,e).patch;db.exports=VX});var _b=c((yee,fb)=>{var HX=Xn(),XX=(r,e)=>{let t=HX(r,e);return t&&t.prerelease.length?t.prerelease:null};fb.exports=XX});var Nt=c((Nee,gb)=>{var Eb=Xe(),WX=(r,e,t)=>new Eb(r,t).compare(new Eb(e,t));gb.exports=WX});var Tb=c((Lee,mb)=>{var kX=Nt(),KX=(r,e,t)=>kX(e,r,t);mb.exports=KX});var vb=c((Cee,Sb)=>{var YX=Nt(),zX=(r,e)=>YX(r,e,!0);Sb.exports=zX});var wh=c((Mee,Ob)=>{var Ab=Xe(),QX=(r,e,t)=>{let n=new Ab(r,t),s=new Ab(e,t);return n.compare(s)||n.compareBuild(s)};Ob.exports=QX});var Ib=c((wee,Rb)=>{var ZX=wh(),JX=(r,e)=>r.sort((t,n)=>ZX(t,n,e));Rb.exports=JX});var Pb=c((qee,bb)=>{var e3=wh(),t3=(r,e)=>r.sort((t,n)=>e3(n,t,e));bb.exports=t3});var ca=c((xee,yb)=>{var r3=Nt(),n3=(r,e,t)=>r3(r,e,t)>0;yb.exports=n3});var qh=c((Dee,Nb)=>{var s3=Nt(),i3=(r,e,t)=>s3(r,e,t)<0;Nb.exports=i3});var YE=c(($ee,Lb)=>{var o3=Nt(),a3=(r,e,t)=>o3(r,e,t)===0;Lb.exports=a3});var zE=c((jee,Cb)=>{var u3=Nt(),c3=(r,e,t)=>u3(r,e,t)!==0;Cb.exports=c3});var xh=c((Uee,Mb)=>{var l3=Nt(),h3=(r,e,t)=>l3(r,e,t)>=0;Mb.exports=h3});var Dh=c((Gee,wb)=>{var d3=Nt(),p3=(r,e,t)=>d3(r,e,t)<=0;wb.exports=p3});var QE=c((Bee,qb)=>{var f3=YE(),_3=zE(),E3=ca(),g3=xh(),m3=qh(),T3=Dh(),S3=(r,e,t,n)=>{switch(e){case"===":return typeof r=="object"&&(r=r.version),typeof t=="object"&&(t=t.version),r===t;case"!==":return typeof r=="object"&&(r=r.version),typeof t=="object"&&(t=t.version),r!==t;case"":case"=":case"==":return f3(r,t,n);case"!=":return _3(r,t,n);case">":return E3(r,t,n);case">=":return g3(r,t,n);case"<":return m3(r,t,n);case"<=":return T3(r,t,n);default:throw new TypeError(`Invalid operator: ${e}`)}};qb.exports=S3});var Db=c((Fee,xb)=>{var v3=Xe(),A3=Xn(),{re:$h,t:jh}=Si(),O3=(r,e)=>{if(r instanceof v3)return r;if(typeof r=="number"&&(r=String(r)),typeof r!="string")return null;e=e||{};let t=null;if(!e.rtl)t=r.match($h[jh.COERCE]);else{let n;for(;(n=$h[jh.COERCERTL].exec(r))&&(!t||t.index+t[0].length!==r.length);)(!t||n.index+n[0].length!==t.index+t[0].length)&&(t=n),$h[jh.COERCERTL].lastIndex=n.index+n[1].length+n[2].length;$h[jh.COERCERTL].lastIndex=-1}return t===null?null:A3(`${t[2]}.${t[3]||"0"}.${t[4]||"0"}`,e)};xb.exports=O3});var jb=c((Vee,$b)=>{"use strict";$b.exports=function(r){r.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}});var Gb=c((Hee,Ub)=>{"use strict";Ub.exports=k;k.Node=Wn;k.create=k;function k(r){var e=this;if(e instanceof k||(e=new k),e.tail=null,e.head=null,e.length=0,r&&typeof r.forEach=="function")r.forEach(function(s){e.push(s)});else if(arguments.length>0)for(var t=0,n=arguments.length;t<n;t++)e.push(arguments[t]);return e}k.prototype.removeNode=function(r){if(r.list!==this)throw new Error("removing node which does not belong to this list");var e=r.next,t=r.prev;return e&&(e.prev=t),t&&(t.next=e),r===this.head&&(this.head=e),r===this.tail&&(this.tail=t),r.list.length--,r.next=null,r.prev=null,r.list=null,e};k.prototype.unshiftNode=function(r){if(r!==this.head){r.list&&r.list.removeNode(r);var e=this.head;r.list=this,r.next=e,e&&(e.prev=r),this.head=r,this.tail||(this.tail=r),this.length++}};k.prototype.pushNode=function(r){if(r!==this.tail){r.list&&r.list.removeNode(r);var e=this.tail;r.list=this,r.prev=e,e&&(e.next=r),this.tail=r,this.head||(this.head=r),this.length++}};k.prototype.push=function(){for(var r=0,e=arguments.length;r<e;r++)I3(this,arguments[r]);return this.length};k.prototype.unshift=function(){for(var r=0,e=arguments.length;r<e;r++)b3(this,arguments[r]);return this.length};k.prototype.pop=function(){if(this.tail){var r=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,r}};k.prototype.shift=function(){if(this.head){var r=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,r}};k.prototype.forEach=function(r,e){e=e||this;for(var t=this.head,n=0;t!==null;n++)r.call(e,t.value,n,this),t=t.next};k.prototype.forEachReverse=function(r,e){e=e||this;for(var t=this.tail,n=this.length-1;t!==null;n--)r.call(e,t.value,n,this),t=t.prev};k.prototype.get=function(r){for(var e=0,t=this.head;t!==null&&e<r;e++)t=t.next;if(e===r&&t!==null)return t.value};k.prototype.getReverse=function(r){for(var e=0,t=this.tail;t!==null&&e<r;e++)t=t.prev;if(e===r&&t!==null)return t.value};k.prototype.map=function(r,e){e=e||this;for(var t=new k,n=this.head;n!==null;)t.push(r.call(e,n.value,this)),n=n.next;return t};k.prototype.mapReverse=function(r,e){e=e||this;for(var t=new k,n=this.tail;n!==null;)t.push(r.call(e,n.value,this)),n=n.prev;return t};k.prototype.reduce=function(r,e){var t,n=this.head;if(arguments.length>1)t=e;else if(this.head)n=this.head.next,t=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var s=0;n!==null;s++)t=r(t,n.value,s),n=n.next;return t};k.prototype.reduceReverse=function(r,e){var t,n=this.tail;if(arguments.length>1)t=e;else if(this.tail)n=this.tail.prev,t=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var s=this.length-1;n!==null;s--)t=r(t,n.value,s),n=n.prev;return t};k.prototype.toArray=function(){for(var r=new Array(this.length),e=0,t=this.head;t!==null;e++)r[e]=t.value,t=t.next;return r};k.prototype.toArrayReverse=function(){for(var r=new Array(this.length),e=0,t=this.tail;t!==null;e++)r[e]=t.value,t=t.prev;return r};k.prototype.slice=function(r,e){e=e||this.length,e<0&&(e+=this.length),r=r||0,r<0&&(r+=this.length);var t=new k;if(e<r||e<0)return t;r<0&&(r=0),e>this.length&&(e=this.length);for(var n=0,s=this.head;s!==null&&n<r;n++)s=s.next;for(;s!==null&&n<e;n++,s=s.next)t.push(s.value);return t};k.prototype.sliceReverse=function(r,e){e=e||this.length,e<0&&(e+=this.length),r=r||0,r<0&&(r+=this.length);var t=new k;if(e<r||e<0)return t;r<0&&(r=0),e>this.length&&(e=this.length);for(var n=this.length,s=this.tail;s!==null&&n>e;n--)s=s.prev;for(;s!==null&&n>r;n--,s=s.prev)t.push(s.value);return t};k.prototype.splice=function(r,e,...t){r>this.length&&(r=this.length-1),r<0&&(r=this.length+r);for(var n=0,s=this.head;s!==null&&n<r;n++)s=s.next;for(var i=[],n=0;s&&n<e;n++)i.push(s.value),s=this.removeNode(s);s===null&&(s=this.tail),s!==this.head&&s!==this.tail&&(s=s.prev);for(var n=0;n<t.length;n++)s=R3(this,s,t[n]);return i};k.prototype.reverse=function(){for(var r=this.head,e=this.tail,t=r;t!==null;t=t.prev){var n=t.prev;t.prev=t.next,t.next=n}return this.head=e,this.tail=r,this};function R3(r,e,t){var n=e===r.head?new Wn(t,null,e,r):new Wn(t,e,e.next,r);return n.next===null&&(r.tail=n),n.prev===null&&(r.head=n),r.length++,n}function I3(r,e){r.tail=new Wn(e,r.tail,null,r),r.head||(r.head=r.tail),r.length++}function b3(r,e){r.head=new Wn(e,null,r.head,r),r.tail||(r.tail=r.head),r.length++}function Wn(r,e,t,n){if(!(this instanceof Wn))return new Wn(r,e,t,n);this.list=n,this.value=r,e?(e.next=this,this.prev=e):this.prev=null,t?(t.prev=this,this.next=t):this.next=null}try{jb()(k)}catch{}});var Xb=c((Xee,Hb)=>{"use strict";var P3=Gb(),kn=Symbol("max"),mr=Symbol("length"),Ai=Symbol("lengthCalculator"),ha=Symbol("allowStale"),Kn=Symbol("maxAge"),gr=Symbol("dispose"),Bb=Symbol("noDisposeOnSet"),Ie=Symbol("lruList"),Vt=Symbol("cache"),Vb=Symbol("updateAgeOnGet"),ZE=()=>1,eg=class{constructor(e){if(typeof e=="number"&&(e={max:e}),e||(e={}),e.max&&(typeof e.max!="number"||e.max<0))throw new TypeError("max must be a non-negative number");let t=this[kn]=e.max||1/0,n=e.length||ZE;if(this[Ai]=typeof n!="function"?ZE:n,this[ha]=e.stale||!1,e.maxAge&&typeof e.maxAge!="number")throw new TypeError("maxAge must be a number");this[Kn]=e.maxAge||0,this[gr]=e.dispose,this[Bb]=e.noDisposeOnSet||!1,this[Vb]=e.updateAgeOnGet||!1,this.reset()}set max(e){if(typeof e!="number"||e<0)throw new TypeError("max must be a non-negative number");this[kn]=e||1/0,la(this)}get max(){return this[kn]}set allowStale(e){this[ha]=!!e}get allowStale(){return this[ha]}set maxAge(e){if(typeof e!="number")throw new TypeError("maxAge must be a non-negative number");this[Kn]=e,la(this)}get maxAge(){return this[Kn]}set lengthCalculator(e){typeof e!="function"&&(e=ZE),e!==this[Ai]&&(this[Ai]=e,this[mr]=0,this[Ie].forEach(t=>{t.length=this[Ai](t.value,t.key),this[mr]+=t.length})),la(this)}get lengthCalculator(){return this[Ai]}get length(){return this[mr]}get itemCount(){return this[Ie].length}rforEach(e,t){t=t||this;for(let n=this[Ie].tail;n!==null;){let s=n.prev;Fb(this,e,n,t),n=s}}forEach(e,t){t=t||this;for(let n=this[Ie].head;n!==null;){let s=n.next;Fb(this,e,n,t),n=s}}keys(){return this[Ie].toArray().map(e=>e.key)}values(){return this[Ie].toArray().map(e=>e.value)}reset(){this[gr]&&this[Ie]&&this[Ie].length&&this[Ie].forEach(e=>this[gr](e.key,e.value)),this[Vt]=new Map,this[Ie]=new P3,this[mr]=0}dump(){return this[Ie].map(e=>Uh(this,e)?!1:{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[Ie]}set(e,t,n){if(n=n||this[Kn],n&&typeof n!="number")throw new TypeError("maxAge must be a number");let s=n?Date.now():0,i=this[Ai](t,e);if(this[Vt].has(e)){if(i>this[kn])return Oi(this,this[Vt].get(e)),!1;let u=this[Vt].get(e).value;return this[gr]&&(this[Bb]||this[gr](e,u.value)),u.now=s,u.maxAge=n,u.value=t,this[mr]+=i-u.length,u.length=i,this.get(e),la(this),!0}let o=new tg(e,t,i,s,n);return o.length>this[kn]?(this[gr]&&this[gr](e,t),!1):(this[mr]+=o.length,this[Ie].unshift(o),this[Vt].set(e,this[Ie].head),la(this),!0)}has(e){if(!this[Vt].has(e))return!1;let t=this[Vt].get(e).value;return!Uh(this,t)}get(e){return JE(this,e,!0)}peek(e){return JE(this,e,!1)}pop(){let e=this[Ie].tail;return e?(Oi(this,e),e.value):null}del(e){Oi(this,this[Vt].get(e))}load(e){this.reset();let t=Date.now();for(let n=e.length-1;n>=0;n--){let s=e[n],i=s.e||0;if(i===0)this.set(s.k,s.v);else{let o=i-t;o>0&&this.set(s.k,s.v,o)}}}prune(){this[Vt].forEach((e,t)=>JE(this,t,!1))}},JE=(r,e,t)=>{let n=r[Vt].get(e);if(n){let s=n.value;if(Uh(r,s)){if(Oi(r,n),!r[ha])return}else t&&(r[Vb]&&(n.value.now=Date.now()),r[Ie].unshiftNode(n));return s.value}},Uh=(r,e)=>{if(!e||!e.maxAge&&!r[Kn])return!1;let t=Date.now()-e.now;return e.maxAge?t>e.maxAge:r[Kn]&&t>r[Kn]},la=r=>{if(r[mr]>r[kn])for(let e=r[Ie].tail;r[mr]>r[kn]&&e!==null;){let t=e.prev;Oi(r,e),e=t}},Oi=(r,e)=>{if(e){let t=e.value;r[gr]&&r[gr](t.key,t.value),r[mr]-=t.length,r[Vt].delete(t.key),r[Ie].removeNode(e)}},tg=class{constructor(e,t,n,s,i){this.key=e,this.value=t,this.length=n,this.now=s,this.maxAge=i||0}},Fb=(r,e,t,n)=>{let s=t.value;Uh(r,s)&&(Oi(r,t),r[ha]||(s=void 0)),s&&e.call(n,s.value,s.key,r)};Hb.exports=eg});var Lt=c((Wee,Yb)=>{var Yn=class{constructor(e,t){if(t=N3(t),e instanceof Yn)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new Yn(e.raw,t);if(e instanceof rg)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split("||").map(n=>this.parseRange(n.trim())).filter(n=>n.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${e}`);if(this.set.length>1){let n=this.set[0];if(this.set=this.set.filter(s=>!kb(s[0])),this.set.length===0)this.set=[n];else if(this.set.length>1){for(let s of this.set)if(s.length===1&&D3(s[0])){this.set=[s];break}}}this.format()}format(){return this.range=this.set.map(e=>e.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(e){e=e.trim();let n=((this.options.includePrerelease&&q3)|(this.options.loose&&x3))+":"+e,s=Wb.get(n);if(s)return s;let i=this.options.loose,o=i?ht[Je.HYPHENRANGELOOSE]:ht[Je.HYPHENRANGE];e=e.replace(o,W3(this.options.includePrerelease)),fe("hyphen replace",e),e=e.replace(ht[Je.COMPARATORTRIM],C3),fe("comparator trim",e),e=e.replace(ht[Je.TILDETRIM],M3),e=e.replace(ht[Je.CARETTRIM],w3),e=e.split(/\s+/).join(" ");let a=e.split(" ").map(d=>$3(d,this.options)).join(" ").split(/\s+/).map(d=>X3(d,this.options));i&&(a=a.filter(d=>(fe("loose invalid filter",d,this.options),!!d.match(ht[Je.COMPARATORLOOSE])))),fe("range list",a);let u=new Map,l=a.map(d=>new rg(d,this.options));for(let d of l){if(kb(d))return[d];u.set(d.value,d)}u.size>1&&u.has("")&&u.delete("");let h=[...u.values()];return Wb.set(n,h),h}intersects(e,t){if(!(e instanceof Yn))throw new TypeError("a Range is required");return this.set.some(n=>Kb(n,t)&&e.set.some(s=>Kb(s,t)&&n.every(i=>s.every(o=>i.intersects(o,t)))))}test(e){if(!e)return!1;if(typeof e=="string")try{e=new L3(e,this.options)}catch{return!1}for(let t=0;t<this.set.length;t++)if(k3(this.set[t],e,this.options))return!0;return!1}};Yb.exports=Yn;var y3=Xb(),Wb=new y3({max:1e3}),N3=Lh(),rg=da(),fe=ua(),L3=Xe(),{re:ht,t:Je,comparatorTrimReplace:C3,tildeTrimReplace:M3,caretTrimReplace:w3}=Si(),{FLAG_INCLUDE_PRERELEASE:q3,FLAG_LOOSE:x3}=aa(),kb=r=>r.value==="<0.0.0-0",D3=r=>r.value==="",Kb=(r,e)=>{let t=!0,n=r.slice(),s=n.pop();for(;t&&n.length;)t=n.every(i=>s.intersects(i,e)),s=n.pop();return t},$3=(r,e)=>(fe("comp",r,e),r=G3(r,e),fe("caret",r),r=j3(r,e),fe("tildes",r),r=F3(r,e),fe("xrange",r),r=H3(r,e),fe("stars",r),r),et=r=>!r||r.toLowerCase()==="x"||r==="*",j3=(r,e)=>r.trim().split(/\s+/).map(t=>U3(t,e)).join(" "),U3=(r,e)=>{let t=e.loose?ht[Je.TILDELOOSE]:ht[Je.TILDE];return r.replace(t,(n,s,i,o,a)=>{fe("tilde",r,n,s,i,o,a);let u;return et(s)?u="":et(i)?u=`>=${s}.0.0 <${+s+1}.0.0-0`:et(o)?u=`>=${s}.${i}.0 <${s}.${+i+1}.0-0`:a?(fe("replaceTilde pr",a),u=`>=${s}.${i}.${o}-${a} <${s}.${+i+1}.0-0`):u=`>=${s}.${i}.${o} <${s}.${+i+1}.0-0`,fe("tilde return",u),u})},G3=(r,e)=>r.trim().split(/\s+/).map(t=>B3(t,e)).join(" "),B3=(r,e)=>{fe("caret",r,e);let t=e.loose?ht[Je.CARETLOOSE]:ht[Je.CARET],n=e.includePrerelease?"-0":"";return r.replace(t,(s,i,o,a,u)=>{fe("caret",r,s,i,o,a,u);let l;return et(i)?l="":et(o)?l=`>=${i}.0.0${n} <${+i+1}.0.0-0`:et(a)?i==="0"?l=`>=${i}.${o}.0${n} <${i}.${+o+1}.0-0`:l=`>=${i}.${o}.0${n} <${+i+1}.0.0-0`:u?(fe("replaceCaret pr",u),i==="0"?o==="0"?l=`>=${i}.${o}.${a}-${u} <${i}.${o}.${+a+1}-0`:l=`>=${i}.${o}.${a}-${u} <${i}.${+o+1}.0-0`:l=`>=${i}.${o}.${a}-${u} <${+i+1}.0.0-0`):(fe("no pr"),i==="0"?o==="0"?l=`>=${i}.${o}.${a}${n} <${i}.${o}.${+a+1}-0`:l=`>=${i}.${o}.${a}${n} <${i}.${+o+1}.0-0`:l=`>=${i}.${o}.${a} <${+i+1}.0.0-0`),fe("caret return",l),l})},F3=(r,e)=>(fe("replaceXRanges",r,e),r.split(/\s+/).map(t=>V3(t,e)).join(" ")),V3=(r,e)=>{r=r.trim();let t=e.loose?ht[Je.XRANGELOOSE]:ht[Je.XRANGE];return r.replace(t,(n,s,i,o,a,u)=>{fe("xRange",r,n,s,i,o,a,u);let l=et(i),h=l||et(o),d=h||et(a),f=d;return s==="="&&f&&(s=""),u=e.includePrerelease?"-0":"",l?s===">"||s==="<"?n="<0.0.0-0":n="*":s&&f?(h&&(o=0),a=0,s===">"?(s=">=",h?(i=+i+1,o=0,a=0):(o=+o+1,a=0)):s==="<="&&(s="<",h?i=+i+1:o=+o+1),s==="<"&&(u="-0"),n=`${s+i}.${o}.${a}${u}`):h?n=`>=${i}.0.0${u} <${+i+1}.0.0-0`:d&&(n=`>=${i}.${o}.0${u} <${i}.${+o+1}.0-0`),fe("xRange return",n),n})},H3=(r,e)=>(fe("replaceStars",r,e),r.trim().replace(ht[Je.STAR],"")),X3=(r,e)=>(fe("replaceGTE0",r,e),r.trim().replace(ht[e.includePrerelease?Je.GTE0PRE:Je.GTE0],"")),W3=r=>(e,t,n,s,i,o,a,u,l,h,d,f,p)=>(et(n)?t="":et(s)?t=`>=${n}.0.0${r?"-0":""}`:et(i)?t=`>=${n}.${s}.0${r?"-0":""}`:o?t=`>=${t}`:t=`>=${t}${r?"-0":""}`,et(l)?u="":et(h)?u=`<${+l+1}.0.0-0`:et(d)?u=`<${l}.${+h+1}.0-0`:f?u=`<=${l}.${h}.${d}-${f}`:r?u=`<${l}.${h}.${+d+1}-0`:u=`<=${u}`,`${t} ${u}`.trim()),k3=(r,e,t)=>{for(let n=0;n<r.length;n++)if(!r[n].test(e))return!1;if(e.prerelease.length&&!t.includePrerelease){for(let n=0;n<r.length;n++)if(fe(r[n].semver),r[n].semver!==rg.ANY&&r[n].semver.prerelease.length>0){let s=r[n].semver;if(s.major===e.major&&s.minor===e.minor&&s.patch===e.patch)return!0}return!1}return!0}});var da=c((kee,tP)=>{var pa=Symbol("SemVer ANY"),Ri=class{static get ANY(){return pa}constructor(e,t){if(t=zb(t),e instanceof Ri){if(e.loose===!!t.loose)return e;e=e.value}sg("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===pa?this.value="":this.value=this.operator+this.semver.version,sg("comp",this)}parse(e){let t=this.options.loose?Qb[Zb.COMPARATORLOOSE]:Qb[Zb.COMPARATOR],n=e.match(t);if(!n)throw new TypeError(`Invalid comparator: ${e}`);this.operator=n[1]!==void 0?n[1]:"",this.operator==="="&&(this.operator=""),n[2]?this.semver=new Jb(n[2],this.options.loose):this.semver=pa}toString(){return this.value}test(e){if(sg("Comparator.test",e,this.options.loose),this.semver===pa||e===pa)return!0;if(typeof e=="string")try{e=new Jb(e,this.options)}catch{return!1}return ng(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof Ri))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new eP(e.value,t).test(this.value):e.operator===""?e.value===""?!0:new eP(this.value,t).test(e.semver):(t=zb(t),t.includePrerelease&&(this.value==="<0.0.0-0"||e.value==="<0.0.0-0")||!t.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&e.operator.startsWith(">")||this.operator.startsWith("<")&&e.operator.startsWith("<")||this.semver.version===e.semver.version&&this.operator.includes("=")&&e.operator.includes("=")||ng(this.semver,"<",e.semver,t)&&this.operator.startsWith(">")&&e.operator.startsWith("<")||ng(this.semver,">",e.semver,t)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))}};tP.exports=Ri;var zb=Lh(),{re:Qb,t:Zb}=Si(),ng=QE(),sg=ua(),Jb=Xe(),eP=Lt()});var fa=c((Kee,rP)=>{var K3=Lt(),Y3=(r,e,t)=>{try{e=new K3(e,t)}catch{return!1}return e.test(r)};rP.exports=Y3});var sP=c((Yee,nP)=>{var z3=Lt(),Q3=(r,e)=>new z3(r,e).set.map(t=>t.map(n=>n.value).join(" ").trim().split(" "));nP.exports=Q3});var oP=c((zee,iP)=>{var Z3=Xe(),J3=Lt(),e6=(r,e,t)=>{let n=null,s=null,i=null;try{i=new J3(e,t)}catch{return null}return r.forEach(o=>{i.test(o)&&(!n||s.compare(o)===-1)&&(n=o,s=new Z3(n,t))}),n};iP.exports=e6});var uP=c((Qee,aP)=>{var t6=Xe(),r6=Lt(),n6=(r,e,t)=>{let n=null,s=null,i=null;try{i=new r6(e,t)}catch{return null}return r.forEach(o=>{i.test(o)&&(!n||s.compare(o)===1)&&(n=o,s=new t6(n,t))}),n};aP.exports=n6});var hP=c((Zee,lP)=>{var ig=Xe(),s6=Lt(),cP=ca(),i6=(r,e)=>{r=new s6(r,e);let t=new ig("0.0.0");if(r.test(t)||(t=new ig("0.0.0-0"),r.test(t)))return t;t=null;for(let n=0;n<r.set.length;++n){let s=r.set[n],i=null;s.forEach(o=>{let a=new ig(o.semver.version);switch(o.operator){case">":a.prerelease.length===0?a.patch++:a.prerelease.push(0),a.raw=a.format();case"":case">=":(!i||cP(a,i))&&(i=a);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${o.operator}`)}}),i&&(!t||cP(t,i))&&(t=i)}return t&&r.test(t)?t:null};lP.exports=i6});var pP=c((Jee,dP)=>{var o6=Lt(),a6=(r,e)=>{try{return new o6(r,e).range||"*"}catch{return null}};dP.exports=a6});var Gh=c((ete,gP)=>{var u6=Xe(),EP=da(),{ANY:c6}=EP,l6=Lt(),h6=fa(),fP=ca(),_P=qh(),d6=Dh(),p6=xh(),f6=(r,e,t,n)=>{r=new u6(r,n),e=new l6(e,n);let s,i,o,a,u;switch(t){case">":s=fP,i=d6,o=_P,a=">",u=">=";break;case"<":s=_P,i=p6,o=fP,a="<",u="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(h6(r,e,n))return!1;for(let l=0;l<e.set.length;++l){let h=e.set[l],d=null,f=null;if(h.forEach(p=>{p.semver===c6&&(p=new EP(">=0.0.0")),d=d||p,f=f||p,s(p.semver,d.semver,n)?d=p:o(p.semver,f.semver,n)&&(f=p)}),d.operator===a||d.operator===u||(!f.operator||f.operator===a)&&i(r,f.semver))return!1;if(f.operator===u&&o(r,f.semver))return!1}return!0};gP.exports=f6});var TP=c((tte,mP)=>{var _6=Gh(),E6=(r,e,t)=>_6(r,e,">",t);mP.exports=E6});var vP=c((rte,SP)=>{var g6=Gh(),m6=(r,e,t)=>g6(r,e,"<",t);SP.exports=m6});var RP=c((nte,OP)=>{var AP=Lt(),T6=(r,e,t)=>(r=new AP(r,t),e=new AP(e,t),r.intersects(e,t));OP.exports=T6});var bP=c((ste,IP)=>{var S6=fa(),v6=Nt();IP.exports=(r,e,t)=>{let n=[],s=null,i=null,o=r.sort((h,d)=>v6(h,d,t));for(let h of o)S6(h,e,t)?(i=h,s||(s=h)):(i&&n.push([s,i]),i=null,s=null);s&&n.push([s,null]);let a=[];for(let[h,d]of n)h===d?a.push(h):!d&&h===o[0]?a.push("*"):d?h===o[0]?a.push(`<=${d}`):a.push(`${h} - ${d}`):a.push(`>=${h}`);let u=a.join(" || "),l=typeof e.raw=="string"?e.raw:String(e);return u.length<l.length?u:e}});var MP=c((ite,CP)=>{var PP=Lt(),ag=da(),{ANY:og}=ag,_a=fa(),ug=Nt(),A6=(r,e,t={})=>{if(r===e)return!0;r=new PP(r,t),e=new PP(e,t);let n=!1;e:for(let s of r.set){for(let i of e.set){let o=R6(s,i,t);if(n=n||o!==null,o)continue e}if(n)return!1}return!0},O6=[new ag(">=0.0.0-0")],yP=[new ag(">=0.0.0")],R6=(r,e,t)=>{if(r===e)return!0;if(r.length===1&&r[0].semver===og){if(e.length===1&&e[0].semver===og)return!0;t.includePrerelease?r=O6:r=yP}if(e.length===1&&e[0].semver===og){if(t.includePrerelease)return!0;e=yP}let n=new Set,s,i;for(let p of r)p.operator===">"||p.operator===">="?s=NP(s,p,t):p.operator==="<"||p.operator==="<="?i=LP(i,p,t):n.add(p.semver);if(n.size>1)return null;let o;if(s&&i){if(o=ug(s.semver,i.semver,t),o>0)return null;if(o===0&&(s.operator!==">="||i.operator!=="<="))return null}for(let p of n){if(s&&!_a(p,String(s),t)||i&&!_a(p,String(i),t))return null;for(let I of e)if(!_a(p,String(I),t))return!1;return!0}let a,u,l,h,d=i&&!t.includePrerelease&&i.semver.prerelease.length?i.semver:!1,f=s&&!t.includePrerelease&&s.semver.prerelease.length?s.semver:!1;d&&d.prerelease.length===1&&i.operator==="<"&&d.prerelease[0]===0&&(d=!1);for(let p of e){if(h=h||p.operator===">"||p.operator===">=",l=l||p.operator==="<"||p.operator==="<=",s){if(f&&p.semver.prerelease&&p.semver.prerelease.length&&p.semver.major===f.major&&p.semver.minor===f.minor&&p.semver.patch===f.patch&&(f=!1),p.operator===">"||p.operator===">="){if(a=NP(s,p,t),a===p&&a!==s)return!1}else if(s.operator===">="&&!_a(s.semver,String(p),t))return!1}if(i){if(d&&p.semver.prerelease&&p.semver.prerelease.length&&p.semver.major===d.major&&p.semver.minor===d.minor&&p.semver.patch===d.patch&&(d=!1),p.operator==="<"||p.operator==="<="){if(u=LP(i,p,t),u===p&&u!==i)return!1}else if(i.operator==="<="&&!_a(i.semver,String(p),t))return!1}if(!p.operator&&(i||s)&&o!==0)return!1}return!(s&&l&&!i&&o!==0||i&&h&&!s&&o!==0||f||d)},NP=(r,e,t)=>{if(!r)return e;let n=ug(r.semver,e.semver,t);return n>0?r:n<0||e.operator===">"&&r.operator===">="?e:r},LP=(r,e,t)=>{if(!r)return e;let n=ug(r.semver,e.semver,t);return n<0?r:n>0||e.operator==="<"&&r.operator==="<="?e:r};CP.exports=A6});var DP=c((ote,xP)=>{var cg=Si(),wP=aa(),I6=Xe(),qP=KE(),b6=Xn(),P6=JI(),y6=tb(),N6=sb(),L6=ab(),C6=cb(),M6=hb(),w6=pb(),q6=_b(),x6=Nt(),D6=Tb(),$6=vb(),j6=wh(),U6=Ib(),G6=Pb(),B6=ca(),F6=qh(),V6=YE(),H6=zE(),X6=xh(),W6=Dh(),k6=QE(),K6=Db(),Y6=da(),z6=Lt(),Q6=fa(),Z6=sP(),J6=oP(),eW=uP(),tW=hP(),rW=pP(),nW=Gh(),sW=TP(),iW=vP(),oW=RP(),aW=bP(),uW=MP();xP.exports={parse:b6,valid:P6,clean:y6,inc:N6,diff:L6,major:C6,minor:M6,patch:w6,prerelease:q6,compare:x6,rcompare:D6,compareLoose:$6,compareBuild:j6,sort:U6,rsort:G6,gt:B6,lt:F6,eq:V6,neq:H6,gte:X6,lte:W6,cmp:k6,coerce:K6,Comparator:Y6,Range:z6,satisfies:Q6,toComparators:Z6,maxSatisfying:J6,minSatisfying:eW,minVersion:tW,validRange:rW,outside:nW,gtr:sW,ltr:iW,intersects:oW,simplifyRange:aW,subset:uW,SemVer:I6,re:cg.re,src:cg.src,tokens:cg.t,SEMVER_SPEC_VERSION:wP.SEMVER_SPEC_VERSION,RELEASE_TYPES:wP.RELEASE_TYPES,compareIdentifiers:qP.compareIdentifiers,rcompareIdentifiers:qP.rcompareIdentifiers}});var Bh=c((ate,UP)=>{"use strict";function lg(r){return typeof r=="function"}var tt=console.error.bind(console);function Ea(r,e,t){var n=!!r[e]&&r.propertyIsEnumerable(e);Object.defineProperty(r,e,{configurable:!0,enumerable:n,writable:!0,value:t})}function ga(r){r&&r.logger&&(lg(r.logger)?tt=r.logger:tt("new logger isn't a function, not replacing"))}function $P(r,e,t){if(!r||!r[e]){tt("no original function "+e+" to wrap");return}if(!t){tt("no wrapper function"),tt(new Error().stack);return}if(!lg(r[e])||!lg(t)){tt("original object and wrapper must be functions");return}var n=r[e],s=t(n,e);return Ea(s,"__original",n),Ea(s,"__unwrap",function(){r[e]===s&&Ea(r,e,n)}),Ea(s,"__wrapped",!0),Ea(r,e,s),s}function cW(r,e,t){if(r)Array.isArray(r)||(r=[r]);else{tt("must provide one or more modules to patch"),tt(new Error().stack);return}if(!(e&&Array.isArray(e))){tt("must provide one or more functions to wrap on modules");return}r.forEach(function(n){e.forEach(function(s){$P(n,s,t)})})}function jP(r,e){if(!r||!r[e]){tt("no function to unwrap."),tt(new Error().stack);return}if(!r[e].__unwrap)tt("no original to unwrap to -- has "+e+" already been unwrapped?");else return r[e].__unwrap()}function lW(r,e){if(r)Array.isArray(r)||(r=[r]);else{tt("must provide one or more modules to patch"),tt(new Error().stack);return}if(!(e&&Array.isArray(e))){tt("must provide one or more functions to unwrap on modules");return}r.forEach(function(t){e.forEach(function(n){jP(t,n)})})}ga.wrap=$P;ga.massWrap=cW;ga.unwrap=jP;ga.massUnwrap=lW;UP.exports=ga});var GP=c(Vh=>{"use strict";Object.defineProperty(Vh,"__esModule",{value:!0});Vh.InstrumentationAbstract=void 0;var hg=_(),Fh=Bh(),dg=class{constructor(e,t,n={}){this.instrumentationName=e,this.instrumentationVersion=t,this._wrap=Fh.wrap,this._unwrap=Fh.unwrap,this._massWrap=Fh.massWrap,this._massUnwrap=Fh.massUnwrap,this._config=Object.assign({enabled:!0},n),this._diag=hg.diag.createComponentLogger({namespace:e}),this._tracer=hg.trace.getTracer(e,t),this._meter=hg.metrics.getMeter(e,t),this._updateMetricInstruments()}get meter(){return this._meter}setMeterProvider(e){this._meter=e.getMeter(this.instrumentationName,this.instrumentationVersion),this._updateMetricInstruments()}_updateMetricInstruments(){}getConfig(){return this._config}setConfig(e={}){this._config=Object.assign({},e)}setTracerProvider(e){this._tracer=e.getTracer(this.instrumentationName,this.instrumentationVersion)}get tracer(){return this._tracer}};Vh.InstrumentationAbstract=dg});var pg=c((cte,BP)=>{"use strict";var hW=require("os");BP.exports=hW.homedir||function(){var e=process.env.HOME,t=process.env.LOGNAME||process.env.USER||process.env.LNAME||process.env.USERNAME;return process.platform==="win32"?process.env.USERPROFILE||process.env.HOMEDRIVE+process.env.HOMEPATH||e||null:process.platform==="darwin"?e||(t?"/Users/"+t:null):process.platform==="linux"?e||(process.getuid()===0?"/root":t?"/home/"+t:null):e||null}});var fg=c((lte,FP)=>{FP.exports=function(){var r=Error.prepareStackTrace;Error.prepareStackTrace=function(t,n){return n};var e=new Error().stack;return Error.prepareStackTrace=r,e[2].getFileName()}});var VP=c((hte,ma)=>{"use strict";var dW=process.platform==="win32",pW=/^(((?:[a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?[\\\/]?)(?:[^\\\/]*[\\\/])*)((\.{1,2}|[^\\\/]+?|)(\.[^.\/\\]*|))[\\\/]*$/,_g={};function fW(r){return pW.exec(r).slice(1)}_g.parse=function(r){if(typeof r!="string")throw new TypeError("Parameter 'pathString' must be a string, not "+typeof r);var e=fW(r);if(!e||e.length!==5)throw new TypeError("Invalid path '"+r+"'");return{root:e[1],dir:e[0]===e[1]?e[0]:e[0].slice(0,-1),base:e[2],ext:e[4],name:e[3]}};var _W=/^((\/?)(?:[^\/]*\/)*)((\.{1,2}|[^\/]+?|)(\.[^.\/]*|))[\/]*$/,Eg={};function EW(r){return _W.exec(r).slice(1)}Eg.parse=function(r){if(typeof r!="string")throw new TypeError("Parameter 'pathString' must be a string, not "+typeof r);var e=EW(r);if(!e||e.length!==5)throw new TypeError("Invalid path '"+r+"'");return{root:e[1],dir:e[0].slice(0,-1),base:e[2],ext:e[4],name:e[3]}};dW?ma.exports=_g.parse:ma.exports=Eg.parse;ma.exports.posix=Eg.parse;ma.exports.win32=_g.parse});var gg=c((dte,kP)=>{var WP=require("path"),HP=WP.parse||VP(),XP=function(e,t){var n="/";/^([A-Za-z]:)/.test(e)?n="":/^\\\\/.test(e)&&(n="\\\\");for(var s=[e],i=HP(e);i.dir!==s[s.length-1];)s.push(i.dir),i=HP(i.dir);return s.reduce(function(o,a){return o.concat(t.map(function(u){return WP.resolve(n,a,u)}))},[])};kP.exports=function(e,t,n){var s=t&&t.moduleDirectory?[].concat(t.moduleDirectory):["node_modules"];if(t&&typeof t.paths=="function")return t.paths(n,e,function(){return XP(e,s)},t);var i=XP(e,s);return t&&t.paths?i.concat(t.paths):i}});var mg=c((pte,KP)=>{KP.exports=function(r,e){return e||{}}});var zP=c((fte,YP)=>{"use strict";var gW="Function.prototype.bind called on incompatible ",Tg=Array.prototype.slice,mW=Object.prototype.toString,TW="[object Function]";YP.exports=function(e){var t=this;if(typeof t!="function"||mW.call(t)!==TW)throw new TypeError(gW+t);for(var n=Tg.call(arguments,1),s,i=function(){if(this instanceof s){var h=t.apply(this,n.concat(Tg.call(arguments)));return Object(h)===h?h:this}else return t.apply(e,n.concat(Tg.call(arguments)))},o=Math.max(0,t.length-n.length),a=[],u=0;u<o;u++)a.push("$"+u);if(s=Function("binder","return function ("+a.join(",")+"){ return binder.apply(this,arguments); }")(i),t.prototype){var l=function(){};l.prototype=t.prototype,s.prototype=new l,l.prototype=null}return s}});var ZP=c((_te,QP)=>{"use strict";var SW=zP();QP.exports=Function.prototype.bind||SW});var ey=c((Ete,JP)=>{"use strict";var vW=ZP();JP.exports=vW.call(Function.call,Object.prototype.hasOwnProperty)});var ty=c((gte,AW)=>{AW.exports={assert:!0,"node:assert":[">= 14.18 && < 15",">= 16"],"assert/strict":">= 15","node:assert/strict":">= 16",async_hooks:">= 8","node:async_hooks":[">= 14.18 && < 15",">= 16"],buffer_ieee754:">= 0.5 && < 0.9.7",buffer:!0,"node:buffer":[">= 14.18 && < 15",">= 16"],child_process:!0,"node:child_process":[">= 14.18 && < 15",">= 16"],cluster:">= 0.5","node:cluster":[">= 14.18 && < 15",">= 16"],console:!0,"node:console":[">= 14.18 && < 15",">= 16"],constants:!0,"node:constants":[">= 14.18 && < 15",">= 16"],crypto:!0,"node:crypto":[">= 14.18 && < 15",">= 16"],_debug_agent:">= 1 && < 8",_debugger:"< 8",dgram:!0,"node:dgram":[">= 14.18 && < 15",">= 16"],diagnostics_channel:[">= 14.17 && < 15",">= 15.1"],"node:diagnostics_channel":[">= 14.18 && < 15",">= 16"],dns:!0,"node:dns":[">= 14.18 && < 15",">= 16"],"dns/promises":">= 15","node:dns/promises":">= 16",domain:">= 0.7.12","node:domain":[">= 14.18 && < 15",">= 16"],events:!0,"node:events":[">= 14.18 && < 15",">= 16"],freelist:"< 6",fs:!0,"node:fs":[">= 14.18 && < 15",">= 16"],"fs/promises":[">= 10 && < 10.1",">= 14"],"node:fs/promises":[">= 14.18 && < 15",">= 16"],_http_agent:">= 0.11.1","node:_http_agent":[">= 14.18 && < 15",">= 16"],_http_client:">= 0.11.1","node:_http_client":[">= 14.18 && < 15",">= 16"],_http_common:">= 0.11.1","node:_http_common":[">= 14.18 && < 15",">= 16"],_http_incoming:">= 0.11.1","node:_http_incoming":[">= 14.18 && < 15",">= 16"],_http_outgoing:">= 0.11.1","node:_http_outgoing":[">= 14.18 && < 15",">= 16"],_http_server:">= 0.11.1","node:_http_server":[">= 14.18 && < 15",">= 16"],http:!0,"node:http":[">= 14.18 && < 15",">= 16"],http2:">= 8.8","node:http2":[">= 14.18 && < 15",">= 16"],https:!0,"node:https":[">= 14.18 && < 15",">= 16"],inspector:">= 8","node:inspector":[">= 14.18 && < 15",">= 16"],"inspector/promises":[">= 19"],"node:inspector/promises":[">= 19"],_linklist:"< 8",module:!0,"node:module":[">= 14.18 && < 15",">= 16"],net:!0,"node:net":[">= 14.18 && < 15",">= 16"],"node-inspect/lib/_inspect":">= 7.6 && < 12","node-inspect/lib/internal/inspect_client":">= 7.6 && < 12","node-inspect/lib/internal/inspect_repl":">= 7.6 && < 12",os:!0,"node:os":[">= 14.18 && < 15",">= 16"],path:!0,"node:path":[">= 14.18 && < 15",">= 16"],"path/posix":">= 15.3","node:path/posix":">= 16","path/win32":">= 15.3","node:path/win32":">= 16",perf_hooks:">= 8.5","node:perf_hooks":[">= 14.18 && < 15",">= 16"],process:">= 1","node:process":[">= 14.18 && < 15",">= 16"],punycode:">= 0.5","node:punycode":[">= 14.18 && < 15",">= 16"],querystring:!0,"node:querystring":[">= 14.18 && < 15",">= 16"],readline:!0,"node:readline":[">= 14.18 && < 15",">= 16"],"readline/promises":">= 17","node:readline/promises":">= 17",repl:!0,"node:repl":[">= 14.18 && < 15",">= 16"],smalloc:">= 0.11.5 && < 3",_stream_duplex:">= 0.9.4","node:_stream_duplex":[">= 14.18 && < 15",">= 16"],_stream_transform:">= 0.9.4","node:_stream_transform":[">= 14.18 && < 15",">= 16"],_stream_wrap:">= 1.4.1","node:_stream_wrap":[">= 14.18 && < 15",">= 16"],_stream_passthrough:">= 0.9.4","node:_stream_passthrough":[">= 14.18 && < 15",">= 16"],_stream_readable:">= 0.9.4","node:_stream_readable":[">= 14.18 && < 15",">= 16"],_stream_writable:">= 0.9.4","node:_stream_writable":[">= 14.18 && < 15",">= 16"],stream:!0,"node:stream":[">= 14.18 && < 15",">= 16"],"stream/consumers":">= 16.7","node:stream/consumers":">= 16.7","stream/promises":">= 15","node:stream/promises":">= 16","stream/web":">= 16.5","node:stream/web":">= 16.5",string_decoder:!0,"node:string_decoder":[">= 14.18 && < 15",">= 16"],sys:[">= 0.4 && < 0.7",">= 0.8"],"node:sys":[">= 14.18 && < 15",">= 16"],"test/reporters":">= 19.9 && < 20.2","node:test/reporters":[">= 19.9",">= 20"],"node:test":[">= 16.17 && < 17",">= 18"],timers:!0,"node:timers":[">= 14.18 && < 15",">= 16"],"timers/promises":">= 15","node:timers/promises":">= 16",_tls_common:">= 0.11.13","node:_tls_common":[">= 14.18 && < 15",">= 16"],_tls_legacy:">= 0.11.3 && < 10",_tls_wrap:">= 0.11.3","node:_tls_wrap":[">= 14.18 && < 15",">= 16"],tls:!0,"node:tls":[">= 14.18 && < 15",">= 16"],trace_events:">= 10","node:trace_events":[">= 14.18 && < 15",">= 16"],tty:!0,"node:tty":[">= 14.18 && < 15",">= 16"],url:!0,"node:url":[">= 14.18 && < 15",">= 16"],util:!0,"node:util":[">= 14.18 && < 15",">= 16"],"util/types":">= 15.3","node:util/types":">= 16","v8/tools/arguments":">= 10 && < 12","v8/tools/codemap":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/consarray":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/csvparser":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/logreader":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/profile_view":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/splaytree":[">= 4.4 && < 5",">= 5.2 && < 12"],v8:">= 1","node:v8":[">= 14.18 && < 15",">= 16"],vm:!0,"node:vm":[">= 14.18 && < 15",">= 16"],wasi:[">= 13.4 && < 13.5",">= 20"],"node:wasi":">= 20",worker_threads:">= 11.7","node:worker_threads":[">= 14.18 && < 15",">= 16"],zlib:">= 0.5","node:zlib":[">= 14.18 && < 15",">= 16"]}});var Ta=c((mte,sy)=>{"use strict";var OW=ey();function RW(r,e){for(var t=r.split("."),n=e.split(" "),s=n.length>1?n[0]:"=",i=(n.length>1?n[1]:n[0]).split("."),o=0;o<3;++o){var a=parseInt(t[o]||0,10),u=parseInt(i[o]||0,10);if(a!==u)return s==="<"?a<u:s===">="?a>=u:!1}return s===">="}function ry(r,e){var t=e.split(/ ?&& ?/);if(t.length===0)return!1;for(var n=0;n<t.length;++n)if(!RW(r,t[n]))return!1;return!0}function IW(r,e){if(typeof e=="boolean")return e;var t=typeof r>"u"?process.versions&&process.versions.node:r;if(typeof t!="string")throw new TypeError(typeof r>"u"?"Unable to determine current node version":"If provided, a valid node version is required");if(e&&typeof e=="object"){for(var n=0;n<e.length;++n)if(ry(t,e[n]))return!0;return!1}return ry(t,e)}var ny=ty();sy.exports=function(e,t){return OW(ny,e)&&IW(t,ny[e])}});var ay=c((Tte,oy)=>{var zn=require("fs"),bW=pg(),ve=require("path"),PW=fg(),yW=gg(),NW=mg(),LW=Ta(),CW=process.platform!=="win32"&&zn.realpath&&typeof zn.realpath.native=="function"?zn.realpath.native:zn.realpath,iy=bW(),MW=function(){return[ve.join(iy,".node_modules"),ve.join(iy,".node_libraries")]},wW=function(e,t){zn.stat(e,function(n,s){return n?n.code==="ENOENT"||n.code==="ENOTDIR"?t(null,!1):t(n):t(null,s.isFile()||s.isFIFO())})},qW=function(e,t){zn.stat(e,function(n,s){return n?n.code==="ENOENT"||n.code==="ENOTDIR"?t(null,!1):t(n):t(null,s.isDirectory())})},xW=function(e,t){CW(e,function(n,s){n&&n.code!=="ENOENT"?t(n):t(null,n?e:s)})},Sa=function(e,t,n,s){n&&n.preserveSymlinks===!1?e(t,s):s(null,t)},DW=function(e,t,n){e(t,function(s,i){if(s)n(s);else try{var o=JSON.parse(i);n(null,o)}catch{n(null)}})},$W=function(e,t,n){for(var s=yW(t,n,e),i=0;i<s.length;i++)s[i]=ve.join(s[i],e);return s};oy.exports=function(e,t,n){var s=n,i=t;if(typeof t=="function"&&(s=i,i={}),typeof e!="string"){var o=new TypeError("Path must be a string.");return process.nextTick(function(){s(o)})}i=NW(e,i);var a=i.isFile||wW,u=i.isDirectory||qW,l=i.readFile||zn.readFile,h=i.realpath||xW,d=i.readPackage||DW;if(i.readFile&&i.readPackage){var f=new TypeError("`readFile` and `readPackage` are mutually exclusive.");return process.nextTick(function(){s(f)})}var p=i.packageIterator,I=i.extensions||[".js"],y=i.includeCoreModules!==!1,M=i.basedir||ve.dirname(PW()),R=i.filename||M;i.paths=i.paths||MW();var X=ve.resolve(M);Sa(h,X,i,function(b,q){b?s(b):Z(q)});var L;function Z(b){if(/^(?:\.\.?(?:\/|$)|\/|([A-Za-z]:)?[/\\])/.test(e))L=ve.resolve(b,e),(e==="."||e===".."||e.slice(-1)==="/")&&(L+="/"),/\/$/.test(e)&&L===b?J(L,i.package,re):ge(L,i.package,re);else{if(y&&LW(e))return s(null,e);z(e,b,function(q,ie,H){if(q)s(q);else{if(ie)return Sa(h,ie,i,function($e,oe){$e?s($e):s(null,oe,H)});var ne=new Error("Cannot find module '"+e+"' from '"+R+"'");ne.code="MODULE_NOT_FOUND",s(ne)}})}}function re(b,q,ie){b?s(b):q?s(null,q,ie):J(L,function(H,ne,$e){if(H)s(H);else if(ne)Sa(h,ne,i,function(ae,Le){ae?s(ae):s(null,Le,$e)});else{var oe=new Error("Cannot find module '"+e+"' from '"+R+"'");oe.code="MODULE_NOT_FOUND",s(oe)}})}function ge(b,q,ie){var H=q,ne=ie;typeof H=="function"&&(ne=H,H=void 0);var $e=[""].concat(I);oe($e,b,H);function oe(ae,Le,Rt){if(ae.length===0)return ne(null,void 0,Rt);var on=Le+ae[0],Yt=Rt;Yt?je(null,Yt):V(ve.dirname(on),je);function je(Pr,ds,ar){if(Yt=ds,Pr)return ne(Pr);if(ar&&Yt&&i.pathFilter){var Ja=ve.relative(ar,on),eu=Ja.slice(0,Ja.length-ae[0].length),Yi=i.pathFilter(Yt,Le,eu);if(Yi)return oe([""].concat(I.slice()),ve.resolve(ar,Yi),Yt)}a(on,Za)}function Za(Pr,ds){if(Pr)return ne(Pr);if(ds)return ne(null,on,Yt);oe(ae.slice(1),Le,Yt)}}}function V(b,q){if(b===""||b==="/"||process.platform==="win32"&&/^\w:[/\\]*$/.test(b)||/[/\\]node_modules[/\\]*$/.test(b))return q(null);Sa(h,b,i,function(ie,H){if(ie)return V(ve.dirname(b),q);var ne=ve.join(H,"package.json");a(ne,function($e,oe){if(!oe)return V(ve.dirname(b),q);d(l,ne,function(ae,Le){ae&&q(ae);var Rt=Le;Rt&&i.packageFilter&&(Rt=i.packageFilter(Rt,ne)),q(null,Rt,b)})})})}function J(b,q,ie){var H=ie,ne=q;typeof ne=="function"&&(H=ne,ne=i.package),Sa(h,b,i,function($e,oe){if($e)return H($e);var ae=ve.join(oe,"package.json");a(ae,function(Le,Rt){if(Le)return H(Le);if(!Rt)return ge(ve.join(b,"index"),ne,H);d(l,ae,function(on,Yt){if(on)return H(on);var je=Yt;if(je&&i.packageFilter&&(je=i.packageFilter(je,ae)),je&&je.main){if(typeof je.main!="string"){var Za=new TypeError("package \u201C"+je.name+"\u201D `main` must be a string");return Za.code="INVALID_PACKAGE_MAIN",H(Za)}(je.main==="."||je.main==="./")&&(je.main="index"),ge(ve.resolve(b,je.main),je,function(Pr,ds,ar){if(Pr)return H(Pr);if(ds)return H(null,ds,ar);if(!ar)return ge(ve.join(b,"index"),ar,H);var Ja=ve.resolve(b,ar.main);J(Ja,ar,function(eu,Yi,Xm){if(eu)return H(eu);if(Yi)return H(null,Yi,Xm);ge(ve.join(b,"index"),Xm,H)})});return}ge(ve.join(b,"/index"),je,H)})})})}function ee(b,q){if(q.length===0)return b(null,void 0);var ie=q[0];u(ve.dirname(ie),H);function H(oe,ae){if(oe)return b(oe);if(!ae)return ee(b,q.slice(1));ge(ie,i.package,ne)}function ne(oe,ae,Le){if(oe)return b(oe);if(ae)return b(null,ae,Le);J(ie,i.package,$e)}function $e(oe,ae,Le){if(oe)return b(oe);if(ae)return b(null,ae,Le);ee(b,q.slice(1))}}function z(b,q,ie){var H=function(){return $W(b,q,i)};ee(ie,p?p(b,q,H,i):H())}}});var uy=c((Ste,jW)=>{jW.exports={assert:!0,"node:assert":[">= 14.18 && < 15",">= 16"],"assert/strict":">= 15","node:assert/strict":">= 16",async_hooks:">= 8","node:async_hooks":[">= 14.18 && < 15",">= 16"],buffer_ieee754:">= 0.5 && < 0.9.7",buffer:!0,"node:buffer":[">= 14.18 && < 15",">= 16"],child_process:!0,"node:child_process":[">= 14.18 && < 15",">= 16"],cluster:">= 0.5","node:cluster":[">= 14.18 && < 15",">= 16"],console:!0,"node:console":[">= 14.18 && < 15",">= 16"],constants:!0,"node:constants":[">= 14.18 && < 15",">= 16"],crypto:!0,"node:crypto":[">= 14.18 && < 15",">= 16"],_debug_agent:">= 1 && < 8",_debugger:"< 8",dgram:!0,"node:dgram":[">= 14.18 && < 15",">= 16"],diagnostics_channel:[">= 14.17 && < 15",">= 15.1"],"node:diagnostics_channel":[">= 14.18 && < 15",">= 16"],dns:!0,"node:dns":[">= 14.18 && < 15",">= 16"],"dns/promises":">= 15","node:dns/promises":">= 16",domain:">= 0.7.12","node:domain":[">= 14.18 && < 15",">= 16"],events:!0,"node:events":[">= 14.18 && < 15",">= 16"],freelist:"< 6",fs:!0,"node:fs":[">= 14.18 && < 15",">= 16"],"fs/promises":[">= 10 && < 10.1",">= 14"],"node:fs/promises":[">= 14.18 && < 15",">= 16"],_http_agent:">= 0.11.1","node:_http_agent":[">= 14.18 && < 15",">= 16"],_http_client:">= 0.11.1","node:_http_client":[">= 14.18 && < 15",">= 16"],_http_common:">= 0.11.1","node:_http_common":[">= 14.18 && < 15",">= 16"],_http_incoming:">= 0.11.1","node:_http_incoming":[">= 14.18 && < 15",">= 16"],_http_outgoing:">= 0.11.1","node:_http_outgoing":[">= 14.18 && < 15",">= 16"],_http_server:">= 0.11.1","node:_http_server":[">= 14.18 && < 15",">= 16"],http:!0,"node:http":[">= 14.18 && < 15",">= 16"],http2:">= 8.8","node:http2":[">= 14.18 && < 15",">= 16"],https:!0,"node:https":[">= 14.18 && < 15",">= 16"],inspector:">= 8","node:inspector":[">= 14.18 && < 15",">= 16"],"inspector/promises":[">= 19"],"node:inspector/promises":[">= 19"],_linklist:"< 8",module:!0,"node:module":[">= 14.18 && < 15",">= 16"],net:!0,"node:net":[">= 14.18 && < 15",">= 16"],"node-inspect/lib/_inspect":">= 7.6 && < 12","node-inspect/lib/internal/inspect_client":">= 7.6 && < 12","node-inspect/lib/internal/inspect_repl":">= 7.6 && < 12",os:!0,"node:os":[">= 14.18 && < 15",">= 16"],path:!0,"node:path":[">= 14.18 && < 15",">= 16"],"path/posix":">= 15.3","node:path/posix":">= 16","path/win32":">= 15.3","node:path/win32":">= 16",perf_hooks:">= 8.5","node:perf_hooks":[">= 14.18 && < 15",">= 16"],process:">= 1","node:process":[">= 14.18 && < 15",">= 16"],punycode:">= 0.5","node:punycode":[">= 14.18 && < 15",">= 16"],querystring:!0,"node:querystring":[">= 14.18 && < 15",">= 16"],readline:!0,"node:readline":[">= 14.18 && < 15",">= 16"],"readline/promises":">= 17","node:readline/promises":">= 17",repl:!0,"node:repl":[">= 14.18 && < 15",">= 16"],smalloc:">= 0.11.5 && < 3",_stream_duplex:">= 0.9.4","node:_stream_duplex":[">= 14.18 && < 15",">= 16"],_stream_transform:">= 0.9.4","node:_stream_transform":[">= 14.18 && < 15",">= 16"],_stream_wrap:">= 1.4.1","node:_stream_wrap":[">= 14.18 && < 15",">= 16"],_stream_passthrough:">= 0.9.4","node:_stream_passthrough":[">= 14.18 && < 15",">= 16"],_stream_readable:">= 0.9.4","node:_stream_readable":[">= 14.18 && < 15",">= 16"],_stream_writable:">= 0.9.4","node:_stream_writable":[">= 14.18 && < 15",">= 16"],stream:!0,"node:stream":[">= 14.18 && < 15",">= 16"],"stream/consumers":">= 16.7","node:stream/consumers":">= 16.7","stream/promises":">= 15","node:stream/promises":">= 16","stream/web":">= 16.5","node:stream/web":">= 16.5",string_decoder:!0,"node:string_decoder":[">= 14.18 && < 15",">= 16"],sys:[">= 0.4 && < 0.7",">= 0.8"],"node:sys":[">= 14.18 && < 15",">= 16"],"node:test":[">= 16.17 && < 17",">= 18"],timers:!0,"node:timers":[">= 14.18 && < 15",">= 16"],"timers/promises":">= 15","node:timers/promises":">= 16",_tls_common:">= 0.11.13","node:_tls_common":[">= 14.18 && < 15",">= 16"],_tls_legacy:">= 0.11.3 && < 10",_tls_wrap:">= 0.11.3","node:_tls_wrap":[">= 14.18 && < 15",">= 16"],tls:!0,"node:tls":[">= 14.18 && < 15",">= 16"],trace_events:">= 10","node:trace_events":[">= 14.18 && < 15",">= 16"],tty:!0,"node:tty":[">= 14.18 && < 15",">= 16"],url:!0,"node:url":[">= 14.18 && < 15",">= 16"],util:!0,"node:util":[">= 14.18 && < 15",">= 16"],"util/types":">= 15.3","node:util/types":">= 16","v8/tools/arguments":">= 10 && < 12","v8/tools/codemap":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/consarray":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/csvparser":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/logreader":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/profile_view":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/splaytree":[">= 4.4 && < 5",">= 5.2 && < 12"],v8:">= 1","node:v8":[">= 14.18 && < 15",">= 16"],vm:!0,"node:vm":[">= 14.18 && < 15",">= 16"],wasi:">= 13.4 && < 13.5",worker_threads:">= 11.7","node:worker_threads":[">= 14.18 && < 15",">= 16"],zlib:">= 0.5","node:zlib":[">= 14.18 && < 15",">= 16"]}});var dy=c((vte,hy)=>{"use strict";var UW=Ta(),cy=uy(),ly={};for(Hh in cy)Object.prototype.hasOwnProperty.call(cy,Hh)&&(ly[Hh]=UW(Hh));var Hh;hy.exports=ly});var fy=c((Ate,py)=>{var GW=Ta();py.exports=function(e){return GW(e)}});var gy=c((Ote,Ey)=>{var BW=Ta(),Qn=require("fs"),We=require("path"),FW=pg(),VW=fg(),HW=gg(),XW=mg(),WW=process.platform!=="win32"&&Qn.realpathSync&&typeof Qn.realpathSync.native=="function"?Qn.realpathSync.native:Qn.realpathSync,_y=FW(),kW=function(){return[We.join(_y,".node_modules"),We.join(_y,".node_libraries")]},KW=function(e){try{var t=Qn.statSync(e,{throwIfNoEntry:!1})}catch(n){if(n&&(n.code==="ENOENT"||n.code==="ENOTDIR"))return!1;throw n}return!!t&&(t.isFile()||t.isFIFO())},YW=function(e){try{var t=Qn.statSync(e,{throwIfNoEntry:!1})}catch(n){if(n&&(n.code==="ENOENT"||n.code==="ENOTDIR"))return!1;throw n}return!!t&&t.isDirectory()},zW=function(e){try{return WW(e)}catch(t){if(t.code!=="ENOENT")throw t}return e},va=function(e,t,n){return n&&n.preserveSymlinks===!1?e(t):t},QW=function(e,t){var n=e(t);try{var s=JSON.parse(n);return s}catch{}},ZW=function(e,t,n){for(var s=HW(t,n,e),i=0;i<s.length;i++)s[i]=We.join(s[i],e);return s};Ey.exports=function(e,t){if(typeof e!="string")throw new TypeError("Path must be a string.");var n=XW(e,t),s=n.isFile||KW,i=n.readFileSync||Qn.readFileSync,o=n.isDirectory||YW,a=n.realpathSync||zW,u=n.readPackageSync||QW;if(n.readFileSync&&n.readPackageSync)throw new TypeError("`readFileSync` and `readPackageSync` are mutually exclusive.");var l=n.packageIterator,h=n.extensions||[".js"],d=n.includeCoreModules!==!1,f=n.basedir||We.dirname(VW()),p=n.filename||f;n.paths=n.paths||kW();var I=va(a,We.resolve(f),n);if(/^(?:\.\.?(?:\/|$)|\/|([A-Za-z]:)?[/\\])/.test(e)){var y=We.resolve(I,e);(e==="."||e===".."||e.slice(-1)==="/")&&(y+="/");var M=L(y)||re(y);if(M)return va(a,M,n)}else{if(d&&BW(e))return e;var R=ge(e,I);if(R)return va(a,R,n)}var X=new Error("Cannot find module '"+e+"' from '"+p+"'");throw X.code="MODULE_NOT_FOUND",X;function L(V){var J=Z(We.dirname(V));if(J&&J.dir&&J.pkg&&n.pathFilter){var ee=We.relative(J.dir,V),z=n.pathFilter(J.pkg,V,ee);z&&(V=We.resolve(J.dir,z))}if(s(V))return V;for(var b=0;b<h.length;b++){var q=V+h[b];if(s(q))return q}}function Z(V){if(!(V===""||V==="/")&&!(process.platform==="win32"&&/^\w:[/\\]*$/.test(V))&&!/[/\\]node_modules[/\\]*$/.test(V)){var J=We.join(va(a,V,n),"package.json");if(!s(J))return Z(We.dirname(V));var ee=u(i,J);return ee&&n.packageFilter&&(ee=n.packageFilter(ee,V)),{pkg:ee,dir:V}}}function re(V){var J=We.join(va(a,V,n),"/package.json");if(s(J)){try{var ee=u(i,J)}catch{}if(ee&&n.packageFilter&&(ee=n.packageFilter(ee,V)),ee&&ee.main){if(typeof ee.main!="string"){var z=new TypeError("package \u201C"+ee.name+"\u201D `main` must be a string");throw z.code="INVALID_PACKAGE_MAIN",z}(ee.main==="."||ee.main==="./")&&(ee.main="index");try{var b=L(We.resolve(V,ee.main));if(b)return b;var q=re(We.resolve(V,ee.main));if(q)return q}catch{}}}return L(We.join(V,"/index"))}function ge(V,J){for(var ee=function(){return ZW(V,J,n)},z=l?l(V,J,ee,n):ee(),b=0;b<z.length;b++){var q=z[b];if(o(We.dirname(q))){var ie=L(q);if(ie)return ie;var H=re(q);if(H)return H}}}}});var Ty=c((Rte,my)=>{var Xh=ay();Xh.core=dy();Xh.isCore=fy();Xh.sync=gy();my.exports=Xh});var vy=c((Ite,Sy)=>{var Ii=1e3,bi=Ii*60,Pi=bi*60,Zn=Pi*24,JW=Zn*7,e4=Zn*365.25;Sy.exports=function(r,e){e=e||{};var t=typeof r;if(t==="string"&&r.length>0)return t4(r);if(t==="number"&&isFinite(r))return e.long?n4(r):r4(r);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(r))};function t4(r){if(r=String(r),!(r.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(r);if(e){var t=parseFloat(e[1]),n=(e[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return t*e4;case"weeks":case"week":case"w":return t*JW;case"days":case"day":case"d":return t*Zn;case"hours":case"hour":case"hrs":case"hr":case"h":return t*Pi;case"minutes":case"minute":case"mins":case"min":case"m":return t*bi;case"seconds":case"second":case"secs":case"sec":case"s":return t*Ii;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return t;default:return}}}}function r4(r){var e=Math.abs(r);return e>=Zn?Math.round(r/Zn)+"d":e>=Pi?Math.round(r/Pi)+"h":e>=bi?Math.round(r/bi)+"m":e>=Ii?Math.round(r/Ii)+"s":r+"ms"}function n4(r){var e=Math.abs(r);return e>=Zn?Wh(r,e,Zn,"day"):e>=Pi?Wh(r,e,Pi,"hour"):e>=bi?Wh(r,e,bi,"minute"):e>=Ii?Wh(r,e,Ii,"second"):r+" ms"}function Wh(r,e,t,n){var s=e>=t*1.5;return Math.round(r/t)+" "+n+(s?"s":"")}});var Sg=c((bte,Ay)=>{function s4(r){t.debug=t,t.default=t,t.coerce=u,t.disable=i,t.enable=s,t.enabled=o,t.humanize=vy(),t.destroy=l,Object.keys(r).forEach(h=>{t[h]=r[h]}),t.names=[],t.skips=[],t.formatters={};function e(h){let d=0;for(let f=0;f<h.length;f++)d=(d<<5)-d+h.charCodeAt(f),d|=0;return t.colors[Math.abs(d)%t.colors.length]}t.selectColor=e;function t(h){let d,f=null,p,I;function y(...M){if(!y.enabled)return;let R=y,X=Number(new Date),L=X-(d||X);R.diff=L,R.prev=d,R.curr=X,d=X,M[0]=t.coerce(M[0]),typeof M[0]!="string"&&M.unshift("%O");let Z=0;M[0]=M[0].replace(/%([a-zA-Z%])/g,(ge,V)=>{if(ge==="%%")return"%";Z++;let J=t.formatters[V];if(typeof J=="function"){let ee=M[Z];ge=J.call(R,ee),M.splice(Z,1),Z--}return ge}),t.formatArgs.call(R,M),(R.log||t.log).apply(R,M)}return y.namespace=h,y.useColors=t.useColors(),y.color=t.selectColor(h),y.extend=n,y.destroy=t.destroy,Object.defineProperty(y,"enabled",{enumerable:!0,configurable:!1,get:()=>f!==null?f:(p!==t.namespaces&&(p=t.namespaces,I=t.enabled(h)),I),set:M=>{f=M}}),typeof t.init=="function"&&t.init(y),y}function n(h,d){let f=t(this.namespace+(typeof d>"u"?":":d)+h);return f.log=this.log,f}function s(h){t.save(h),t.namespaces=h,t.names=[],t.skips=[];let d,f=(typeof h=="string"?h:"").split(/[\s,]+/),p=f.length;for(d=0;d<p;d++)f[d]&&(h=f[d].replace(/\*/g,".*?"),h[0]==="-"?t.skips.push(new RegExp("^"+h.slice(1)+"$")):t.names.push(new RegExp("^"+h+"$")))}function i(){let h=[...t.names.map(a),...t.skips.map(a).map(d=>"-"+d)].join(",");return t.enable(""),h}function o(h){if(h[h.length-1]==="*")return!0;let d,f;for(d=0,f=t.skips.length;d<f;d++)if(t.skips[d].test(h))return!1;for(d=0,f=t.names.length;d<f;d++)if(t.names[d].test(h))return!0;return!1}function a(h){return h.toString().substring(2,h.toString().length-2).replace(/\.\*\?$/,"*")}function u(h){return h instanceof Error?h.stack||h.message:h}function l(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return t.enable(t.load()),t}Ay.exports=s4});var Oy=c((vt,kh)=>{vt.formatArgs=o4;vt.save=a4;vt.load=u4;vt.useColors=i4;vt.storage=c4();vt.destroy=(()=>{let r=!1;return()=>{r||(r=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();vt.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function i4(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function o4(r){if(r[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+r[0]+(this.useColors?"%c ":" ")+"+"+kh.exports.humanize(this.diff),!this.useColors)return;let e="color: "+this.color;r.splice(1,0,e,"color: inherit");let t=0,n=0;r[0].replace(/%[a-zA-Z%]/g,s=>{s!=="%%"&&(t++,s==="%c"&&(n=t))}),r.splice(n,0,e)}vt.log=console.debug||console.log||(()=>{});function a4(r){try{r?vt.storage.setItem("debug",r):vt.storage.removeItem("debug")}catch{}}function u4(){let r;try{r=vt.storage.getItem("debug")}catch{}return!r&&typeof process<"u"&&"env"in process&&(r=process.env.DEBUG),r}function c4(){try{return localStorage}catch{}}kh.exports=Sg()(vt);var{formatters:l4}=kh.exports;l4.j=function(r){try{return JSON.stringify(r)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}});var Iy=c((Pte,Ry)=>{"use strict";Ry.exports=(r,e=process.argv)=>{let t=r.startsWith("-")?"":r.length===1?"-":"--",n=e.indexOf(t+r),s=e.indexOf("--");return n!==-1&&(s===-1||n<s)}});var yy=c((yte,Py)=>{"use strict";var h4=require("os"),by=require("tty"),Ct=Iy(),{env:be}=process,Yr;Ct("no-color")||Ct("no-colors")||Ct("color=false")||Ct("color=never")?Yr=0:(Ct("color")||Ct("colors")||Ct("color=true")||Ct("color=always"))&&(Yr=1);"FORCE_COLOR"in be&&(be.FORCE_COLOR==="true"?Yr=1:be.FORCE_COLOR==="false"?Yr=0:Yr=be.FORCE_COLOR.length===0?1:Math.min(parseInt(be.FORCE_COLOR,10),3));function vg(r){return r===0?!1:{level:r,hasBasic:!0,has256:r>=2,has16m:r>=3}}function Ag(r,e){if(Yr===0)return 0;if(Ct("color=16m")||Ct("color=full")||Ct("color=truecolor"))return 3;if(Ct("color=256"))return 2;if(r&&!e&&Yr===void 0)return 0;let t=Yr||0;if(be.TERM==="dumb")return t;if(process.platform==="win32"){let n=h4.release().split(".");return Number(n[0])>=10&&Number(n[2])>=10586?Number(n[2])>=14931?3:2:1}if("CI"in be)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some(n=>n in be)||be.CI_NAME==="codeship"?1:t;if("TEAMCITY_VERSION"in be)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(be.TEAMCITY_VERSION)?1:0;if(be.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in be){let n=parseInt((be.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(be.TERM_PROGRAM){case"iTerm.app":return n>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(be.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(be.TERM)||"COLORTERM"in be?1:t}function d4(r){let e=Ag(r,r&&r.isTTY);return vg(e)}Py.exports={supportsColor:d4,stdout:vg(Ag(!0,by.isatty(1))),stderr:vg(Ag(!0,by.isatty(2)))}});var Ly=c((xe,Yh)=>{var p4=require("tty"),Kh=require("util");xe.init=S4;xe.log=g4;xe.formatArgs=_4;xe.save=m4;xe.load=T4;xe.useColors=f4;xe.destroy=Kh.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");xe.colors=[6,2,3,4,5,1];try{let r=yy();r&&(r.stderr||r).level>=2&&(xe.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}xe.inspectOpts=Object.keys(process.env).filter(r=>/^debug_/i.test(r)).reduce((r,e)=>{let t=e.substring(6).toLowerCase().replace(/_([a-z])/g,(s,i)=>i.toUpperCase()),n=process.env[e];return/^(yes|on|true|enabled)$/i.test(n)?n=!0:/^(no|off|false|disabled)$/i.test(n)?n=!1:n==="null"?n=null:n=Number(n),r[t]=n,r},{});function f4(){return"colors"in xe.inspectOpts?!!xe.inspectOpts.colors:p4.isatty(process.stderr.fd)}function _4(r){let{namespace:e,useColors:t}=this;if(t){let n=this.color,s="\x1B[3"+(n<8?n:"8;5;"+n),i=`  ${s};1m${e} \x1B[0m`;r[0]=i+r[0].split(`
`).join(`
`+i),r.push(s+"m+"+Yh.exports.humanize(this.diff)+"\x1B[0m")}else r[0]=E4()+e+" "+r[0]}function E4(){return xe.inspectOpts.hideDate?"":new Date().toISOString()+" "}function g4(...r){return process.stderr.write(Kh.format(...r)+`
`)}function m4(r){r?process.env.DEBUG=r:delete process.env.DEBUG}function T4(){return process.env.DEBUG}function S4(r){r.inspectOpts={};let e=Object.keys(xe.inspectOpts);for(let t=0;t<e.length;t++)r.inspectOpts[e[t]]=xe.inspectOpts[e[t]]}Yh.exports=Sg()(xe);var{formatters:Ny}=Yh.exports;Ny.o=function(r){return this.inspectOpts.colors=this.useColors,Kh.inspect(r,this.inspectOpts).split(`
`).map(e=>e.trim()).join(" ")};Ny.O=function(r){return this.inspectOpts.colors=this.useColors,Kh.inspect(r,this.inspectOpts)}});var Cy=c((Nte,Og)=>{typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?Og.exports=Oy():Og.exports=Ly()});var Ig=c((Lte,My)=>{"use strict";var Rg=require("path");My.exports=function(r){var e=r.split(Rg.sep),t=e.lastIndexOf("node_modules");if(t!==-1&&e[t+1]){var n=e[t+1][0]==="@",s=n?e[t+1]+"/"+e[t+2]:e[t+1],i=n?3:2;return{name:s,basedir:e.slice(0,t+i).join(Rg.sep),path:e.slice(t+i).join(Rg.sep)}}}});var wy=c((Cte,v4)=>{v4.exports={name:"require-in-the-middle",version:"7.1.1",description:"Module to hook into the Node.js require function",main:"index.js",types:"types/index.d.ts",dependencies:{debug:"^4.1.1","module-details-from-path":"^1.0.3",resolve:"^1.22.1"},devDependencies:{"@babel/core":"^7.9.0","@babel/preset-env":"^7.9.5","@babel/preset-typescript":"^7.9.0","@babel/register":"^7.9.0","ipp-printer":"^1.0.0",patterns:"^1.0.3",roundround:"^0.2.0",semver:"^6.3.0",standard:"^14.3.1",tape:"^4.11.0"},scripts:{test:"npm run test:lint && npm run test:tape && npm run test:babel","test:lint":"standard","test:tape":"tape test/*.js","test:babel":"node test/babel/babel-register.js"},repository:{type:"git",url:"git+https://github.com/elastic/require-in-the-middle.git"},keywords:["require","hook","shim","shimmer","shimming","patch","monkey","monkeypatch","module","load"],files:["types"],author:"Thomas Watson Steen <w@tson.dk> (https://twitter.com/wa7son)",license:"MIT",bugs:{url:"https://github.com/elastic/require-in-the-middle/issues"},homepage:"https://github.com/elastic/require-in-the-middle#readme",engines:{node:">=8.6.0"}}});var Ra=c((Mte,yg)=>{"use strict";var yi=require("path"),Tr=require("module"),bg=Ty(),De=Cy()("require-in-the-middle"),A4=Ig();yg.exports=Oa;yg.exports.Hook=Oa;var Aa;if(Tr.isBuiltin)Aa=Tr.isBuiltin;else{let[r,e]=process.versions.node.split(".").map(Number);r===8&&e<8?Aa=t=>t==="http2"?!0:!!bg.core[t]:Aa=t=>!!bg.core[t]}var O4=/([/\\]index)?(\.js)?$/,Pg=class{constructor(){this._localCache=new Map,this._kRitmExports=Symbol("RitmExports")}has(e,t){if(this._localCache.has(e))return!0;if(t)return!1;{let n=require.cache[e];return!!(n&&this._kRitmExports in n)}}get(e,t){let n=this._localCache.get(e);if(n!==void 0)return n;if(!t){let s=require.cache[e];return s&&s[this._kRitmExports]}}set(e,t,n){n?this._localCache.set(e,t):e in require.cache?require.cache[e][this._kRitmExports]=t:(De('non-core module is unexpectedly not in require.cache: "%s"',e),this._localCache.set(e,t))}};function Oa(r,e,t){if(!(this instanceof Oa))return new Oa(r,e,t);if(typeof r=="function"?(t=r,r=null,e=null):typeof e=="function"&&(t=e,e=null),typeof Tr._resolveFilename!="function"){console.error("Error: Expected Module._resolveFilename to be a function (was: %s) - aborting!",typeof Tr._resolveFilename),console.error("Please report this error as an issue related to Node.js %s at %s",process.version,wy().bugs.url);return}this._cache=new Pg,this._unhooked=!1,this._origRequire=Tr.prototype.require;let n=this,s=new Set,i=e?e.internals===!0:!1,o=Array.isArray(r);De("registering require hook"),this._require=Tr.prototype.require=function(a){if(n._unhooked===!0)return De("ignoring require call - module is soft-unhooked"),n._origRequire.apply(this,arguments);let u=Aa(a),l;if(u){if(l=a,a.startsWith("node:")){let y=a.slice(5);Aa(y)&&(l=y)}}else try{l=Tr._resolveFilename(a,this)}catch(y){return De('Module._resolveFilename("%s") threw %j, calling original Module.require',a,y.message),n._origRequire.apply(this,arguments)}let h,d;if(De("processing %s module require('%s'): %s",u===!0?"core":"non-core",a,l),n._cache.has(l,u)===!0)return De("returning already patched cached module: %s",l),n._cache.get(l,u);let f=s.has(l);f===!1&&s.add(l);let p=n._origRequire.apply(this,arguments);if(f===!0)return De("module is in the process of being patched already - ignoring: %s",l),p;if(s.delete(l),u===!0){if(o===!0&&r.includes(l)===!1)return De("ignoring core module not on whitelist: %s",l),p;h=l}else if(o===!0&&r.includes(l)){let y=yi.parse(l);h=y.name,d=y.dir}else{let y=A4(l);if(y===void 0)return De("could not parse filename: %s",l),p;h=y.name,d=y.basedir;let M=R4(y);if(De("resolved filename to module: %s (id: %s, resolved: %s, basedir: %s)",h,a,M,d),o===!0&&r.includes(h)===!1){if(r.includes(M)===!1)return p;h=M}else{let R;try{R=bg.sync(h,{basedir:d})}catch{return De("could not resolve module: %s",h),p}if(R!==l)if(i===!0)h=h+yi.sep+yi.relative(d,l),De("preparing to process require of internal file: %s",h);else return De("ignoring require of non-main module file: %s",R),p}}n._cache.set(l,p,u),De("calling require hook: %s",h);let I=t(p,h,d);return n._cache.set(l,I,u),De("returning module: %s",h),I}}Oa.prototype.unhook=function(){this._unhooked=!0,this._require===Tr.prototype.require?(Tr.prototype.require=this._origRequire,De("unhook successful")):De("unhook unsuccessful")};function R4(r){let e=yi.sep!=="/"?r.path.split(yi.sep).join("/"):r.path;return yi.posix.join(r.name,e).replace(O4,"")}});var qy=c(zr=>{"use strict";Object.defineProperty(zr,"__esModule",{value:!0});zr.ModuleNameTrie=zr.ModuleNameSeparator=void 0;zr.ModuleNameSeparator="/";var zh=class{constructor(){this.hooks=[],this.children=new Map}},Ng=class{constructor(){this._trie=new zh,this._counter=0}insert(e){let t=this._trie;for(let n of e.moduleName.split(zr.ModuleNameSeparator)){let s=t.children.get(n);s||(s=new zh,t.children.set(n,s)),t=s}t.hooks.push({hook:e,insertedId:this._counter++})}search(e,{maintainInsertionOrder:t,fullOnly:n}={}){let s=this._trie,i=[],o=!0;for(let a of e.split(zr.ModuleNameSeparator)){let u=s.children.get(a);if(!u){o=!1;break}n||i.push(...u.hooks),s=u}return n&&o&&i.push(...s.hooks),i.length===0?[]:i.length===1?[i[0].hook]:(t&&i.sort((a,u)=>a.insertedId-u.insertedId),i.map(({hook:a})=>a))}};zr.ModuleNameTrie=Ng});var Dy=c(Qh=>{"use strict";Object.defineProperty(Qh,"__esModule",{value:!0});Qh.RequireInTheMiddleSingleton=void 0;var I4=Ra(),xy=require("path"),Lg=qy(),b4=["afterEach","after","beforeEach","before","describe","it"].every(r=>typeof global[r]=="function"),Ni=class{constructor(){this._moduleNameTrie=new Lg.ModuleNameTrie,this._initialize()}_initialize(){new I4.Hook(null,{internals:!0},(e,t,n)=>{let s=P4(t),i=this._moduleNameTrie.search(s,{maintainInsertionOrder:!0,fullOnly:n===void 0});for(let{onRequire:o}of i)e=o(e,t,n);return e})}register(e,t){let n={moduleName:e,onRequire:t};return this._moduleNameTrie.insert(n),n}static getInstance(){var e;return b4?new Ni:this._instance=(e=this._instance)!==null&&e!==void 0?e:new Ni}};Qh.RequireInTheMiddleSingleton=Ni;function P4(r){return xy.sep!==Lg.ModuleNameSeparator?r.split(xy.sep).join(Lg.ModuleNameSeparator):r}});var Gy=c(Ia=>{var $y=[],Cg=new WeakMap,jy=new Map,Uy=[],y4={set(r,e,t){return Cg.get(r)[e](t)},defineProperty(r,e,t){if(!("value"in t))throw new Error("Getters/setters are not supported for exports property descriptors.");return Cg.get(r)[e](t.value)}};function N4(r,e,t,n){jy.set(r,n),Cg.set(e,t);let s=new Proxy(e,y4);$y.forEach(i=>i(r,s)),Uy.push([r,s])}Ia.register=N4;Ia.importHooks=$y;Ia.specifiers=jy;Ia.toHook=Uy});var Wy=c((Dte,Jh)=>{var By=require("path"),L4=Ig(),{fileURLToPath:Fy}=require("url"),{importHooks:Mg,specifiers:C4,toHook:M4}=Gy();function Hy(r){Mg.push(r),M4.forEach(([e,t])=>r(e,t))}function Xy(r){let e=Mg.indexOf(r);e>-1&&Mg.splice(e,1)}function Vy(r,e,t,n){let s=r(e,t,n);s&&s!==e&&(e.default=s)}function Zh(r,e,t){if(!(this instanceof Zh))return new Zh(r,e,t);typeof r=="function"?(t=r,r=null,e=null):typeof e=="function"&&(t=e,e=null);let n=e?e.internals===!0:!1;this._iitmHook=(s,i)=>{let o=s,a=s.startsWith("node:"),u;if(a)s=s.replace(/^node:/,"");else{if(s.startsWith("file://"))try{s=Fy(s)}catch{}let l=L4(s);l&&(s=l.name,u=l.basedir)}if(r){for(let l of r)if(l===s){if(u){if(n)s=s+By.sep+By.relative(u,Fy(o));else if(!u.endsWith(C4.get(o)))continue}Vy(t,i,s,u)}}else Vy(t,i,s,u)},Hy(this._iitmHook)}Zh.prototype.unhook=function(){Xy(this._iitmHook)};Jh.exports=Zh;Jh.exports.addHook=Hy;Jh.exports.removeHook=Xy});var zy=c(ed=>{"use strict";Object.defineProperty(ed,"__esModule",{value:!0});ed.InstrumentationBase=void 0;var ky=require("path"),Ky=require("util"),w4=DP(),wg=Bh(),q4=GP(),x4=Dy(),D4=Wy(),Li=_(),$4=Ra(),qg=class extends q4.InstrumentationAbstract{constructor(e,t,n={}){super(e,t,n),this._hooks=[],this._requireInTheMiddleSingleton=x4.RequireInTheMiddleSingleton.getInstance(),this._enabled=!1,this._wrap=(i,o,a)=>{if(Ky.types.isProxy(i)){let u=(0,wg.wrap)(Object.assign({},i),o,a);return Object.defineProperty(i,o,{value:u})}else return(0,wg.wrap)(i,o,a)},this._unwrap=(i,o)=>Ky.types.isProxy(i)?Object.defineProperty(i,o,{value:i[o]}):(0,wg.unwrap)(i,o),this._massWrap=(i,o,a)=>{if(i)Array.isArray(i)||(i=[i]);else{Li.diag.error("must provide one or more modules to patch");return}if(!(o&&Array.isArray(o))){Li.diag.error("must provide one or more functions to wrap on modules");return}i.forEach(u=>{o.forEach(l=>{this._wrap(u,l,a)})})},this._massUnwrap=(i,o)=>{if(i)Array.isArray(i)||(i=[i]);else{Li.diag.error("must provide one or more modules to patch");return}if(!(o&&Array.isArray(o))){Li.diag.error("must provide one or more functions to wrap on modules");return}i.forEach(a=>{o.forEach(u=>{this._unwrap(a,u)})})};let s=this.init();s&&!Array.isArray(s)&&(s=[s]),this._modules=s||[],this._modules.length===0&&Li.diag.debug(`No modules instrumentation has been defined for '${this.instrumentationName}@${this.instrumentationVersion}', nothing will be patched`),this._config.enabled&&this.enable()}_warnOnPreloadedModules(){this._modules.forEach(e=>{let{name:t}=e;try{let n=require.resolve(t);require.cache[n]&&this._diag.warn(`Module ${t} has been loaded before ${this.instrumentationName} so it might not work, please initialize it before requiring ${t}`)}catch{}})}_extractPackageVersion(e){try{let t=require(ky.join(e,"package.json")).version;return typeof t=="string"?t:void 0}catch{Li.diag.warn("Failed extracting version",e)}}_onRequire(e,t,n,s){var i;if(!s)return typeof e.patch=="function"&&(e.moduleExports=t,this._enabled)?e.patch(t):t;let o=this._extractPackageVersion(s);return e.moduleVersion=o,e.name===n?Yy(e.supportedVersions,o,e.includePrerelease)&&typeof e.patch=="function"&&(e.moduleExports=t,this._enabled)?e.patch(t,e.moduleVersion):t:((i=e.files)!==null&&i!==void 0?i:[]).filter(l=>l.name===n).filter(l=>Yy(l.supportedVersions,o,e.includePrerelease)).reduce((l,h)=>(h.moduleExports=l,this._enabled?h.patch(l,e.moduleVersion):l),t)}enable(){if(!this._enabled){if(this._enabled=!0,this._hooks.length>0){for(let e of this._modules){typeof e.patch=="function"&&e.moduleExports&&e.patch(e.moduleExports,e.moduleVersion);for(let t of e.files)t.moduleExports&&t.patch(t.moduleExports,e.moduleVersion)}return}this._warnOnPreloadedModules();for(let e of this._modules){let t=(o,a,u)=>this._onRequire(e,o,a,u),n=(o,a,u)=>this._onRequire(e,o,a,u),s=ky.isAbsolute(e.name)?new $4.Hook([e.name],{internals:!0},n):this._requireInTheMiddleSingleton.register(e.name,n);this._hooks.push(s);let i=new D4([e.name],{internals:!1},t);this._hooks.push(i)}}}disable(){if(this._enabled){this._enabled=!1;for(let e of this._modules){typeof e.unpatch=="function"&&e.moduleExports&&e.unpatch(e.moduleExports,e.moduleVersion);for(let t of e.files)t.moduleExports&&t.unpatch(t.moduleExports,e.moduleVersion)}}}isEnabled(){return this._enabled}};ed.InstrumentationBase=qg;function Yy(r,e,t){return typeof e>"u"?r.includes("*"):r.some(n=>(0,w4.satisfies)(e,n,{includePrerelease:t}))}});var Qy=c(td=>{"use strict";Object.defineProperty(td,"__esModule",{value:!0});td.InstrumentationNodeModuleDefinition=void 0;var xg=class{constructor(e,t,n,s,i){this.name=e,this.supportedVersions=t,this.patch=n,this.unpatch=s,this.files=i||[]}};td.InstrumentationNodeModuleDefinition=xg});var Zy=c(rd=>{"use strict";Object.defineProperty(rd,"__esModule",{value:!0});rd.InstrumentationNodeModuleFile=void 0;var j4=require("path"),Dg=class{constructor(e,t,n,s){this.supportedVersions=t,this.patch=n,this.unpatch=s,this.name=(0,j4.normalize)(e)}};rd.InstrumentationNodeModuleFile=Dg});var eN=c(Jy=>{"use strict";Object.defineProperty(Jy,"__esModule",{value:!0})});var tN=c(ir=>{"use strict";var U4=ir&&ir.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),nd=ir&&ir.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&U4(e,r,t)};Object.defineProperty(ir,"__esModule",{value:!0});nd(zy(),ir);nd(Qy(),ir);nd(Zy(),ir);nd(eN(),ir)});var rN=c(Jn=>{"use strict";var G4=Jn&&Jn.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),B4=Jn&&Jn.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&G4(e,r,t)};Object.defineProperty(Jn,"__esModule",{value:!0});B4(tN(),Jn)});var sN=c(nN=>{"use strict";Object.defineProperty(nN,"__esModule",{value:!0})});var oN=c(iN=>{"use strict";Object.defineProperty(iN,"__esModule",{value:!0})});var aN=c(Qr=>{"use strict";Object.defineProperty(Qr,"__esModule",{value:!0});Qr.isWrapped=Qr.safeExecuteInTheMiddleAsync=Qr.safeExecuteInTheMiddle=void 0;function F4(r,e,t){let n,s;try{s=r()}catch(i){n=i}finally{if(e(n,s),n&&!t)throw n;return s}}Qr.safeExecuteInTheMiddle=F4;async function V4(r,e,t){let n,s;try{s=await r()}catch(i){n=i}finally{if(e(n,s),n&&!t)throw n;return s}}Qr.safeExecuteInTheMiddleAsync=V4;function H4(r){return typeof r=="function"&&typeof r.__original=="function"&&typeof r.__unwrap=="function"&&r.__wrapped===!0}Qr.isWrapped=H4});var $g=c(Ht=>{"use strict";var X4=Ht&&Ht.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),ba=Ht&&Ht.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&X4(e,r,t)};Object.defineProperty(Ht,"__esModule",{value:!0});ba(jI(),Ht);ba(rN(),Ht);ba(sN(),Ht);ba(oN(),Ht);ba(aN(),Ht)});var jg=c(Pa=>{"use strict";Object.defineProperty(Pa,"__esModule",{value:!0});Pa.AttributeNames=void 0;var W4;(function(r){r.AWS_OPERATION="aws.operation",r.AWS_REGION="aws.region",r.AWS_SERVICE_API="aws.service.api",r.AWS_SERVICE_NAME="aws.service.name",r.AWS_SERVICE_IDENTIFIER="aws.service.identifier",r.AWS_REQUEST_ID="aws.request.id",r.AWS_REQUEST_EXTENDED_ID="aws.request.extended_id",r.AWS_SIGNATURE_VERSION="aws.signature.version"})(W4=Pa.AttributeNames||(Pa.AttributeNames={}))});var lN=c(Gg=>{"use strict";Object.defineProperty(Gg,"__esModule",{value:!0});var Mi=_(),ya=Symbol("opentelemetry.pubsub-propagation.start_span"),Ci=Symbol("opentelemetry.pubsub-propagation.end_span"),k4=(r,e,t)=>{let n=r.filter;Object.defineProperty(r,"filter",{enumerable:!1,value:function(...i){let o=n.apply(this,i);return Ug(o,e,t),o}})};function uN(r){var e;return typeof((e=r)===null||e===void 0?void 0:e.then)=="function"}var cN=(r,e,t,n)=>{let s=r[e];Object.defineProperty(r,e,{enumerable:!1,value:function(...o){let a=o[0],u=function(...h){var d;let f=h[0],p=(d=f==null?void 0:f[ya])===null||d===void 0?void 0:d.call(f);if(!p)return a.apply(this,h);let I=Mi.context.with(Mi.trace.setSpan(n,p),()=>{var y;let M;try{if(M=a.apply(this,h),uN(M)){let R=()=>{var X;return(X=f[Ci])===null||X===void 0?void 0:X.call(f)};M.then(R,R)}return M}finally{uN(M)||(y=f[Ci])===null||y===void 0||y.call(f)}});if(typeof I=="object"){let y=Object.getOwnPropertyDescriptor(f,ya);y&&Object.defineProperty(I,ya,y);let M=Object.getOwnPropertyDescriptor(f,Ci);M&&Object.defineProperty(I,Ci,M)}return I};o[0]=u;let l=s.apply(this,o);return Array.isArray(l)&&Ug(l,t,n),l}})},Ug=(r,e,t=Mi.context.active())=>{cN(r,"forEach",e,t),cN(r,"map",e,t),k4(r,e,t)},K4=(r,e,t,n,s,i,o)=>{let a=[],u=Mi.trace.getSpanContext(s);u&&a.push({context:u});let l=`${e} process`,h=i.startSpan(l,{kind:Mi.SpanKind.CONSUMER,attributes:Object.assign(Object.assign({},t),{["messaging.operation"]:"process"}),links:a},n);Object.defineProperty(r,ya,{enumerable:!1,writable:!0,value:()=>h}),Object.defineProperty(r,Ci,{enumerable:!1,writable:!0,value:()=>{h.end(),Object.defineProperty(r,Ci,{enumerable:!1,writable:!0,value:()=>{}})}});try{o==null||o(h,r)}catch(d){Mi.diag.error("opentelemetry-pubsub-propagation: process hook error",d)}return h},Y4=({messages:r,tracer:e,parentContext:t,messageToSpanDetails:n,processHook:s})=>{r.forEach(i=>{let{attributes:o,name:a,parentContext:u}=n(i);Object.defineProperty(i,ya,{enumerable:!1,writable:!0,value:()=>K4(i,a,o,t,u,e,s)})})};Gg.default={patchMessagesArrayToStartProcessSpans:Y4,patchArrayForProcessSpans:Ug}});var hN=c(sd=>{"use strict";Object.defineProperty(sd,"__esModule",{value:!0});sd.pubsubPropagation=void 0;var z4=lN();Object.defineProperty(sd,"pubsubPropagation",{enumerable:!0,get:function(){return z4.default}})});var Vg=c(ke=>{"use strict";Object.defineProperty(ke,"__esModule",{value:!0});ke.addPropagationFieldsToAttributeNames=ke.extractPropagationContext=ke.injectPropagationContext=ke.contextGetter=ke.contextSetter=ke.MAX_MESSAGE_ATTRIBUTES=void 0;var wi=_();ke.MAX_MESSAGE_ATTRIBUTES=10;var Bg=class{set(e,t,n){e[t]={DataType:"String",StringValue:n}}};ke.contextSetter=new Bg;var Fg=class{keys(e){return Object.keys(e)}get(e,t){var n,s;return((n=e==null?void 0:e[t])===null||n===void 0?void 0:n.StringValue)||((s=e==null?void 0:e[t])===null||s===void 0?void 0:s.Value)}};ke.contextGetter=new Fg;var Q4=r=>{let e=r??{};return Object.keys(e).length+wi.propagation.fields().length<=ke.MAX_MESSAGE_ATTRIBUTES?wi.propagation.inject(wi.context.active(),e,ke.contextSetter):wi.diag.warn("aws-sdk instrumentation: cannot set context propagation on SQS/SNS message due to maximum amount of MessageAttributes"),e};ke.injectPropagationContext=Q4;var Z4=(r,e)=>{let t=wi.propagation.fields();if(Object.keys(r.MessageAttributes||[]).some(s=>t.includes(s)))return r.MessageAttributes;if(e&&r.Body)try{return JSON.parse(r.Body).MessageAttributes}catch{wi.diag.debug("failed to parse SQS payload to extract context propagation, trace might be incomplete.")}};ke.extractPropagationContext=Z4;var J4=(r=[],e)=>r.length?Array.from(new Set([...r,...e])):e;ke.addPropagationFieldsToAttributeNames=J4});var pN=c(id=>{"use strict";Object.defineProperty(id,"__esModule",{value:!0});id.SqsServiceExtension=void 0;var Sr=_(),dN=hN(),Ke=Ce(),Na=Vg(),Hg=class{constructor(){this.requestPostSpanHook=e=>{var t,n,s;switch(e.commandName){case"SendMessage":{let i=(t=e.commandInput.MessageAttributes)!==null&&t!==void 0?t:{};i&&(e.commandInput.MessageAttributes=Na.injectPropagationContext(i))}break;case"SendMessageBatch":(s=(n=e.commandInput)===null||n===void 0?void 0:n.Entries)===null||s===void 0||s.forEach(i=>{var o;i.MessageAttributes=Na.injectPropagationContext((o=i.MessageAttributes)!==null&&o!==void 0?o:{})});break}},this.responseHook=(e,t,n,s)=>{var i,o;switch(e.request.commandName){case"SendMessage":t.setAttribute(Ke.SemanticAttributes.MESSAGING_MESSAGE_ID,(i=e==null?void 0:e.data)===null||i===void 0?void 0:i.MessageId);break;case"SendMessageBatch":break;case"ReceiveMessage":{let a=(o=e==null?void 0:e.data)===null||o===void 0?void 0:o.Messages;if(a){let u=this.extractQueueUrl(e.request.commandInput),l=this.extractQueueNameFromUrl(u);dN.pubsubPropagation.patchMessagesArrayToStartProcessSpans({messages:a,parentContext:Sr.trace.setSpan(Sr.context.active(),t),tracer:n,messageToSpanDetails:h=>({name:l??"unknown",parentContext:Sr.propagation.extract(Sr.ROOT_CONTEXT,Na.extractPropagationContext(h,s.sqsExtractContextPropagationFromPayload),Na.contextGetter),attributes:{[Ke.SemanticAttributes.MESSAGING_SYSTEM]:"aws.sqs",[Ke.SemanticAttributes.MESSAGING_DESTINATION]:l,[Ke.SemanticAttributes.MESSAGING_DESTINATION_KIND]:Ke.MessagingDestinationKindValues.QUEUE,[Ke.SemanticAttributes.MESSAGING_MESSAGE_ID]:h.MessageId,[Ke.SemanticAttributes.MESSAGING_URL]:u,[Ke.SemanticAttributes.MESSAGING_OPERATION]:Ke.MessagingOperationValues.PROCESS}}),processHook:(h,d)=>{var f;return(f=s.sqsProcessHook)===null||f===void 0?void 0:f.call(s,h,{message:d})}}),dN.pubsubPropagation.patchArrayForProcessSpans(a,n,Sr.context.active())}break}}},this.extractQueueUrl=e=>e==null?void 0:e.QueueUrl,this.extractQueueNameFromUrl=e=>{if(!e)return;let t=e.split("/");if(t.length!==0)return t[t.length-1]}}requestPreSpanHook(e){let t=this.extractQueueUrl(e.commandInput),n=this.extractQueueNameFromUrl(t),s=Sr.SpanKind.CLIENT,i,o={[Ke.SemanticAttributes.MESSAGING_SYSTEM]:"aws.sqs",[Ke.SemanticAttributes.MESSAGING_DESTINATION_KIND]:Ke.MessagingDestinationKindValues.QUEUE,[Ke.SemanticAttributes.MESSAGING_DESTINATION]:n,[Ke.SemanticAttributes.MESSAGING_URL]:t},a=!1;switch(e.commandName){case"ReceiveMessage":a=!0,s=Sr.SpanKind.CONSUMER,i=`${n} receive`,o[Ke.SemanticAttributes.MESSAGING_OPERATION]=Ke.MessagingOperationValues.RECEIVE,e.commandInput.MessageAttributeNames=Na.addPropagationFieldsToAttributeNames(e.commandInput.MessageAttributeNames,Sr.propagation.fields());break;case"SendMessage":case"SendMessageBatch":s=Sr.SpanKind.PRODUCER,i=`${n} send`;break}return{isIncoming:a,spanAttributes:o,spanKind:s,spanName:i}}};id.SqsServiceExtension=Hg});var fN=c(od=>{"use strict";Object.defineProperty(od,"__esModule",{value:!0});od.DynamodbServiceExtension=void 0;var e5=_(),es=Ce(),Xg=class{requestPreSpanHook(e){var t;let n=e5.SpanKind.CLIENT,s,i=!1,o=e.commandName,a={[es.SemanticAttributes.DB_SYSTEM]:es.DbSystemValues.DYNAMODB,[es.SemanticAttributes.DB_NAME]:(t=e.commandInput)===null||t===void 0?void 0:t.TableName,[es.SemanticAttributes.DB_OPERATION]:o,[es.SemanticAttributes.DB_STATEMENT]:JSON.stringify(e.commandInput)};return o==="BatchGetItem"&&(a[es.SemanticAttributes.AWS_DYNAMODB_TABLE_NAMES]=Object.keys(e.commandInput.RequestItems)),{isIncoming:i,spanAttributes:a,spanKind:n,spanName:s}}responseHook(e,t,n,s){var i;e.request.commandName==="BatchGetItem"&&Array.isArray((i=e.data)===null||i===void 0?void 0:i.ConsumedCapacity)&&t.setAttribute(es.SemanticAttributes.AWS_DYNAMODB_CONSUMED_CAPACITY,e.data.ConsumedCapacity.map(a=>JSON.stringify(a)))}};od.DynamodbServiceExtension=Xg});var EN=c(ad=>{"use strict";Object.defineProperty(ad,"__esModule",{value:!0});ad.SnsServiceExtension=void 0;var _N=_(),La=Ce(),t5=Vg(),Wg=class{requestPreSpanHook(e){let t=_N.SpanKind.CLIENT,n=`SNS ${e.commandName}`,s={[La.SemanticAttributes.MESSAGING_SYSTEM]:"aws.sns"};if(e.commandName==="Publish"){t=_N.SpanKind.PRODUCER,s[La.SemanticAttributes.MESSAGING_DESTINATION_KIND]=La.MessagingDestinationKindValues.TOPIC;let{TopicArn:i,TargetArn:o,PhoneNumber:a}=e.commandInput;s[La.SemanticAttributes.MESSAGING_DESTINATION]=this.extractDestinationName(i,o,a),n=`${a?"phone_number":s[La.SemanticAttributes.MESSAGING_DESTINATION]} send`}return{isIncoming:!1,spanAttributes:s,spanKind:t,spanName:n}}requestPostSpanHook(e){var t;if(e.commandName==="Publish"){let n=(t=e.commandInput.MessageAttributes)!==null&&t!==void 0?t:{};n&&(e.commandInput.MessageAttributes=t5.injectPropagationContext(n))}}responseHook(e,t,n,s){}extractDestinationName(e,t,n){if(e||t){let s=e??t;try{return s.substr(s.lastIndexOf(":")+1)}catch{return s}}else return n||"unknown"}};ad.SnsServiceExtension=Wg});var mN=c(cd=>{"use strict";Object.defineProperty(cd,"__esModule",{value:!0});cd.LambdaServiceExtension=void 0;var kg=_(),ud=Ce(),gN=_(),qi=class{};qi.Invoke="Invoke";var Kg=class{constructor(){this.requestPostSpanHook=e=>{switch(e.commandName){case qi.Invoke:e.commandInput&&(e.commandInput.ClientContext=r5(e.commandInput.ClientContext));break}},this.extractFunctionName=e=>e==null?void 0:e.FunctionName}requestPreSpanHook(e){let t=this.extractFunctionName(e.commandInput),n={},s;switch(e.commandName){case"Invoke":n={[ud.SemanticAttributes.FAAS_INVOKED_NAME]:t,[ud.SemanticAttributes.FAAS_INVOKED_PROVIDER]:"aws"},e.region&&(n[ud.SemanticAttributes.FAAS_INVOKED_REGION]=e.region),s=`${t} ${qi.Invoke}`;break}return{isIncoming:!1,spanAttributes:n,spanKind:kg.SpanKind.CLIENT,spanName:s}}responseHook(e,t,n,s){switch(e.request.commandName){case qi.Invoke:t.setAttribute(ud.SemanticAttributes.FAAS_EXECUTION,e.requestId);break}}};cd.LambdaServiceExtension=Kg;var r5=r=>{try{let e={};gN.propagation.inject(gN.context.active(),e);let t=r?JSON.parse(Buffer.from(r,"base64").toString("utf8")):{},n=Object.assign(Object.assign({},t),{Custom:Object.assign(Object.assign({},t.Custom),e)}),s=Buffer.from(JSON.stringify(n)).toString("base64");return s.length>3583?(kg.diag.warn("lambda instrumentation: cannot set context propagation on lambda invoke parameters due to ClientContext length limitations."),r):s}catch(e){return kg.diag.debug("lambda instrumentation: failed to set context propagation on ClientContext",e),r}}});var TN=c(ld=>{"use strict";Object.defineProperty(ld,"__esModule",{value:!0});ld.ServicesExtensions=void 0;var n5=pN(),s5=fN(),i5=EN(),o5=mN(),Yg=class{constructor(){this.services=new Map,this.services.set("SQS",new n5.SqsServiceExtension),this.services.set("SNS",new i5.SnsServiceExtension),this.services.set("DynamoDB",new s5.DynamodbServiceExtension),this.services.set("Lambda",new o5.LambdaServiceExtension)}requestPreSpanHook(e){let t=this.services.get(e.serviceName);return t?t.requestPreSpanHook(e):{isIncoming:!1}}requestPostSpanHook(e){let t=this.services.get(e.serviceName);if(t!=null&&t.requestPostSpanHook)return t.requestPostSpanHook(e)}responseHook(e,t,n,s){var i;let o=this.services.get(e.request.serviceName);(i=o==null?void 0:o.responseHook)===null||i===void 0||i.call(o,e,t,n,s)}};ld.ServicesExtensions=Yg});var SN=c(hd=>{"use strict";Object.defineProperty(hd,"__esModule",{value:!0});hd.ServicesExtensions=void 0;var a5=TN();Object.defineProperty(hd,"ServicesExtensions",{enumerable:!0,get:function(){return a5.ServicesExtensions}})});var vN=c(dd=>{"use strict";Object.defineProperty(dd,"__esModule",{value:!0});dd.VERSION=void 0;dd.VERSION="0.34.2"});var ON=c(Zr=>{"use strict";Object.defineProperty(Zr,"__esModule",{value:!0});Zr.disableInstrumentations=Zr.enableInstrumentations=Zr.parseInstrumentationOptions=void 0;function AN(r=[]){let e=[];for(let t=0,n=r.length;t<n;t++){let s=r[t];if(Array.isArray(s)){let i=AN(s);e=e.concat(i.instrumentations)}else typeof s=="function"?e.push(new s):s.instrumentationName&&e.push(s)}return{instrumentations:e}}Zr.parseInstrumentationOptions=AN;function u5(r,e,t){for(let n=0,s=r.length;n<s;n++){let i=r[n];e&&i.setTracerProvider(e),t&&i.setMeterProvider(t),i.getConfig().enabled||i.enable()}}Zr.enableInstrumentations=u5;function c5(r){r.forEach(e=>e.disable())}Zr.disableInstrumentations=c5});var IN=c(pd=>{"use strict";Object.defineProperty(pd,"__esModule",{value:!0});pd.registerInstrumentations=void 0;var RN=_(),zg=ON();function l5(r){let{instrumentations:e}=(0,zg.parseInstrumentationOptions)(r.instrumentations),t=r.tracerProvider||RN.trace.getTracerProvider(),n=r.meterProvider||RN.metrics.getMeterProvider();return(0,zg.enableInstrumentations)(e,t,n),()=>{(0,zg.disableInstrumentations)(e)}}pd.registerInstrumentations=l5});var Ca=c((ore,bN)=>{var h5="2.0.0",d5=Number.MAX_SAFE_INTEGER||9007199254740991,p5=16,f5=["major","premajor","minor","preminor","patch","prepatch","prerelease"];bN.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:p5,MAX_SAFE_INTEGER:d5,RELEASE_TYPES:f5,SEMVER_SPEC_VERSION:h5,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var Ma=c((are,PN)=>{var _5=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...r)=>console.error("SEMVER",...r):()=>{};PN.exports=_5});var xi=c((Jr,yN)=>{var{MAX_SAFE_COMPONENT_LENGTH:Qg}=Ca(),E5=Ma();Jr=yN.exports={};var g5=Jr.re=[],S=Jr.src=[],v=Jr.t={},m5=0,j=(r,e,t)=>{let n=m5++;E5(r,n,e),v[r]=n,S[n]=e,g5[n]=new RegExp(e,t?"g":void 0)};j("NUMERICIDENTIFIER","0|[1-9]\\d*");j("NUMERICIDENTIFIERLOOSE","[0-9]+");j("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*");j("MAINVERSION",`(${S[v.NUMERICIDENTIFIER]})\\.(${S[v.NUMERICIDENTIFIER]})\\.(${S[v.NUMERICIDENTIFIER]})`);j("MAINVERSIONLOOSE",`(${S[v.NUMERICIDENTIFIERLOOSE]})\\.(${S[v.NUMERICIDENTIFIERLOOSE]})\\.(${S[v.NUMERICIDENTIFIERLOOSE]})`);j("PRERELEASEIDENTIFIER",`(?:${S[v.NUMERICIDENTIFIER]}|${S[v.NONNUMERICIDENTIFIER]})`);j("PRERELEASEIDENTIFIERLOOSE",`(?:${S[v.NUMERICIDENTIFIERLOOSE]}|${S[v.NONNUMERICIDENTIFIER]})`);j("PRERELEASE",`(?:-(${S[v.PRERELEASEIDENTIFIER]}(?:\\.${S[v.PRERELEASEIDENTIFIER]})*))`);j("PRERELEASELOOSE",`(?:-?(${S[v.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${S[v.PRERELEASEIDENTIFIERLOOSE]})*))`);j("BUILDIDENTIFIER","[0-9A-Za-z-]+");j("BUILD",`(?:\\+(${S[v.BUILDIDENTIFIER]}(?:\\.${S[v.BUILDIDENTIFIER]})*))`);j("FULLPLAIN",`v?${S[v.MAINVERSION]}${S[v.PRERELEASE]}?${S[v.BUILD]}?`);j("FULL",`^${S[v.FULLPLAIN]}$`);j("LOOSEPLAIN",`[v=\\s]*${S[v.MAINVERSIONLOOSE]}${S[v.PRERELEASELOOSE]}?${S[v.BUILD]}?`);j("LOOSE",`^${S[v.LOOSEPLAIN]}$`);j("GTLT","((?:<|>)?=?)");j("XRANGEIDENTIFIERLOOSE",`${S[v.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);j("XRANGEIDENTIFIER",`${S[v.NUMERICIDENTIFIER]}|x|X|\\*`);j("XRANGEPLAIN",`[v=\\s]*(${S[v.XRANGEIDENTIFIER]})(?:\\.(${S[v.XRANGEIDENTIFIER]})(?:\\.(${S[v.XRANGEIDENTIFIER]})(?:${S[v.PRERELEASE]})?${S[v.BUILD]}?)?)?`);j("XRANGEPLAINLOOSE",`[v=\\s]*(${S[v.XRANGEIDENTIFIERLOOSE]})(?:\\.(${S[v.XRANGEIDENTIFIERLOOSE]})(?:\\.(${S[v.XRANGEIDENTIFIERLOOSE]})(?:${S[v.PRERELEASELOOSE]})?${S[v.BUILD]}?)?)?`);j("XRANGE",`^${S[v.GTLT]}\\s*${S[v.XRANGEPLAIN]}$`);j("XRANGELOOSE",`^${S[v.GTLT]}\\s*${S[v.XRANGEPLAINLOOSE]}$`);j("COERCE",`(^|[^\\d])(\\d{1,${Qg}})(?:\\.(\\d{1,${Qg}}))?(?:\\.(\\d{1,${Qg}}))?(?:$|[^\\d])`);j("COERCERTL",S[v.COERCE],!0);j("LONETILDE","(?:~>?)");j("TILDETRIM",`(\\s*)${S[v.LONETILDE]}\\s+`,!0);Jr.tildeTrimReplace="$1~";j("TILDE",`^${S[v.LONETILDE]}${S[v.XRANGEPLAIN]}$`);j("TILDELOOSE",`^${S[v.LONETILDE]}${S[v.XRANGEPLAINLOOSE]}$`);j("LONECARET","(?:\\^)");j("CARETTRIM",`(\\s*)${S[v.LONECARET]}\\s+`,!0);Jr.caretTrimReplace="$1^";j("CARET",`^${S[v.LONECARET]}${S[v.XRANGEPLAIN]}$`);j("CARETLOOSE",`^${S[v.LONECARET]}${S[v.XRANGEPLAINLOOSE]}$`);j("COMPARATORLOOSE",`^${S[v.GTLT]}\\s*(${S[v.LOOSEPLAIN]})$|^$`);j("COMPARATOR",`^${S[v.GTLT]}\\s*(${S[v.FULLPLAIN]})$|^$`);j("COMPARATORTRIM",`(\\s*)${S[v.GTLT]}\\s*(${S[v.LOOSEPLAIN]}|${S[v.XRANGEPLAIN]})`,!0);Jr.comparatorTrimReplace="$1$2$3";j("HYPHENRANGE",`^\\s*(${S[v.XRANGEPLAIN]})\\s+-\\s+(${S[v.XRANGEPLAIN]})\\s*$`);j("HYPHENRANGELOOSE",`^\\s*(${S[v.XRANGEPLAINLOOSE]})\\s+-\\s+(${S[v.XRANGEPLAINLOOSE]})\\s*$`);j("STAR","(<|>)?=?\\s*\\*");j("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");j("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var fd=c((ure,NN)=>{var T5=Object.freeze({loose:!0}),S5=Object.freeze({}),v5=r=>r?typeof r!="object"?T5:r:S5;NN.exports=v5});var Zg=c((cre,MN)=>{var LN=/^[0-9]+$/,CN=(r,e)=>{let t=LN.test(r),n=LN.test(e);return t&&n&&(r=+r,e=+e),r===e?0:t&&!n?-1:n&&!t?1:r<e?-1:1},A5=(r,e)=>CN(e,r);MN.exports={compareIdentifiers:CN,rcompareIdentifiers:A5}});var Ye=c((lre,DN)=>{var _d=Ma(),{MAX_LENGTH:wN,MAX_SAFE_INTEGER:Ed}=Ca(),{re:qN,t:xN}=xi(),O5=fd(),{compareIdentifiers:Di}=Zg(),At=class{constructor(e,t){if(t=O5(t),e instanceof At){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>wN)throw new TypeError(`version is longer than ${wN} characters`);_d("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;let n=e.trim().match(t.loose?qN[xN.LOOSE]:qN[xN.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>Ed||this.major<0)throw new TypeError("Invalid major version");if(this.minor>Ed||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>Ed||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(s=>{if(/^[0-9]+$/.test(s)){let i=+s;if(i>=0&&i<Ed)return i}return s}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(_d("SemVer.compare",this.version,this.options,e),!(e instanceof At)){if(typeof e=="string"&&e===this.version)return 0;e=new At(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof At||(e=new At(e,this.options)),Di(this.major,e.major)||Di(this.minor,e.minor)||Di(this.patch,e.patch)}comparePre(e){if(e instanceof At||(e=new At(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{let n=this.prerelease[t],s=e.prerelease[t];if(_d("prerelease compare",t,n,s),n===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(n===void 0)return-1;if(n===s)continue;return Di(n,s)}while(++t)}compareBuild(e){e instanceof At||(e=new At(e,this.options));let t=0;do{let n=this.build[t],s=e.build[t];if(_d("prerelease compare",t,n,s),n===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(n===void 0)return-1;if(n===s)continue;return Di(n,s)}while(++t)}inc(e,t,n){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,n),this.inc("pre",t,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",t,n),this.inc("pre",t,n);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let s=Number(n)?1:0;if(!t&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[s];else{let i=this.prerelease.length;for(;--i>=0;)typeof this.prerelease[i]=="number"&&(this.prerelease[i]++,i=-2);if(i===-1){if(t===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(s)}}if(t){let i=[t,s];n===!1&&(i=[t]),Di(this.prerelease[0],t)===0?isNaN(this.prerelease[1])&&(this.prerelease=i):this.prerelease=i}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.format(),this.raw=this.version,this}};DN.exports=At});var ts=c((hre,jN)=>{var $N=Ye(),R5=(r,e,t=!1)=>{if(r instanceof $N)return r;try{return new $N(r,e)}catch(n){if(!t)return null;throw n}};jN.exports=R5});var GN=c((dre,UN)=>{var I5=ts(),b5=(r,e)=>{let t=I5(r,e);return t?t.version:null};UN.exports=b5});var FN=c((pre,BN)=>{var P5=ts(),y5=(r,e)=>{let t=P5(r.trim().replace(/^[=v]+/,""),e);return t?t.version:null};BN.exports=y5});var XN=c((fre,HN)=>{var VN=Ye(),N5=(r,e,t,n,s)=>{typeof t=="string"&&(s=n,n=t,t=void 0);try{return new VN(r instanceof VN?r.version:r,t).inc(e,n,s).version}catch{return null}};HN.exports=N5});var KN=c((_re,kN)=>{var WN=ts(),L5=(r,e)=>{let t=WN(r,null,!0),n=WN(e,null,!0),s=t.compare(n);if(s===0)return null;let i=s>0,o=i?t:n,a=i?n:t,u=!!o.prerelease.length,l=u?"pre":"";return t.major!==n.major?l+"major":t.minor!==n.minor?l+"minor":t.patch!==n.patch?l+"patch":u?"prerelease":a.patch?"patch":a.minor?"minor":"major"};kN.exports=L5});var zN=c((Ere,YN)=>{var C5=Ye(),M5=(r,e)=>new C5(r,e).major;YN.exports=M5});var ZN=c((gre,QN)=>{var w5=Ye(),q5=(r,e)=>new w5(r,e).minor;QN.exports=q5});var eL=c((mre,JN)=>{var x5=Ye(),D5=(r,e)=>new x5(r,e).patch;JN.exports=D5});var rL=c((Tre,tL)=>{var $5=ts(),j5=(r,e)=>{let t=$5(r,e);return t&&t.prerelease.length?t.prerelease:null};tL.exports=j5});var Mt=c((Sre,sL)=>{var nL=Ye(),U5=(r,e,t)=>new nL(r,t).compare(new nL(e,t));sL.exports=U5});var oL=c((vre,iL)=>{var G5=Mt(),B5=(r,e,t)=>G5(e,r,t);iL.exports=B5});var uL=c((Are,aL)=>{var F5=Mt(),V5=(r,e)=>F5(r,e,!0);aL.exports=V5});var gd=c((Ore,lL)=>{var cL=Ye(),H5=(r,e,t)=>{let n=new cL(r,t),s=new cL(e,t);return n.compare(s)||n.compareBuild(s)};lL.exports=H5});var dL=c((Rre,hL)=>{var X5=gd(),W5=(r,e)=>r.sort((t,n)=>X5(t,n,e));hL.exports=W5});var fL=c((Ire,pL)=>{var k5=gd(),K5=(r,e)=>r.sort((t,n)=>k5(n,t,e));pL.exports=K5});var wa=c((bre,_L)=>{var Y5=Mt(),z5=(r,e,t)=>Y5(r,e,t)>0;_L.exports=z5});var md=c((Pre,EL)=>{var Q5=Mt(),Z5=(r,e,t)=>Q5(r,e,t)<0;EL.exports=Z5});var Jg=c((yre,gL)=>{var J5=Mt(),e8=(r,e,t)=>J5(r,e,t)===0;gL.exports=e8});var em=c((Nre,mL)=>{var t8=Mt(),r8=(r,e,t)=>t8(r,e,t)!==0;mL.exports=r8});var Td=c((Lre,TL)=>{var n8=Mt(),s8=(r,e,t)=>n8(r,e,t)>=0;TL.exports=s8});var Sd=c((Cre,SL)=>{var i8=Mt(),o8=(r,e,t)=>i8(r,e,t)<=0;SL.exports=o8});var tm=c((Mre,vL)=>{var a8=Jg(),u8=em(),c8=wa(),l8=Td(),h8=md(),d8=Sd(),p8=(r,e,t,n)=>{switch(e){case"===":return typeof r=="object"&&(r=r.version),typeof t=="object"&&(t=t.version),r===t;case"!==":return typeof r=="object"&&(r=r.version),typeof t=="object"&&(t=t.version),r!==t;case"":case"=":case"==":return a8(r,t,n);case"!=":return u8(r,t,n);case">":return c8(r,t,n);case">=":return l8(r,t,n);case"<":return h8(r,t,n);case"<=":return d8(r,t,n);default:throw new TypeError(`Invalid operator: ${e}`)}};vL.exports=p8});var OL=c((wre,AL)=>{var f8=Ye(),_8=ts(),{re:vd,t:Ad}=xi(),E8=(r,e)=>{if(r instanceof f8)return r;if(typeof r=="number"&&(r=String(r)),typeof r!="string")return null;e=e||{};let t=null;if(!e.rtl)t=r.match(vd[Ad.COERCE]);else{let n;for(;(n=vd[Ad.COERCERTL].exec(r))&&(!t||t.index+t[0].length!==r.length);)(!t||n.index+n[0].length!==t.index+t[0].length)&&(t=n),vd[Ad.COERCERTL].lastIndex=n.index+n[1].length+n[2].length;vd[Ad.COERCERTL].lastIndex=-1}return t===null?null:_8(`${t[2]}.${t[3]||"0"}.${t[4]||"0"}`,e)};AL.exports=E8});var IL=c((qre,RL)=>{"use strict";RL.exports=function(r){r.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}});var PL=c((xre,bL)=>{"use strict";bL.exports=K;K.Node=rs;K.create=K;function K(r){var e=this;if(e instanceof K||(e=new K),e.tail=null,e.head=null,e.length=0,r&&typeof r.forEach=="function")r.forEach(function(s){e.push(s)});else if(arguments.length>0)for(var t=0,n=arguments.length;t<n;t++)e.push(arguments[t]);return e}K.prototype.removeNode=function(r){if(r.list!==this)throw new Error("removing node which does not belong to this list");var e=r.next,t=r.prev;return e&&(e.prev=t),t&&(t.next=e),r===this.head&&(this.head=e),r===this.tail&&(this.tail=t),r.list.length--,r.next=null,r.prev=null,r.list=null,e};K.prototype.unshiftNode=function(r){if(r!==this.head){r.list&&r.list.removeNode(r);var e=this.head;r.list=this,r.next=e,e&&(e.prev=r),this.head=r,this.tail||(this.tail=r),this.length++}};K.prototype.pushNode=function(r){if(r!==this.tail){r.list&&r.list.removeNode(r);var e=this.tail;r.list=this,r.prev=e,e&&(e.next=r),this.tail=r,this.head||(this.head=r),this.length++}};K.prototype.push=function(){for(var r=0,e=arguments.length;r<e;r++)m8(this,arguments[r]);return this.length};K.prototype.unshift=function(){for(var r=0,e=arguments.length;r<e;r++)T8(this,arguments[r]);return this.length};K.prototype.pop=function(){if(this.tail){var r=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,r}};K.prototype.shift=function(){if(this.head){var r=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,r}};K.prototype.forEach=function(r,e){e=e||this;for(var t=this.head,n=0;t!==null;n++)r.call(e,t.value,n,this),t=t.next};K.prototype.forEachReverse=function(r,e){e=e||this;for(var t=this.tail,n=this.length-1;t!==null;n--)r.call(e,t.value,n,this),t=t.prev};K.prototype.get=function(r){for(var e=0,t=this.head;t!==null&&e<r;e++)t=t.next;if(e===r&&t!==null)return t.value};K.prototype.getReverse=function(r){for(var e=0,t=this.tail;t!==null&&e<r;e++)t=t.prev;if(e===r&&t!==null)return t.value};K.prototype.map=function(r,e){e=e||this;for(var t=new K,n=this.head;n!==null;)t.push(r.call(e,n.value,this)),n=n.next;return t};K.prototype.mapReverse=function(r,e){e=e||this;for(var t=new K,n=this.tail;n!==null;)t.push(r.call(e,n.value,this)),n=n.prev;return t};K.prototype.reduce=function(r,e){var t,n=this.head;if(arguments.length>1)t=e;else if(this.head)n=this.head.next,t=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var s=0;n!==null;s++)t=r(t,n.value,s),n=n.next;return t};K.prototype.reduceReverse=function(r,e){var t,n=this.tail;if(arguments.length>1)t=e;else if(this.tail)n=this.tail.prev,t=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var s=this.length-1;n!==null;s--)t=r(t,n.value,s),n=n.prev;return t};K.prototype.toArray=function(){for(var r=new Array(this.length),e=0,t=this.head;t!==null;e++)r[e]=t.value,t=t.next;return r};K.prototype.toArrayReverse=function(){for(var r=new Array(this.length),e=0,t=this.tail;t!==null;e++)r[e]=t.value,t=t.prev;return r};K.prototype.slice=function(r,e){e=e||this.length,e<0&&(e+=this.length),r=r||0,r<0&&(r+=this.length);var t=new K;if(e<r||e<0)return t;r<0&&(r=0),e>this.length&&(e=this.length);for(var n=0,s=this.head;s!==null&&n<r;n++)s=s.next;for(;s!==null&&n<e;n++,s=s.next)t.push(s.value);return t};K.prototype.sliceReverse=function(r,e){e=e||this.length,e<0&&(e+=this.length),r=r||0,r<0&&(r+=this.length);var t=new K;if(e<r||e<0)return t;r<0&&(r=0),e>this.length&&(e=this.length);for(var n=this.length,s=this.tail;s!==null&&n>e;n--)s=s.prev;for(;s!==null&&n>r;n--,s=s.prev)t.push(s.value);return t};K.prototype.splice=function(r,e,...t){r>this.length&&(r=this.length-1),r<0&&(r=this.length+r);for(var n=0,s=this.head;s!==null&&n<r;n++)s=s.next;for(var i=[],n=0;s&&n<e;n++)i.push(s.value),s=this.removeNode(s);s===null&&(s=this.tail),s!==this.head&&s!==this.tail&&(s=s.prev);for(var n=0;n<t.length;n++)s=g8(this,s,t[n]);return i};K.prototype.reverse=function(){for(var r=this.head,e=this.tail,t=r;t!==null;t=t.prev){var n=t.prev;t.prev=t.next,t.next=n}return this.head=e,this.tail=r,this};function g8(r,e,t){var n=e===r.head?new rs(t,null,e,r):new rs(t,e,e.next,r);return n.next===null&&(r.tail=n),n.prev===null&&(r.head=n),r.length++,n}function m8(r,e){r.tail=new rs(e,r.tail,null,r),r.head||(r.head=r.tail),r.length++}function T8(r,e){r.head=new rs(e,null,r.head,r),r.tail||(r.tail=r.head),r.length++}function rs(r,e,t,n){if(!(this instanceof rs))return new rs(r,e,t,n);this.list=n,this.value=r,e?(e.next=this,this.prev=e):this.prev=null,t?(t.prev=this,this.next=t):this.next=null}try{IL()(K)}catch{}});var ML=c((Dre,CL)=>{"use strict";var S8=PL(),ns=Symbol("max"),Ar=Symbol("length"),$i=Symbol("lengthCalculator"),xa=Symbol("allowStale"),ss=Symbol("maxAge"),vr=Symbol("dispose"),yL=Symbol("noDisposeOnSet"),Pe=Symbol("lruList"),Xt=Symbol("cache"),LL=Symbol("updateAgeOnGet"),rm=()=>1,sm=class{constructor(e){if(typeof e=="number"&&(e={max:e}),e||(e={}),e.max&&(typeof e.max!="number"||e.max<0))throw new TypeError("max must be a non-negative number");let t=this[ns]=e.max||1/0,n=e.length||rm;if(this[$i]=typeof n!="function"?rm:n,this[xa]=e.stale||!1,e.maxAge&&typeof e.maxAge!="number")throw new TypeError("maxAge must be a number");this[ss]=e.maxAge||0,this[vr]=e.dispose,this[yL]=e.noDisposeOnSet||!1,this[LL]=e.updateAgeOnGet||!1,this.reset()}set max(e){if(typeof e!="number"||e<0)throw new TypeError("max must be a non-negative number");this[ns]=e||1/0,qa(this)}get max(){return this[ns]}set allowStale(e){this[xa]=!!e}get allowStale(){return this[xa]}set maxAge(e){if(typeof e!="number")throw new TypeError("maxAge must be a non-negative number");this[ss]=e,qa(this)}get maxAge(){return this[ss]}set lengthCalculator(e){typeof e!="function"&&(e=rm),e!==this[$i]&&(this[$i]=e,this[Ar]=0,this[Pe].forEach(t=>{t.length=this[$i](t.value,t.key),this[Ar]+=t.length})),qa(this)}get lengthCalculator(){return this[$i]}get length(){return this[Ar]}get itemCount(){return this[Pe].length}rforEach(e,t){t=t||this;for(let n=this[Pe].tail;n!==null;){let s=n.prev;NL(this,e,n,t),n=s}}forEach(e,t){t=t||this;for(let n=this[Pe].head;n!==null;){let s=n.next;NL(this,e,n,t),n=s}}keys(){return this[Pe].toArray().map(e=>e.key)}values(){return this[Pe].toArray().map(e=>e.value)}reset(){this[vr]&&this[Pe]&&this[Pe].length&&this[Pe].forEach(e=>this[vr](e.key,e.value)),this[Xt]=new Map,this[Pe]=new S8,this[Ar]=0}dump(){return this[Pe].map(e=>Od(this,e)?!1:{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[Pe]}set(e,t,n){if(n=n||this[ss],n&&typeof n!="number")throw new TypeError("maxAge must be a number");let s=n?Date.now():0,i=this[$i](t,e);if(this[Xt].has(e)){if(i>this[ns])return ji(this,this[Xt].get(e)),!1;let u=this[Xt].get(e).value;return this[vr]&&(this[yL]||this[vr](e,u.value)),u.now=s,u.maxAge=n,u.value=t,this[Ar]+=i-u.length,u.length=i,this.get(e),qa(this),!0}let o=new im(e,t,i,s,n);return o.length>this[ns]?(this[vr]&&this[vr](e,t),!1):(this[Ar]+=o.length,this[Pe].unshift(o),this[Xt].set(e,this[Pe].head),qa(this),!0)}has(e){if(!this[Xt].has(e))return!1;let t=this[Xt].get(e).value;return!Od(this,t)}get(e){return nm(this,e,!0)}peek(e){return nm(this,e,!1)}pop(){let e=this[Pe].tail;return e?(ji(this,e),e.value):null}del(e){ji(this,this[Xt].get(e))}load(e){this.reset();let t=Date.now();for(let n=e.length-1;n>=0;n--){let s=e[n],i=s.e||0;if(i===0)this.set(s.k,s.v);else{let o=i-t;o>0&&this.set(s.k,s.v,o)}}}prune(){this[Xt].forEach((e,t)=>nm(this,t,!1))}},nm=(r,e,t)=>{let n=r[Xt].get(e);if(n){let s=n.value;if(Od(r,s)){if(ji(r,n),!r[xa])return}else t&&(r[LL]&&(n.value.now=Date.now()),r[Pe].unshiftNode(n));return s.value}},Od=(r,e)=>{if(!e||!e.maxAge&&!r[ss])return!1;let t=Date.now()-e.now;return e.maxAge?t>e.maxAge:r[ss]&&t>r[ss]},qa=r=>{if(r[Ar]>r[ns])for(let e=r[Pe].tail;r[Ar]>r[ns]&&e!==null;){let t=e.prev;ji(r,e),e=t}},ji=(r,e)=>{if(e){let t=e.value;r[vr]&&r[vr](t.key,t.value),r[Ar]-=t.length,r[Xt].delete(t.key),r[Pe].removeNode(e)}},im=class{constructor(e,t,n,s,i){this.key=e,this.value=t,this.length=n,this.now=s,this.maxAge=i||0}},NL=(r,e,t,n)=>{let s=t.value;Od(r,s)&&(ji(r,t),r[xa]||(s=void 0)),s&&e.call(n,s.value,s.key,r)};CL.exports=sm});var wt=c(($re,DL)=>{var is=class{constructor(e,t){if(t=A8(t),e instanceof is)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new is(e.raw,t);if(e instanceof om)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split("||").map(n=>this.parseRange(n.trim())).filter(n=>n.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${e}`);if(this.set.length>1){let n=this.set[0];if(this.set=this.set.filter(s=>!qL(s[0])),this.set.length===0)this.set=[n];else if(this.set.length>1){for(let s of this.set)if(s.length===1&&N8(s[0])){this.set=[s];break}}}this.format()}format(){return this.range=this.set.map(e=>e.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(e){e=e.trim();let n=((this.options.includePrerelease&&P8)|(this.options.loose&&y8))+":"+e,s=wL.get(n);if(s)return s;let i=this.options.loose,o=i?dt[rt.HYPHENRANGELOOSE]:dt[rt.HYPHENRANGE];e=e.replace(o,U8(this.options.includePrerelease)),_e("hyphen replace",e),e=e.replace(dt[rt.COMPARATORTRIM],R8),_e("comparator trim",e),e=e.replace(dt[rt.TILDETRIM],I8),e=e.replace(dt[rt.CARETTRIM],b8),e=e.split(/\s+/).join(" ");let a=e.split(" ").map(d=>L8(d,this.options)).join(" ").split(/\s+/).map(d=>j8(d,this.options));i&&(a=a.filter(d=>(_e("loose invalid filter",d,this.options),!!d.match(dt[rt.COMPARATORLOOSE])))),_e("range list",a);let u=new Map,l=a.map(d=>new om(d,this.options));for(let d of l){if(qL(d))return[d];u.set(d.value,d)}u.size>1&&u.has("")&&u.delete("");let h=[...u.values()];return wL.set(n,h),h}intersects(e,t){if(!(e instanceof is))throw new TypeError("a Range is required");return this.set.some(n=>xL(n,t)&&e.set.some(s=>xL(s,t)&&n.every(i=>s.every(o=>i.intersects(o,t)))))}test(e){if(!e)return!1;if(typeof e=="string")try{e=new O8(e,this.options)}catch{return!1}for(let t=0;t<this.set.length;t++)if(G8(this.set[t],e,this.options))return!0;return!1}};DL.exports=is;var v8=ML(),wL=new v8({max:1e3}),A8=fd(),om=Da(),_e=Ma(),O8=Ye(),{re:dt,t:rt,comparatorTrimReplace:R8,tildeTrimReplace:I8,caretTrimReplace:b8}=xi(),{FLAG_INCLUDE_PRERELEASE:P8,FLAG_LOOSE:y8}=Ca(),qL=r=>r.value==="<0.0.0-0",N8=r=>r.value==="",xL=(r,e)=>{let t=!0,n=r.slice(),s=n.pop();for(;t&&n.length;)t=n.every(i=>s.intersects(i,e)),s=n.pop();return t},L8=(r,e)=>(_e("comp",r,e),r=w8(r,e),_e("caret",r),r=C8(r,e),_e("tildes",r),r=x8(r,e),_e("xrange",r),r=$8(r,e),_e("stars",r),r),nt=r=>!r||r.toLowerCase()==="x"||r==="*",C8=(r,e)=>r.trim().split(/\s+/).map(t=>M8(t,e)).join(" "),M8=(r,e)=>{let t=e.loose?dt[rt.TILDELOOSE]:dt[rt.TILDE];return r.replace(t,(n,s,i,o,a)=>{_e("tilde",r,n,s,i,o,a);let u;return nt(s)?u="":nt(i)?u=`>=${s}.0.0 <${+s+1}.0.0-0`:nt(o)?u=`>=${s}.${i}.0 <${s}.${+i+1}.0-0`:a?(_e("replaceTilde pr",a),u=`>=${s}.${i}.${o}-${a} <${s}.${+i+1}.0-0`):u=`>=${s}.${i}.${o} <${s}.${+i+1}.0-0`,_e("tilde return",u),u})},w8=(r,e)=>r.trim().split(/\s+/).map(t=>q8(t,e)).join(" "),q8=(r,e)=>{_e("caret",r,e);let t=e.loose?dt[rt.CARETLOOSE]:dt[rt.CARET],n=e.includePrerelease?"-0":"";return r.replace(t,(s,i,o,a,u)=>{_e("caret",r,s,i,o,a,u);let l;return nt(i)?l="":nt(o)?l=`>=${i}.0.0${n} <${+i+1}.0.0-0`:nt(a)?i==="0"?l=`>=${i}.${o}.0${n} <${i}.${+o+1}.0-0`:l=`>=${i}.${o}.0${n} <${+i+1}.0.0-0`:u?(_e("replaceCaret pr",u),i==="0"?o==="0"?l=`>=${i}.${o}.${a}-${u} <${i}.${o}.${+a+1}-0`:l=`>=${i}.${o}.${a}-${u} <${i}.${+o+1}.0-0`:l=`>=${i}.${o}.${a}-${u} <${+i+1}.0.0-0`):(_e("no pr"),i==="0"?o==="0"?l=`>=${i}.${o}.${a}${n} <${i}.${o}.${+a+1}-0`:l=`>=${i}.${o}.${a}${n} <${i}.${+o+1}.0-0`:l=`>=${i}.${o}.${a} <${+i+1}.0.0-0`),_e("caret return",l),l})},x8=(r,e)=>(_e("replaceXRanges",r,e),r.split(/\s+/).map(t=>D8(t,e)).join(" ")),D8=(r,e)=>{r=r.trim();let t=e.loose?dt[rt.XRANGELOOSE]:dt[rt.XRANGE];return r.replace(t,(n,s,i,o,a,u)=>{_e("xRange",r,n,s,i,o,a,u);let l=nt(i),h=l||nt(o),d=h||nt(a),f=d;return s==="="&&f&&(s=""),u=e.includePrerelease?"-0":"",l?s===">"||s==="<"?n="<0.0.0-0":n="*":s&&f?(h&&(o=0),a=0,s===">"?(s=">=",h?(i=+i+1,o=0,a=0):(o=+o+1,a=0)):s==="<="&&(s="<",h?i=+i+1:o=+o+1),s==="<"&&(u="-0"),n=`${s+i}.${o}.${a}${u}`):h?n=`>=${i}.0.0${u} <${+i+1}.0.0-0`:d&&(n=`>=${i}.${o}.0${u} <${i}.${+o+1}.0-0`),_e("xRange return",n),n})},$8=(r,e)=>(_e("replaceStars",r,e),r.trim().replace(dt[rt.STAR],"")),j8=(r,e)=>(_e("replaceGTE0",r,e),r.trim().replace(dt[e.includePrerelease?rt.GTE0PRE:rt.GTE0],"")),U8=r=>(e,t,n,s,i,o,a,u,l,h,d,f,p)=>(nt(n)?t="":nt(s)?t=`>=${n}.0.0${r?"-0":""}`:nt(i)?t=`>=${n}.${s}.0${r?"-0":""}`:o?t=`>=${t}`:t=`>=${t}${r?"-0":""}`,nt(l)?u="":nt(h)?u=`<${+l+1}.0.0-0`:nt(d)?u=`<${l}.${+h+1}.0-0`:f?u=`<=${l}.${h}.${d}-${f}`:r?u=`<${l}.${h}.${+d+1}-0`:u=`<=${u}`,`${t} ${u}`.trim()),G8=(r,e,t)=>{for(let n=0;n<r.length;n++)if(!r[n].test(e))return!1;if(e.prerelease.length&&!t.includePrerelease){for(let n=0;n<r.length;n++)if(_e(r[n].semver),r[n].semver!==om.ANY&&r[n].semver.prerelease.length>0){let s=r[n].semver;if(s.major===e.major&&s.minor===e.minor&&s.patch===e.patch)return!0}return!1}return!0}});var Da=c((jre,FL)=>{var $a=Symbol("SemVer ANY"),Ui=class{static get ANY(){return $a}constructor(e,t){if(t=$L(t),e instanceof Ui){if(e.loose===!!t.loose)return e;e=e.value}um("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===$a?this.value="":this.value=this.operator+this.semver.version,um("comp",this)}parse(e){let t=this.options.loose?jL[UL.COMPARATORLOOSE]:jL[UL.COMPARATOR],n=e.match(t);if(!n)throw new TypeError(`Invalid comparator: ${e}`);this.operator=n[1]!==void 0?n[1]:"",this.operator==="="&&(this.operator=""),n[2]?this.semver=new GL(n[2],this.options.loose):this.semver=$a}toString(){return this.value}test(e){if(um("Comparator.test",e,this.options.loose),this.semver===$a||e===$a)return!0;if(typeof e=="string")try{e=new GL(e,this.options)}catch{return!1}return am(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof Ui))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new BL(e.value,t).test(this.value):e.operator===""?e.value===""?!0:new BL(this.value,t).test(e.semver):(t=$L(t),t.includePrerelease&&(this.value==="<0.0.0-0"||e.value==="<0.0.0-0")||!t.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&e.operator.startsWith(">")||this.operator.startsWith("<")&&e.operator.startsWith("<")||this.semver.version===e.semver.version&&this.operator.includes("=")&&e.operator.includes("=")||am(this.semver,"<",e.semver,t)&&this.operator.startsWith(">")&&e.operator.startsWith("<")||am(this.semver,">",e.semver,t)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))}};FL.exports=Ui;var $L=fd(),{re:jL,t:UL}=xi(),am=tm(),um=Ma(),GL=Ye(),BL=wt()});var ja=c((Ure,VL)=>{var B8=wt(),F8=(r,e,t)=>{try{e=new B8(e,t)}catch{return!1}return e.test(r)};VL.exports=F8});var XL=c((Gre,HL)=>{var V8=wt(),H8=(r,e)=>new V8(r,e).set.map(t=>t.map(n=>n.value).join(" ").trim().split(" "));HL.exports=H8});var kL=c((Bre,WL)=>{var X8=Ye(),W8=wt(),k8=(r,e,t)=>{let n=null,s=null,i=null;try{i=new W8(e,t)}catch{return null}return r.forEach(o=>{i.test(o)&&(!n||s.compare(o)===-1)&&(n=o,s=new X8(n,t))}),n};WL.exports=k8});var YL=c((Fre,KL)=>{var K8=Ye(),Y8=wt(),z8=(r,e,t)=>{let n=null,s=null,i=null;try{i=new Y8(e,t)}catch{return null}return r.forEach(o=>{i.test(o)&&(!n||s.compare(o)===1)&&(n=o,s=new K8(n,t))}),n};KL.exports=z8});var ZL=c((Vre,QL)=>{var cm=Ye(),Q8=wt(),zL=wa(),Z8=(r,e)=>{r=new Q8(r,e);let t=new cm("0.0.0");if(r.test(t)||(t=new cm("0.0.0-0"),r.test(t)))return t;t=null;for(let n=0;n<r.set.length;++n){let s=r.set[n],i=null;s.forEach(o=>{let a=new cm(o.semver.version);switch(o.operator){case">":a.prerelease.length===0?a.patch++:a.prerelease.push(0),a.raw=a.format();case"":case">=":(!i||zL(a,i))&&(i=a);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${o.operator}`)}}),i&&(!t||zL(t,i))&&(t=i)}return t&&r.test(t)?t:null};QL.exports=Z8});var eC=c((Hre,JL)=>{var J8=wt(),ek=(r,e)=>{try{return new J8(r,e).range||"*"}catch{return null}};JL.exports=ek});var Rd=c((Xre,sC)=>{var tk=Ye(),nC=Da(),{ANY:rk}=nC,nk=wt(),sk=ja(),tC=wa(),rC=md(),ik=Sd(),ok=Td(),ak=(r,e,t,n)=>{r=new tk(r,n),e=new nk(e,n);let s,i,o,a,u;switch(t){case">":s=tC,i=ik,o=rC,a=">",u=">=";break;case"<":s=rC,i=ok,o=tC,a="<",u="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(sk(r,e,n))return!1;for(let l=0;l<e.set.length;++l){let h=e.set[l],d=null,f=null;if(h.forEach(p=>{p.semver===rk&&(p=new nC(">=0.0.0")),d=d||p,f=f||p,s(p.semver,d.semver,n)?d=p:o(p.semver,f.semver,n)&&(f=p)}),d.operator===a||d.operator===u||(!f.operator||f.operator===a)&&i(r,f.semver))return!1;if(f.operator===u&&o(r,f.semver))return!1}return!0};sC.exports=ak});var oC=c((Wre,iC)=>{var uk=Rd(),ck=(r,e,t)=>uk(r,e,">",t);iC.exports=ck});var uC=c((kre,aC)=>{var lk=Rd(),hk=(r,e,t)=>lk(r,e,"<",t);aC.exports=hk});var hC=c((Kre,lC)=>{var cC=wt(),dk=(r,e,t)=>(r=new cC(r,t),e=new cC(e,t),r.intersects(e,t));lC.exports=dk});var pC=c((Yre,dC)=>{var pk=ja(),fk=Mt();dC.exports=(r,e,t)=>{let n=[],s=null,i=null,o=r.sort((h,d)=>fk(h,d,t));for(let h of o)pk(h,e,t)?(i=h,s||(s=h)):(i&&n.push([s,i]),i=null,s=null);s&&n.push([s,null]);let a=[];for(let[h,d]of n)h===d?a.push(h):!d&&h===o[0]?a.push("*"):d?h===o[0]?a.push(`<=${d}`):a.push(`${h} - ${d}`):a.push(`>=${h}`);let u=a.join(" || "),l=typeof e.raw=="string"?e.raw:String(e);return u.length<l.length?u:e}});var TC=c((zre,mC)=>{var fC=wt(),hm=Da(),{ANY:lm}=hm,Ua=ja(),dm=Mt(),_k=(r,e,t={})=>{if(r===e)return!0;r=new fC(r,t),e=new fC(e,t);let n=!1;e:for(let s of r.set){for(let i of e.set){let o=gk(s,i,t);if(n=n||o!==null,o)continue e}if(n)return!1}return!0},Ek=[new hm(">=0.0.0-0")],_C=[new hm(">=0.0.0")],gk=(r,e,t)=>{if(r===e)return!0;if(r.length===1&&r[0].semver===lm){if(e.length===1&&e[0].semver===lm)return!0;t.includePrerelease?r=Ek:r=_C}if(e.length===1&&e[0].semver===lm){if(t.includePrerelease)return!0;e=_C}let n=new Set,s,i;for(let p of r)p.operator===">"||p.operator===">="?s=EC(s,p,t):p.operator==="<"||p.operator==="<="?i=gC(i,p,t):n.add(p.semver);if(n.size>1)return null;let o;if(s&&i){if(o=dm(s.semver,i.semver,t),o>0)return null;if(o===0&&(s.operator!==">="||i.operator!=="<="))return null}for(let p of n){if(s&&!Ua(p,String(s),t)||i&&!Ua(p,String(i),t))return null;for(let I of e)if(!Ua(p,String(I),t))return!1;return!0}let a,u,l,h,d=i&&!t.includePrerelease&&i.semver.prerelease.length?i.semver:!1,f=s&&!t.includePrerelease&&s.semver.prerelease.length?s.semver:!1;d&&d.prerelease.length===1&&i.operator==="<"&&d.prerelease[0]===0&&(d=!1);for(let p of e){if(h=h||p.operator===">"||p.operator===">=",l=l||p.operator==="<"||p.operator==="<=",s){if(f&&p.semver.prerelease&&p.semver.prerelease.length&&p.semver.major===f.major&&p.semver.minor===f.minor&&p.semver.patch===f.patch&&(f=!1),p.operator===">"||p.operator===">="){if(a=EC(s,p,t),a===p&&a!==s)return!1}else if(s.operator===">="&&!Ua(s.semver,String(p),t))return!1}if(i){if(d&&p.semver.prerelease&&p.semver.prerelease.length&&p.semver.major===d.major&&p.semver.minor===d.minor&&p.semver.patch===d.patch&&(d=!1),p.operator==="<"||p.operator==="<="){if(u=gC(i,p,t),u===p&&u!==i)return!1}else if(i.operator==="<="&&!Ua(i.semver,String(p),t))return!1}if(!p.operator&&(i||s)&&o!==0)return!1}return!(s&&l&&!i&&o!==0||i&&h&&!s&&o!==0||f||d)},EC=(r,e,t)=>{if(!r)return e;let n=dm(r.semver,e.semver,t);return n>0?r:n<0||e.operator===">"&&r.operator===">="?e:r},gC=(r,e,t)=>{if(!r)return e;let n=dm(r.semver,e.semver,t);return n<0?r:n>0||e.operator==="<"&&r.operator==="<="?e:r};mC.exports=_k});var OC=c((Qre,AC)=>{var pm=xi(),SC=Ca(),mk=Ye(),vC=Zg(),Tk=ts(),Sk=GN(),vk=FN(),Ak=XN(),Ok=KN(),Rk=zN(),Ik=ZN(),bk=eL(),Pk=rL(),yk=Mt(),Nk=oL(),Lk=uL(),Ck=gd(),Mk=dL(),wk=fL(),qk=wa(),xk=md(),Dk=Jg(),$k=em(),jk=Td(),Uk=Sd(),Gk=tm(),Bk=OL(),Fk=Da(),Vk=wt(),Hk=ja(),Xk=XL(),Wk=kL(),kk=YL(),Kk=ZL(),Yk=eC(),zk=Rd(),Qk=oC(),Zk=uC(),Jk=hC(),eK=pC(),tK=TC();AC.exports={parse:Tk,valid:Sk,clean:vk,inc:Ak,diff:Ok,major:Rk,minor:Ik,patch:bk,prerelease:Pk,compare:yk,rcompare:Nk,compareLoose:Lk,compareBuild:Ck,sort:Mk,rsort:wk,gt:qk,lt:xk,eq:Dk,neq:$k,gte:jk,lte:Uk,cmp:Gk,coerce:Bk,Comparator:Fk,Range:Vk,satisfies:Hk,toComparators:Xk,maxSatisfying:Wk,minSatisfying:kk,minVersion:Kk,validRange:Yk,outside:zk,gtr:Qk,ltr:Zk,intersects:Jk,simplifyRange:eK,subset:tK,SemVer:mk,re:pm.re,src:pm.src,tokens:pm.t,SEMVER_SPEC_VERSION:SC.SEMVER_SPEC_VERSION,RELEASE_TYPES:SC.RELEASE_TYPES,compareIdentifiers:vC.compareIdentifiers,rcompareIdentifiers:vC.rcompareIdentifiers}});var RC=c(bd=>{"use strict";Object.defineProperty(bd,"__esModule",{value:!0});bd.InstrumentationAbstract=void 0;var fm=_(),Id=Bh(),_m=class{constructor(e,t,n={}){this.instrumentationName=e,this.instrumentationVersion=t,this._wrap=Id.wrap,this._unwrap=Id.unwrap,this._massWrap=Id.massWrap,this._massUnwrap=Id.massUnwrap,this._config=Object.assign({enabled:!0},n),this._diag=fm.diag.createComponentLogger({namespace:e}),this._tracer=fm.trace.getTracer(e,t),this._meter=fm.metrics.getMeter(e,t),this._updateMetricInstruments()}get meter(){return this._meter}setMeterProvider(e){this._meter=e.getMeter(this.instrumentationName,this.instrumentationVersion),this._updateMetricInstruments()}_updateMetricInstruments(){}getConfig(){return this._config}setConfig(e={}){this._config=Object.assign({},e)}setTracerProvider(e){this._tracer=e.getTracer(this.instrumentationName,this.instrumentationVersion)}get tracer(){return this._tracer}};bd.InstrumentationAbstract=_m});var IC=c(en=>{"use strict";Object.defineProperty(en,"__esModule",{value:!0});en.ModuleNameTrie=en.ModuleNameSeparator=void 0;en.ModuleNameSeparator="/";var Pd=class{constructor(){this.hooks=[],this.children=new Map}},Em=class{constructor(){this._trie=new Pd,this._counter=0}insert(e){let t=this._trie;for(let n of e.moduleName.split(en.ModuleNameSeparator)){let s=t.children.get(n);s||(s=new Pd,t.children.set(n,s)),t=s}t.hooks.push({hook:e,insertedId:this._counter++})}search(e,{maintainInsertionOrder:t,fullOnly:n}={}){let s=this._trie,i=[],o=!0;for(let a of e.split(en.ModuleNameSeparator)){let u=s.children.get(a);if(!u){o=!1;break}n||i.push(...u.hooks),s=u}return n&&o&&i.push(...s.hooks),i.length===0?[]:i.length===1?[i[0].hook]:(t&&i.sort((a,u)=>a.insertedId-u.insertedId),i.map(({hook:a})=>a))}};en.ModuleNameTrie=Em});var PC=c(yd=>{"use strict";Object.defineProperty(yd,"__esModule",{value:!0});yd.RequireInTheMiddleSingleton=void 0;var rK=Ra(),bC=require("path"),gm=IC(),nK=["afterEach","after","beforeEach","before","describe","it"].every(r=>typeof global[r]=="function"),Gi=class{constructor(){this._moduleNameTrie=new gm.ModuleNameTrie,this._initialize()}_initialize(){new rK.Hook(null,{internals:!0},(e,t,n)=>{let s=sK(t),i=this._moduleNameTrie.search(s,{maintainInsertionOrder:!0,fullOnly:n===void 0});for(let{onRequire:o}of i)e=o(e,t,n);return e})}register(e,t){let n={moduleName:e,onRequire:t};return this._moduleNameTrie.insert(n),n}static getInstance(){var e;return nK?new Gi:this._instance=(e=this._instance)!==null&&e!==void 0?e:new Gi}};yd.RequireInTheMiddleSingleton=Gi;function sK(r){return bC.sep!==gm.ModuleNameSeparator?r.split(bC.sep).join(gm.ModuleNameSeparator):r}});var CC=c(Nd=>{"use strict";Object.defineProperty(Nd,"__esModule",{value:!0});Nd.InstrumentationBase=void 0;var yC=require("path"),iK=OC(),oK=RC(),aK=PC(),NC=_(),uK=Ra(),mm=class extends oK.InstrumentationAbstract{constructor(e,t,n={}){super(e,t,n),this._hooks=[],this._requireInTheMiddleSingleton=aK.RequireInTheMiddleSingleton.getInstance(),this._enabled=!1;let s=this.init();s&&!Array.isArray(s)&&(s=[s]),this._modules=s||[],this._modules.length===0&&NC.diag.debug(`No modules instrumentation has been defined for '${this.instrumentationName}@${this.instrumentationVersion}', nothing will be patched`),this._config.enabled&&this.enable()}_warnOnPreloadedModules(){this._modules.forEach(e=>{let{name:t}=e;try{let n=require.resolve(t);require.cache[n]&&this._diag.warn(`Module ${t} has been loaded before ${this.instrumentationName} so it might not work, please initialize it before requiring ${t}`)}catch{}})}_extractPackageVersion(e){try{let t=require(yC.join(e,"package.json")).version;return typeof t=="string"?t:void 0}catch{NC.diag.warn("Failed extracting version",e)}}_onRequire(e,t,n,s){var i;if(!s)return typeof e.patch=="function"&&(e.moduleExports=t,this._enabled)?e.patch(t):t;let o=this._extractPackageVersion(s);return e.moduleVersion=o,e.name===n?LC(e.supportedVersions,o,e.includePrerelease)&&typeof e.patch=="function"&&(e.moduleExports=t,this._enabled)?e.patch(t,e.moduleVersion):t:((i=e.files)!==null&&i!==void 0?i:[]).filter(l=>l.name===n).filter(l=>LC(l.supportedVersions,o,e.includePrerelease)).reduce((l,h)=>(h.moduleExports=l,this._enabled?h.patch(l,e.moduleVersion):l),t)}enable(){if(!this._enabled){if(this._enabled=!0,this._hooks.length>0){for(let e of this._modules){typeof e.patch=="function"&&e.moduleExports&&e.patch(e.moduleExports,e.moduleVersion);for(let t of e.files)t.moduleExports&&t.patch(t.moduleExports,e.moduleVersion)}return}this._warnOnPreloadedModules();for(let e of this._modules){let t=(s,i,o)=>this._onRequire(e,s,i,o),n=yC.isAbsolute(e.name)?new uK.Hook([e.name],{internals:!0},t):this._requireInTheMiddleSingleton.register(e.name,t);this._hooks.push(n)}}}disable(){if(this._enabled){this._enabled=!1;for(let e of this._modules){typeof e.unpatch=="function"&&e.moduleExports&&e.unpatch(e.moduleExports,e.moduleVersion);for(let t of e.files)t.moduleExports&&t.unpatch(t.moduleExports,e.moduleVersion)}}}isEnabled(){return this._enabled}};Nd.InstrumentationBase=mm;function LC(r,e,t){return typeof e>"u"?r.includes("*"):r.some(n=>(0,iK.satisfies)(e,n,{includePrerelease:t}))}});var MC=c(Ld=>{"use strict";Object.defineProperty(Ld,"__esModule",{value:!0});Ld.InstrumentationNodeModuleDefinition=void 0;var Tm=class{constructor(e,t,n,s,i){this.name=e,this.supportedVersions=t,this.patch=n,this.unpatch=s,this.files=i||[]}};Ld.InstrumentationNodeModuleDefinition=Tm});var wC=c(Cd=>{"use strict";Object.defineProperty(Cd,"__esModule",{value:!0});Cd.InstrumentationNodeModuleFile=void 0;var cK=require("path"),Sm=class{constructor(e,t,n,s){this.supportedVersions=t,this.patch=n,this.unpatch=s,this.name=(0,cK.normalize)(e)}};Cd.InstrumentationNodeModuleFile=Sm});var xC=c(qC=>{"use strict";Object.defineProperty(qC,"__esModule",{value:!0})});var DC=c(or=>{"use strict";var lK=or&&or.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Md=or&&or.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&lK(e,r,t)};Object.defineProperty(or,"__esModule",{value:!0});Md(CC(),or);Md(MC(),or);Md(wC(),or);Md(xC(),or)});var $C=c(os=>{"use strict";var hK=os&&os.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),dK=os&&os.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&hK(e,r,t)};Object.defineProperty(os,"__esModule",{value:!0});dK(DC(),os)});var UC=c(jC=>{"use strict";Object.defineProperty(jC,"__esModule",{value:!0})});var BC=c(GC=>{"use strict";Object.defineProperty(GC,"__esModule",{value:!0})});var FC=c(tn=>{"use strict";Object.defineProperty(tn,"__esModule",{value:!0});tn.isWrapped=tn.safeExecuteInTheMiddleAsync=tn.safeExecuteInTheMiddle=void 0;function pK(r,e,t){let n,s;try{s=r()}catch(i){n=i}finally{if(e(n,s),n&&!t)throw n;return s}}tn.safeExecuteInTheMiddle=pK;async function fK(r,e,t){let n,s;try{s=await r()}catch(i){n=i}finally{if(e(n,s),n&&!t)throw n;return s}}tn.safeExecuteInTheMiddleAsync=fK;function _K(r){return typeof r=="function"&&typeof r.__original=="function"&&typeof r.__unwrap=="function"&&r.__wrapped===!0}tn.isWrapped=_K});var VC=c(Wt=>{"use strict";var EK=Wt&&Wt.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Ga=Wt&&Wt.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&EK(e,r,t)};Object.defineProperty(Wt,"__esModule",{value:!0});Ga(IN(),Wt);Ga($C(),Wt);Ga(UC(),Wt);Ga(BC(),Wt);Ga(FC(),Wt)});var XC=c(pt=>{"use strict";Object.defineProperty(pt,"__esModule",{value:!0});pt.bindPromise=pt.extractAttributesFromNormalizedRequest=pt.normalizeV3Request=pt.normalizeV2Request=pt.removeSuffixFromStringIfExists=void 0;var HC=_(),vm=Ce(),gK=jg(),mK=r=>typeof r=="string"?r.charAt(0).toUpperCase()+r.slice(1):r,TK=(r,e)=>{let t=e.length;return(r==null?void 0:r.slice(-t))===e?r.slice(0,r.length-t):r};pt.removeSuffixFromStringIfExists=TK;var SK=r=>{var e,t,n;let s=r==null?void 0:r.service;return{serviceName:(t=(e=s==null?void 0:s.api)===null||e===void 0?void 0:e.serviceId)===null||t===void 0?void 0:t.replace(/\s+/g,""),commandName:mK(r==null?void 0:r.operation),commandInput:r.params,region:(n=s==null?void 0:s.config)===null||n===void 0?void 0:n.region}};pt.normalizeV2Request=SK;var vK=(r,e,t,n)=>({serviceName:r==null?void 0:r.replace(/\s+/g,""),commandName:pt.removeSuffixFromStringIfExists(e,"Command"),commandInput:t,region:n});pt.normalizeV3Request=vK;var AK=r=>({[vm.SemanticAttributes.RPC_SYSTEM]:"aws-api",[vm.SemanticAttributes.RPC_METHOD]:r.commandName,[vm.SemanticAttributes.RPC_SERVICE]:r.serviceName,[gK.AttributeNames.AWS_REGION]:r.region});pt.extractAttributesFromNormalizedRequest=AK;var OK=(r,e,t=1)=>{let n=r.then;return r.then=function(s,i){let o=HC.context.bind(e,s),a=HC.context.bind(e,i),u=n.call(this,o,a);return t>1?pt.bindPromise(u,e,t-1):u},r};pt.bindPromise=OK});var KC=c(wd=>{"use strict";Object.defineProperty(wd,"__esModule",{value:!0});wd.AwsInstrumentation=void 0;var he=_(),RK=B(),kt=jg(),IK=SN(),bK=vN(),qt=VC(),rn=XC(),WC=Ce(),kC=Symbol("opentelemetry.instrumentation.aws-sdk.client.config"),Bi=Symbol("opentelemetry.instrumentation.aws-sdk.span"),Or=class extends qt.InstrumentationBase{constructor(e={}){super("@opentelemetry/instrumentation-aws-sdk",bK.VERSION,Object.assign({},e)),this.servicesExtensions=new IK.ServicesExtensions}setConfig(e={}){this._config=Object.assign({},e)}init(){let e=new qt.InstrumentationNodeModuleFile("@aws-sdk/middleware-stack/dist/cjs/MiddlewareStack.js",[">=3.1.0 <3.35.0"],this.patchV3ConstructStack.bind(this),this.unpatchV3ConstructStack.bind(this)),t=new qt.InstrumentationNodeModuleFile("@aws-sdk/middleware-stack/dist-cjs/MiddlewareStack.js",[">=3.35.0"],this.patchV3ConstructStack.bind(this),this.unpatchV3ConstructStack.bind(this)),n=new qt.InstrumentationNodeModuleDefinition("@aws-sdk/middleware-stack",["^3.1.0"],void 0,void 0,[e,t]),s=new qt.InstrumentationNodeModuleDefinition("@aws-sdk/smithy-client",["^3.1.0"],this.patchV3SmithyClient.bind(this),this.unpatchV3SmithyClient.bind(this)),i=new qt.InstrumentationNodeModuleFile("aws-sdk/lib/core.js",["^2.308.0"],this.patchV2.bind(this),this.unpatchV2.bind(this));return[new qt.InstrumentationNodeModuleDefinition("aws-sdk",["^2.308.0"],void 0,void 0,[i]),n,s]}patchV3ConstructStack(e,t){return he.diag.debug("aws-sdk instrumentation: applying patch to aws-sdk v3 constructStack"),this._wrap(e,"constructStack",this._getV3ConstructStackPatch.bind(this,t)),e}unpatchV3ConstructStack(e){return he.diag.debug("aws-sdk instrumentation: applying unpatch to aws-sdk v3 constructStack"),this._unwrap(e,"constructStack"),e}patchV3SmithyClient(e){return he.diag.debug("aws-sdk instrumentation: applying patch to aws-sdk v3 client send"),this._wrap(e.Client.prototype,"send",this._getV3SmithyClientSendPatch.bind(this)),e}unpatchV3SmithyClient(e){return he.diag.debug("aws-sdk instrumentation: applying patch to aws-sdk v3 constructStack"),this._unwrap(e.Client.prototype,"send"),e}patchV2(e,t){return he.diag.debug(`aws-sdk instrumentation: applying patch to ${Or.component}`),this.unpatchV2(e),this._wrap(e==null?void 0:e.Request.prototype,"send",this._getRequestSendPatch.bind(this,t)),this._wrap(e==null?void 0:e.Request.prototype,"promise",this._getRequestPromisePatch.bind(this,t)),e}unpatchV2(e){qt.isWrapped(e==null?void 0:e.Request.prototype.send)&&this._unwrap(e.Request.prototype,"send"),qt.isWrapped(e==null?void 0:e.Request.prototype.promise)&&this._unwrap(e.Request.prototype,"promise")}_startAwsV3Span(e,t){var n,s;let i=(n=t.spanName)!==null&&n!==void 0?n:`${e.serviceName}.${e.commandName}`;return this.tracer.startSpan(i,{kind:(s=t.spanKind)!==null&&s!==void 0?s:he.SpanKind.CLIENT,attributes:Object.assign(Object.assign({},rn.extractAttributesFromNormalizedRequest(e)),t.spanAttributes)})}_startAwsV2Span(e,t,n){var s,i,o,a,u;let l=e.operation,h=e.service,d=h==null?void 0:h.serviceIdentifier,f=(s=t.spanName)!==null&&s!==void 0?s:`${n.serviceName}.${n.commandName}`;return this.tracer.startSpan(f,{kind:(i=t.spanKind)!==null&&i!==void 0?i:he.SpanKind.CLIENT,attributes:Object.assign(Object.assign({[kt.AttributeNames.AWS_OPERATION]:l,[kt.AttributeNames.AWS_SIGNATURE_VERSION]:(o=h==null?void 0:h.config)===null||o===void 0?void 0:o.signatureVersion,[kt.AttributeNames.AWS_SERVICE_API]:(a=h==null?void 0:h.api)===null||a===void 0?void 0:a.className,[kt.AttributeNames.AWS_SERVICE_IDENTIFIER]:d,[kt.AttributeNames.AWS_SERVICE_NAME]:(u=h==null?void 0:h.api)===null||u===void 0?void 0:u.abbreviation},rn.extractAttributesFromNormalizedRequest(n)),t.spanAttributes)})}_callUserPreRequestHook(e,t,n){var s;if(!((s=this._config)===null||s===void 0)&&s.preRequestHook){let i={moduleVersion:n,request:t};qt.safeExecuteInTheMiddle(()=>this._config.preRequestHook(e,i),o=>{o&&he.diag.error(`${Or.component} instrumentation: preRequestHook error`,o)},!0)}}_callUserResponseHook(e,t){var n;let s=(n=this._config)===null||n===void 0?void 0:n.responseHook;if(!s)return;let i={response:t};qt.safeExecuteInTheMiddle(()=>s(e,i),o=>{o&&he.diag.error(`${Or.component} instrumentation: responseHook error`,o)},!0)}_registerV2CompletedEvent(e,t,n,s){let i=this;t.on("complete",o=>{he.context.with(s,()=>{var a;if(!t[Bi])return;delete t[Bi];let u=o.requestId,l={data:o.data,request:n,requestId:u};i._callUserResponseHook(e,l),o.error?e.recordException(o.error):this.servicesExtensions.responseHook(l,e,i.tracer,i._config),e.setAttribute(kt.AttributeNames.AWS_REQUEST_ID,u);let h=(a=o.httpResponse)===null||a===void 0?void 0:a.statusCode;h&&e.setAttribute(WC.SemanticAttributes.HTTP_STATUS_CODE,h),e.end()})})}_getV3ConstructStackPatch(e,t){let n=this;return function(...i){let o=t.apply(this,i);return n.patchV3MiddlewareStack(e,o),o}}_getV3SmithyClientSendPatch(e){return function(n,...s){return n[kC]=this.config,e.apply(this,[n,...s])}}patchV3MiddlewareStack(e,t){qt.isWrapped(t.resolve)||this._wrap(t,"resolve",this._getV3MiddlewareStackResolvePatch.bind(this,e)),this._wrap(t,"clone",this._getV3MiddlewareStackClonePatch.bind(this,e)),this._wrap(t,"concat",this._getV3MiddlewareStackClonePatch.bind(this,e))}_getV3MiddlewareStackClonePatch(e,t){let n=this;return function(...s){let i=t.apply(this,s);return n.patchV3MiddlewareStack(e,i),i}}_getV3MiddlewareStackResolvePatch(e,t){let n=this;return function(s,i){let o=t.call(this,s,i);return function(u){var l,h,d,f;let p=u[kC],I=(l=p==null?void 0:p.region)===null||l===void 0?void 0:l.call(p),y=(h=p==null?void 0:p.serviceId)!==null&&h!==void 0?h:rn.removeSuffixFromStringIfExists(i.clientName,"Client"),M=(d=i.commandName)!==null&&d!==void 0?d:(f=u.constructor)===null||f===void 0?void 0:f.name,R=rn.normalizeV3Request(y,M,u.input,void 0),X=n.servicesExtensions.requestPreSpanHook(R),L=n._startAwsV3Span(R,X),Z=he.trace.setSpan(he.context.active(),L),re=new Promise((ge,V)=>{Promise.resolve(I).then(J=>{R.region=J,L.setAttribute(kt.AttributeNames.AWS_REGION,J)}).catch(J=>{he.diag.debug(`${Or.component} instrumentation: failed to extract region from async function`,J)}).finally(()=>{n._callUserPreRequestHook(L,R,e),he.context.with(Z,()=>(n.servicesExtensions.requestPostSpanHook(R),n._callOriginalFunction(()=>o.call(this,u)))).then(z=>{var b,q,ie,H,ne,$e;let oe=(q=(b=z.output)===null||b===void 0?void 0:b.$metadata)===null||q===void 0?void 0:q.requestId;oe&&L.setAttribute(kt.AttributeNames.AWS_REQUEST_ID,oe);let ae=(H=(ie=z.output)===null||ie===void 0?void 0:ie.$metadata)===null||H===void 0?void 0:H.httpStatusCode;ae&&L.setAttribute(WC.SemanticAttributes.HTTP_STATUS_CODE,ae);let Le=($e=(ne=z.output)===null||ne===void 0?void 0:ne.$metadata)===null||$e===void 0?void 0:$e.extendedRequestId;Le&&L.setAttribute(kt.AttributeNames.AWS_REQUEST_EXTENDED_ID,Le);let Rt={data:z.output,request:R,requestId:oe};return n.servicesExtensions.responseHook(Rt,L,n.tracer,n._config),n._callUserResponseHook(L,Rt),z}).catch(z=>{let b=z==null?void 0:z.RequestId;b&&L.setAttribute(kt.AttributeNames.AWS_REQUEST_ID,b);let q=z==null?void 0:z.extendedRequestId;throw q&&L.setAttribute(kt.AttributeNames.AWS_REQUEST_EXTENDED_ID,q),L.setStatus({code:he.SpanStatusCode.ERROR,message:z.message}),L.recordException(z),z}).finally(()=>{L.end()}).then(z=>{ge(z)}).catch(z=>V(z))})});return X.isIncoming?rn.bindPromise(re,Z,2):re}}}_getRequestSendPatch(e,t){let n=this;return function(s){if(this[Bi])return t.call(this,s);let i=rn.normalizeV2Request(this),o=n.servicesExtensions.requestPreSpanHook(i),a=n._startAwsV2Span(this,o,i);this[Bi]=a;let u=he.trace.setSpan(he.context.active(),a),l=he.context.bind(u,s);return n._callUserPreRequestHook(a,i,e),n._registerV2CompletedEvent(a,this,i,u),he.context.with(u,()=>(n.servicesExtensions.requestPostSpanHook(i),n._callOriginalFunction(()=>t.call(this,l))))}}_getRequestPromisePatch(e,t){let n=this;return function(...s){if(this[Bi])return t.apply(this,s);let i=rn.normalizeV2Request(this),o=n.servicesExtensions.requestPreSpanHook(i),a=n._startAwsV2Span(this,o,i);this[Bi]=a;let u=he.trace.setSpan(he.context.active(),a);n._callUserPreRequestHook(a,i,e),n._registerV2CompletedEvent(a,this,i,u);let l=he.context.with(u,()=>(n.servicesExtensions.requestPostSpanHook(i),n._callOriginalFunction(()=>t.call(this,arguments))));return o.isIncoming?rn.bindPromise(l,u):l}}_callOriginalFunction(e){var t;return!((t=this._config)===null||t===void 0)&&t.suppressInternalInstrumentation?he.context.with(RK.suppressTracing(he.context.active()),e):e()}};wd.AwsInstrumentation=Or;Or.component="aws-sdk"});var zC=c(YC=>{"use strict";Object.defineProperty(YC,"__esModule",{value:!0})});var ZC=c(nn=>{"use strict";var PK=nn&&nn.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),QC=nn&&nn.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&PK(e,r,t)};Object.defineProperty(nn,"__esModule",{value:!0});QC(KC(),nn);QC(zC(),nn)});var Ba=c((_ne,JC)=>{var yK="2.0.0",NK=Number.MAX_SAFE_INTEGER||9007199254740991,LK=16,CK=["major","premajor","minor","preminor","patch","prepatch","prerelease"];JC.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:LK,MAX_SAFE_INTEGER:NK,RELEASE_TYPES:CK,SEMVER_SPEC_VERSION:yK,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var Fa=c((Ene,eM)=>{var MK=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...r)=>console.error("SEMVER",...r):()=>{};eM.exports=MK});var Fi=c((sn,tM)=>{var{MAX_SAFE_COMPONENT_LENGTH:Am}=Ba(),wK=Fa();sn=tM.exports={};var qK=sn.re=[],A=sn.src=[],O=sn.t={},xK=0,U=(r,e,t)=>{let n=xK++;wK(r,n,e),O[r]=n,A[n]=e,qK[n]=new RegExp(e,t?"g":void 0)};U("NUMERICIDENTIFIER","0|[1-9]\\d*");U("NUMERICIDENTIFIERLOOSE","[0-9]+");U("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*");U("MAINVERSION",`(${A[O.NUMERICIDENTIFIER]})\\.(${A[O.NUMERICIDENTIFIER]})\\.(${A[O.NUMERICIDENTIFIER]})`);U("MAINVERSIONLOOSE",`(${A[O.NUMERICIDENTIFIERLOOSE]})\\.(${A[O.NUMERICIDENTIFIERLOOSE]})\\.(${A[O.NUMERICIDENTIFIERLOOSE]})`);U("PRERELEASEIDENTIFIER",`(?:${A[O.NUMERICIDENTIFIER]}|${A[O.NONNUMERICIDENTIFIER]})`);U("PRERELEASEIDENTIFIERLOOSE",`(?:${A[O.NUMERICIDENTIFIERLOOSE]}|${A[O.NONNUMERICIDENTIFIER]})`);U("PRERELEASE",`(?:-(${A[O.PRERELEASEIDENTIFIER]}(?:\\.${A[O.PRERELEASEIDENTIFIER]})*))`);U("PRERELEASELOOSE",`(?:-?(${A[O.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${A[O.PRERELEASEIDENTIFIERLOOSE]})*))`);U("BUILDIDENTIFIER","[0-9A-Za-z-]+");U("BUILD",`(?:\\+(${A[O.BUILDIDENTIFIER]}(?:\\.${A[O.BUILDIDENTIFIER]})*))`);U("FULLPLAIN",`v?${A[O.MAINVERSION]}${A[O.PRERELEASE]}?${A[O.BUILD]}?`);U("FULL",`^${A[O.FULLPLAIN]}$`);U("LOOSEPLAIN",`[v=\\s]*${A[O.MAINVERSIONLOOSE]}${A[O.PRERELEASELOOSE]}?${A[O.BUILD]}?`);U("LOOSE",`^${A[O.LOOSEPLAIN]}$`);U("GTLT","((?:<|>)?=?)");U("XRANGEIDENTIFIERLOOSE",`${A[O.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);U("XRANGEIDENTIFIER",`${A[O.NUMERICIDENTIFIER]}|x|X|\\*`);U("XRANGEPLAIN",`[v=\\s]*(${A[O.XRANGEIDENTIFIER]})(?:\\.(${A[O.XRANGEIDENTIFIER]})(?:\\.(${A[O.XRANGEIDENTIFIER]})(?:${A[O.PRERELEASE]})?${A[O.BUILD]}?)?)?`);U("XRANGEPLAINLOOSE",`[v=\\s]*(${A[O.XRANGEIDENTIFIERLOOSE]})(?:\\.(${A[O.XRANGEIDENTIFIERLOOSE]})(?:\\.(${A[O.XRANGEIDENTIFIERLOOSE]})(?:${A[O.PRERELEASELOOSE]})?${A[O.BUILD]}?)?)?`);U("XRANGE",`^${A[O.GTLT]}\\s*${A[O.XRANGEPLAIN]}$`);U("XRANGELOOSE",`^${A[O.GTLT]}\\s*${A[O.XRANGEPLAINLOOSE]}$`);U("COERCE",`(^|[^\\d])(\\d{1,${Am}})(?:\\.(\\d{1,${Am}}))?(?:\\.(\\d{1,${Am}}))?(?:$|[^\\d])`);U("COERCERTL",A[O.COERCE],!0);U("LONETILDE","(?:~>?)");U("TILDETRIM",`(\\s*)${A[O.LONETILDE]}\\s+`,!0);sn.tildeTrimReplace="$1~";U("TILDE",`^${A[O.LONETILDE]}${A[O.XRANGEPLAIN]}$`);U("TILDELOOSE",`^${A[O.LONETILDE]}${A[O.XRANGEPLAINLOOSE]}$`);U("LONECARET","(?:\\^)");U("CARETTRIM",`(\\s*)${A[O.LONECARET]}\\s+`,!0);sn.caretTrimReplace="$1^";U("CARET",`^${A[O.LONECARET]}${A[O.XRANGEPLAIN]}$`);U("CARETLOOSE",`^${A[O.LONECARET]}${A[O.XRANGEPLAINLOOSE]}$`);U("COMPARATORLOOSE",`^${A[O.GTLT]}\\s*(${A[O.LOOSEPLAIN]})$|^$`);U("COMPARATOR",`^${A[O.GTLT]}\\s*(${A[O.FULLPLAIN]})$|^$`);U("COMPARATORTRIM",`(\\s*)${A[O.GTLT]}\\s*(${A[O.LOOSEPLAIN]}|${A[O.XRANGEPLAIN]})`,!0);sn.comparatorTrimReplace="$1$2$3";U("HYPHENRANGE",`^\\s*(${A[O.XRANGEPLAIN]})\\s+-\\s+(${A[O.XRANGEPLAIN]})\\s*$`);U("HYPHENRANGELOOSE",`^\\s*(${A[O.XRANGEPLAINLOOSE]})\\s+-\\s+(${A[O.XRANGEPLAINLOOSE]})\\s*$`);U("STAR","(<|>)?=?\\s*\\*");U("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");U("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var qd=c((gne,rM)=>{var DK=Object.freeze({loose:!0}),$K=Object.freeze({}),jK=r=>r?typeof r!="object"?DK:r:$K;rM.exports=jK});var Om=c((mne,iM)=>{var nM=/^[0-9]+$/,sM=(r,e)=>{let t=nM.test(r),n=nM.test(e);return t&&n&&(r=+r,e=+e),r===e?0:t&&!n?-1:n&&!t?1:r<e?-1:1},UK=(r,e)=>sM(e,r);iM.exports={compareIdentifiers:sM,rcompareIdentifiers:UK}});var ze=c((Tne,cM)=>{var xd=Fa(),{MAX_LENGTH:oM,MAX_SAFE_INTEGER:Dd}=Ba(),{re:aM,t:uM}=Fi(),GK=qd(),{compareIdentifiers:Vi}=Om(),Ot=class{constructor(e,t){if(t=GK(t),e instanceof Ot){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>oM)throw new TypeError(`version is longer than ${oM} characters`);xd("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;let n=e.trim().match(t.loose?aM[uM.LOOSE]:aM[uM.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>Dd||this.major<0)throw new TypeError("Invalid major version");if(this.minor>Dd||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>Dd||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(s=>{if(/^[0-9]+$/.test(s)){let i=+s;if(i>=0&&i<Dd)return i}return s}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(xd("SemVer.compare",this.version,this.options,e),!(e instanceof Ot)){if(typeof e=="string"&&e===this.version)return 0;e=new Ot(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof Ot||(e=new Ot(e,this.options)),Vi(this.major,e.major)||Vi(this.minor,e.minor)||Vi(this.patch,e.patch)}comparePre(e){if(e instanceof Ot||(e=new Ot(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{let n=this.prerelease[t],s=e.prerelease[t];if(xd("prerelease compare",t,n,s),n===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(n===void 0)return-1;if(n===s)continue;return Vi(n,s)}while(++t)}compareBuild(e){e instanceof Ot||(e=new Ot(e,this.options));let t=0;do{let n=this.build[t],s=e.build[t];if(xd("prerelease compare",t,n,s),n===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(n===void 0)return-1;if(n===s)continue;return Vi(n,s)}while(++t)}inc(e,t,n){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,n),this.inc("pre",t,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",t,n),this.inc("pre",t,n);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let s=Number(n)?1:0;if(!t&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[s];else{let i=this.prerelease.length;for(;--i>=0;)typeof this.prerelease[i]=="number"&&(this.prerelease[i]++,i=-2);if(i===-1){if(t===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(s)}}if(t){let i=[t,s];n===!1&&(i=[t]),Vi(this.prerelease[0],t)===0?isNaN(this.prerelease[1])&&(this.prerelease=i):this.prerelease=i}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.format(),this.raw=this.version,this}};cM.exports=Ot});var as=c((Sne,hM)=>{var lM=ze(),BK=(r,e,t=!1)=>{if(r instanceof lM)return r;try{return new lM(r,e)}catch(n){if(!t)return null;throw n}};hM.exports=BK});var pM=c((vne,dM)=>{var FK=as(),VK=(r,e)=>{let t=FK(r,e);return t?t.version:null};dM.exports=VK});var _M=c((Ane,fM)=>{var HK=as(),XK=(r,e)=>{let t=HK(r.trim().replace(/^[=v]+/,""),e);return t?t.version:null};fM.exports=XK});var mM=c((One,gM)=>{var EM=ze(),WK=(r,e,t,n,s)=>{typeof t=="string"&&(s=n,n=t,t=void 0);try{return new EM(r instanceof EM?r.version:r,t).inc(e,n,s).version}catch{return null}};gM.exports=WK});var vM=c((Rne,SM)=>{var TM=as(),kK=(r,e)=>{let t=TM(r,null,!0),n=TM(e,null,!0),s=t.compare(n);if(s===0)return null;let i=s>0,o=i?t:n,a=i?n:t,u=!!o.prerelease.length,l=u?"pre":"";return t.major!==n.major?l+"major":t.minor!==n.minor?l+"minor":t.patch!==n.patch?l+"patch":u?"prerelease":a.patch?"patch":a.minor?"minor":"major"};SM.exports=kK});var OM=c((Ine,AM)=>{var KK=ze(),YK=(r,e)=>new KK(r,e).major;AM.exports=YK});var IM=c((bne,RM)=>{var zK=ze(),QK=(r,e)=>new zK(r,e).minor;RM.exports=QK});var PM=c((Pne,bM)=>{var ZK=ze(),JK=(r,e)=>new ZK(r,e).patch;bM.exports=JK});var NM=c((yne,yM)=>{var eY=as(),tY=(r,e)=>{let t=eY(r,e);return t&&t.prerelease.length?t.prerelease:null};yM.exports=tY});var xt=c((Nne,CM)=>{var LM=ze(),rY=(r,e,t)=>new LM(r,t).compare(new LM(e,t));CM.exports=rY});var wM=c((Lne,MM)=>{var nY=xt(),sY=(r,e,t)=>nY(e,r,t);MM.exports=sY});var xM=c((Cne,qM)=>{var iY=xt(),oY=(r,e)=>iY(r,e,!0);qM.exports=oY});var $d=c((Mne,$M)=>{var DM=ze(),aY=(r,e,t)=>{let n=new DM(r,t),s=new DM(e,t);return n.compare(s)||n.compareBuild(s)};$M.exports=aY});var UM=c((wne,jM)=>{var uY=$d(),cY=(r,e)=>r.sort((t,n)=>uY(t,n,e));jM.exports=cY});var BM=c((qne,GM)=>{var lY=$d(),hY=(r,e)=>r.sort((t,n)=>lY(n,t,e));GM.exports=hY});var Va=c((xne,FM)=>{var dY=xt(),pY=(r,e,t)=>dY(r,e,t)>0;FM.exports=pY});var jd=c((Dne,VM)=>{var fY=xt(),_Y=(r,e,t)=>fY(r,e,t)<0;VM.exports=_Y});var Rm=c(($ne,HM)=>{var EY=xt(),gY=(r,e,t)=>EY(r,e,t)===0;HM.exports=gY});var Im=c((jne,XM)=>{var mY=xt(),TY=(r,e,t)=>mY(r,e,t)!==0;XM.exports=TY});var Ud=c((Une,WM)=>{var SY=xt(),vY=(r,e,t)=>SY(r,e,t)>=0;WM.exports=vY});var Gd=c((Gne,kM)=>{var AY=xt(),OY=(r,e,t)=>AY(r,e,t)<=0;kM.exports=OY});var bm=c((Bne,KM)=>{var RY=Rm(),IY=Im(),bY=Va(),PY=Ud(),yY=jd(),NY=Gd(),LY=(r,e,t,n)=>{switch(e){case"===":return typeof r=="object"&&(r=r.version),typeof t=="object"&&(t=t.version),r===t;case"!==":return typeof r=="object"&&(r=r.version),typeof t=="object"&&(t=t.version),r!==t;case"":case"=":case"==":return RY(r,t,n);case"!=":return IY(r,t,n);case">":return bY(r,t,n);case">=":return PY(r,t,n);case"<":return yY(r,t,n);case"<=":return NY(r,t,n);default:throw new TypeError(`Invalid operator: ${e}`)}};KM.exports=LY});var zM=c((Fne,YM)=>{var CY=ze(),MY=as(),{re:Bd,t:Fd}=Fi(),wY=(r,e)=>{if(r instanceof CY)return r;if(typeof r=="number"&&(r=String(r)),typeof r!="string")return null;e=e||{};let t=null;if(!e.rtl)t=r.match(Bd[Fd.COERCE]);else{let n;for(;(n=Bd[Fd.COERCERTL].exec(r))&&(!t||t.index+t[0].length!==r.length);)(!t||n.index+n[0].length!==t.index+t[0].length)&&(t=n),Bd[Fd.COERCERTL].lastIndex=n.index+n[1].length+n[2].length;Bd[Fd.COERCERTL].lastIndex=-1}return t===null?null:MY(`${t[2]}.${t[3]||"0"}.${t[4]||"0"}`,e)};YM.exports=wY});var ZM=c((Vne,QM)=>{"use strict";QM.exports=function(r){r.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}});var e1=c((Hne,JM)=>{"use strict";JM.exports=Y;Y.Node=us;Y.create=Y;function Y(r){var e=this;if(e instanceof Y||(e=new Y),e.tail=null,e.head=null,e.length=0,r&&typeof r.forEach=="function")r.forEach(function(s){e.push(s)});else if(arguments.length>0)for(var t=0,n=arguments.length;t<n;t++)e.push(arguments[t]);return e}Y.prototype.removeNode=function(r){if(r.list!==this)throw new Error("removing node which does not belong to this list");var e=r.next,t=r.prev;return e&&(e.prev=t),t&&(t.next=e),r===this.head&&(this.head=e),r===this.tail&&(this.tail=t),r.list.length--,r.next=null,r.prev=null,r.list=null,e};Y.prototype.unshiftNode=function(r){if(r!==this.head){r.list&&r.list.removeNode(r);var e=this.head;r.list=this,r.next=e,e&&(e.prev=r),this.head=r,this.tail||(this.tail=r),this.length++}};Y.prototype.pushNode=function(r){if(r!==this.tail){r.list&&r.list.removeNode(r);var e=this.tail;r.list=this,r.prev=e,e&&(e.next=r),this.tail=r,this.head||(this.head=r),this.length++}};Y.prototype.push=function(){for(var r=0,e=arguments.length;r<e;r++)xY(this,arguments[r]);return this.length};Y.prototype.unshift=function(){for(var r=0,e=arguments.length;r<e;r++)DY(this,arguments[r]);return this.length};Y.prototype.pop=function(){if(this.tail){var r=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,r}};Y.prototype.shift=function(){if(this.head){var r=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,r}};Y.prototype.forEach=function(r,e){e=e||this;for(var t=this.head,n=0;t!==null;n++)r.call(e,t.value,n,this),t=t.next};Y.prototype.forEachReverse=function(r,e){e=e||this;for(var t=this.tail,n=this.length-1;t!==null;n--)r.call(e,t.value,n,this),t=t.prev};Y.prototype.get=function(r){for(var e=0,t=this.head;t!==null&&e<r;e++)t=t.next;if(e===r&&t!==null)return t.value};Y.prototype.getReverse=function(r){for(var e=0,t=this.tail;t!==null&&e<r;e++)t=t.prev;if(e===r&&t!==null)return t.value};Y.prototype.map=function(r,e){e=e||this;for(var t=new Y,n=this.head;n!==null;)t.push(r.call(e,n.value,this)),n=n.next;return t};Y.prototype.mapReverse=function(r,e){e=e||this;for(var t=new Y,n=this.tail;n!==null;)t.push(r.call(e,n.value,this)),n=n.prev;return t};Y.prototype.reduce=function(r,e){var t,n=this.head;if(arguments.length>1)t=e;else if(this.head)n=this.head.next,t=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var s=0;n!==null;s++)t=r(t,n.value,s),n=n.next;return t};Y.prototype.reduceReverse=function(r,e){var t,n=this.tail;if(arguments.length>1)t=e;else if(this.tail)n=this.tail.prev,t=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var s=this.length-1;n!==null;s--)t=r(t,n.value,s),n=n.prev;return t};Y.prototype.toArray=function(){for(var r=new Array(this.length),e=0,t=this.head;t!==null;e++)r[e]=t.value,t=t.next;return r};Y.prototype.toArrayReverse=function(){for(var r=new Array(this.length),e=0,t=this.tail;t!==null;e++)r[e]=t.value,t=t.prev;return r};Y.prototype.slice=function(r,e){e=e||this.length,e<0&&(e+=this.length),r=r||0,r<0&&(r+=this.length);var t=new Y;if(e<r||e<0)return t;r<0&&(r=0),e>this.length&&(e=this.length);for(var n=0,s=this.head;s!==null&&n<r;n++)s=s.next;for(;s!==null&&n<e;n++,s=s.next)t.push(s.value);return t};Y.prototype.sliceReverse=function(r,e){e=e||this.length,e<0&&(e+=this.length),r=r||0,r<0&&(r+=this.length);var t=new Y;if(e<r||e<0)return t;r<0&&(r=0),e>this.length&&(e=this.length);for(var n=this.length,s=this.tail;s!==null&&n>e;n--)s=s.prev;for(;s!==null&&n>r;n--,s=s.prev)t.push(s.value);return t};Y.prototype.splice=function(r,e,...t){r>this.length&&(r=this.length-1),r<0&&(r=this.length+r);for(var n=0,s=this.head;s!==null&&n<r;n++)s=s.next;for(var i=[],n=0;s&&n<e;n++)i.push(s.value),s=this.removeNode(s);s===null&&(s=this.tail),s!==this.head&&s!==this.tail&&(s=s.prev);for(var n=0;n<t.length;n++)s=qY(this,s,t[n]);return i};Y.prototype.reverse=function(){for(var r=this.head,e=this.tail,t=r;t!==null;t=t.prev){var n=t.prev;t.prev=t.next,t.next=n}return this.head=e,this.tail=r,this};function qY(r,e,t){var n=e===r.head?new us(t,null,e,r):new us(t,e,e.next,r);return n.next===null&&(r.tail=n),n.prev===null&&(r.head=n),r.length++,n}function xY(r,e){r.tail=new us(e,r.tail,null,r),r.head||(r.head=r.tail),r.length++}function DY(r,e){r.head=new us(e,null,r.head,r),r.tail||(r.tail=r.head),r.length++}function us(r,e,t,n){if(!(this instanceof us))return new us(r,e,t,n);this.list=n,this.value=r,e?(e.next=this,this.prev=e):this.prev=null,t?(t.prev=this,this.next=t):this.next=null}try{ZM()(Y)}catch{}});var i1=c((Xne,s1)=>{"use strict";var $Y=e1(),cs=Symbol("max"),Ir=Symbol("length"),Hi=Symbol("lengthCalculator"),Xa=Symbol("allowStale"),ls=Symbol("maxAge"),Rr=Symbol("dispose"),t1=Symbol("noDisposeOnSet"),ye=Symbol("lruList"),Kt=Symbol("cache"),n1=Symbol("updateAgeOnGet"),Pm=()=>1,Nm=class{constructor(e){if(typeof e=="number"&&(e={max:e}),e||(e={}),e.max&&(typeof e.max!="number"||e.max<0))throw new TypeError("max must be a non-negative number");let t=this[cs]=e.max||1/0,n=e.length||Pm;if(this[Hi]=typeof n!="function"?Pm:n,this[Xa]=e.stale||!1,e.maxAge&&typeof e.maxAge!="number")throw new TypeError("maxAge must be a number");this[ls]=e.maxAge||0,this[Rr]=e.dispose,this[t1]=e.noDisposeOnSet||!1,this[n1]=e.updateAgeOnGet||!1,this.reset()}set max(e){if(typeof e!="number"||e<0)throw new TypeError("max must be a non-negative number");this[cs]=e||1/0,Ha(this)}get max(){return this[cs]}set allowStale(e){this[Xa]=!!e}get allowStale(){return this[Xa]}set maxAge(e){if(typeof e!="number")throw new TypeError("maxAge must be a non-negative number");this[ls]=e,Ha(this)}get maxAge(){return this[ls]}set lengthCalculator(e){typeof e!="function"&&(e=Pm),e!==this[Hi]&&(this[Hi]=e,this[Ir]=0,this[ye].forEach(t=>{t.length=this[Hi](t.value,t.key),this[Ir]+=t.length})),Ha(this)}get lengthCalculator(){return this[Hi]}get length(){return this[Ir]}get itemCount(){return this[ye].length}rforEach(e,t){t=t||this;for(let n=this[ye].tail;n!==null;){let s=n.prev;r1(this,e,n,t),n=s}}forEach(e,t){t=t||this;for(let n=this[ye].head;n!==null;){let s=n.next;r1(this,e,n,t),n=s}}keys(){return this[ye].toArray().map(e=>e.key)}values(){return this[ye].toArray().map(e=>e.value)}reset(){this[Rr]&&this[ye]&&this[ye].length&&this[ye].forEach(e=>this[Rr](e.key,e.value)),this[Kt]=new Map,this[ye]=new $Y,this[Ir]=0}dump(){return this[ye].map(e=>Vd(this,e)?!1:{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[ye]}set(e,t,n){if(n=n||this[ls],n&&typeof n!="number")throw new TypeError("maxAge must be a number");let s=n?Date.now():0,i=this[Hi](t,e);if(this[Kt].has(e)){if(i>this[cs])return Xi(this,this[Kt].get(e)),!1;let u=this[Kt].get(e).value;return this[Rr]&&(this[t1]||this[Rr](e,u.value)),u.now=s,u.maxAge=n,u.value=t,this[Ir]+=i-u.length,u.length=i,this.get(e),Ha(this),!0}let o=new Lm(e,t,i,s,n);return o.length>this[cs]?(this[Rr]&&this[Rr](e,t),!1):(this[Ir]+=o.length,this[ye].unshift(o),this[Kt].set(e,this[ye].head),Ha(this),!0)}has(e){if(!this[Kt].has(e))return!1;let t=this[Kt].get(e).value;return!Vd(this,t)}get(e){return ym(this,e,!0)}peek(e){return ym(this,e,!1)}pop(){let e=this[ye].tail;return e?(Xi(this,e),e.value):null}del(e){Xi(this,this[Kt].get(e))}load(e){this.reset();let t=Date.now();for(let n=e.length-1;n>=0;n--){let s=e[n],i=s.e||0;if(i===0)this.set(s.k,s.v);else{let o=i-t;o>0&&this.set(s.k,s.v,o)}}}prune(){this[Kt].forEach((e,t)=>ym(this,t,!1))}},ym=(r,e,t)=>{let n=r[Kt].get(e);if(n){let s=n.value;if(Vd(r,s)){if(Xi(r,n),!r[Xa])return}else t&&(r[n1]&&(n.value.now=Date.now()),r[ye].unshiftNode(n));return s.value}},Vd=(r,e)=>{if(!e||!e.maxAge&&!r[ls])return!1;let t=Date.now()-e.now;return e.maxAge?t>e.maxAge:r[ls]&&t>r[ls]},Ha=r=>{if(r[Ir]>r[cs])for(let e=r[ye].tail;r[Ir]>r[cs]&&e!==null;){let t=e.prev;Xi(r,e),e=t}},Xi=(r,e)=>{if(e){let t=e.value;r[Rr]&&r[Rr](t.key,t.value),r[Ir]-=t.length,r[Kt].delete(t.key),r[ye].removeNode(e)}},Lm=class{constructor(e,t,n,s,i){this.key=e,this.value=t,this.length=n,this.now=s,this.maxAge=i||0}},r1=(r,e,t,n)=>{let s=t.value;Vd(r,s)&&(Xi(r,t),r[Xa]||(s=void 0)),s&&e.call(n,s.value,s.key,r)};s1.exports=Nm});var Dt=c((Wne,c1)=>{var hs=class{constructor(e,t){if(t=UY(t),e instanceof hs)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new hs(e.raw,t);if(e instanceof Cm)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split("||").map(n=>this.parseRange(n.trim())).filter(n=>n.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${e}`);if(this.set.length>1){let n=this.set[0];if(this.set=this.set.filter(s=>!a1(s[0])),this.set.length===0)this.set=[n];else if(this.set.length>1){for(let s of this.set)if(s.length===1&&WY(s[0])){this.set=[s];break}}}this.format()}format(){return this.range=this.set.map(e=>e.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(e){e=e.trim();let n=((this.options.includePrerelease&&HY)|(this.options.loose&&XY))+":"+e,s=o1.get(n);if(s)return s;let i=this.options.loose,o=i?ft[st.HYPHENRANGELOOSE]:ft[st.HYPHENRANGE];e=e.replace(o,rz(this.options.includePrerelease)),Ee("hyphen replace",e),e=e.replace(ft[st.COMPARATORTRIM],BY),Ee("comparator trim",e),e=e.replace(ft[st.TILDETRIM],FY),e=e.replace(ft[st.CARETTRIM],VY),e=e.split(/\s+/).join(" ");let a=e.split(" ").map(d=>kY(d,this.options)).join(" ").split(/\s+/).map(d=>tz(d,this.options));i&&(a=a.filter(d=>(Ee("loose invalid filter",d,this.options),!!d.match(ft[st.COMPARATORLOOSE])))),Ee("range list",a);let u=new Map,l=a.map(d=>new Cm(d,this.options));for(let d of l){if(a1(d))return[d];u.set(d.value,d)}u.size>1&&u.has("")&&u.delete("");let h=[...u.values()];return o1.set(n,h),h}intersects(e,t){if(!(e instanceof hs))throw new TypeError("a Range is required");return this.set.some(n=>u1(n,t)&&e.set.some(s=>u1(s,t)&&n.every(i=>s.every(o=>i.intersects(o,t)))))}test(e){if(!e)return!1;if(typeof e=="string")try{e=new GY(e,this.options)}catch{return!1}for(let t=0;t<this.set.length;t++)if(nz(this.set[t],e,this.options))return!0;return!1}};c1.exports=hs;var jY=i1(),o1=new jY({max:1e3}),UY=qd(),Cm=Wa(),Ee=Fa(),GY=ze(),{re:ft,t:st,comparatorTrimReplace:BY,tildeTrimReplace:FY,caretTrimReplace:VY}=Fi(),{FLAG_INCLUDE_PRERELEASE:HY,FLAG_LOOSE:XY}=Ba(),a1=r=>r.value==="<0.0.0-0",WY=r=>r.value==="",u1=(r,e)=>{let t=!0,n=r.slice(),s=n.pop();for(;t&&n.length;)t=n.every(i=>s.intersects(i,e)),s=n.pop();return t},kY=(r,e)=>(Ee("comp",r,e),r=zY(r,e),Ee("caret",r),r=KY(r,e),Ee("tildes",r),r=ZY(r,e),Ee("xrange",r),r=ez(r,e),Ee("stars",r),r),it=r=>!r||r.toLowerCase()==="x"||r==="*",KY=(r,e)=>r.trim().split(/\s+/).map(t=>YY(t,e)).join(" "),YY=(r,e)=>{let t=e.loose?ft[st.TILDELOOSE]:ft[st.TILDE];return r.replace(t,(n,s,i,o,a)=>{Ee("tilde",r,n,s,i,o,a);let u;return it(s)?u="":it(i)?u=`>=${s}.0.0 <${+s+1}.0.0-0`:it(o)?u=`>=${s}.${i}.0 <${s}.${+i+1}.0-0`:a?(Ee("replaceTilde pr",a),u=`>=${s}.${i}.${o}-${a} <${s}.${+i+1}.0-0`):u=`>=${s}.${i}.${o} <${s}.${+i+1}.0-0`,Ee("tilde return",u),u})},zY=(r,e)=>r.trim().split(/\s+/).map(t=>QY(t,e)).join(" "),QY=(r,e)=>{Ee("caret",r,e);let t=e.loose?ft[st.CARETLOOSE]:ft[st.CARET],n=e.includePrerelease?"-0":"";return r.replace(t,(s,i,o,a,u)=>{Ee("caret",r,s,i,o,a,u);let l;return it(i)?l="":it(o)?l=`>=${i}.0.0${n} <${+i+1}.0.0-0`:it(a)?i==="0"?l=`>=${i}.${o}.0${n} <${i}.${+o+1}.0-0`:l=`>=${i}.${o}.0${n} <${+i+1}.0.0-0`:u?(Ee("replaceCaret pr",u),i==="0"?o==="0"?l=`>=${i}.${o}.${a}-${u} <${i}.${o}.${+a+1}-0`:l=`>=${i}.${o}.${a}-${u} <${i}.${+o+1}.0-0`:l=`>=${i}.${o}.${a}-${u} <${+i+1}.0.0-0`):(Ee("no pr"),i==="0"?o==="0"?l=`>=${i}.${o}.${a}${n} <${i}.${o}.${+a+1}-0`:l=`>=${i}.${o}.${a}${n} <${i}.${+o+1}.0-0`:l=`>=${i}.${o}.${a} <${+i+1}.0.0-0`),Ee("caret return",l),l})},ZY=(r,e)=>(Ee("replaceXRanges",r,e),r.split(/\s+/).map(t=>JY(t,e)).join(" ")),JY=(r,e)=>{r=r.trim();let t=e.loose?ft[st.XRANGELOOSE]:ft[st.XRANGE];return r.replace(t,(n,s,i,o,a,u)=>{Ee("xRange",r,n,s,i,o,a,u);let l=it(i),h=l||it(o),d=h||it(a),f=d;return s==="="&&f&&(s=""),u=e.includePrerelease?"-0":"",l?s===">"||s==="<"?n="<0.0.0-0":n="*":s&&f?(h&&(o=0),a=0,s===">"?(s=">=",h?(i=+i+1,o=0,a=0):(o=+o+1,a=0)):s==="<="&&(s="<",h?i=+i+1:o=+o+1),s==="<"&&(u="-0"),n=`${s+i}.${o}.${a}${u}`):h?n=`>=${i}.0.0${u} <${+i+1}.0.0-0`:d&&(n=`>=${i}.${o}.0${u} <${i}.${+o+1}.0-0`),Ee("xRange return",n),n})},ez=(r,e)=>(Ee("replaceStars",r,e),r.trim().replace(ft[st.STAR],"")),tz=(r,e)=>(Ee("replaceGTE0",r,e),r.trim().replace(ft[e.includePrerelease?st.GTE0PRE:st.GTE0],"")),rz=r=>(e,t,n,s,i,o,a,u,l,h,d,f,p)=>(it(n)?t="":it(s)?t=`>=${n}.0.0${r?"-0":""}`:it(i)?t=`>=${n}.${s}.0${r?"-0":""}`:o?t=`>=${t}`:t=`>=${t}${r?"-0":""}`,it(l)?u="":it(h)?u=`<${+l+1}.0.0-0`:it(d)?u=`<${l}.${+h+1}.0-0`:f?u=`<=${l}.${h}.${d}-${f}`:r?u=`<${l}.${h}.${+d+1}-0`:u=`<=${u}`,`${t} ${u}`.trim()),nz=(r,e,t)=>{for(let n=0;n<r.length;n++)if(!r[n].test(e))return!1;if(e.prerelease.length&&!t.includePrerelease){for(let n=0;n<r.length;n++)if(Ee(r[n].semver),r[n].semver!==Cm.ANY&&r[n].semver.prerelease.length>0){let s=r[n].semver;if(s.major===e.major&&s.minor===e.minor&&s.patch===e.patch)return!0}return!1}return!0}});var Wa=c((kne,_1)=>{var ka=Symbol("SemVer ANY"),Wi=class{static get ANY(){return ka}constructor(e,t){if(t=l1(t),e instanceof Wi){if(e.loose===!!t.loose)return e;e=e.value}wm("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===ka?this.value="":this.value=this.operator+this.semver.version,wm("comp",this)}parse(e){let t=this.options.loose?h1[d1.COMPARATORLOOSE]:h1[d1.COMPARATOR],n=e.match(t);if(!n)throw new TypeError(`Invalid comparator: ${e}`);this.operator=n[1]!==void 0?n[1]:"",this.operator==="="&&(this.operator=""),n[2]?this.semver=new p1(n[2],this.options.loose):this.semver=ka}toString(){return this.value}test(e){if(wm("Comparator.test",e,this.options.loose),this.semver===ka||e===ka)return!0;if(typeof e=="string")try{e=new p1(e,this.options)}catch{return!1}return Mm(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof Wi))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new f1(e.value,t).test(this.value):e.operator===""?e.value===""?!0:new f1(this.value,t).test(e.semver):(t=l1(t),t.includePrerelease&&(this.value==="<0.0.0-0"||e.value==="<0.0.0-0")||!t.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&e.operator.startsWith(">")||this.operator.startsWith("<")&&e.operator.startsWith("<")||this.semver.version===e.semver.version&&this.operator.includes("=")&&e.operator.includes("=")||Mm(this.semver,"<",e.semver,t)&&this.operator.startsWith(">")&&e.operator.startsWith("<")||Mm(this.semver,">",e.semver,t)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))}};_1.exports=Wi;var l1=qd(),{re:h1,t:d1}=Fi(),Mm=bm(),wm=Fa(),p1=ze(),f1=Dt()});var Ka=c((Kne,E1)=>{var sz=Dt(),iz=(r,e,t)=>{try{e=new sz(e,t)}catch{return!1}return e.test(r)};E1.exports=iz});var m1=c((Yne,g1)=>{var oz=Dt(),az=(r,e)=>new oz(r,e).set.map(t=>t.map(n=>n.value).join(" ").trim().split(" "));g1.exports=az});var S1=c((zne,T1)=>{var uz=ze(),cz=Dt(),lz=(r,e,t)=>{let n=null,s=null,i=null;try{i=new cz(e,t)}catch{return null}return r.forEach(o=>{i.test(o)&&(!n||s.compare(o)===-1)&&(n=o,s=new uz(n,t))}),n};T1.exports=lz});var A1=c((Qne,v1)=>{var hz=ze(),dz=Dt(),pz=(r,e,t)=>{let n=null,s=null,i=null;try{i=new dz(e,t)}catch{return null}return r.forEach(o=>{i.test(o)&&(!n||s.compare(o)===1)&&(n=o,s=new hz(n,t))}),n};v1.exports=pz});var I1=c((Zne,R1)=>{var qm=ze(),fz=Dt(),O1=Va(),_z=(r,e)=>{r=new fz(r,e);let t=new qm("0.0.0");if(r.test(t)||(t=new qm("0.0.0-0"),r.test(t)))return t;t=null;for(let n=0;n<r.set.length;++n){let s=r.set[n],i=null;s.forEach(o=>{let a=new qm(o.semver.version);switch(o.operator){case">":a.prerelease.length===0?a.patch++:a.prerelease.push(0),a.raw=a.format();case"":case">=":(!i||O1(a,i))&&(i=a);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${o.operator}`)}}),i&&(!t||O1(t,i))&&(t=i)}return t&&r.test(t)?t:null};R1.exports=_z});var P1=c((Jne,b1)=>{var Ez=Dt(),gz=(r,e)=>{try{return new Ez(r,e).range||"*"}catch{return null}};b1.exports=gz});var Hd=c((ese,C1)=>{var mz=ze(),L1=Wa(),{ANY:Tz}=L1,Sz=Dt(),vz=Ka(),y1=Va(),N1=jd(),Az=Gd(),Oz=Ud(),Rz=(r,e,t,n)=>{r=new mz(r,n),e=new Sz(e,n);let s,i,o,a,u;switch(t){case">":s=y1,i=Az,o=N1,a=">",u=">=";break;case"<":s=N1,i=Oz,o=y1,a="<",u="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(vz(r,e,n))return!1;for(let l=0;l<e.set.length;++l){let h=e.set[l],d=null,f=null;if(h.forEach(p=>{p.semver===Tz&&(p=new L1(">=0.0.0")),d=d||p,f=f||p,s(p.semver,d.semver,n)?d=p:o(p.semver,f.semver,n)&&(f=p)}),d.operator===a||d.operator===u||(!f.operator||f.operator===a)&&i(r,f.semver))return!1;if(f.operator===u&&o(r,f.semver))return!1}return!0};C1.exports=Rz});var w1=c((tse,M1)=>{var Iz=Hd(),bz=(r,e,t)=>Iz(r,e,">",t);M1.exports=bz});var x1=c((rse,q1)=>{var Pz=Hd(),yz=(r,e,t)=>Pz(r,e,"<",t);q1.exports=yz});var j1=c((nse,$1)=>{var D1=Dt(),Nz=(r,e,t)=>(r=new D1(r,t),e=new D1(e,t),r.intersects(e,t));$1.exports=Nz});var G1=c((sse,U1)=>{var Lz=Ka(),Cz=xt();U1.exports=(r,e,t)=>{let n=[],s=null,i=null,o=r.sort((h,d)=>Cz(h,d,t));for(let h of o)Lz(h,e,t)?(i=h,s||(s=h)):(i&&n.push([s,i]),i=null,s=null);s&&n.push([s,null]);let a=[];for(let[h,d]of n)h===d?a.push(h):!d&&h===o[0]?a.push("*"):d?h===o[0]?a.push(`<=${d}`):a.push(`${h} - ${d}`):a.push(`>=${h}`);let u=a.join(" || "),l=typeof e.raw=="string"?e.raw:String(e);return u.length<l.length?u:e}});var W1=c((ise,X1)=>{var B1=Dt(),Dm=Wa(),{ANY:xm}=Dm,Ya=Ka(),$m=xt(),Mz=(r,e,t={})=>{if(r===e)return!0;r=new B1(r,t),e=new B1(e,t);let n=!1;e:for(let s of r.set){for(let i of e.set){let o=qz(s,i,t);if(n=n||o!==null,o)continue e}if(n)return!1}return!0},wz=[new Dm(">=0.0.0-0")],F1=[new Dm(">=0.0.0")],qz=(r,e,t)=>{if(r===e)return!0;if(r.length===1&&r[0].semver===xm){if(e.length===1&&e[0].semver===xm)return!0;t.includePrerelease?r=wz:r=F1}if(e.length===1&&e[0].semver===xm){if(t.includePrerelease)return!0;e=F1}let n=new Set,s,i;for(let p of r)p.operator===">"||p.operator===">="?s=V1(s,p,t):p.operator==="<"||p.operator==="<="?i=H1(i,p,t):n.add(p.semver);if(n.size>1)return null;let o;if(s&&i){if(o=$m(s.semver,i.semver,t),o>0)return null;if(o===0&&(s.operator!==">="||i.operator!=="<="))return null}for(let p of n){if(s&&!Ya(p,String(s),t)||i&&!Ya(p,String(i),t))return null;for(let I of e)if(!Ya(p,String(I),t))return!1;return!0}let a,u,l,h,d=i&&!t.includePrerelease&&i.semver.prerelease.length?i.semver:!1,f=s&&!t.includePrerelease&&s.semver.prerelease.length?s.semver:!1;d&&d.prerelease.length===1&&i.operator==="<"&&d.prerelease[0]===0&&(d=!1);for(let p of e){if(h=h||p.operator===">"||p.operator===">=",l=l||p.operator==="<"||p.operator==="<=",s){if(f&&p.semver.prerelease&&p.semver.prerelease.length&&p.semver.major===f.major&&p.semver.minor===f.minor&&p.semver.patch===f.patch&&(f=!1),p.operator===">"||p.operator===">="){if(a=V1(s,p,t),a===p&&a!==s)return!1}else if(s.operator===">="&&!Ya(s.semver,String(p),t))return!1}if(i){if(d&&p.semver.prerelease&&p.semver.prerelease.length&&p.semver.major===d.major&&p.semver.minor===d.minor&&p.semver.patch===d.patch&&(d=!1),p.operator==="<"||p.operator==="<="){if(u=H1(i,p,t),u===p&&u!==i)return!1}else if(i.operator==="<="&&!Ya(i.semver,String(p),t))return!1}if(!p.operator&&(i||s)&&o!==0)return!1}return!(s&&l&&!i&&o!==0||i&&h&&!s&&o!==0||f||d)},V1=(r,e,t)=>{if(!r)return e;let n=$m(r.semver,e.semver,t);return n>0?r:n<0||e.operator===">"&&r.operator===">="?e:r},H1=(r,e,t)=>{if(!r)return e;let n=$m(r.semver,e.semver,t);return n<0?r:n>0||e.operator==="<"&&r.operator==="<="?e:r};X1.exports=Mz});var z1=c((ose,Y1)=>{var jm=Fi(),k1=Ba(),xz=ze(),K1=Om(),Dz=as(),$z=pM(),jz=_M(),Uz=mM(),Gz=vM(),Bz=OM(),Fz=IM(),Vz=PM(),Hz=NM(),Xz=xt(),Wz=wM(),kz=xM(),Kz=$d(),Yz=UM(),zz=BM(),Qz=Va(),Zz=jd(),Jz=Rm(),e2=Im(),t2=Ud(),r2=Gd(),n2=bm(),s2=zM(),i2=Wa(),o2=Dt(),a2=Ka(),u2=m1(),c2=S1(),l2=A1(),h2=I1(),d2=P1(),p2=Hd(),f2=w1(),_2=x1(),E2=j1(),g2=G1(),m2=W1();Y1.exports={parse:Dz,valid:$z,clean:jz,inc:Uz,diff:Gz,major:Bz,minor:Fz,patch:Vz,prerelease:Hz,compare:Xz,rcompare:Wz,compareLoose:kz,compareBuild:Kz,sort:Yz,rsort:zz,gt:Qz,lt:Zz,eq:Jz,neq:e2,gte:t2,lte:r2,cmp:n2,coerce:s2,Comparator:i2,Range:o2,satisfies:a2,toComparators:u2,maxSatisfying:c2,minSatisfying:l2,minVersion:h2,validRange:d2,outside:p2,gtr:f2,ltr:_2,intersects:E2,simplifyRange:g2,subset:m2,SemVer:xz,re:jm.re,src:jm.src,tokens:jm.t,SEMVER_SPEC_VERSION:k1.SEMVER_SPEC_VERSION,RELEASE_TYPES:k1.RELEASE_TYPES,compareIdentifiers:K1.compareIdentifiers,rcompareIdentifiers:K1.rcompareIdentifiers}});var Q1=c(za=>{"use strict";Object.defineProperty(za,"__esModule",{value:!0});za.AttributeNames=void 0;var T2;(function(r){r.HTTP_ERROR_NAME="http.error_name",r.HTTP_ERROR_MESSAGE="http.error_message",r.HTTP_STATUS_TEXT="http.status_text"})(T2=za.AttributeNames||(za.AttributeNames={}))});var Um=c(C=>{"use strict";Object.defineProperty(C,"__esModule",{value:!0});C.headerCapture=C.getIncomingRequestMetricAttributesOnResponse=C.getIncomingRequestAttributesOnResponse=C.getIncomingRequestMetricAttributes=C.getIncomingRequestAttributes=C.getOutgoingRequestMetricAttributesOnResponse=C.getOutgoingRequestAttributesOnResponse=C.getAttributesFromHttpKind=C.getOutgoingRequestMetricAttributes=C.getOutgoingRequestAttributes=C.extractHostnameAndPort=C.isValidOptionsType=C.getRequestInfo=C.isCompressed=C.setResponseContentLengthAttribute=C.setRequestContentLengthAttribute=C.setSpanWithError=C.isIgnored=C.satisfiesPattern=C.parseResponseStatus=C.getAbsoluteUrl=void 0;var Qa=_(),P=Ce(),Z1=B(),Xd=require("url"),Wd=Q1(),S2=(r,e,t="http:")=>{let n=r||{},s=n.protocol||t,i=(n.port||"").toString(),o=n.path||"/",a=n.host||n.hostname||e.host||"localhost";return a.indexOf(":")===-1&&i&&i!=="80"&&i!=="443"&&(a+=`:${i}`),`${s}//${a}${o}`};C.getAbsoluteUrl=S2;var v2=(r,e)=>{let t=r===Qa.SpanKind.CLIENT?400:500;return e&&e>=100&&e<t?Qa.SpanStatusCode.UNSET:Qa.SpanStatusCode.ERROR};C.parseResponseStatus=v2;var A2=(r,e)=>{if(typeof e=="string")return e===r;if(e instanceof RegExp)return e.test(r);if(typeof e=="function")return e(r);throw new TypeError("Pattern is in unsupported datatype")};C.satisfiesPattern=A2;var O2=(r,e,t)=>{if(!e)return!1;try{for(let n of e)if((0,C.satisfiesPattern)(r,n))return!0}catch(n){t&&t(n)}return!1};C.isIgnored=O2;var R2=(r,e)=>{let t=e.message;r.setAttributes({[Wd.AttributeNames.HTTP_ERROR_NAME]:e.name,[Wd.AttributeNames.HTTP_ERROR_MESSAGE]:t}),r.setStatus({code:Qa.SpanStatusCode.ERROR,message:t}),r.recordException(e)};C.setSpanWithError=R2;var I2=(r,e)=>{let t=J1(r.headers);t!==null&&((0,C.isCompressed)(r.headers)?e[P.SemanticAttributes.HTTP_REQUEST_CONTENT_LENGTH]=t:e[P.SemanticAttributes.HTTP_REQUEST_CONTENT_LENGTH_UNCOMPRESSED]=t)};C.setRequestContentLengthAttribute=I2;var b2=(r,e)=>{let t=J1(r.headers);t!==null&&((0,C.isCompressed)(r.headers)?e[P.SemanticAttributes.HTTP_RESPONSE_CONTENT_LENGTH]=t:e[P.SemanticAttributes.HTTP_RESPONSE_CONTENT_LENGTH_UNCOMPRESSED]=t)};C.setResponseContentLengthAttribute=b2;function J1(r){let e=r["content-length"];if(e===void 0)return null;let t=parseInt(e,10);return isNaN(t)?null:t}var P2=r=>{let e=r["content-encoding"];return!!e&&e!=="identity"};C.isCompressed=P2;var y2=(r,e)=>{let t="/",n="",s;if(typeof r=="string")s=Xd.parse(r),t=s.pathname||"/",n=`${s.protocol||"http:"}//${s.host}`,e!==void 0&&Object.assign(s,e);else if(r instanceof Xd.URL)s={protocol:r.protocol,hostname:typeof r.hostname=="string"&&r.hostname.startsWith("[")?r.hostname.slice(1,-1):r.hostname,path:`${r.pathname||""}${r.search||""}`},r.port!==""&&(s.port=Number(r.port)),(r.username||r.password)&&(s.auth=`${r.username}:${r.password}`),t=r.pathname,n=r.origin,e!==void 0&&Object.assign(s,e);else{s=Object.assign({protocol:r.host?"http:":void 0},r),t=r.pathname,!t&&s.path&&(t=Xd.parse(s.path).pathname||"/");let o=s.host||(s.port!=null?`${s.hostname}${s.port}`:s.hostname);n=`${s.protocol||"http:"}//${o}`}let i=s.method?s.method.toUpperCase():"GET";return{origin:n,pathname:t,method:i,optionsParsed:s}};C.getRequestInfo=y2;var N2=r=>{if(!r)return!1;let e=typeof r;return e==="string"||e==="object"&&!Array.isArray(r)};C.isValidOptionsType=N2;var L2=r=>{var e;if(r.hostname&&r.port)return{hostname:r.hostname,port:r.port};let t=((e=r.host)===null||e===void 0?void 0:e.match(/^([^:/ ]+)(:\d{1,5})?/))||null,n=r.hostname||(t===null?"localhost":t[1]),s=r.port;return s||(t&&t[2]?s=t[2].substring(1):s=r.protocol==="https:"?"443":"80"),{hostname:n,port:s}};C.extractHostnameAndPort=L2;var C2=(r,e)=>{var t,n;let s=e.hostname,i=e.port,o=r.method,a=o?o.toUpperCase():"GET",u=r.headers||{},l=u["user-agent"],h={[P.SemanticAttributes.HTTP_URL]:(0,C.getAbsoluteUrl)(r,u,`${e.component}:`),[P.SemanticAttributes.HTTP_METHOD]:a,[P.SemanticAttributes.HTTP_TARGET]:r.path||"/",[P.SemanticAttributes.NET_PEER_NAME]:s,[P.SemanticAttributes.HTTP_HOST]:(n=(t=r.headers)===null||t===void 0?void 0:t.host)!==null&&n!==void 0?n:`${s}:${i}`};return l!==void 0&&(h[P.SemanticAttributes.HTTP_USER_AGENT]=l),Object.assign(h,e.hookAttributes)};C.getOutgoingRequestAttributes=C2;var M2=r=>{let e={};return e[P.SemanticAttributes.HTTP_METHOD]=r[P.SemanticAttributes.HTTP_METHOD],e[P.SemanticAttributes.NET_PEER_NAME]=r[P.SemanticAttributes.NET_PEER_NAME],e};C.getOutgoingRequestMetricAttributes=M2;var w2=r=>{let e={};return r&&(e[P.SemanticAttributes.HTTP_FLAVOR]=r,r.toUpperCase()!=="QUIC"?e[P.SemanticAttributes.NET_TRANSPORT]=P.NetTransportValues.IP_TCP:e[P.SemanticAttributes.NET_TRANSPORT]=P.NetTransportValues.IP_UDP),e};C.getAttributesFromHttpKind=w2;var q2=r=>{let{statusCode:e,statusMessage:t,httpVersion:n,socket:s}=r,{remoteAddress:i,remotePort:o}=s,a={[P.SemanticAttributes.NET_PEER_IP]:i,[P.SemanticAttributes.NET_PEER_PORT]:o};(0,C.setResponseContentLengthAttribute)(r,a),e&&(a[P.SemanticAttributes.HTTP_STATUS_CODE]=e,a[Wd.AttributeNames.HTTP_STATUS_TEXT]=(t||"").toUpperCase());let u=(0,C.getAttributesFromHttpKind)(n);return Object.assign(a,u)};C.getOutgoingRequestAttributesOnResponse=q2;var x2=r=>{let e={};return e[P.SemanticAttributes.NET_PEER_PORT]=r[P.SemanticAttributes.NET_PEER_PORT],e[P.SemanticAttributes.HTTP_STATUS_CODE]=r[P.SemanticAttributes.HTTP_STATUS_CODE],e[P.SemanticAttributes.HTTP_FLAVOR]=r[P.SemanticAttributes.HTTP_FLAVOR],e};C.getOutgoingRequestMetricAttributesOnResponse=x2;var D2=(r,e)=>{let t=r.headers,n=t["user-agent"],s=t["x-forwarded-for"],i=r.method||"GET",o=r.httpVersion,a=r.url?Xd.parse(r.url):null,u=(a==null?void 0:a.host)||t.host,l=(a==null?void 0:a.hostname)||(u==null?void 0:u.replace(/^(.*)(:[0-9]{1,5})/,"$1"))||"localhost",h=e.serverName,d={[P.SemanticAttributes.HTTP_URL]:(0,C.getAbsoluteUrl)(a,t,`${e.component}:`),[P.SemanticAttributes.HTTP_HOST]:u,[P.SemanticAttributes.NET_HOST_NAME]:l,[P.SemanticAttributes.HTTP_METHOD]:i,[P.SemanticAttributes.HTTP_SCHEME]:e.component};typeof s=="string"&&(d[P.SemanticAttributes.HTTP_CLIENT_IP]=s.split(",")[0]),typeof h=="string"&&(d[P.SemanticAttributes.HTTP_SERVER_NAME]=h),a&&(d[P.SemanticAttributes.HTTP_TARGET]=a.path||"/"),n!==void 0&&(d[P.SemanticAttributes.HTTP_USER_AGENT]=n),(0,C.setRequestContentLengthAttribute)(r,d);let f=(0,C.getAttributesFromHttpKind)(o);return Object.assign(d,f,e.hookAttributes)};C.getIncomingRequestAttributes=D2;var $2=r=>{let e={};return e[P.SemanticAttributes.HTTP_SCHEME]=r[P.SemanticAttributes.HTTP_SCHEME],e[P.SemanticAttributes.HTTP_METHOD]=r[P.SemanticAttributes.HTTP_METHOD],e[P.SemanticAttributes.NET_HOST_NAME]=r[P.SemanticAttributes.NET_HOST_NAME],e[P.SemanticAttributes.HTTP_FLAVOR]=r[P.SemanticAttributes.HTTP_FLAVOR],e};C.getIncomingRequestMetricAttributes=$2;var j2=(r,e)=>{let{socket:t}=r,{statusCode:n,statusMessage:s}=e,{localAddress:i,localPort:o,remoteAddress:a,remotePort:u}=t,l=(0,Z1.getRPCMetadata)(Qa.context.active()),h={[P.SemanticAttributes.NET_HOST_IP]:i,[P.SemanticAttributes.NET_HOST_PORT]:o,[P.SemanticAttributes.NET_PEER_IP]:a,[P.SemanticAttributes.NET_PEER_PORT]:u,[P.SemanticAttributes.HTTP_STATUS_CODE]:n,[Wd.AttributeNames.HTTP_STATUS_TEXT]:(s||"").toUpperCase()};return(l==null?void 0:l.type)===Z1.RPCType.HTTP&&l.route!==void 0&&(h[P.SemanticAttributes.HTTP_ROUTE]=l.route),h};C.getIncomingRequestAttributesOnResponse=j2;var U2=r=>{let e={};return e[P.SemanticAttributes.HTTP_STATUS_CODE]=r[P.SemanticAttributes.HTTP_STATUS_CODE],e[P.SemanticAttributes.NET_HOST_PORT]=r[P.SemanticAttributes.NET_HOST_PORT],r[P.SemanticAttributes.HTTP_ROUTE]!==void 0&&(e[P.SemanticAttributes.HTTP_ROUTE]=r[P.SemanticAttributes.HTTP_ROUTE]),e};C.getIncomingRequestMetricAttributesOnResponse=U2;function G2(r,e){let t=new Map(e.map(n=>[n.toLowerCase(),n.toLowerCase().replace(/-/g,"_")]));return(n,s)=>{for(let[i,o]of t){let a=s(i);if(a===void 0)continue;let u=`http.${r}.header.${o}`;typeof a=="string"?n.setAttribute(u,[a]):Array.isArray(a)?n.setAttribute(u,a):n.setAttribute(u,[a])}}}C.headerCapture=G2});var ew=c(kd=>{"use strict";Object.defineProperty(kd,"__esModule",{value:!0});kd.VERSION=void 0;kd.VERSION="0.40.0"});var sw=c(Kd=>{"use strict";Object.defineProperty(Kd,"__esModule",{value:!0});Kd.HttpInstrumentation=void 0;var w=_(),ki=B(),tw=z1(),rw=require("url"),de=Um(),B2=ew(),Ne=$g(),nw=B(),Gm=require("events"),F2=Ce(),Bm=class extends Ne.InstrumentationBase{constructor(e){super("@opentelemetry/instrumentation-http",B2.VERSION,e),this._spanNotEnded=new WeakSet,this._headerCapture=this._createHeaderCapture()}_updateMetricInstruments(){this._httpServerDurationHistogram=this.meter.createHistogram("http.server.duration",{description:"Measures the duration of inbound HTTP requests.",unit:"ms",valueType:w.ValueType.DOUBLE}),this._httpClientDurationHistogram=this.meter.createHistogram("http.client.duration",{description:"Measures the duration of outbound HTTP requests.",unit:"ms",valueType:w.ValueType.DOUBLE})}_getConfig(){return this._config}setConfig(e){super.setConfig(e),this._headerCapture=this._createHeaderCapture()}init(){return[this._getHttpsInstrumentation(),this._getHttpInstrumentation()]}_getHttpInstrumentation(){let e=process.versions.node;return new Ne.InstrumentationNodeModuleDefinition("http",["*"],t=>(this._diag.debug(`Applying patch for http@${e}`),(0,Ne.isWrapped)(t.request)&&this._unwrap(t,"request"),this._wrap(t,"request",this._getPatchOutgoingRequestFunction("http")),(0,Ne.isWrapped)(t.get)&&this._unwrap(t,"get"),this._wrap(t,"get",this._getPatchOutgoingGetFunction(t.request)),(0,Ne.isWrapped)(t.Server.prototype.emit)&&this._unwrap(t.Server.prototype,"emit"),this._wrap(t.Server.prototype,"emit",this._getPatchIncomingRequestFunction("http")),t),t=>{t!==void 0&&(this._diag.debug(`Removing patch for http@${e}`),this._unwrap(t,"request"),this._unwrap(t,"get"),this._unwrap(t.Server.prototype,"emit"))})}_getHttpsInstrumentation(){let e=process.versions.node;return new Ne.InstrumentationNodeModuleDefinition("https",["*"],t=>(this._diag.debug(`Applying patch for https@${e}`),(0,Ne.isWrapped)(t.request)&&this._unwrap(t,"request"),this._wrap(t,"request",this._getPatchHttpsOutgoingRequestFunction("https")),(0,Ne.isWrapped)(t.get)&&this._unwrap(t,"get"),this._wrap(t,"get",this._getPatchHttpsOutgoingGetFunction(t.request)),(0,Ne.isWrapped)(t.Server.prototype.emit)&&this._unwrap(t.Server.prototype,"emit"),this._wrap(t.Server.prototype,"emit",this._getPatchIncomingRequestFunction("https")),t),t=>{t!==void 0&&(this._diag.debug(`Removing patch for https@${e}`),this._unwrap(t,"request"),this._unwrap(t,"get"),this._unwrap(t.Server.prototype,"emit"))})}_getPatchIncomingRequestFunction(e){return t=>this._incomingRequestFunction(e,t)}_getPatchOutgoingRequestFunction(e){return t=>this._outgoingRequestFunction(e,t)}_getPatchOutgoingGetFunction(e){return t=>function(s,...i){let o=e(s,...i);return o.end(),o}}_getPatchHttpsOutgoingRequestFunction(e){return t=>{let n=this;return function(i,...o){var a;return e==="https"&&typeof i=="object"&&((a=i==null?void 0:i.constructor)===null||a===void 0?void 0:a.name)!=="URL"&&(i=Object.assign({},i),n._setDefaultOptions(i)),n._getPatchOutgoingRequestFunction(e)(t)(i,...o)}}}_setDefaultOptions(e){e.protocol=e.protocol||"https:",e.port=e.port||443}_getPatchHttpsOutgoingGetFunction(e){return t=>{let n=this;return function(i,...o){return n._getPatchOutgoingGetFunction(e)(t)(i,...o)}}}_traceClientRequest(e,t,n,s){this._getConfig().requestHook&&this._callRequestHook(t,e);let i=!1;return e.prependListener("response",o=>{this._diag.debug("outgoingRequest on response()");let a=de.getOutgoingRequestAttributesOnResponse(o);t.setAttributes(a),s=Object.assign(s,de.getOutgoingRequestMetricAttributesOnResponse(a)),this._getConfig().responseHook&&this._callResponseHook(t,o),this._headerCapture.client.captureRequestHeaders(t,l=>e.getHeader(l)),this._headerCapture.client.captureResponseHeaders(t,l=>o.headers[l]),w.context.bind(w.context.active(),o);let u=()=>{if(this._diag.debug("outgoingRequest on end()"),i)return;i=!0;let l;o.aborted&&!o.complete?l={code:w.SpanStatusCode.ERROR}:l={code:de.parseResponseStatus(w.SpanKind.CLIENT,o.statusCode)},t.setStatus(l),this._getConfig().applyCustomAttributesOnSpan&&(0,Ne.safeExecuteInTheMiddle)(()=>this._getConfig().applyCustomAttributesOnSpan(t,e,o),()=>{},!0),this._closeHttpSpan(t,w.SpanKind.CLIENT,n,s)};o.on("end",u),tw.lt(process.version,"16.0.0")&&o.on("close",u),o.on(Gm.errorMonitor,l=>{this._diag.debug("outgoingRequest on error()",l),!i&&(i=!0,de.setSpanWithError(t,l),t.setStatus({code:w.SpanStatusCode.ERROR,message:l.message}),this._closeHttpSpan(t,w.SpanKind.CLIENT,n,s))})}),e.on("close",()=>{this._diag.debug("outgoingRequest on request close()"),!(e.aborted||i)&&(i=!0,this._closeHttpSpan(t,w.SpanKind.CLIENT,n,s))}),e.on(Gm.errorMonitor,o=>{this._diag.debug("outgoingRequest on request error()",o),!i&&(i=!0,de.setSpanWithError(t,o),this._closeHttpSpan(t,w.SpanKind.CLIENT,n,s))}),this._diag.debug("http.ClientRequest return request"),e}_incomingRequestFunction(e,t){let n=this;return function(i,...o){if(i!=="request")return t.apply(this,[i,...o]);let a=o[0],u=o[1],l=a.url&&rw.parse(a.url).pathname||"/",h=a.method||"GET";if(n._diag.debug(`${e} instrumentation incomingRequest`),de.isIgnored(l,n._getConfig().ignoreIncomingPaths,L=>n._diag.error("caught ignoreIncomingPaths error: ",L))||(0,Ne.safeExecuteInTheMiddle)(()=>{var L,Z;return(Z=(L=n._getConfig()).ignoreIncomingRequestHook)===null||Z===void 0?void 0:Z.call(L,a)},L=>{L!=null&&n._diag.error("caught ignoreIncomingRequestHook error: ",L)},!0))return w.context.with((0,ki.suppressTracing)(w.context.active()),()=>(w.context.bind(w.context.active(),a),w.context.bind(w.context.active(),u),t.apply(this,[i,...o])));let d=a.headers,f=de.getIncomingRequestAttributes(a,{component:e,serverName:n._getConfig().serverName,hookAttributes:n._callStartSpanHook(a,n._getConfig().startIncomingSpanHook)}),p={kind:w.SpanKind.SERVER,attributes:f},I=(0,ki.hrTime)(),y=de.getIncomingRequestMetricAttributes(f),M=w.propagation.extract(w.ROOT_CONTEXT,d),R=n._startHttpSpan(h,p,M),X={type:nw.RPCType.HTTP,span:R};return w.context.with((0,nw.setRPCMetadata)(w.trace.setSpan(M,R),X),()=>{w.context.bind(w.context.active(),a),w.context.bind(w.context.active(),u),n._getConfig().requestHook&&n._callRequestHook(R,a),n._getConfig().responseHook&&n._callResponseHook(R,u),n._headerCapture.server.captureRequestHeaders(R,Z=>a.headers[Z]);let L=!1;return u.on("close",()=>{L||n._onServerResponseFinish(a,u,R,y,I)}),u.on(Gm.errorMonitor,Z=>{L=!0,n._onServerResponseError(R,y,I,Z)}),(0,Ne.safeExecuteInTheMiddle)(()=>t.apply(this,[i,...o]),Z=>{if(Z)throw de.setSpanWithError(R,Z),n._closeHttpSpan(R,w.SpanKind.SERVER,I,y),Z})})}}_outgoingRequestFunction(e,t){let n=this;return function(i,...o){if(!de.isValidOptionsType(i))return t.apply(this,[i,...o]);let a=typeof o[0]=="object"&&(typeof i=="string"||i instanceof rw.URL)?o.shift():void 0,{origin:u,pathname:l,method:h,optionsParsed:d}=de.getRequestInfo(i,a);if(e==="http"&&tw.lt(process.version,"9.0.0")&&d.protocol==="https:")return t.apply(this,[d,...o]);if(de.isIgnored(u+l,n._getConfig().ignoreOutgoingUrls,re=>n._diag.error("caught ignoreOutgoingUrls error: ",re))||(0,Ne.safeExecuteInTheMiddle)(()=>{var re,ge;return(ge=(re=n._getConfig()).ignoreOutgoingRequestHook)===null||ge===void 0?void 0:ge.call(re,d)},re=>{re!=null&&n._diag.error("caught ignoreOutgoingRequestHook error: ",re)},!0))return t.apply(this,[d,...o]);let{hostname:f,port:p}=de.extractHostnameAndPort(d),I=de.getOutgoingRequestAttributes(d,{component:e,port:p,hostname:f,hookAttributes:n._callStartSpanHook(d,n._getConfig().startOutgoingSpanHook)}),y=(0,ki.hrTime)(),M=de.getOutgoingRequestMetricAttributes(I),R={kind:w.SpanKind.CLIENT,attributes:I},X=n._startHttpSpan(h,R),L=w.context.active(),Z=w.trace.setSpan(L,X);return d.headers||(d.headers={}),w.propagation.inject(Z,d.headers),w.context.with(Z,()=>{let re=o[o.length-1];typeof re=="function"&&(o[o.length-1]=w.context.bind(L,re));let ge=(0,Ne.safeExecuteInTheMiddle)(()=>t.apply(this,[d,...o]),V=>{if(V)throw de.setSpanWithError(X,V),n._closeHttpSpan(X,w.SpanKind.CLIENT,y,M),V});return n._diag.debug(`${e} instrumentation outgoingRequest`),w.context.bind(L,ge),n._traceClientRequest(ge,X,y,M)})}}_onServerResponseFinish(e,t,n,s,i){let o=de.getIncomingRequestAttributesOnResponse(e,t);s=Object.assign(s,de.getIncomingRequestMetricAttributesOnResponse(o)),this._headerCapture.server.captureResponseHeaders(n,u=>t.getHeader(u)),n.setAttributes(o).setStatus({code:de.parseResponseStatus(w.SpanKind.SERVER,t.statusCode)});let a=o[F2.SemanticAttributes.HTTP_ROUTE];a&&n.updateName(`${e.method||"GET"} ${a}`),this._getConfig().applyCustomAttributesOnSpan&&(0,Ne.safeExecuteInTheMiddle)(()=>this._getConfig().applyCustomAttributesOnSpan(n,e,t),()=>{},!0),this._closeHttpSpan(n,w.SpanKind.SERVER,i,s)}_onServerResponseError(e,t,n,s){de.setSpanWithError(e,s),this._closeHttpSpan(e,w.SpanKind.SERVER,n,t)}_startHttpSpan(e,t,n=w.context.active()){let s=t.kind===w.SpanKind.CLIENT?this._getConfig().requireParentforOutgoingSpans:this._getConfig().requireParentforIncomingSpans,i,o=w.trace.getSpan(n);return s===!0&&o===void 0?i=w.trace.wrapSpanContext(w.INVALID_SPAN_CONTEXT):s===!0&&(o!=null&&o.spanContext().isRemote)?i=o:i=this.tracer.startSpan(e,t,n),this._spanNotEnded.add(i),i}_closeHttpSpan(e,t,n,s){if(!this._spanNotEnded.has(e))return;e.end(),this._spanNotEnded.delete(e);let i=(0,ki.hrTimeToMilliseconds)((0,ki.hrTimeDuration)(n,(0,ki.hrTime)()));t===w.SpanKind.SERVER?this._httpServerDurationHistogram.record(i,s):t===w.SpanKind.CLIENT&&this._httpClientDurationHistogram.record(i,s)}_callResponseHook(e,t){(0,Ne.safeExecuteInTheMiddle)(()=>this._getConfig().responseHook(e,t),()=>{},!0)}_callRequestHook(e,t){(0,Ne.safeExecuteInTheMiddle)(()=>this._getConfig().requestHook(e,t),()=>{},!0)}_callStartSpanHook(e,t){if(typeof t=="function")return(0,Ne.safeExecuteInTheMiddle)(()=>t(e),()=>{},!0)}_createHeaderCapture(){var e,t,n,s,i,o,a,u,l,h,d,f;let p=this._getConfig();return{client:{captureRequestHeaders:de.headerCapture("request",(n=(t=(e=p.headersToSpanAttributes)===null||e===void 0?void 0:e.client)===null||t===void 0?void 0:t.requestHeaders)!==null&&n!==void 0?n:[]),captureResponseHeaders:de.headerCapture("response",(o=(i=(s=p.headersToSpanAttributes)===null||s===void 0?void 0:s.client)===null||i===void 0?void 0:i.responseHeaders)!==null&&o!==void 0?o:[])},server:{captureRequestHeaders:de.headerCapture("request",(l=(u=(a=p.headersToSpanAttributes)===null||a===void 0?void 0:a.server)===null||u===void 0?void 0:u.requestHeaders)!==null&&l!==void 0?l:[]),captureResponseHeaders:de.headerCapture("response",(f=(d=(h=p.headersToSpanAttributes)===null||h===void 0?void 0:h.server)===null||d===void 0?void 0:d.responseHeaders)!==null&&f!==void 0?f:[])}}}};Kd.HttpInstrumentation=Bm});var ow=c(iw=>{"use strict";Object.defineProperty(iw,"__esModule",{value:!0})});var aw=c(br=>{"use strict";var V2=br&&br.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Fm=br&&br.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&V2(e,r,t)};Object.defineProperty(br,"__esModule",{value:!0});Fm(sw(),br);Fm(ow(),br);Fm(Um(),br)});var Ki=yr(_()),uw=yr(Io()),cw=yr(mR()),lw=yr(qI()),hw=yr($g()),dw=yr(ZC()),pw=yr(aw()),fw=yr(xs());function Vm(r,e="",t={}){if(e&&typeof r=="object"&&r!==null&&Object.keys(r).length===0)return t[e]=Array.isArray(r)?[]:{},t;e=e?`${e}.`:"";for(let n in r)Object.prototype.hasOwnProperty.call(r,n)&&(typeof r[n]=="object"&&r[n]!==null?Vm(r[n],e+n,t):t[e+n]=r[n]);return t}var _w=require("node:fs");process.env.OTEL_LOG_LEVEL==="debug"&&(console.log("debug logging enabled"),Ki.default.diag.setLogger(new Ki.DiagConsoleLogger,Ki.DiagLogLevel.ALL));var Hm=new lw.NodeTracerProvider({resource:new fw.Resource({"service.name":process.env.BASELIME_SERVICE,"faas.name":process.env.AWS_LAMBDA_FUNCTION_NAME,"aws.region":process.env.AWS_REGION||"unknown"})}),Ew=process.env.COLLECTOR_URL||"https://otel.baselime.io/v1";(0,_w.existsSync)("/opt/extensions/baselime")&&(Ew="http://sandbox:4323");var H2=new uw.BatchSpanProcessor(new cw.OTLPTraceExporter({url:Ew,headers:{"x-api-key":process.env.BASELIME_KEY||process.env.BASELIME_OTEL_KEY}}));Hm.addSpanProcessor(H2);Hm.register();var X2=[new dw.AwsInstrumentation({suppressInternalInstrumentation:!0,responseHook:(r,{response:e})=>{e&&r.setAttributes(Vm({request:e.request,response:e.data}))}}),new pw.HttpInstrumentation({})];(0,hw.registerInstrumentations)({instrumentations:X2});global.baselimeLambdaFlush=()=>{Hm.forceFlush()};
