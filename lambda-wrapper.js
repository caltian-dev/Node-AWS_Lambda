"use strict";var V$=Object.create;var $S=Object.defineProperty;var H$=Object.getOwnPropertyDescriptor;var X$=Object.getOwnPropertyNames;var W$=Object.getPrototypeOf,K$=Object.prototype.hasOwnProperty;var c=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports);var Y$=(r,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of X$(e))!K$.call(r,s)&&s!==t&&$S(r,s,{get:()=>e[s],enumerable:!(n=H$(e,s))||n.enumerable});return r};var jS=(r,e,t)=>(t=r!=null?V$(W$(r)):{},Y$(e||!r||!r.__esModule?$S(t,"default",{value:r,enumerable:!0}):t,r));var US=c(tc=>{"use strict";Object.defineProperty(tc,"__esModule",{value:!0});tc._globalThis=void 0;tc._globalThis=typeof globalThis=="object"?globalThis:global});var GS=c(qn=>{"use strict";var k$=qn&&qn.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),z$=qn&&qn.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&k$(e,r,t)};Object.defineProperty(qn,"__esModule",{value:!0});z$(US(),qn)});var FS=c(xn=>{"use strict";var Q$=xn&&xn.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Z$=xn&&xn.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Q$(e,r,t)};Object.defineProperty(xn,"__esModule",{value:!0});Z$(GS(),xn)});var Ep=c(rc=>{"use strict";Object.defineProperty(rc,"__esModule",{value:!0});rc.VERSION=void 0;rc.VERSION="1.4.1"});var HS=c(Qs=>{"use strict";Object.defineProperty(Qs,"__esModule",{value:!0});Qs.isCompatible=Qs._makeCompatibilityCheck=void 0;var J$=Ep(),BS=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;function VS(r){let e=new Set([r]),t=new Set,n=r.match(BS);if(!n)return()=>!1;let s={major:+n[1],minor:+n[2],patch:+n[3],prerelease:n[4]};if(s.prerelease!=null)return function(u){return u===r};function i(a){return t.add(a),!1}function o(a){return e.add(a),!0}return function(u){if(e.has(u))return!0;if(t.has(u))return!1;let l=u.match(BS);if(!l)return i(u);let h={major:+l[1],minor:+l[2],patch:+l[3],prerelease:l[4]};return h.prerelease!=null||s.major!==h.major?i(u):s.major===0?s.minor===h.minor&&s.patch<=h.patch?o(u):i(u):s.minor<=h.minor?o(u):i(u)}}Qs._makeCompatibilityCheck=VS;Qs.isCompatible=VS(J$.VERSION)});var Dn=c(zr=>{"use strict";Object.defineProperty(zr,"__esModule",{value:!0});zr.unregisterGlobal=zr.getGlobal=zr.registerGlobal=void 0;var ej=FS(),Zs=Ep(),tj=HS(),rj=Zs.VERSION.split(".")[0],Go=Symbol.for(`opentelemetry.js.api.${rj}`),Fo=ej._globalThis;function nj(r,e,t,n=!1){var s;let i=Fo[Go]=(s=Fo[Go])!==null&&s!==void 0?s:{version:Zs.VERSION};if(!n&&i[r]){let o=new Error(`@opentelemetry/api: Attempted duplicate registration of API: ${r}`);return t.error(o.stack||o.message),!1}if(i.version!==Zs.VERSION){let o=new Error(`@opentelemetry/api: Registration of version v${i.version} for ${r} does not match previously registered API v${Zs.VERSION}`);return t.error(o.stack||o.message),!1}return i[r]=e,t.debug(`@opentelemetry/api: Registered a global for ${r} v${Zs.VERSION}.`),!0}zr.registerGlobal=nj;function sj(r){var e,t;let n=(e=Fo[Go])===null||e===void 0?void 0:e.version;if(!(!n||!(0,tj.isCompatible)(n)))return(t=Fo[Go])===null||t===void 0?void 0:t[r]}zr.getGlobal=sj;function ij(r,e){e.debug(`@opentelemetry/api: Unregistering a global for ${r} v${Zs.VERSION}.`);let t=Fo[Go];t&&delete t[r]}zr.unregisterGlobal=ij});var XS=c(nc=>{"use strict";Object.defineProperty(nc,"__esModule",{value:!0});nc.DiagComponentLogger=void 0;var oj=Dn(),gp=class{constructor(e){this._namespace=e.namespace||"DiagComponentLogger"}debug(...e){return Bo("debug",this._namespace,e)}error(...e){return Bo("error",this._namespace,e)}info(...e){return Bo("info",this._namespace,e)}warn(...e){return Bo("warn",this._namespace,e)}verbose(...e){return Bo("verbose",this._namespace,e)}};nc.DiagComponentLogger=gp;function Bo(r,e,t){let n=(0,oj.getGlobal)("diag");if(n)return t.unshift(e),n[r](...t)}});var sc=c(Vo=>{"use strict";Object.defineProperty(Vo,"__esModule",{value:!0});Vo.DiagLogLevel=void 0;var aj;(function(r){r[r.NONE=0]="NONE",r[r.ERROR=30]="ERROR",r[r.WARN=50]="WARN",r[r.INFO=60]="INFO",r[r.DEBUG=70]="DEBUG",r[r.VERBOSE=80]="VERBOSE",r[r.ALL=9999]="ALL"})(aj=Vo.DiagLogLevel||(Vo.DiagLogLevel={}))});var WS=c(ic=>{"use strict";Object.defineProperty(ic,"__esModule",{value:!0});ic.createLogLevelDiagLogger=void 0;var br=sc();function uj(r,e){r<br.DiagLogLevel.NONE?r=br.DiagLogLevel.NONE:r>br.DiagLogLevel.ALL&&(r=br.DiagLogLevel.ALL),e=e||{};function t(n,s){let i=e[n];return typeof i=="function"&&r>=s?i.bind(e):function(){}}return{error:t("error",br.DiagLogLevel.ERROR),warn:t("warn",br.DiagLogLevel.WARN),info:t("info",br.DiagLogLevel.INFO),debug:t("debug",br.DiagLogLevel.DEBUG),verbose:t("verbose",br.DiagLogLevel.VERBOSE)}}ic.createLogLevelDiagLogger=uj});var $n=c(ac=>{"use strict";Object.defineProperty(ac,"__esModule",{value:!0});ac.DiagAPI=void 0;var cj=XS(),lj=WS(),KS=sc(),oc=Dn(),hj="diag",Ho=class{constructor(){function e(s){return function(...i){let o=(0,oc.getGlobal)("diag");if(o)return o[s](...i)}}let t=this,n=(s,i={logLevel:KS.DiagLogLevel.INFO})=>{var o,a,u;if(s===t){let d=new Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return t.error((o=d.stack)!==null&&o!==void 0?o:d.message),!1}typeof i=="number"&&(i={logLevel:i});let l=(0,oc.getGlobal)("diag"),h=(0,lj.createLogLevelDiagLogger)((a=i.logLevel)!==null&&a!==void 0?a:KS.DiagLogLevel.INFO,s);if(l&&!i.suppressOverrideMessage){let d=(u=new Error().stack)!==null&&u!==void 0?u:"<failed to generate stacktrace>";l.warn(`Current logger will be overwritten from ${d}`),h.warn(`Current logger will overwrite one already registered from ${d}`)}return(0,oc.registerGlobal)("diag",h,t,!0)};t.setLogger=n,t.disable=()=>{(0,oc.unregisterGlobal)(hj,t)},t.createComponentLogger=s=>new cj.DiagComponentLogger(s),t.verbose=e("verbose"),t.debug=e("debug"),t.info=e("info"),t.warn=e("warn"),t.error=e("error")}static instance(){return this._instance||(this._instance=new Ho),this._instance}};ac.DiagAPI=Ho});var YS=c(uc=>{"use strict";Object.defineProperty(uc,"__esModule",{value:!0});uc.BaggageImpl=void 0;var Qr=class{constructor(e){this._entries=e?new Map(e):new Map}getEntry(e){let t=this._entries.get(e);if(t)return Object.assign({},t)}getAllEntries(){return Array.from(this._entries.entries()).map(([e,t])=>[e,t])}setEntry(e,t){let n=new Qr(this._entries);return n._entries.set(e,t),n}removeEntry(e){let t=new Qr(this._entries);return t._entries.delete(e),t}removeEntries(...e){let t=new Qr(this._entries);for(let n of e)t._entries.delete(n);return t}clear(){return new Qr}};uc.BaggageImpl=Qr});var kS=c(cc=>{"use strict";Object.defineProperty(cc,"__esModule",{value:!0});cc.baggageEntryMetadataSymbol=void 0;cc.baggageEntryMetadataSymbol=Symbol("BaggageEntryMetadata")});var mp=c(Js=>{"use strict";Object.defineProperty(Js,"__esModule",{value:!0});Js.baggageEntryMetadataFromString=Js.createBaggage=void 0;var dj=$n(),fj=YS(),pj=kS(),_j=dj.DiagAPI.instance();function Ej(r={}){return new fj.BaggageImpl(new Map(Object.entries(r)))}Js.createBaggage=Ej;function gj(r){return typeof r!="string"&&(_j.error(`Cannot create baggage metadata from unknown type: ${typeof r}`),r=""),{__TYPE__:pj.baggageEntryMetadataSymbol,toString(){return r}}}Js.baggageEntryMetadataFromString=gj});var Xo=c(ti=>{"use strict";Object.defineProperty(ti,"__esModule",{value:!0});ti.ROOT_CONTEXT=ti.createContextKey=void 0;function mj(r){return Symbol.for(r)}ti.createContextKey=mj;var ei=class{constructor(e){let t=this;t._currentContext=e?new Map(e):new Map,t.getValue=n=>t._currentContext.get(n),t.setValue=(n,s)=>{let i=new ei(t._currentContext);return i._currentContext.set(n,s),i},t.deleteValue=n=>{let s=new ei(t._currentContext);return s._currentContext.delete(n),s}}};ti.ROOT_CONTEXT=new ei});var zS=c(lc=>{"use strict";Object.defineProperty(lc,"__esModule",{value:!0});lc.DiagConsoleLogger=void 0;var Tp=[{n:"error",c:"error"},{n:"warn",c:"warn"},{n:"info",c:"info"},{n:"debug",c:"debug"},{n:"verbose",c:"trace"}],Sp=class{constructor(){function e(t){return function(...n){if(console){let s=console[t];if(typeof s!="function"&&(s=console.log),typeof s=="function")return s.apply(console,n)}}}for(let t=0;t<Tp.length;t++)this[Tp[t].n]=e(Tp[t].c)}};lc.DiagConsoleLogger=Sp});var vp=c($=>{"use strict";Object.defineProperty($,"__esModule",{value:!0});$.createNoopMeter=$.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=$.NOOP_OBSERVABLE_GAUGE_METRIC=$.NOOP_OBSERVABLE_COUNTER_METRIC=$.NOOP_UP_DOWN_COUNTER_METRIC=$.NOOP_HISTOGRAM_METRIC=$.NOOP_COUNTER_METRIC=$.NOOP_METER=$.NoopObservableUpDownCounterMetric=$.NoopObservableGaugeMetric=$.NoopObservableCounterMetric=$.NoopObservableMetric=$.NoopHistogramMetric=$.NoopUpDownCounterMetric=$.NoopCounterMetric=$.NoopMetric=$.NoopMeter=void 0;var hc=class{constructor(){}createHistogram(e,t){return $.NOOP_HISTOGRAM_METRIC}createCounter(e,t){return $.NOOP_COUNTER_METRIC}createUpDownCounter(e,t){return $.NOOP_UP_DOWN_COUNTER_METRIC}createObservableGauge(e,t){return $.NOOP_OBSERVABLE_GAUGE_METRIC}createObservableCounter(e,t){return $.NOOP_OBSERVABLE_COUNTER_METRIC}createObservableUpDownCounter(e,t){return $.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC}addBatchObservableCallback(e,t){}removeBatchObservableCallback(e){}};$.NoopMeter=hc;var ri=class{};$.NoopMetric=ri;var dc=class extends ri{add(e,t){}};$.NoopCounterMetric=dc;var fc=class extends ri{add(e,t){}};$.NoopUpDownCounterMetric=fc;var pc=class extends ri{record(e,t){}};$.NoopHistogramMetric=pc;var ni=class{addCallback(e){}removeCallback(e){}};$.NoopObservableMetric=ni;var _c=class extends ni{};$.NoopObservableCounterMetric=_c;var Ec=class extends ni{};$.NoopObservableGaugeMetric=Ec;var gc=class extends ni{};$.NoopObservableUpDownCounterMetric=gc;$.NOOP_METER=new hc;$.NOOP_COUNTER_METRIC=new dc;$.NOOP_HISTOGRAM_METRIC=new pc;$.NOOP_UP_DOWN_COUNTER_METRIC=new fc;$.NOOP_OBSERVABLE_COUNTER_METRIC=new _c;$.NOOP_OBSERVABLE_GAUGE_METRIC=new Ec;$.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=new gc;function Tj(){return $.NOOP_METER}$.createNoopMeter=Tj});var QS=c(Wo=>{"use strict";Object.defineProperty(Wo,"__esModule",{value:!0});Wo.ValueType=void 0;var Sj;(function(r){r[r.INT=0]="INT",r[r.DOUBLE=1]="DOUBLE"})(Sj=Wo.ValueType||(Wo.ValueType={}))});var Ap=c(si=>{"use strict";Object.defineProperty(si,"__esModule",{value:!0});si.defaultTextMapSetter=si.defaultTextMapGetter=void 0;si.defaultTextMapGetter={get(r,e){if(r!=null)return r[e]},keys(r){return r==null?[]:Object.keys(r)}};si.defaultTextMapSetter={set(r,e,t){r!=null&&(r[e]=t)}}});var ZS=c(mc=>{"use strict";Object.defineProperty(mc,"__esModule",{value:!0});mc.NoopContextManager=void 0;var vj=Xo(),Op=class{active(){return vj.ROOT_CONTEXT}with(e,t,n,...s){return t.call(n,...s)}bind(e,t){return t}enable(){return this}disable(){return this}};mc.NoopContextManager=Op});var Yo=c(Tc=>{"use strict";Object.defineProperty(Tc,"__esModule",{value:!0});Tc.ContextAPI=void 0;var Aj=ZS(),Rp=Dn(),JS=$n(),Ip="context",Oj=new Aj.NoopContextManager,Ko=class{constructor(){}static getInstance(){return this._instance||(this._instance=new Ko),this._instance}setGlobalContextManager(e){return(0,Rp.registerGlobal)(Ip,e,JS.DiagAPI.instance())}active(){return this._getContextManager().active()}with(e,t,n,...s){return this._getContextManager().with(e,t,n,...s)}bind(e,t){return this._getContextManager().bind(e,t)}_getContextManager(){return(0,Rp.getGlobal)(Ip)||Oj}disable(){this._getContextManager().disable(),(0,Rp.unregisterGlobal)(Ip,JS.DiagAPI.instance())}};Tc.ContextAPI=Ko});var bp=c(ko=>{"use strict";Object.defineProperty(ko,"__esModule",{value:!0});ko.TraceFlags=void 0;var Rj;(function(r){r[r.NONE=0]="NONE",r[r.SAMPLED=1]="SAMPLED"})(Rj=ko.TraceFlags||(ko.TraceFlags={}))});var Sc=c(fr=>{"use strict";Object.defineProperty(fr,"__esModule",{value:!0});fr.INVALID_SPAN_CONTEXT=fr.INVALID_TRACEID=fr.INVALID_SPANID=void 0;var Ij=bp();fr.INVALID_SPANID="0000000000000000";fr.INVALID_TRACEID="00000000000000000000000000000000";fr.INVALID_SPAN_CONTEXT={traceId:fr.INVALID_TRACEID,spanId:fr.INVALID_SPANID,traceFlags:Ij.TraceFlags.NONE}});var Ac=c(vc=>{"use strict";Object.defineProperty(vc,"__esModule",{value:!0});vc.NonRecordingSpan=void 0;var bj=Sc(),Np=class{constructor(e=bj.INVALID_SPAN_CONTEXT){this._spanContext=e}spanContext(){return this._spanContext}setAttribute(e,t){return this}setAttributes(e){return this}addEvent(e,t){return this}setStatus(e){return this}updateName(e){return this}end(e){}isRecording(){return!1}recordException(e,t){}};vc.NonRecordingSpan=Np});var Lp=c(gt=>{"use strict";Object.defineProperty(gt,"__esModule",{value:!0});gt.getSpanContext=gt.setSpanContext=gt.deleteSpan=gt.setSpan=gt.getActiveSpan=gt.getSpan=void 0;var Nj=Xo(),yj=Ac(),Pj=Yo(),yp=(0,Nj.createContextKey)("OpenTelemetry Context Key SPAN");function Pp(r){return r.getValue(yp)||void 0}gt.getSpan=Pp;function Lj(){return Pp(Pj.ContextAPI.getInstance().active())}gt.getActiveSpan=Lj;function ev(r,e){return r.setValue(yp,e)}gt.setSpan=ev;function Cj(r){return r.deleteValue(yp)}gt.deleteSpan=Cj;function Mj(r,e){return ev(r,new yj.NonRecordingSpan(e))}gt.setSpanContext=Mj;function wj(r){var e;return(e=Pp(r))===null||e===void 0?void 0:e.spanContext()}gt.getSpanContext=wj});var Oc=c(pr=>{"use strict";Object.defineProperty(pr,"__esModule",{value:!0});pr.wrapSpanContext=pr.isSpanContextValid=pr.isValidSpanId=pr.isValidTraceId=void 0;var tv=Sc(),qj=Ac(),xj=/^([0-9a-f]{32})$/i,Dj=/^[0-9a-f]{16}$/i;function rv(r){return xj.test(r)&&r!==tv.INVALID_TRACEID}pr.isValidTraceId=rv;function nv(r){return Dj.test(r)&&r!==tv.INVALID_SPANID}pr.isValidSpanId=nv;function $j(r){return rv(r.traceId)&&nv(r.spanId)}pr.isSpanContextValid=$j;function jj(r){return new qj.NonRecordingSpan(r)}pr.wrapSpanContext=jj});var qp=c(Rc=>{"use strict";Object.defineProperty(Rc,"__esModule",{value:!0});Rc.NoopTracer=void 0;var Uj=Yo(),sv=Lp(),Cp=Ac(),Gj=Oc(),Mp=Uj.ContextAPI.getInstance(),wp=class{startSpan(e,t,n=Mp.active()){if(Boolean(t==null?void 0:t.root))return new Cp.NonRecordingSpan;let i=n&&(0,sv.getSpanContext)(n);return Fj(i)&&(0,Gj.isSpanContextValid)(i)?new Cp.NonRecordingSpan(i):new Cp.NonRecordingSpan}startActiveSpan(e,t,n,s){let i,o,a;if(arguments.length<2)return;arguments.length===2?a=t:arguments.length===3?(i=t,a=n):(i=t,o=n,a=s);let u=o??Mp.active(),l=this.startSpan(e,i,u),h=(0,sv.setSpan)(u,l);return Mp.with(h,a,void 0,l)}};Rc.NoopTracer=wp;function Fj(r){return typeof r=="object"&&typeof r.spanId=="string"&&typeof r.traceId=="string"&&typeof r.traceFlags=="number"}});var Dp=c(Ic=>{"use strict";Object.defineProperty(Ic,"__esModule",{value:!0});Ic.ProxyTracer=void 0;var Bj=qp(),Vj=new Bj.NoopTracer,xp=class{constructor(e,t,n,s){this._provider=e,this.name=t,this.version=n,this.options=s}startSpan(e,t,n){return this._getTracer().startSpan(e,t,n)}startActiveSpan(e,t,n,s){let i=this._getTracer();return Reflect.apply(i.startActiveSpan,i,arguments)}_getTracer(){if(this._delegate)return this._delegate;let e=this._provider.getDelegateTracer(this.name,this.version,this.options);return e?(this._delegate=e,this._delegate):Vj}};Ic.ProxyTracer=xp});var iv=c(bc=>{"use strict";Object.defineProperty(bc,"__esModule",{value:!0});bc.NoopTracerProvider=void 0;var Hj=qp(),$p=class{getTracer(e,t,n){return new Hj.NoopTracer}};bc.NoopTracerProvider=$p});var Up=c(Nc=>{"use strict";Object.defineProperty(Nc,"__esModule",{value:!0});Nc.ProxyTracerProvider=void 0;var Xj=Dp(),Wj=iv(),Kj=new Wj.NoopTracerProvider,jp=class{getTracer(e,t,n){var s;return(s=this.getDelegateTracer(e,t,n))!==null&&s!==void 0?s:new Xj.ProxyTracer(this,e,t,n)}getDelegate(){var e;return(e=this._delegate)!==null&&e!==void 0?e:Kj}setDelegate(e){this._delegate=e}getDelegateTracer(e,t,n){var s;return(s=this._delegate)===null||s===void 0?void 0:s.getTracer(e,t,n)}};Nc.ProxyTracerProvider=jp});var ov=c(zo=>{"use strict";Object.defineProperty(zo,"__esModule",{value:!0});zo.SamplingDecision=void 0;var Yj;(function(r){r[r.NOT_RECORD=0]="NOT_RECORD",r[r.RECORD=1]="RECORD",r[r.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"})(Yj=zo.SamplingDecision||(zo.SamplingDecision={}))});var av=c(Qo=>{"use strict";Object.defineProperty(Qo,"__esModule",{value:!0});Qo.SpanKind=void 0;var kj;(function(r){r[r.INTERNAL=0]="INTERNAL",r[r.SERVER=1]="SERVER",r[r.CLIENT=2]="CLIENT",r[r.PRODUCER=3]="PRODUCER",r[r.CONSUMER=4]="CONSUMER"})(kj=Qo.SpanKind||(Qo.SpanKind={}))});var uv=c(Zo=>{"use strict";Object.defineProperty(Zo,"__esModule",{value:!0});Zo.SpanStatusCode=void 0;var zj;(function(r){r[r.UNSET=0]="UNSET",r[r.OK=1]="OK",r[r.ERROR=2]="ERROR"})(zj=Zo.SpanStatusCode||(Zo.SpanStatusCode={}))});var cv=c(ii=>{"use strict";Object.defineProperty(ii,"__esModule",{value:!0});ii.validateValue=ii.validateKey=void 0;var Gp="[_0-9a-z-*/]",Qj=`[a-z]${Gp}{0,255}`,Zj=`[a-z0-9]${Gp}{0,240}@[a-z]${Gp}{0,13}`,Jj=new RegExp(`^(?:${Qj}|${Zj})$`),eU=/^[ -~]{0,255}[!-~]$/,tU=/,|=/;function rU(r){return Jj.test(r)}ii.validateKey=rU;function nU(r){return eU.test(r)&&!tU.test(r)}ii.validateValue=nU});var pv=c(yc=>{"use strict";Object.defineProperty(yc,"__esModule",{value:!0});yc.TraceStateImpl=void 0;var lv=cv(),hv=32,sU=512,dv=",",fv="=",Jo=class{constructor(e){this._internalState=new Map,e&&this._parse(e)}set(e,t){let n=this._clone();return n._internalState.has(e)&&n._internalState.delete(e),n._internalState.set(e,t),n}unset(e){let t=this._clone();return t._internalState.delete(e),t}get(e){return this._internalState.get(e)}serialize(){return this._keys().reduce((e,t)=>(e.push(t+fv+this.get(t)),e),[]).join(dv)}_parse(e){e.length>sU||(this._internalState=e.split(dv).reverse().reduce((t,n)=>{let s=n.trim(),i=s.indexOf(fv);if(i!==-1){let o=s.slice(0,i),a=s.slice(i+1,n.length);(0,lv.validateKey)(o)&&(0,lv.validateValue)(a)&&t.set(o,a)}return t},new Map),this._internalState.size>hv&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,hv))))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let e=new Jo;return e._internalState=new Map(this._internalState),e}};yc.TraceStateImpl=Jo});var _v=c(Pc=>{"use strict";Object.defineProperty(Pc,"__esModule",{value:!0});Pc.createTraceState=void 0;var iU=pv();function oU(r){return new iU.TraceStateImpl(r)}Pc.createTraceState=oU});var Ev=c(Lc=>{"use strict";Object.defineProperty(Lc,"__esModule",{value:!0});Lc.context=void 0;var aU=Yo();Lc.context=aU.ContextAPI.getInstance()});var gv=c(Cc=>{"use strict";Object.defineProperty(Cc,"__esModule",{value:!0});Cc.diag=void 0;var uU=$n();Cc.diag=uU.DiagAPI.instance()});var mv=c(oi=>{"use strict";Object.defineProperty(oi,"__esModule",{value:!0});oi.NOOP_METER_PROVIDER=oi.NoopMeterProvider=void 0;var cU=vp(),Mc=class{getMeter(e,t,n){return cU.NOOP_METER}};oi.NoopMeterProvider=Mc;oi.NOOP_METER_PROVIDER=new Mc});var Sv=c(wc=>{"use strict";Object.defineProperty(wc,"__esModule",{value:!0});wc.MetricsAPI=void 0;var lU=mv(),Fp=Dn(),Tv=$n(),Bp="metrics",ea=class{constructor(){}static getInstance(){return this._instance||(this._instance=new ea),this._instance}setGlobalMeterProvider(e){return(0,Fp.registerGlobal)(Bp,e,Tv.DiagAPI.instance())}getMeterProvider(){return(0,Fp.getGlobal)(Bp)||lU.NOOP_METER_PROVIDER}getMeter(e,t,n){return this.getMeterProvider().getMeter(e,t,n)}disable(){(0,Fp.unregisterGlobal)(Bp,Tv.DiagAPI.instance())}};wc.MetricsAPI=ea});var vv=c(qc=>{"use strict";Object.defineProperty(qc,"__esModule",{value:!0});qc.metrics=void 0;var hU=Sv();qc.metrics=hU.MetricsAPI.getInstance()});var Av=c(xc=>{"use strict";Object.defineProperty(xc,"__esModule",{value:!0});xc.NoopTextMapPropagator=void 0;var Vp=class{inject(e,t){}extract(e,t){return e}fields(){return[]}};xc.NoopTextMapPropagator=Vp});var Rv=c(_r=>{"use strict";Object.defineProperty(_r,"__esModule",{value:!0});_r.deleteBaggage=_r.setBaggage=_r.getActiveBaggage=_r.getBaggage=void 0;var dU=Yo(),fU=Xo(),Hp=(0,fU.createContextKey)("OpenTelemetry Baggage Key");function Ov(r){return r.getValue(Hp)||void 0}_r.getBaggage=Ov;function pU(){return Ov(dU.ContextAPI.getInstance().active())}_r.getActiveBaggage=pU;function _U(r,e){return r.setValue(Hp,e)}_r.setBaggage=_U;function EU(r){return r.deleteValue(Hp)}_r.deleteBaggage=EU});var Nv=c($c=>{"use strict";Object.defineProperty($c,"__esModule",{value:!0});$c.PropagationAPI=void 0;var Xp=Dn(),gU=Av(),Iv=Ap(),Dc=Rv(),mU=mp(),bv=$n(),Wp="propagation",TU=new gU.NoopTextMapPropagator,ta=class{constructor(){this.createBaggage=mU.createBaggage,this.getBaggage=Dc.getBaggage,this.getActiveBaggage=Dc.getActiveBaggage,this.setBaggage=Dc.setBaggage,this.deleteBaggage=Dc.deleteBaggage}static getInstance(){return this._instance||(this._instance=new ta),this._instance}setGlobalPropagator(e){return(0,Xp.registerGlobal)(Wp,e,bv.DiagAPI.instance())}inject(e,t,n=Iv.defaultTextMapSetter){return this._getGlobalPropagator().inject(e,t,n)}extract(e,t,n=Iv.defaultTextMapGetter){return this._getGlobalPropagator().extract(e,t,n)}fields(){return this._getGlobalPropagator().fields()}disable(){(0,Xp.unregisterGlobal)(Wp,bv.DiagAPI.instance())}_getGlobalPropagator(){return(0,Xp.getGlobal)(Wp)||TU}};$c.PropagationAPI=ta});var yv=c(jc=>{"use strict";Object.defineProperty(jc,"__esModule",{value:!0});jc.propagation=void 0;var SU=Nv();jc.propagation=SU.PropagationAPI.getInstance()});var Mv=c(Uc=>{"use strict";Object.defineProperty(Uc,"__esModule",{value:!0});Uc.TraceAPI=void 0;var Kp=Dn(),Pv=Up(),Lv=Oc(),ai=Lp(),Cv=$n(),Yp="trace",ra=class{constructor(){this._proxyTracerProvider=new Pv.ProxyTracerProvider,this.wrapSpanContext=Lv.wrapSpanContext,this.isSpanContextValid=Lv.isSpanContextValid,this.deleteSpan=ai.deleteSpan,this.getSpan=ai.getSpan,this.getActiveSpan=ai.getActiveSpan,this.getSpanContext=ai.getSpanContext,this.setSpan=ai.setSpan,this.setSpanContext=ai.setSpanContext}static getInstance(){return this._instance||(this._instance=new ra),this._instance}setGlobalTracerProvider(e){let t=(0,Kp.registerGlobal)(Yp,this._proxyTracerProvider,Cv.DiagAPI.instance());return t&&this._proxyTracerProvider.setDelegate(e),t}getTracerProvider(){return(0,Kp.getGlobal)(Yp)||this._proxyTracerProvider}getTracer(e,t){return this.getTracerProvider().getTracer(e,t)}disable(){(0,Kp.unregisterGlobal)(Yp,Cv.DiagAPI.instance()),this._proxyTracerProvider=new Pv.ProxyTracerProvider}};Uc.TraceAPI=ra});var wv=c(Gc=>{"use strict";Object.defineProperty(Gc,"__esModule",{value:!0});Gc.trace=void 0;var vU=Mv();Gc.trace=vU.TraceAPI.getInstance()});var _=c(C=>{"use strict";Object.defineProperty(C,"__esModule",{value:!0});C.trace=C.propagation=C.metrics=C.diag=C.context=C.INVALID_SPAN_CONTEXT=C.INVALID_TRACEID=C.INVALID_SPANID=C.isValidSpanId=C.isValidTraceId=C.isSpanContextValid=C.createTraceState=C.TraceFlags=C.SpanStatusCode=C.SpanKind=C.SamplingDecision=C.ProxyTracerProvider=C.ProxyTracer=C.defaultTextMapSetter=C.defaultTextMapGetter=C.ValueType=C.createNoopMeter=C.DiagLogLevel=C.DiagConsoleLogger=C.ROOT_CONTEXT=C.createContextKey=C.baggageEntryMetadataFromString=void 0;var AU=mp();Object.defineProperty(C,"baggageEntryMetadataFromString",{enumerable:!0,get:function(){return AU.baggageEntryMetadataFromString}});var qv=Xo();Object.defineProperty(C,"createContextKey",{enumerable:!0,get:function(){return qv.createContextKey}});Object.defineProperty(C,"ROOT_CONTEXT",{enumerable:!0,get:function(){return qv.ROOT_CONTEXT}});var OU=zS();Object.defineProperty(C,"DiagConsoleLogger",{enumerable:!0,get:function(){return OU.DiagConsoleLogger}});var RU=sc();Object.defineProperty(C,"DiagLogLevel",{enumerable:!0,get:function(){return RU.DiagLogLevel}});var IU=vp();Object.defineProperty(C,"createNoopMeter",{enumerable:!0,get:function(){return IU.createNoopMeter}});var bU=QS();Object.defineProperty(C,"ValueType",{enumerable:!0,get:function(){return bU.ValueType}});var xv=Ap();Object.defineProperty(C,"defaultTextMapGetter",{enumerable:!0,get:function(){return xv.defaultTextMapGetter}});Object.defineProperty(C,"defaultTextMapSetter",{enumerable:!0,get:function(){return xv.defaultTextMapSetter}});var NU=Dp();Object.defineProperty(C,"ProxyTracer",{enumerable:!0,get:function(){return NU.ProxyTracer}});var yU=Up();Object.defineProperty(C,"ProxyTracerProvider",{enumerable:!0,get:function(){return yU.ProxyTracerProvider}});var PU=ov();Object.defineProperty(C,"SamplingDecision",{enumerable:!0,get:function(){return PU.SamplingDecision}});var LU=av();Object.defineProperty(C,"SpanKind",{enumerable:!0,get:function(){return LU.SpanKind}});var CU=uv();Object.defineProperty(C,"SpanStatusCode",{enumerable:!0,get:function(){return CU.SpanStatusCode}});var MU=bp();Object.defineProperty(C,"TraceFlags",{enumerable:!0,get:function(){return MU.TraceFlags}});var wU=_v();Object.defineProperty(C,"createTraceState",{enumerable:!0,get:function(){return wU.createTraceState}});var kp=Oc();Object.defineProperty(C,"isSpanContextValid",{enumerable:!0,get:function(){return kp.isSpanContextValid}});Object.defineProperty(C,"isValidTraceId",{enumerable:!0,get:function(){return kp.isValidTraceId}});Object.defineProperty(C,"isValidSpanId",{enumerable:!0,get:function(){return kp.isValidSpanId}});var zp=Sc();Object.defineProperty(C,"INVALID_SPANID",{enumerable:!0,get:function(){return zp.INVALID_SPANID}});Object.defineProperty(C,"INVALID_TRACEID",{enumerable:!0,get:function(){return zp.INVALID_TRACEID}});Object.defineProperty(C,"INVALID_SPAN_CONTEXT",{enumerable:!0,get:function(){return zp.INVALID_SPAN_CONTEXT}});var Dv=Ev();Object.defineProperty(C,"context",{enumerable:!0,get:function(){return Dv.context}});var $v=gv();Object.defineProperty(C,"diag",{enumerable:!0,get:function(){return $v.diag}});var jv=vv();Object.defineProperty(C,"metrics",{enumerable:!0,get:function(){return jv.metrics}});var Uv=yv();Object.defineProperty(C,"propagation",{enumerable:!0,get:function(){return Uv.propagation}});var Gv=wv();Object.defineProperty(C,"trace",{enumerable:!0,get:function(){return Gv.trace}});C.default={context:Dv.context,diag:$v.diag,metrics:jv.metrics,propagation:Uv.propagation,trace:Gv.trace}});var na=c(Zr=>{"use strict";Object.defineProperty(Zr,"__esModule",{value:!0});Zr.isTracingSuppressed=Zr.unsuppressTracing=Zr.suppressTracing=void 0;var qU=_(),Qp=(0,qU.createContextKey)("OpenTelemetry SDK Context Key SUPPRESS_TRACING");function xU(r){return r.setValue(Qp,!0)}Zr.suppressTracing=xU;function DU(r){return r.deleteValue(Qp)}Zr.unsuppressTracing=DU;function $U(r){return r.getValue(Qp)===!0}Zr.isTracingSuppressed=$U});var Zp=c(Ke=>{"use strict";Object.defineProperty(Ke,"__esModule",{value:!0});Ke.BAGGAGE_MAX_TOTAL_LENGTH=Ke.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=Ke.BAGGAGE_MAX_NAME_VALUE_PAIRS=Ke.BAGGAGE_HEADER=Ke.BAGGAGE_ITEMS_SEPARATOR=Ke.BAGGAGE_PROPERTIES_SEPARATOR=Ke.BAGGAGE_KEY_PAIR_SEPARATOR=void 0;Ke.BAGGAGE_KEY_PAIR_SEPARATOR="=";Ke.BAGGAGE_PROPERTIES_SEPARATOR=";";Ke.BAGGAGE_ITEMS_SEPARATOR=",";Ke.BAGGAGE_HEADER="baggage";Ke.BAGGAGE_MAX_NAME_VALUE_PAIRS=180;Ke.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=4096;Ke.BAGGAGE_MAX_TOTAL_LENGTH=8192});var Jp=c(Er=>{"use strict";Object.defineProperty(Er,"__esModule",{value:!0});Er.parseKeyPairsIntoRecord=Er.parsePairKeyValue=Er.getKeyPairs=Er.serializeKeyPairs=void 0;var jU=_(),jn=Zp();function UU(r){return r.reduce((e,t)=>{let n=`${e}${e!==""?jn.BAGGAGE_ITEMS_SEPARATOR:""}${t}`;return n.length>jn.BAGGAGE_MAX_TOTAL_LENGTH?e:n},"")}Er.serializeKeyPairs=UU;function GU(r){return r.getAllEntries().map(([e,t])=>{let n=`${encodeURIComponent(e)}=${encodeURIComponent(t.value)}`;return t.metadata!==void 0&&(n+=jn.BAGGAGE_PROPERTIES_SEPARATOR+t.metadata.toString()),n})}Er.getKeyPairs=GU;function Fv(r){let e=r.split(jn.BAGGAGE_PROPERTIES_SEPARATOR);if(e.length<=0)return;let t=e.shift();if(!t)return;let n=t.split(jn.BAGGAGE_KEY_PAIR_SEPARATOR);if(n.length!==2)return;let s=decodeURIComponent(n[0].trim()),i=decodeURIComponent(n[1].trim()),o;return e.length>0&&(o=(0,jU.baggageEntryMetadataFromString)(e.join(jn.BAGGAGE_PROPERTIES_SEPARATOR))),{key:s,value:i,metadata:o}}Er.parsePairKeyValue=Fv;function FU(r){return typeof r!="string"||r.length===0?{}:r.split(jn.BAGGAGE_ITEMS_SEPARATOR).map(e=>Fv(e)).filter(e=>e!==void 0&&e.value.length>0).reduce((e,t)=>(e[t.key]=t.value,e),{})}Er.parseKeyPairsIntoRecord=FU});var Bv=c(Fc=>{"use strict";Object.defineProperty(Fc,"__esModule",{value:!0});Fc.W3CBaggagePropagator=void 0;var e_=_(),BU=na(),Un=Zp(),t_=Jp(),r_=class{inject(e,t,n){let s=e_.propagation.getBaggage(e);if(!s||(0,BU.isTracingSuppressed)(e))return;let i=(0,t_.getKeyPairs)(s).filter(a=>a.length<=Un.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS).slice(0,Un.BAGGAGE_MAX_NAME_VALUE_PAIRS),o=(0,t_.serializeKeyPairs)(i);o.length>0&&n.set(t,Un.BAGGAGE_HEADER,o)}extract(e,t,n){let s=n.get(t,Un.BAGGAGE_HEADER),i=Array.isArray(s)?s.join(Un.BAGGAGE_ITEMS_SEPARATOR):s;if(!i)return e;let o={};return i.length===0||(i.split(Un.BAGGAGE_ITEMS_SEPARATOR).forEach(u=>{let l=(0,t_.parsePairKeyValue)(u);if(l){let h={value:l.value};l.metadata&&(h.metadata=l.metadata),o[l.key]=h}}),Object.entries(o).length===0)?e:e_.propagation.setBaggage(e,e_.propagation.createBaggage(o))}fields(){return[Un.BAGGAGE_HEADER]}};Fc.W3CBaggagePropagator=r_});var Vv=c(Bc=>{"use strict";Object.defineProperty(Bc,"__esModule",{value:!0});Bc.AnchoredClock=void 0;var n_=class{constructor(e,t){this._monotonicClock=t,this._epochMillis=e.now(),this._performanceMillis=t.now()}now(){let e=this._monotonicClock.now()-this._performanceMillis;return this._epochMillis+e}};Bc.AnchoredClock=n_});var Yv=c(Jr=>{"use strict";Object.defineProperty(Jr,"__esModule",{value:!0});Jr.isAttributeValue=Jr.isAttributeKey=Jr.sanitizeAttributes=void 0;var Hv=_();function VU(r){let e={};if(typeof r!="object"||r==null)return e;for(let[t,n]of Object.entries(r)){if(!Xv(t)){Hv.diag.warn(`Invalid attribute key: ${t}`);continue}if(!Wv(n)){Hv.diag.warn(`Invalid attribute value set for key: ${t}`);continue}Array.isArray(n)?e[t]=n.slice():e[t]=n}return e}Jr.sanitizeAttributes=VU;function Xv(r){return typeof r=="string"&&r.length>0}Jr.isAttributeKey=Xv;function Wv(r){return r==null?!0:Array.isArray(r)?HU(r):Kv(r)}Jr.isAttributeValue=Wv;function HU(r){let e;for(let t of r)if(t!=null){if(!e){if(Kv(t)){e=typeof t;continue}return!1}if(typeof t!==e)return!1}return!0}function Kv(r){switch(typeof r){case"number":case"boolean":case"string":return!0}return!1}});var s_=c(Vc=>{"use strict";Object.defineProperty(Vc,"__esModule",{value:!0});Vc.loggingErrorHandler=void 0;var XU=_();function WU(){return r=>{XU.diag.error(KU(r))}}Vc.loggingErrorHandler=WU;function KU(r){return typeof r=="string"?r:JSON.stringify(YU(r))}function YU(r){let e={},t=r;for(;t!==null;)Object.getOwnPropertyNames(t).forEach(n=>{if(e[n])return;let s=t[n];s&&(e[n]=String(s))}),t=Object.getPrototypeOf(t);return e}});var i_=c(ui=>{"use strict";Object.defineProperty(ui,"__esModule",{value:!0});ui.globalErrorHandler=ui.setGlobalErrorHandler=void 0;var kU=s_(),kv=(0,kU.loggingErrorHandler)();function zU(r){kv=r}ui.setGlobalErrorHandler=zU;function QU(r){try{kv(r)}catch{}}ui.globalErrorHandler=QU});var o_=c(sa=>{"use strict";Object.defineProperty(sa,"__esModule",{value:!0});sa.TracesSamplerValues=void 0;var ZU;(function(r){r.AlwaysOff="always_off",r.AlwaysOn="always_on",r.ParentBasedAlwaysOff="parentbased_always_off",r.ParentBasedAlwaysOn="parentbased_always_on",r.ParentBasedTraceIdRatio="parentbased_traceidratio",r.TraceIdRatio="traceidratio"})(ZU=sa.TracesSamplerValues||(sa.TracesSamplerValues={}))});var zv=c(Hc=>{"use strict";Object.defineProperty(Hc,"__esModule",{value:!0});Hc._globalThis=void 0;Hc._globalThis=typeof globalThis=="object"?globalThis:typeof self=="object"?self:typeof window=="object"?window:typeof global=="object"?global:{}});var u_=c(de=>{"use strict";Object.defineProperty(de,"__esModule",{value:!0});de.getEnvWithoutDefaults=de.parseEnvironment=de.DEFAULT_ENVIRONMENT=de.DEFAULT_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT=de.DEFAULT_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT=de.DEFAULT_ATTRIBUTE_COUNT_LIMIT=de.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT=void 0;var en=_(),JU=o_(),eG=zv(),tG=",",rG=["OTEL_SDK_DISABLED"];function nG(r){return rG.indexOf(r)>-1}var sG=["OTEL_BSP_EXPORT_TIMEOUT","OTEL_BSP_MAX_EXPORT_BATCH_SIZE","OTEL_BSP_MAX_QUEUE_SIZE","OTEL_BSP_SCHEDULE_DELAY","OTEL_BLRP_EXPORT_TIMEOUT","OTEL_BLRP_MAX_EXPORT_BATCH_SIZE","OTEL_BLRP_MAX_QUEUE_SIZE","OTEL_BLRP_SCHEDULE_DELAY","OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT","OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_EVENT_COUNT_LIMIT","OTEL_SPAN_LINK_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT","OTEL_EXPORTER_OTLP_TIMEOUT","OTEL_EXPORTER_OTLP_TRACES_TIMEOUT","OTEL_EXPORTER_OTLP_METRICS_TIMEOUT","OTEL_EXPORTER_OTLP_LOGS_TIMEOUT","OTEL_EXPORTER_JAEGER_AGENT_PORT"];function iG(r){return sG.indexOf(r)>-1}var oG=["OTEL_NO_PATCH_MODULES","OTEL_PROPAGATORS"];function aG(r){return oG.indexOf(r)>-1}de.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT=1/0;de.DEFAULT_ATTRIBUTE_COUNT_LIMIT=128;de.DEFAULT_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT=128;de.DEFAULT_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT=128;de.DEFAULT_ENVIRONMENT={OTEL_SDK_DISABLED:!1,CONTAINER_NAME:"",ECS_CONTAINER_METADATA_URI_V4:"",ECS_CONTAINER_METADATA_URI:"",HOSTNAME:"",KUBERNETES_SERVICE_HOST:"",NAMESPACE:"",OTEL_BSP_EXPORT_TIMEOUT:3e4,OTEL_BSP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BSP_MAX_QUEUE_SIZE:2048,OTEL_BSP_SCHEDULE_DELAY:5e3,OTEL_BLRP_EXPORT_TIMEOUT:3e4,OTEL_BLRP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BLRP_MAX_QUEUE_SIZE:2048,OTEL_BLRP_SCHEDULE_DELAY:5e3,OTEL_EXPORTER_JAEGER_AGENT_HOST:"",OTEL_EXPORTER_JAEGER_AGENT_PORT:6832,OTEL_EXPORTER_JAEGER_ENDPOINT:"",OTEL_EXPORTER_JAEGER_PASSWORD:"",OTEL_EXPORTER_JAEGER_USER:"",OTEL_EXPORTER_OTLP_ENDPOINT:"",OTEL_EXPORTER_OTLP_TRACES_ENDPOINT:"",OTEL_EXPORTER_OTLP_METRICS_ENDPOINT:"",OTEL_EXPORTER_OTLP_LOGS_ENDPOINT:"",OTEL_EXPORTER_OTLP_HEADERS:"",OTEL_EXPORTER_OTLP_TRACES_HEADERS:"",OTEL_EXPORTER_OTLP_METRICS_HEADERS:"",OTEL_EXPORTER_OTLP_LOGS_HEADERS:"",OTEL_EXPORTER_OTLP_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_TRACES_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_METRICS_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_LOGS_TIMEOUT:1e4,OTEL_EXPORTER_ZIPKIN_ENDPOINT:"http://localhost:9411/api/v2/spans",OTEL_LOG_LEVEL:en.DiagLogLevel.INFO,OTEL_NO_PATCH_MODULES:[],OTEL_PROPAGATORS:["tracecontext","baggage"],OTEL_RESOURCE_ATTRIBUTES:"",OTEL_SERVICE_NAME:"",OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT:de.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT,OTEL_ATTRIBUTE_COUNT_LIMIT:de.DEFAULT_ATTRIBUTE_COUNT_LIMIT,OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT:de.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT,OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT:de.DEFAULT_ATTRIBUTE_COUNT_LIMIT,OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT:de.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT,OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT:de.DEFAULT_ATTRIBUTE_COUNT_LIMIT,OTEL_SPAN_EVENT_COUNT_LIMIT:128,OTEL_SPAN_LINK_COUNT_LIMIT:128,OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT:de.DEFAULT_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT,OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT:de.DEFAULT_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT,OTEL_TRACES_EXPORTER:"",OTEL_TRACES_SAMPLER:JU.TracesSamplerValues.ParentBasedAlwaysOn,OTEL_TRACES_SAMPLER_ARG:"",OTEL_LOGS_EXPORTER:"",OTEL_EXPORTER_OTLP_INSECURE:"",OTEL_EXPORTER_OTLP_TRACES_INSECURE:"",OTEL_EXPORTER_OTLP_METRICS_INSECURE:"",OTEL_EXPORTER_OTLP_LOGS_INSECURE:"",OTEL_EXPORTER_OTLP_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_LOGS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_COMPRESSION:"",OTEL_EXPORTER_OTLP_TRACES_COMPRESSION:"",OTEL_EXPORTER_OTLP_METRICS_COMPRESSION:"",OTEL_EXPORTER_OTLP_LOGS_COMPRESSION:"",OTEL_EXPORTER_OTLP_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_LOGS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_LOGS_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_TRACES_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_LOGS_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_TEMPORALITY_PREFERENCE:"cumulative"};function uG(r,e,t){if(typeof t[r]>"u")return;let n=String(t[r]);e[r]=n.toLowerCase()==="true"}function cG(r,e,t,n=-1/0,s=1/0){if(typeof t[r]<"u"){let i=Number(t[r]);isNaN(i)||(i<n?e[r]=n:i>s?e[r]=s:e[r]=i)}}function lG(r,e,t,n=tG){let s=t[r];typeof s=="string"&&(e[r]=s.split(n).map(i=>i.trim()))}var hG={ALL:en.DiagLogLevel.ALL,VERBOSE:en.DiagLogLevel.VERBOSE,DEBUG:en.DiagLogLevel.DEBUG,INFO:en.DiagLogLevel.INFO,WARN:en.DiagLogLevel.WARN,ERROR:en.DiagLogLevel.ERROR,NONE:en.DiagLogLevel.NONE};function dG(r,e,t){let n=t[r];if(typeof n=="string"){let s=hG[n.toUpperCase()];s!=null&&(e[r]=s)}}function a_(r){let e={};for(let t in de.DEFAULT_ENVIRONMENT){let n=t;switch(n){case"OTEL_LOG_LEVEL":dG(n,e,r);break;default:if(nG(n))uG(n,e,r);else if(iG(n))cG(n,e,r);else if(aG(n))lG(n,e,r);else{let s=r[n];typeof s<"u"&&s!==null&&(e[n]=String(s))}}}return e}de.parseEnvironment=a_;function fG(){return typeof process<"u"&&process&&process.env?a_(process.env):a_(eG._globalThis)}de.getEnvWithoutDefaults=fG});var Zv=c(Xc=>{"use strict";Object.defineProperty(Xc,"__esModule",{value:!0});Xc.getEnv=void 0;var pG=require("os"),Qv=u_();function _G(){let r=(0,Qv.parseEnvironment)(process.env);return Object.assign({HOSTNAME:pG.hostname()},Qv.DEFAULT_ENVIRONMENT,r)}Xc.getEnv=_G});var Jv=c(Wc=>{"use strict";Object.defineProperty(Wc,"__esModule",{value:!0});Wc._globalThis=void 0;Wc._globalThis=typeof globalThis=="object"?globalThis:global});var tA=c(Kc=>{"use strict";Object.defineProperty(Kc,"__esModule",{value:!0});Kc.hexToBase64=void 0;function eA(r){return r>=48&&r<=57?r-48:r>=97&&r<=102?r-87:r-55}var EG=Buffer.alloc(8),gG=Buffer.alloc(16);function mG(r){let e;r.length===16?e=EG:r.length===32?e=gG:e=Buffer.alloc(r.length/2);let t=0;for(let n=0;n<r.length;n+=2){let s=eA(r.charCodeAt(n)),i=eA(r.charCodeAt(n+1));e.writeUInt8(s<<4|i,t++)}return e.toString("base64")}Kc.hexToBase64=mG});var sA=c(kc=>{"use strict";Object.defineProperty(kc,"__esModule",{value:!0});kc.RandomIdGenerator=void 0;var TG=8,nA=16,c_=class{constructor(){this.generateTraceId=rA(nA),this.generateSpanId=rA(TG)}};kc.RandomIdGenerator=c_;var Yc=Buffer.allocUnsafe(nA);function rA(r){return function(){for(let t=0;t<r/4;t++)Yc.writeUInt32BE(Math.random()*2**32>>>0,t*4);for(let t=0;t<r&&!(Yc[t]>0);t++)t===r-1&&(Yc[r-1]=1);return Yc.toString("hex",0,r)}}});var iA=c(zc=>{"use strict";Object.defineProperty(zc,"__esModule",{value:!0});zc.otperformance=void 0;var SG=require("perf_hooks");zc.otperformance=SG.performance});var Zc=c(Qc=>{"use strict";Object.defineProperty(Qc,"__esModule",{value:!0});Qc.VERSION=void 0;Qc.VERSION="1.14.0"});var oA=c(te=>{"use strict";Object.defineProperty(te,"__esModule",{value:!0});te.MessageTypeValues=te.RpcGrpcStatusCodeValues=te.MessagingOperationValues=te.MessagingDestinationKindValues=te.HttpFlavorValues=te.NetHostConnectionSubtypeValues=te.NetHostConnectionTypeValues=te.NetTransportValues=te.FaasInvokedProviderValues=te.FaasDocumentOperationValues=te.FaasTriggerValues=te.DbCassandraConsistencyLevelValues=te.DbSystemValues=te.SemanticAttributes=void 0;te.SemanticAttributes={AWS_LAMBDA_INVOKED_ARN:"aws.lambda.invoked_arn",DB_SYSTEM:"db.system",DB_CONNECTION_STRING:"db.connection_string",DB_USER:"db.user",DB_JDBC_DRIVER_CLASSNAME:"db.jdbc.driver_classname",DB_NAME:"db.name",DB_STATEMENT:"db.statement",DB_OPERATION:"db.operation",DB_MSSQL_INSTANCE_NAME:"db.mssql.instance_name",DB_CASSANDRA_KEYSPACE:"db.cassandra.keyspace",DB_CASSANDRA_PAGE_SIZE:"db.cassandra.page_size",DB_CASSANDRA_CONSISTENCY_LEVEL:"db.cassandra.consistency_level",DB_CASSANDRA_TABLE:"db.cassandra.table",DB_CASSANDRA_IDEMPOTENCE:"db.cassandra.idempotence",DB_CASSANDRA_SPECULATIVE_EXECUTION_COUNT:"db.cassandra.speculative_execution_count",DB_CASSANDRA_COORDINATOR_ID:"db.cassandra.coordinator.id",DB_CASSANDRA_COORDINATOR_DC:"db.cassandra.coordinator.dc",DB_HBASE_NAMESPACE:"db.hbase.namespace",DB_REDIS_DATABASE_INDEX:"db.redis.database_index",DB_MONGODB_COLLECTION:"db.mongodb.collection",DB_SQL_TABLE:"db.sql.table",EXCEPTION_TYPE:"exception.type",EXCEPTION_MESSAGE:"exception.message",EXCEPTION_STACKTRACE:"exception.stacktrace",EXCEPTION_ESCAPED:"exception.escaped",FAAS_TRIGGER:"faas.trigger",FAAS_EXECUTION:"faas.execution",FAAS_DOCUMENT_COLLECTION:"faas.document.collection",FAAS_DOCUMENT_OPERATION:"faas.document.operation",FAAS_DOCUMENT_TIME:"faas.document.time",FAAS_DOCUMENT_NAME:"faas.document.name",FAAS_TIME:"faas.time",FAAS_CRON:"faas.cron",FAAS_COLDSTART:"faas.coldstart",FAAS_INVOKED_NAME:"faas.invoked_name",FAAS_INVOKED_PROVIDER:"faas.invoked_provider",FAAS_INVOKED_REGION:"faas.invoked_region",NET_TRANSPORT:"net.transport",NET_PEER_IP:"net.peer.ip",NET_PEER_PORT:"net.peer.port",NET_PEER_NAME:"net.peer.name",NET_HOST_IP:"net.host.ip",NET_HOST_PORT:"net.host.port",NET_HOST_NAME:"net.host.name",NET_HOST_CONNECTION_TYPE:"net.host.connection.type",NET_HOST_CONNECTION_SUBTYPE:"net.host.connection.subtype",NET_HOST_CARRIER_NAME:"net.host.carrier.name",NET_HOST_CARRIER_MCC:"net.host.carrier.mcc",NET_HOST_CARRIER_MNC:"net.host.carrier.mnc",NET_HOST_CARRIER_ICC:"net.host.carrier.icc",PEER_SERVICE:"peer.service",ENDUSER_ID:"enduser.id",ENDUSER_ROLE:"enduser.role",ENDUSER_SCOPE:"enduser.scope",THREAD_ID:"thread.id",THREAD_NAME:"thread.name",CODE_FUNCTION:"code.function",CODE_NAMESPACE:"code.namespace",CODE_FILEPATH:"code.filepath",CODE_LINENO:"code.lineno",HTTP_METHOD:"http.method",HTTP_URL:"http.url",HTTP_TARGET:"http.target",HTTP_HOST:"http.host",HTTP_SCHEME:"http.scheme",HTTP_STATUS_CODE:"http.status_code",HTTP_FLAVOR:"http.flavor",HTTP_USER_AGENT:"http.user_agent",HTTP_REQUEST_CONTENT_LENGTH:"http.request_content_length",HTTP_REQUEST_CONTENT_LENGTH_UNCOMPRESSED:"http.request_content_length_uncompressed",HTTP_RESPONSE_CONTENT_LENGTH:"http.response_content_length",HTTP_RESPONSE_CONTENT_LENGTH_UNCOMPRESSED:"http.response_content_length_uncompressed",HTTP_SERVER_NAME:"http.server_name",HTTP_ROUTE:"http.route",HTTP_CLIENT_IP:"http.client_ip",AWS_DYNAMODB_TABLE_NAMES:"aws.dynamodb.table_names",AWS_DYNAMODB_CONSUMED_CAPACITY:"aws.dynamodb.consumed_capacity",AWS_DYNAMODB_ITEM_COLLECTION_METRICS:"aws.dynamodb.item_collection_metrics",AWS_DYNAMODB_PROVISIONED_READ_CAPACITY:"aws.dynamodb.provisioned_read_capacity",AWS_DYNAMODB_PROVISIONED_WRITE_CAPACITY:"aws.dynamodb.provisioned_write_capacity",AWS_DYNAMODB_CONSISTENT_READ:"aws.dynamodb.consistent_read",AWS_DYNAMODB_PROJECTION:"aws.dynamodb.projection",AWS_DYNAMODB_LIMIT:"aws.dynamodb.limit",AWS_DYNAMODB_ATTRIBUTES_TO_GET:"aws.dynamodb.attributes_to_get",AWS_DYNAMODB_INDEX_NAME:"aws.dynamodb.index_name",AWS_DYNAMODB_SELECT:"aws.dynamodb.select",AWS_DYNAMODB_GLOBAL_SECONDARY_INDEXES:"aws.dynamodb.global_secondary_indexes",AWS_DYNAMODB_LOCAL_SECONDARY_INDEXES:"aws.dynamodb.local_secondary_indexes",AWS_DYNAMODB_EXCLUSIVE_START_TABLE:"aws.dynamodb.exclusive_start_table",AWS_DYNAMODB_TABLE_COUNT:"aws.dynamodb.table_count",AWS_DYNAMODB_SCAN_FORWARD:"aws.dynamodb.scan_forward",AWS_DYNAMODB_SEGMENT:"aws.dynamodb.segment",AWS_DYNAMODB_TOTAL_SEGMENTS:"aws.dynamodb.total_segments",AWS_DYNAMODB_COUNT:"aws.dynamodb.count",AWS_DYNAMODB_SCANNED_COUNT:"aws.dynamodb.scanned_count",AWS_DYNAMODB_ATTRIBUTE_DEFINITIONS:"aws.dynamodb.attribute_definitions",AWS_DYNAMODB_GLOBAL_SECONDARY_INDEX_UPDATES:"aws.dynamodb.global_secondary_index_updates",MESSAGING_SYSTEM:"messaging.system",MESSAGING_DESTINATION:"messaging.destination",MESSAGING_DESTINATION_KIND:"messaging.destination_kind",MESSAGING_TEMP_DESTINATION:"messaging.temp_destination",MESSAGING_PROTOCOL:"messaging.protocol",MESSAGING_PROTOCOL_VERSION:"messaging.protocol_version",MESSAGING_URL:"messaging.url",MESSAGING_MESSAGE_ID:"messaging.message_id",MESSAGING_CONVERSATION_ID:"messaging.conversation_id",MESSAGING_MESSAGE_PAYLOAD_SIZE_BYTES:"messaging.message_payload_size_bytes",MESSAGING_MESSAGE_PAYLOAD_COMPRESSED_SIZE_BYTES:"messaging.message_payload_compressed_size_bytes",MESSAGING_OPERATION:"messaging.operation",MESSAGING_CONSUMER_ID:"messaging.consumer_id",MESSAGING_RABBITMQ_ROUTING_KEY:"messaging.rabbitmq.routing_key",MESSAGING_KAFKA_MESSAGE_KEY:"messaging.kafka.message_key",MESSAGING_KAFKA_CONSUMER_GROUP:"messaging.kafka.consumer_group",MESSAGING_KAFKA_CLIENT_ID:"messaging.kafka.client_id",MESSAGING_KAFKA_PARTITION:"messaging.kafka.partition",MESSAGING_KAFKA_TOMBSTONE:"messaging.kafka.tombstone",RPC_SYSTEM:"rpc.system",RPC_SERVICE:"rpc.service",RPC_METHOD:"rpc.method",RPC_GRPC_STATUS_CODE:"rpc.grpc.status_code",RPC_JSONRPC_VERSION:"rpc.jsonrpc.version",RPC_JSONRPC_REQUEST_ID:"rpc.jsonrpc.request_id",RPC_JSONRPC_ERROR_CODE:"rpc.jsonrpc.error_code",RPC_JSONRPC_ERROR_MESSAGE:"rpc.jsonrpc.error_message",MESSAGE_TYPE:"message.type",MESSAGE_ID:"message.id",MESSAGE_COMPRESSED_SIZE:"message.compressed_size",MESSAGE_UNCOMPRESSED_SIZE:"message.uncompressed_size"};te.DbSystemValues={OTHER_SQL:"other_sql",MSSQL:"mssql",MYSQL:"mysql",ORACLE:"oracle",DB2:"db2",POSTGRESQL:"postgresql",REDSHIFT:"redshift",HIVE:"hive",CLOUDSCAPE:"cloudscape",HSQLDB:"hsqldb",PROGRESS:"progress",MAXDB:"maxdb",HANADB:"hanadb",INGRES:"ingres",FIRSTSQL:"firstsql",EDB:"edb",CACHE:"cache",ADABAS:"adabas",FIREBIRD:"firebird",DERBY:"derby",FILEMAKER:"filemaker",INFORMIX:"informix",INSTANTDB:"instantdb",INTERBASE:"interbase",MARIADB:"mariadb",NETEZZA:"netezza",PERVASIVE:"pervasive",POINTBASE:"pointbase",SQLITE:"sqlite",SYBASE:"sybase",TERADATA:"teradata",VERTICA:"vertica",H2:"h2",COLDFUSION:"coldfusion",CASSANDRA:"cassandra",HBASE:"hbase",MONGODB:"mongodb",REDIS:"redis",COUCHBASE:"couchbase",COUCHDB:"couchdb",COSMOSDB:"cosmosdb",DYNAMODB:"dynamodb",NEO4J:"neo4j",GEODE:"geode",ELASTICSEARCH:"elasticsearch",MEMCACHED:"memcached",COCKROACHDB:"cockroachdb"};te.DbCassandraConsistencyLevelValues={ALL:"all",EACH_QUORUM:"each_quorum",QUORUM:"quorum",LOCAL_QUORUM:"local_quorum",ONE:"one",TWO:"two",THREE:"three",LOCAL_ONE:"local_one",ANY:"any",SERIAL:"serial",LOCAL_SERIAL:"local_serial"};te.FaasTriggerValues={DATASOURCE:"datasource",HTTP:"http",PUBSUB:"pubsub",TIMER:"timer",OTHER:"other"};te.FaasDocumentOperationValues={INSERT:"insert",EDIT:"edit",DELETE:"delete"};te.FaasInvokedProviderValues={ALIBABA_CLOUD:"alibaba_cloud",AWS:"aws",AZURE:"azure",GCP:"gcp"};te.NetTransportValues={IP_TCP:"ip_tcp",IP_UDP:"ip_udp",IP:"ip",UNIX:"unix",PIPE:"pipe",INPROC:"inproc",OTHER:"other"};te.NetHostConnectionTypeValues={WIFI:"wifi",WIRED:"wired",CELL:"cell",UNAVAILABLE:"unavailable",UNKNOWN:"unknown"};te.NetHostConnectionSubtypeValues={GPRS:"gprs",EDGE:"edge",UMTS:"umts",CDMA:"cdma",EVDO_0:"evdo_0",EVDO_A:"evdo_a",CDMA2000_1XRTT:"cdma2000_1xrtt",HSDPA:"hsdpa",HSUPA:"hsupa",HSPA:"hspa",IDEN:"iden",EVDO_B:"evdo_b",LTE:"lte",EHRPD:"ehrpd",HSPAP:"hspap",GSM:"gsm",TD_SCDMA:"td_scdma",IWLAN:"iwlan",NR:"nr",NRNSA:"nrnsa",LTE_CA:"lte_ca"};te.HttpFlavorValues={HTTP_1_0:"1.0",HTTP_1_1:"1.1",HTTP_2_0:"2.0",SPDY:"SPDY",QUIC:"QUIC"};te.MessagingDestinationKindValues={QUEUE:"queue",TOPIC:"topic"};te.MessagingOperationValues={RECEIVE:"receive",PROCESS:"process"};te.RpcGrpcStatusCodeValues={OK:0,CANCELLED:1,UNKNOWN:2,INVALID_ARGUMENT:3,DEADLINE_EXCEEDED:4,NOT_FOUND:5,ALREADY_EXISTS:6,PERMISSION_DENIED:7,RESOURCE_EXHAUSTED:8,FAILED_PRECONDITION:9,ABORTED:10,OUT_OF_RANGE:11,UNIMPLEMENTED:12,INTERNAL:13,UNAVAILABLE:14,DATA_LOSS:15,UNAUTHENTICATED:16};te.MessageTypeValues={SENT:"SENT",RECEIVED:"RECEIVED"}});var aA=c(Gn=>{"use strict";var vG=Gn&&Gn.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),AG=Gn&&Gn.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&vG(e,r,t)};Object.defineProperty(Gn,"__esModule",{value:!0});AG(oA(),Gn)});var uA=c(Ye=>{"use strict";Object.defineProperty(Ye,"__esModule",{value:!0});Ye.TelemetrySdkLanguageValues=Ye.OsTypeValues=Ye.HostArchValues=Ye.AwsEcsLaunchtypeValues=Ye.CloudPlatformValues=Ye.CloudProviderValues=Ye.SemanticResourceAttributes=void 0;Ye.SemanticResourceAttributes={CLOUD_PROVIDER:"cloud.provider",CLOUD_ACCOUNT_ID:"cloud.account.id",CLOUD_REGION:"cloud.region",CLOUD_AVAILABILITY_ZONE:"cloud.availability_zone",CLOUD_PLATFORM:"cloud.platform",AWS_ECS_CONTAINER_ARN:"aws.ecs.container.arn",AWS_ECS_CLUSTER_ARN:"aws.ecs.cluster.arn",AWS_ECS_LAUNCHTYPE:"aws.ecs.launchtype",AWS_ECS_TASK_ARN:"aws.ecs.task.arn",AWS_ECS_TASK_FAMILY:"aws.ecs.task.family",AWS_ECS_TASK_REVISION:"aws.ecs.task.revision",AWS_EKS_CLUSTER_ARN:"aws.eks.cluster.arn",AWS_LOG_GROUP_NAMES:"aws.log.group.names",AWS_LOG_GROUP_ARNS:"aws.log.group.arns",AWS_LOG_STREAM_NAMES:"aws.log.stream.names",AWS_LOG_STREAM_ARNS:"aws.log.stream.arns",CONTAINER_NAME:"container.name",CONTAINER_ID:"container.id",CONTAINER_RUNTIME:"container.runtime",CONTAINER_IMAGE_NAME:"container.image.name",CONTAINER_IMAGE_TAG:"container.image.tag",DEPLOYMENT_ENVIRONMENT:"deployment.environment",DEVICE_ID:"device.id",DEVICE_MODEL_IDENTIFIER:"device.model.identifier",DEVICE_MODEL_NAME:"device.model.name",FAAS_NAME:"faas.name",FAAS_ID:"faas.id",FAAS_VERSION:"faas.version",FAAS_INSTANCE:"faas.instance",FAAS_MAX_MEMORY:"faas.max_memory",HOST_ID:"host.id",HOST_NAME:"host.name",HOST_TYPE:"host.type",HOST_ARCH:"host.arch",HOST_IMAGE_NAME:"host.image.name",HOST_IMAGE_ID:"host.image.id",HOST_IMAGE_VERSION:"host.image.version",K8S_CLUSTER_NAME:"k8s.cluster.name",K8S_NODE_NAME:"k8s.node.name",K8S_NODE_UID:"k8s.node.uid",K8S_NAMESPACE_NAME:"k8s.namespace.name",K8S_POD_UID:"k8s.pod.uid",K8S_POD_NAME:"k8s.pod.name",K8S_CONTAINER_NAME:"k8s.container.name",K8S_REPLICASET_UID:"k8s.replicaset.uid",K8S_REPLICASET_NAME:"k8s.replicaset.name",K8S_DEPLOYMENT_UID:"k8s.deployment.uid",K8S_DEPLOYMENT_NAME:"k8s.deployment.name",K8S_STATEFULSET_UID:"k8s.statefulset.uid",K8S_STATEFULSET_NAME:"k8s.statefulset.name",K8S_DAEMONSET_UID:"k8s.daemonset.uid",K8S_DAEMONSET_NAME:"k8s.daemonset.name",K8S_JOB_UID:"k8s.job.uid",K8S_JOB_NAME:"k8s.job.name",K8S_CRONJOB_UID:"k8s.cronjob.uid",K8S_CRONJOB_NAME:"k8s.cronjob.name",OS_TYPE:"os.type",OS_DESCRIPTION:"os.description",OS_NAME:"os.name",OS_VERSION:"os.version",PROCESS_PID:"process.pid",PROCESS_EXECUTABLE_NAME:"process.executable.name",PROCESS_EXECUTABLE_PATH:"process.executable.path",PROCESS_COMMAND:"process.command",PROCESS_COMMAND_LINE:"process.command_line",PROCESS_COMMAND_ARGS:"process.command_args",PROCESS_OWNER:"process.owner",PROCESS_RUNTIME_NAME:"process.runtime.name",PROCESS_RUNTIME_VERSION:"process.runtime.version",PROCESS_RUNTIME_DESCRIPTION:"process.runtime.description",SERVICE_NAME:"service.name",SERVICE_NAMESPACE:"service.namespace",SERVICE_INSTANCE_ID:"service.instance.id",SERVICE_VERSION:"service.version",TELEMETRY_SDK_NAME:"telemetry.sdk.name",TELEMETRY_SDK_LANGUAGE:"telemetry.sdk.language",TELEMETRY_SDK_VERSION:"telemetry.sdk.version",TELEMETRY_AUTO_VERSION:"telemetry.auto.version",WEBENGINE_NAME:"webengine.name",WEBENGINE_VERSION:"webengine.version",WEBENGINE_DESCRIPTION:"webengine.description"};Ye.CloudProviderValues={ALIBABA_CLOUD:"alibaba_cloud",AWS:"aws",AZURE:"azure",GCP:"gcp"};Ye.CloudPlatformValues={ALIBABA_CLOUD_ECS:"alibaba_cloud_ecs",ALIBABA_CLOUD_FC:"alibaba_cloud_fc",AWS_EC2:"aws_ec2",AWS_ECS:"aws_ecs",AWS_EKS:"aws_eks",AWS_LAMBDA:"aws_lambda",AWS_ELASTIC_BEANSTALK:"aws_elastic_beanstalk",AZURE_VM:"azure_vm",AZURE_CONTAINER_INSTANCES:"azure_container_instances",AZURE_AKS:"azure_aks",AZURE_FUNCTIONS:"azure_functions",AZURE_APP_SERVICE:"azure_app_service",GCP_COMPUTE_ENGINE:"gcp_compute_engine",GCP_CLOUD_RUN:"gcp_cloud_run",GCP_KUBERNETES_ENGINE:"gcp_kubernetes_engine",GCP_CLOUD_FUNCTIONS:"gcp_cloud_functions",GCP_APP_ENGINE:"gcp_app_engine"};Ye.AwsEcsLaunchtypeValues={EC2:"ec2",FARGATE:"fargate"};Ye.HostArchValues={AMD64:"amd64",ARM32:"arm32",ARM64:"arm64",IA64:"ia64",PPC32:"ppc32",PPC64:"ppc64",X86:"x86"};Ye.OsTypeValues={WINDOWS:"windows",LINUX:"linux",DARWIN:"darwin",FREEBSD:"freebsd",NETBSD:"netbsd",OPENBSD:"openbsd",DRAGONFLYBSD:"dragonflybsd",HPUX:"hpux",AIX:"aix",SOLARIS:"solaris",Z_OS:"z_os"};Ye.TelemetrySdkLanguageValues={CPP:"cpp",DOTNET:"dotnet",ERLANG:"erlang",GO:"go",JAVA:"java",NODEJS:"nodejs",PHP:"php",PYTHON:"python",RUBY:"ruby",WEBJS:"webjs"}});var cA=c(Fn=>{"use strict";var OG=Fn&&Fn.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),RG=Fn&&Fn.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&OG(e,r,t)};Object.defineProperty(Fn,"__esModule",{value:!0});RG(uA(),Fn)});var Le=c(tn=>{"use strict";var IG=tn&&tn.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),lA=tn&&tn.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&IG(e,r,t)};Object.defineProperty(tn,"__esModule",{value:!0});lA(aA(),tn);lA(cA(),tn)});var hA=c(Jc=>{"use strict";Object.defineProperty(Jc,"__esModule",{value:!0});Jc.SDK_INFO=void 0;var bG=Zc(),ia=Le();Jc.SDK_INFO={[ia.SemanticResourceAttributes.TELEMETRY_SDK_NAME]:"opentelemetry",[ia.SemanticResourceAttributes.PROCESS_RUNTIME_NAME]:"node",[ia.SemanticResourceAttributes.TELEMETRY_SDK_LANGUAGE]:ia.TelemetrySdkLanguageValues.NODEJS,[ia.SemanticResourceAttributes.TELEMETRY_SDK_VERSION]:bG.VERSION}});var dA=c(el=>{"use strict";Object.defineProperty(el,"__esModule",{value:!0});el.unrefTimer=void 0;function NG(r){r.unref()}el.unrefTimer=NG});var fA=c(Nt=>{"use strict";var yG=Nt&&Nt.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Bn=Nt&&Nt.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&yG(e,r,t)};Object.defineProperty(Nt,"__esModule",{value:!0});Bn(Zv(),Nt);Bn(Jv(),Nt);Bn(tA(),Nt);Bn(sA(),Nt);Bn(iA(),Nt);Bn(hA(),Nt);Bn(dA(),Nt)});var l_=c(Vn=>{"use strict";var PG=Vn&&Vn.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),LG=Vn&&Vn.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&PG(e,r,t)};Object.defineProperty(Vn,"__esModule",{value:!0});LG(fA(),Vn)});var gA=c(ue=>{"use strict";Object.defineProperty(ue,"__esModule",{value:!0});ue.addHrTimes=ue.isTimeInput=ue.isTimeInputHrTime=ue.hrTimeToMicroseconds=ue.hrTimeToMilliseconds=ue.hrTimeToNanoseconds=ue.hrTimeToTimeStamp=ue.hrTimeDuration=ue.timeInputToHrTime=ue.hrTime=ue.getTimeOrigin=ue.millisToHrTime=void 0;var h_=l_(),pA=9,CG=6,MG=Math.pow(10,CG),tl=Math.pow(10,pA);function oa(r){let e=r/1e3,t=Math.trunc(e),n=Math.round(r%1e3*MG);return[t,n]}ue.millisToHrTime=oa;function d_(){let r=h_.otperformance.timeOrigin;if(typeof r!="number"){let e=h_.otperformance;r=e.timing&&e.timing.fetchStart}return r}ue.getTimeOrigin=d_;function _A(r){let e=oa(d_()),t=oa(typeof r=="number"?r:h_.otperformance.now());return EA(e,t)}ue.hrTime=_A;function wG(r){if(f_(r))return r;if(typeof r=="number")return r<d_()?_A(r):oa(r);if(r instanceof Date)return oa(r.getTime());throw TypeError("Invalid input type")}ue.timeInputToHrTime=wG;function qG(r,e){let t=e[0]-r[0],n=e[1]-r[1];return n<0&&(t-=1,n+=tl),[t,n]}ue.hrTimeDuration=qG;function xG(r){let e=pA,t=`${"0".repeat(e)}${r[1]}Z`,n=t.substr(t.length-e-1);return new Date(r[0]*1e3).toISOString().replace("000Z",n)}ue.hrTimeToTimeStamp=xG;function DG(r){return r[0]*tl+r[1]}ue.hrTimeToNanoseconds=DG;function $G(r){return Math.round(r[0]*1e3+r[1]/1e6)}ue.hrTimeToMilliseconds=$G;function jG(r){return Math.round(r[0]*1e6+r[1]/1e3)}ue.hrTimeToMicroseconds=jG;function f_(r){return Array.isArray(r)&&r.length===2&&typeof r[0]=="number"&&typeof r[1]=="number"}ue.isTimeInputHrTime=f_;function UG(r){return f_(r)||typeof r=="number"||r instanceof Date}ue.isTimeInput=UG;function EA(r,e){let t=[r[0]+e[0],r[1]+e[1]];return t[1]>=tl&&(t[1]-=tl,t[0]+=1),t}ue.addHrTimes=EA});var TA=c(mA=>{"use strict";Object.defineProperty(mA,"__esModule",{value:!0})});var SA=c(aa=>{"use strict";Object.defineProperty(aa,"__esModule",{value:!0});aa.ExportResultCode=void 0;var GG;(function(r){r[r.SUCCESS=0]="SUCCESS",r[r.FAILED=1]="FAILED"})(GG=aa.ExportResultCode||(aa.ExportResultCode={}))});var AA=c(rl=>{"use strict";Object.defineProperty(rl,"__esModule",{value:!0});rl.CompositePropagator=void 0;var vA=_(),p_=class{constructor(e={}){var t;this._propagators=(t=e.propagators)!==null&&t!==void 0?t:[],this._fields=Array.from(new Set(this._propagators.map(n=>typeof n.fields=="function"?n.fields():[]).reduce((n,s)=>n.concat(s),[])))}inject(e,t,n){for(let s of this._propagators)try{s.inject(e,t,n)}catch(i){vA.diag.warn(`Failed to inject with ${s.constructor.name}. Err: ${i.message}`)}}extract(e,t,n){return this._propagators.reduce((s,i)=>{try{return i.extract(s,t,n)}catch(o){vA.diag.warn(`Failed to inject with ${i.constructor.name}. Err: ${o.message}`)}return s},e)}fields(){return this._fields.slice()}};rl.CompositePropagator=p_});var OA=c(ci=>{"use strict";Object.defineProperty(ci,"__esModule",{value:!0});ci.validateValue=ci.validateKey=void 0;var __="[_0-9a-z-*/]",FG=`[a-z]${__}{0,255}`,BG=`[a-z0-9]${__}{0,240}@[a-z]${__}{0,13}`,VG=new RegExp(`^(?:${FG}|${BG})$`),HG=/^[ -~]{0,255}[!-~]$/,XG=/,|=/;function WG(r){return VG.test(r)}ci.validateKey=WG;function KG(r){return HG.test(r)&&!XG.test(r)}ci.validateValue=KG});var E_=c(nl=>{"use strict";Object.defineProperty(nl,"__esModule",{value:!0});nl.TraceState=void 0;var RA=OA(),IA=32,YG=512,bA=",",NA="=",ua=class{constructor(e){this._internalState=new Map,e&&this._parse(e)}set(e,t){let n=this._clone();return n._internalState.has(e)&&n._internalState.delete(e),n._internalState.set(e,t),n}unset(e){let t=this._clone();return t._internalState.delete(e),t}get(e){return this._internalState.get(e)}serialize(){return this._keys().reduce((e,t)=>(e.push(t+NA+this.get(t)),e),[]).join(bA)}_parse(e){e.length>YG||(this._internalState=e.split(bA).reverse().reduce((t,n)=>{let s=n.trim(),i=s.indexOf(NA);if(i!==-1){let o=s.slice(0,i),a=s.slice(i+1,n.length);(0,RA.validateKey)(o)&&(0,RA.validateValue)(a)&&t.set(o,a)}return t},new Map),this._internalState.size>IA&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,IA))))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let e=new ua;return e._internalState=new Map(this._internalState),e}};nl.TraceState=ua});var PA=c(ke=>{"use strict";Object.defineProperty(ke,"__esModule",{value:!0});ke.W3CTraceContextPropagator=ke.parseTraceParent=ke.TRACE_STATE_HEADER=ke.TRACE_PARENT_HEADER=void 0;var sl=_(),kG=na(),zG=E_();ke.TRACE_PARENT_HEADER="traceparent";ke.TRACE_STATE_HEADER="tracestate";var QG="00",ZG="(?!ff)[\\da-f]{2}",JG="(?![0]{32})[\\da-f]{32}",eF="(?![0]{16})[\\da-f]{16}",tF="[\\da-f]{2}",rF=new RegExp(`^\\s?(${ZG})-(${JG})-(${eF})-(${tF})(-.*)?\\s?$`);function yA(r){let e=rF.exec(r);return!e||e[1]==="00"&&e[5]?null:{traceId:e[2],spanId:e[3],traceFlags:parseInt(e[4],16)}}ke.parseTraceParent=yA;var g_=class{inject(e,t,n){let s=sl.trace.getSpanContext(e);if(!s||(0,kG.isTracingSuppressed)(e)||!(0,sl.isSpanContextValid)(s))return;let i=`${QG}-${s.traceId}-${s.spanId}-0${Number(s.traceFlags||sl.TraceFlags.NONE).toString(16)}`;n.set(t,ke.TRACE_PARENT_HEADER,i),s.traceState&&n.set(t,ke.TRACE_STATE_HEADER,s.traceState.serialize())}extract(e,t,n){let s=n.get(t,ke.TRACE_PARENT_HEADER);if(!s)return e;let i=Array.isArray(s)?s[0]:s;if(typeof i!="string")return e;let o=yA(i);if(!o)return e;o.isRemote=!0;let a=n.get(t,ke.TRACE_STATE_HEADER);if(a){let u=Array.isArray(a)?a.join(","):a;o.traceState=new zG.TraceState(typeof u=="string"?u:void 0)}return sl.trace.setSpanContext(e,o)}fields(){return[ke.TRACE_PARENT_HEADER,ke.TRACE_STATE_HEADER]}};ke.W3CTraceContextPropagator=g_});var CA=c(LA=>{"use strict";Object.defineProperty(LA,"__esModule",{value:!0})});var MA=c(Zt=>{"use strict";Object.defineProperty(Zt,"__esModule",{value:!0});Zt.getRPCMetadata=Zt.deleteRPCMetadata=Zt.setRPCMetadata=Zt.RPCType=void 0;var nF=_(),m_=(0,nF.createContextKey)("OpenTelemetry SDK Context Key RPC_METADATA"),sF;(function(r){r.HTTP="http"})(sF=Zt.RPCType||(Zt.RPCType={}));function iF(r,e){return r.setValue(m_,e)}Zt.setRPCMetadata=iF;function oF(r){return r.deleteValue(m_)}Zt.deleteRPCMetadata=oF;function aF(r){return r.getValue(m_)}Zt.getRPCMetadata=aF});var S_=c(il=>{"use strict";Object.defineProperty(il,"__esModule",{value:!0});il.AlwaysOffSampler=void 0;var uF=_(),T_=class{shouldSample(){return{decision:uF.SamplingDecision.NOT_RECORD}}toString(){return"AlwaysOffSampler"}};il.AlwaysOffSampler=T_});var A_=c(ol=>{"use strict";Object.defineProperty(ol,"__esModule",{value:!0});ol.AlwaysOnSampler=void 0;var cF=_(),v_=class{shouldSample(){return{decision:cF.SamplingDecision.RECORD_AND_SAMPLED}}toString(){return"AlwaysOnSampler"}};ol.AlwaysOnSampler=v_});var qA=c(ul=>{"use strict";Object.defineProperty(ul,"__esModule",{value:!0});ul.ParentBasedSampler=void 0;var al=_(),lF=i_(),wA=S_(),O_=A_(),R_=class{constructor(e){var t,n,s,i;this._root=e.root,this._root||((0,lF.globalErrorHandler)(new Error("ParentBasedSampler must have a root sampler configured")),this._root=new O_.AlwaysOnSampler),this._remoteParentSampled=(t=e.remoteParentSampled)!==null&&t!==void 0?t:new O_.AlwaysOnSampler,this._remoteParentNotSampled=(n=e.remoteParentNotSampled)!==null&&n!==void 0?n:new wA.AlwaysOffSampler,this._localParentSampled=(s=e.localParentSampled)!==null&&s!==void 0?s:new O_.AlwaysOnSampler,this._localParentNotSampled=(i=e.localParentNotSampled)!==null&&i!==void 0?i:new wA.AlwaysOffSampler}shouldSample(e,t,n,s,i,o){let a=al.trace.getSpanContext(e);return!a||!(0,al.isSpanContextValid)(a)?this._root.shouldSample(e,t,n,s,i,o):a.isRemote?a.traceFlags&al.TraceFlags.SAMPLED?this._remoteParentSampled.shouldSample(e,t,n,s,i,o):this._remoteParentNotSampled.shouldSample(e,t,n,s,i,o):a.traceFlags&al.TraceFlags.SAMPLED?this._localParentSampled.shouldSample(e,t,n,s,i,o):this._localParentNotSampled.shouldSample(e,t,n,s,i,o)}toString(){return`ParentBased{root=${this._root.toString()}, remoteParentSampled=${this._remoteParentSampled.toString()}, remoteParentNotSampled=${this._remoteParentNotSampled.toString()}, localParentSampled=${this._localParentSampled.toString()}, localParentNotSampled=${this._localParentNotSampled.toString()}}`}};ul.ParentBasedSampler=R_});var xA=c(cl=>{"use strict";Object.defineProperty(cl,"__esModule",{value:!0});cl.TraceIdRatioBasedSampler=void 0;var I_=_(),b_=class{constructor(e=0){this._ratio=e,this._ratio=this._normalize(e),this._upperBound=Math.floor(this._ratio*4294967295)}shouldSample(e,t){return{decision:(0,I_.isValidTraceId)(t)&&this._accumulate(t)<this._upperBound?I_.SamplingDecision.RECORD_AND_SAMPLED:I_.SamplingDecision.NOT_RECORD}}toString(){return`TraceIdRatioBased{${this._ratio}}`}_normalize(e){return typeof e!="number"||isNaN(e)?0:e>=1?1:e<=0?0:e}_accumulate(e){let t=0;for(let n=0;n<e.length/8;n++){let s=n*8,i=parseInt(e.slice(s,s+8),16);t=(t^i)>>>0}return t}};cl.TraceIdRatioBasedSampler=b_});var GA=c(ll=>{"use strict";Object.defineProperty(ll,"__esModule",{value:!0});ll.isPlainObject=void 0;var hF="[object Object]",dF="[object Null]",fF="[object Undefined]",pF=Function.prototype,DA=pF.toString,_F=DA.call(Object),EF=gF(Object.getPrototypeOf,Object),$A=Object.prototype,jA=$A.hasOwnProperty,Hn=Symbol?Symbol.toStringTag:void 0,UA=$A.toString;function gF(r,e){return function(t){return r(e(t))}}function mF(r){if(!TF(r)||SF(r)!==hF)return!1;let e=EF(r);if(e===null)return!0;let t=jA.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t instanceof t&&DA.call(t)===_F}ll.isPlainObject=mF;function TF(r){return r!=null&&typeof r=="object"}function SF(r){return r==null?r===void 0?fF:dF:Hn&&Hn in Object(r)?vF(r):AF(r)}function vF(r){let e=jA.call(r,Hn),t=r[Hn],n=!1;try{r[Hn]=void 0,n=!0}catch{}let s=UA.call(r);return n&&(e?r[Hn]=t:delete r[Hn]),s}function AF(r){return UA.call(r)}});var XA=c(fl=>{"use strict";Object.defineProperty(fl,"__esModule",{value:!0});fl.merge=void 0;var FA=GA(),OF=20;function RF(...r){let e=r.shift(),t=new WeakMap;for(;r.length>0;)e=VA(e,r.shift(),0,t);return e}fl.merge=RF;function N_(r){return dl(r)?r.slice():r}function VA(r,e,t=0,n){let s;if(!(t>OF)){if(t++,hl(r)||hl(e)||HA(e))s=N_(e);else if(dl(r)){if(s=r.slice(),dl(e))for(let i=0,o=e.length;i<o;i++)s.push(N_(e[i]));else if(ca(e)){let i=Object.keys(e);for(let o=0,a=i.length;o<a;o++){let u=i[o];s[u]=N_(e[u])}}}else if(ca(r))if(ca(e)){if(!IF(r,e))return e;s=Object.assign({},r);let i=Object.keys(e);for(let o=0,a=i.length;o<a;o++){let u=i[o],l=e[u];if(hl(l))typeof l>"u"?delete s[u]:s[u]=l;else{let h=s[u],d=l;if(BA(r,u,n)||BA(e,u,n))delete s[u];else{if(ca(h)&&ca(d)){let p=n.get(h)||[],f=n.get(d)||[];p.push({obj:r,key:u}),f.push({obj:e,key:u}),n.set(h,p),n.set(d,f)}s[u]=VA(s[u],l,t,n)}}}}else s=e;return s}}function BA(r,e,t){let n=t.get(r[e])||[];for(let s=0,i=n.length;s<i;s++){let o=n[s];if(o.key===e&&o.obj===r)return!0}return!1}function dl(r){return Array.isArray(r)}function HA(r){return typeof r=="function"}function ca(r){return!hl(r)&&!dl(r)&&!HA(r)&&typeof r=="object"}function hl(r){return typeof r=="string"||typeof r=="number"||typeof r=="boolean"||typeof r>"u"||r instanceof Date||r instanceof RegExp||r===null}function IF(r,e){return!(!(0,FA.isPlainObject)(r)||!(0,FA.isPlainObject)(e))}});var WA=c(hi=>{"use strict";Object.defineProperty(hi,"__esModule",{value:!0});hi.callWithTimeout=hi.TimeoutError=void 0;var li=class extends Error{constructor(e){super(e),Object.setPrototypeOf(this,li.prototype)}};hi.TimeoutError=li;function bF(r,e){let t,n=new Promise(function(i,o){t=setTimeout(function(){o(new li("Operation timed out."))},e)});return Promise.race([r,n]).then(s=>(clearTimeout(t),s),s=>{throw clearTimeout(t),s})}hi.callWithTimeout=bF});var YA=c(di=>{"use strict";Object.defineProperty(di,"__esModule",{value:!0});di.isUrlIgnored=di.urlMatches=void 0;function KA(r,e){return typeof e=="string"?r===e:!!r.match(e)}di.urlMatches=KA;function NF(r,e){if(!e)return!1;for(let t of e)if(KA(r,t))return!0;return!1}di.isUrlIgnored=NF});var kA=c(pl=>{"use strict";Object.defineProperty(pl,"__esModule",{value:!0});pl.isWrapped=void 0;function yF(r){return typeof r=="function"&&typeof r.__original=="function"&&typeof r.__unwrap=="function"&&r.__wrapped===!0}pl.isWrapped=yF});var zA=c(_l=>{"use strict";Object.defineProperty(_l,"__esModule",{value:!0});_l.Deferred=void 0;var y_=class{constructor(){this._promise=new Promise((e,t)=>{this._resolve=e,this._reject=t})}get promise(){return this._promise}resolve(e){this._resolve(e)}reject(e){this._reject(e)}};_l.Deferred=y_});var QA=c(El=>{"use strict";Object.defineProperty(El,"__esModule",{value:!0});El.BindOnceFuture=void 0;var PF=zA(),P_=class{constructor(e,t){this._callback=e,this._that=t,this._isCalled=!1,this._deferred=new PF.Deferred}get isCalled(){return this._isCalled}get promise(){return this._deferred.promise}call(...e){if(!this._isCalled){this._isCalled=!0;try{Promise.resolve(this._callback.call(this._that,...e)).then(t=>this._deferred.resolve(t),t=>this._deferred.reject(t))}catch(t){this._deferred.reject(t)}}return this._deferred.promise}};El.BindOnceFuture=P_});var JA=c(gl=>{"use strict";Object.defineProperty(gl,"__esModule",{value:!0});gl._export=void 0;var ZA=_(),LF=na();function CF(r,e){return new Promise(t=>{ZA.context.with((0,LF.suppressTracing)(ZA.context.active()),()=>{r.export(e,n=>{t(n)})})})}gl._export=CF});var H=c(V=>{"use strict";var MF=V&&V.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),ie=V&&V.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&MF(e,r,t)};Object.defineProperty(V,"__esModule",{value:!0});V.internal=V.baggageUtils=void 0;ie(Bv(),V);ie(Vv(),V);ie(Yv(),V);ie(i_(),V);ie(s_(),V);ie(gA(),V);ie(TA(),V);ie(SA(),V);ie(Zc(),V);V.baggageUtils=Jp();ie(l_(),V);ie(AA(),V);ie(PA(),V);ie(CA(),V);ie(MA(),V);ie(S_(),V);ie(A_(),V);ie(qA(),V);ie(xA(),V);ie(na(),V);ie(E_(),V);ie(u_(),V);ie(XA(),V);ie(o_(),V);ie(WA(),V);ie(YA(),V);ie(kA(),V);ie(QA(),V);ie(Zc(),V);var wF=JA();V.internal={_export:wF._export}});var la=c((qse,eO)=>{var qF="2.0.0",xF=Number.MAX_SAFE_INTEGER||9007199254740991,DF=16,$F=["major","premajor","minor","preminor","patch","prepatch","prerelease"];eO.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:DF,MAX_SAFE_INTEGER:xF,RELEASE_TYPES:$F,SEMVER_SPEC_VERSION:qF,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var ha=c((xse,tO)=>{var jF=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...r)=>console.error("SEMVER",...r):()=>{};tO.exports=jF});var fi=c((rn,rO)=>{var{MAX_SAFE_COMPONENT_LENGTH:L_}=la(),UF=ha();rn=rO.exports={};var GF=rn.re=[],g=rn.src=[],m=rn.t={},FF=0,j=(r,e,t)=>{let n=FF++;UF(r,n,e),m[r]=n,g[n]=e,GF[n]=new RegExp(e,t?"g":void 0)};j("NUMERICIDENTIFIER","0|[1-9]\\d*");j("NUMERICIDENTIFIERLOOSE","[0-9]+");j("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*");j("MAINVERSION",`(${g[m.NUMERICIDENTIFIER]})\\.(${g[m.NUMERICIDENTIFIER]})\\.(${g[m.NUMERICIDENTIFIER]})`);j("MAINVERSIONLOOSE",`(${g[m.NUMERICIDENTIFIERLOOSE]})\\.(${g[m.NUMERICIDENTIFIERLOOSE]})\\.(${g[m.NUMERICIDENTIFIERLOOSE]})`);j("PRERELEASEIDENTIFIER",`(?:${g[m.NUMERICIDENTIFIER]}|${g[m.NONNUMERICIDENTIFIER]})`);j("PRERELEASEIDENTIFIERLOOSE",`(?:${g[m.NUMERICIDENTIFIERLOOSE]}|${g[m.NONNUMERICIDENTIFIER]})`);j("PRERELEASE",`(?:-(${g[m.PRERELEASEIDENTIFIER]}(?:\\.${g[m.PRERELEASEIDENTIFIER]})*))`);j("PRERELEASELOOSE",`(?:-?(${g[m.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${g[m.PRERELEASEIDENTIFIERLOOSE]})*))`);j("BUILDIDENTIFIER","[0-9A-Za-z-]+");j("BUILD",`(?:\\+(${g[m.BUILDIDENTIFIER]}(?:\\.${g[m.BUILDIDENTIFIER]})*))`);j("FULLPLAIN",`v?${g[m.MAINVERSION]}${g[m.PRERELEASE]}?${g[m.BUILD]}?`);j("FULL",`^${g[m.FULLPLAIN]}$`);j("LOOSEPLAIN",`[v=\\s]*${g[m.MAINVERSIONLOOSE]}${g[m.PRERELEASELOOSE]}?${g[m.BUILD]}?`);j("LOOSE",`^${g[m.LOOSEPLAIN]}$`);j("GTLT","((?:<|>)?=?)");j("XRANGEIDENTIFIERLOOSE",`${g[m.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);j("XRANGEIDENTIFIER",`${g[m.NUMERICIDENTIFIER]}|x|X|\\*`);j("XRANGEPLAIN",`[v=\\s]*(${g[m.XRANGEIDENTIFIER]})(?:\\.(${g[m.XRANGEIDENTIFIER]})(?:\\.(${g[m.XRANGEIDENTIFIER]})(?:${g[m.PRERELEASE]})?${g[m.BUILD]}?)?)?`);j("XRANGEPLAINLOOSE",`[v=\\s]*(${g[m.XRANGEIDENTIFIERLOOSE]})(?:\\.(${g[m.XRANGEIDENTIFIERLOOSE]})(?:\\.(${g[m.XRANGEIDENTIFIERLOOSE]})(?:${g[m.PRERELEASELOOSE]})?${g[m.BUILD]}?)?)?`);j("XRANGE",`^${g[m.GTLT]}\\s*${g[m.XRANGEPLAIN]}$`);j("XRANGELOOSE",`^${g[m.GTLT]}\\s*${g[m.XRANGEPLAINLOOSE]}$`);j("COERCE",`(^|[^\\d])(\\d{1,${L_}})(?:\\.(\\d{1,${L_}}))?(?:\\.(\\d{1,${L_}}))?(?:$|[^\\d])`);j("COERCERTL",g[m.COERCE],!0);j("LONETILDE","(?:~>?)");j("TILDETRIM",`(\\s*)${g[m.LONETILDE]}\\s+`,!0);rn.tildeTrimReplace="$1~";j("TILDE",`^${g[m.LONETILDE]}${g[m.XRANGEPLAIN]}$`);j("TILDELOOSE",`^${g[m.LONETILDE]}${g[m.XRANGEPLAINLOOSE]}$`);j("LONECARET","(?:\\^)");j("CARETTRIM",`(\\s*)${g[m.LONECARET]}\\s+`,!0);rn.caretTrimReplace="$1^";j("CARET",`^${g[m.LONECARET]}${g[m.XRANGEPLAIN]}$`);j("CARETLOOSE",`^${g[m.LONECARET]}${g[m.XRANGEPLAINLOOSE]}$`);j("COMPARATORLOOSE",`^${g[m.GTLT]}\\s*(${g[m.LOOSEPLAIN]})$|^$`);j("COMPARATOR",`^${g[m.GTLT]}\\s*(${g[m.FULLPLAIN]})$|^$`);j("COMPARATORTRIM",`(\\s*)${g[m.GTLT]}\\s*(${g[m.LOOSEPLAIN]}|${g[m.XRANGEPLAIN]})`,!0);rn.comparatorTrimReplace="$1$2$3";j("HYPHENRANGE",`^\\s*(${g[m.XRANGEPLAIN]})\\s+-\\s+(${g[m.XRANGEPLAIN]})\\s*$`);j("HYPHENRANGELOOSE",`^\\s*(${g[m.XRANGEPLAINLOOSE]})\\s+-\\s+(${g[m.XRANGEPLAINLOOSE]})\\s*$`);j("STAR","(<|>)?=?\\s*\\*");j("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");j("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var ml=c((Dse,nO)=>{var BF=Object.freeze({loose:!0}),VF=Object.freeze({}),HF=r=>r?typeof r!="object"?BF:r:VF;nO.exports=HF});var C_=c(($se,oO)=>{var sO=/^[0-9]+$/,iO=(r,e)=>{let t=sO.test(r),n=sO.test(e);return t&&n&&(r=+r,e=+e),r===e?0:t&&!n?-1:n&&!t?1:r<e?-1:1},XF=(r,e)=>iO(e,r);oO.exports={compareIdentifiers:iO,rcompareIdentifiers:XF}});var ze=c((jse,lO)=>{var Tl=ha(),{MAX_LENGTH:aO,MAX_SAFE_INTEGER:Sl}=la(),{re:uO,t:cO}=fi(),WF=ml(),{compareIdentifiers:pi}=C_(),yt=class{constructor(e,t){if(t=WF(t),e instanceof yt){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>aO)throw new TypeError(`version is longer than ${aO} characters`);Tl("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;let n=e.trim().match(t.loose?uO[cO.LOOSE]:uO[cO.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>Sl||this.major<0)throw new TypeError("Invalid major version");if(this.minor>Sl||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>Sl||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(s=>{if(/^[0-9]+$/.test(s)){let i=+s;if(i>=0&&i<Sl)return i}return s}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(Tl("SemVer.compare",this.version,this.options,e),!(e instanceof yt)){if(typeof e=="string"&&e===this.version)return 0;e=new yt(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof yt||(e=new yt(e,this.options)),pi(this.major,e.major)||pi(this.minor,e.minor)||pi(this.patch,e.patch)}comparePre(e){if(e instanceof yt||(e=new yt(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{let n=this.prerelease[t],s=e.prerelease[t];if(Tl("prerelease compare",t,n,s),n===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(n===void 0)return-1;if(n===s)continue;return pi(n,s)}while(++t)}compareBuild(e){e instanceof yt||(e=new yt(e,this.options));let t=0;do{let n=this.build[t],s=e.build[t];if(Tl("prerelease compare",t,n,s),n===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(n===void 0)return-1;if(n===s)continue;return pi(n,s)}while(++t)}inc(e,t,n){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,n),this.inc("pre",t,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",t,n),this.inc("pre",t,n);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let s=Number(n)?1:0;if(!t&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[s];else{let i=this.prerelease.length;for(;--i>=0;)typeof this.prerelease[i]=="number"&&(this.prerelease[i]++,i=-2);if(i===-1){if(t===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(s)}}if(t){let i=[t,s];n===!1&&(i=[t]),pi(this.prerelease[0],t)===0?isNaN(this.prerelease[1])&&(this.prerelease=i):this.prerelease=i}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.format(),this.raw=this.version,this}};lO.exports=yt});var Xn=c((Use,dO)=>{var hO=ze(),KF=(r,e,t=!1)=>{if(r instanceof hO)return r;try{return new hO(r,e)}catch(n){if(!t)return null;throw n}};dO.exports=KF});var pO=c((Gse,fO)=>{var YF=Xn(),kF=(r,e)=>{let t=YF(r,e);return t?t.version:null};fO.exports=kF});var EO=c((Fse,_O)=>{var zF=Xn(),QF=(r,e)=>{let t=zF(r.trim().replace(/^[=v]+/,""),e);return t?t.version:null};_O.exports=QF});var TO=c((Bse,mO)=>{var gO=ze(),ZF=(r,e,t,n,s)=>{typeof t=="string"&&(s=n,n=t,t=void 0);try{return new gO(r instanceof gO?r.version:r,t).inc(e,n,s).version}catch{return null}};mO.exports=ZF});var AO=c((Vse,vO)=>{var SO=Xn(),JF=(r,e)=>{let t=SO(r,null,!0),n=SO(e,null,!0),s=t.compare(n);if(s===0)return null;let i=s>0,o=i?t:n,a=i?n:t,u=!!o.prerelease.length,l=u?"pre":"";return t.major!==n.major?l+"major":t.minor!==n.minor?l+"minor":t.patch!==n.patch?l+"patch":u?"prerelease":a.patch?"patch":a.minor?"minor":"major"};vO.exports=JF});var RO=c((Hse,OO)=>{var eB=ze(),tB=(r,e)=>new eB(r,e).major;OO.exports=tB});var bO=c((Xse,IO)=>{var rB=ze(),nB=(r,e)=>new rB(r,e).minor;IO.exports=nB});var yO=c((Wse,NO)=>{var sB=ze(),iB=(r,e)=>new sB(r,e).patch;NO.exports=iB});var LO=c((Kse,PO)=>{var oB=Xn(),aB=(r,e)=>{let t=oB(r,e);return t&&t.prerelease.length?t.prerelease:null};PO.exports=aB});var jt=c((Yse,MO)=>{var CO=ze(),uB=(r,e,t)=>new CO(r,t).compare(new CO(e,t));MO.exports=uB});var qO=c((kse,wO)=>{var cB=jt(),lB=(r,e,t)=>cB(e,r,t);wO.exports=lB});var DO=c((zse,xO)=>{var hB=jt(),dB=(r,e)=>hB(r,e,!0);xO.exports=dB});var vl=c((Qse,jO)=>{var $O=ze(),fB=(r,e,t)=>{let n=new $O(r,t),s=new $O(e,t);return n.compare(s)||n.compareBuild(s)};jO.exports=fB});var GO=c((Zse,UO)=>{var pB=vl(),_B=(r,e)=>r.sort((t,n)=>pB(t,n,e));UO.exports=_B});var BO=c((Jse,FO)=>{var EB=vl(),gB=(r,e)=>r.sort((t,n)=>EB(n,t,e));FO.exports=gB});var da=c((eie,VO)=>{var mB=jt(),TB=(r,e,t)=>mB(r,e,t)>0;VO.exports=TB});var Al=c((tie,HO)=>{var SB=jt(),vB=(r,e,t)=>SB(r,e,t)<0;HO.exports=vB});var M_=c((rie,XO)=>{var AB=jt(),OB=(r,e,t)=>AB(r,e,t)===0;XO.exports=OB});var w_=c((nie,WO)=>{var RB=jt(),IB=(r,e,t)=>RB(r,e,t)!==0;WO.exports=IB});var Ol=c((sie,KO)=>{var bB=jt(),NB=(r,e,t)=>bB(r,e,t)>=0;KO.exports=NB});var Rl=c((iie,YO)=>{var yB=jt(),PB=(r,e,t)=>yB(r,e,t)<=0;YO.exports=PB});var q_=c((oie,kO)=>{var LB=M_(),CB=w_(),MB=da(),wB=Ol(),qB=Al(),xB=Rl(),DB=(r,e,t,n)=>{switch(e){case"===":return typeof r=="object"&&(r=r.version),typeof t=="object"&&(t=t.version),r===t;case"!==":return typeof r=="object"&&(r=r.version),typeof t=="object"&&(t=t.version),r!==t;case"":case"=":case"==":return LB(r,t,n);case"!=":return CB(r,t,n);case">":return MB(r,t,n);case">=":return wB(r,t,n);case"<":return qB(r,t,n);case"<=":return xB(r,t,n);default:throw new TypeError(`Invalid operator: ${e}`)}};kO.exports=DB});var QO=c((aie,zO)=>{var $B=ze(),jB=Xn(),{re:Il,t:bl}=fi(),UB=(r,e)=>{if(r instanceof $B)return r;if(typeof r=="number"&&(r=String(r)),typeof r!="string")return null;e=e||{};let t=null;if(!e.rtl)t=r.match(Il[bl.COERCE]);else{let n;for(;(n=Il[bl.COERCERTL].exec(r))&&(!t||t.index+t[0].length!==r.length);)(!t||n.index+n[0].length!==t.index+t[0].length)&&(t=n),Il[bl.COERCERTL].lastIndex=n.index+n[1].length+n[2].length;Il[bl.COERCERTL].lastIndex=-1}return t===null?null:jB(`${t[2]}.${t[3]||"0"}.${t[4]||"0"}`,e)};zO.exports=UB});var JO=c((uie,ZO)=>{"use strict";ZO.exports=function(r){r.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}});var tR=c((cie,eR)=>{"use strict";eR.exports=k;k.Node=Wn;k.create=k;function k(r){var e=this;if(e instanceof k||(e=new k),e.tail=null,e.head=null,e.length=0,r&&typeof r.forEach=="function")r.forEach(function(s){e.push(s)});else if(arguments.length>0)for(var t=0,n=arguments.length;t<n;t++)e.push(arguments[t]);return e}k.prototype.removeNode=function(r){if(r.list!==this)throw new Error("removing node which does not belong to this list");var e=r.next,t=r.prev;return e&&(e.prev=t),t&&(t.next=e),r===this.head&&(this.head=e),r===this.tail&&(this.tail=t),r.list.length--,r.next=null,r.prev=null,r.list=null,e};k.prototype.unshiftNode=function(r){if(r!==this.head){r.list&&r.list.removeNode(r);var e=this.head;r.list=this,r.next=e,e&&(e.prev=r),this.head=r,this.tail||(this.tail=r),this.length++}};k.prototype.pushNode=function(r){if(r!==this.tail){r.list&&r.list.removeNode(r);var e=this.tail;r.list=this,r.prev=e,e&&(e.next=r),this.tail=r,this.head||(this.head=r),this.length++}};k.prototype.push=function(){for(var r=0,e=arguments.length;r<e;r++)FB(this,arguments[r]);return this.length};k.prototype.unshift=function(){for(var r=0,e=arguments.length;r<e;r++)BB(this,arguments[r]);return this.length};k.prototype.pop=function(){if(this.tail){var r=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,r}};k.prototype.shift=function(){if(this.head){var r=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,r}};k.prototype.forEach=function(r,e){e=e||this;for(var t=this.head,n=0;t!==null;n++)r.call(e,t.value,n,this),t=t.next};k.prototype.forEachReverse=function(r,e){e=e||this;for(var t=this.tail,n=this.length-1;t!==null;n--)r.call(e,t.value,n,this),t=t.prev};k.prototype.get=function(r){for(var e=0,t=this.head;t!==null&&e<r;e++)t=t.next;if(e===r&&t!==null)return t.value};k.prototype.getReverse=function(r){for(var e=0,t=this.tail;t!==null&&e<r;e++)t=t.prev;if(e===r&&t!==null)return t.value};k.prototype.map=function(r,e){e=e||this;for(var t=new k,n=this.head;n!==null;)t.push(r.call(e,n.value,this)),n=n.next;return t};k.prototype.mapReverse=function(r,e){e=e||this;for(var t=new k,n=this.tail;n!==null;)t.push(r.call(e,n.value,this)),n=n.prev;return t};k.prototype.reduce=function(r,e){var t,n=this.head;if(arguments.length>1)t=e;else if(this.head)n=this.head.next,t=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var s=0;n!==null;s++)t=r(t,n.value,s),n=n.next;return t};k.prototype.reduceReverse=function(r,e){var t,n=this.tail;if(arguments.length>1)t=e;else if(this.tail)n=this.tail.prev,t=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var s=this.length-1;n!==null;s--)t=r(t,n.value,s),n=n.prev;return t};k.prototype.toArray=function(){for(var r=new Array(this.length),e=0,t=this.head;t!==null;e++)r[e]=t.value,t=t.next;return r};k.prototype.toArrayReverse=function(){for(var r=new Array(this.length),e=0,t=this.tail;t!==null;e++)r[e]=t.value,t=t.prev;return r};k.prototype.slice=function(r,e){e=e||this.length,e<0&&(e+=this.length),r=r||0,r<0&&(r+=this.length);var t=new k;if(e<r||e<0)return t;r<0&&(r=0),e>this.length&&(e=this.length);for(var n=0,s=this.head;s!==null&&n<r;n++)s=s.next;for(;s!==null&&n<e;n++,s=s.next)t.push(s.value);return t};k.prototype.sliceReverse=function(r,e){e=e||this.length,e<0&&(e+=this.length),r=r||0,r<0&&(r+=this.length);var t=new k;if(e<r||e<0)return t;r<0&&(r=0),e>this.length&&(e=this.length);for(var n=this.length,s=this.tail;s!==null&&n>e;n--)s=s.prev;for(;s!==null&&n>r;n--,s=s.prev)t.push(s.value);return t};k.prototype.splice=function(r,e,...t){r>this.length&&(r=this.length-1),r<0&&(r=this.length+r);for(var n=0,s=this.head;s!==null&&n<r;n++)s=s.next;for(var i=[],n=0;s&&n<e;n++)i.push(s.value),s=this.removeNode(s);s===null&&(s=this.tail),s!==this.head&&s!==this.tail&&(s=s.prev);for(var n=0;n<t.length;n++)s=GB(this,s,t[n]);return i};k.prototype.reverse=function(){for(var r=this.head,e=this.tail,t=r;t!==null;t=t.prev){var n=t.prev;t.prev=t.next,t.next=n}return this.head=e,this.tail=r,this};function GB(r,e,t){var n=e===r.head?new Wn(t,null,e,r):new Wn(t,e,e.next,r);return n.next===null&&(r.tail=n),n.prev===null&&(r.head=n),r.length++,n}function FB(r,e){r.tail=new Wn(e,r.tail,null,r),r.head||(r.head=r.tail),r.length++}function BB(r,e){r.head=new Wn(e,null,r.head,r),r.tail||(r.tail=r.head),r.length++}function Wn(r,e,t,n){if(!(this instanceof Wn))return new Wn(r,e,t,n);this.list=n,this.value=r,e?(e.next=this,this.prev=e):this.prev=null,t?(t.prev=this,this.next=t):this.next=null}try{JO()(k)}catch{}});var oR=c((lie,iR)=>{"use strict";var VB=tR(),Kn=Symbol("max"),yr=Symbol("length"),_i=Symbol("lengthCalculator"),pa=Symbol("allowStale"),Yn=Symbol("maxAge"),Nr=Symbol("dispose"),rR=Symbol("noDisposeOnSet"),Ce=Symbol("lruList"),Jt=Symbol("cache"),sR=Symbol("updateAgeOnGet"),x_=()=>1,$_=class{constructor(e){if(typeof e=="number"&&(e={max:e}),e||(e={}),e.max&&(typeof e.max!="number"||e.max<0))throw new TypeError("max must be a non-negative number");let t=this[Kn]=e.max||1/0,n=e.length||x_;if(this[_i]=typeof n!="function"?x_:n,this[pa]=e.stale||!1,e.maxAge&&typeof e.maxAge!="number")throw new TypeError("maxAge must be a number");this[Yn]=e.maxAge||0,this[Nr]=e.dispose,this[rR]=e.noDisposeOnSet||!1,this[sR]=e.updateAgeOnGet||!1,this.reset()}set max(e){if(typeof e!="number"||e<0)throw new TypeError("max must be a non-negative number");this[Kn]=e||1/0,fa(this)}get max(){return this[Kn]}set allowStale(e){this[pa]=!!e}get allowStale(){return this[pa]}set maxAge(e){if(typeof e!="number")throw new TypeError("maxAge must be a non-negative number");this[Yn]=e,fa(this)}get maxAge(){return this[Yn]}set lengthCalculator(e){typeof e!="function"&&(e=x_),e!==this[_i]&&(this[_i]=e,this[yr]=0,this[Ce].forEach(t=>{t.length=this[_i](t.value,t.key),this[yr]+=t.length})),fa(this)}get lengthCalculator(){return this[_i]}get length(){return this[yr]}get itemCount(){return this[Ce].length}rforEach(e,t){t=t||this;for(let n=this[Ce].tail;n!==null;){let s=n.prev;nR(this,e,n,t),n=s}}forEach(e,t){t=t||this;for(let n=this[Ce].head;n!==null;){let s=n.next;nR(this,e,n,t),n=s}}keys(){return this[Ce].toArray().map(e=>e.key)}values(){return this[Ce].toArray().map(e=>e.value)}reset(){this[Nr]&&this[Ce]&&this[Ce].length&&this[Ce].forEach(e=>this[Nr](e.key,e.value)),this[Jt]=new Map,this[Ce]=new VB,this[yr]=0}dump(){return this[Ce].map(e=>Nl(this,e)?!1:{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[Ce]}set(e,t,n){if(n=n||this[Yn],n&&typeof n!="number")throw new TypeError("maxAge must be a number");let s=n?Date.now():0,i=this[_i](t,e);if(this[Jt].has(e)){if(i>this[Kn])return Ei(this,this[Jt].get(e)),!1;let u=this[Jt].get(e).value;return this[Nr]&&(this[rR]||this[Nr](e,u.value)),u.now=s,u.maxAge=n,u.value=t,this[yr]+=i-u.length,u.length=i,this.get(e),fa(this),!0}let o=new j_(e,t,i,s,n);return o.length>this[Kn]?(this[Nr]&&this[Nr](e,t),!1):(this[yr]+=o.length,this[Ce].unshift(o),this[Jt].set(e,this[Ce].head),fa(this),!0)}has(e){if(!this[Jt].has(e))return!1;let t=this[Jt].get(e).value;return!Nl(this,t)}get(e){return D_(this,e,!0)}peek(e){return D_(this,e,!1)}pop(){let e=this[Ce].tail;return e?(Ei(this,e),e.value):null}del(e){Ei(this,this[Jt].get(e))}load(e){this.reset();let t=Date.now();for(let n=e.length-1;n>=0;n--){let s=e[n],i=s.e||0;if(i===0)this.set(s.k,s.v);else{let o=i-t;o>0&&this.set(s.k,s.v,o)}}}prune(){this[Jt].forEach((e,t)=>D_(this,t,!1))}},D_=(r,e,t)=>{let n=r[Jt].get(e);if(n){let s=n.value;if(Nl(r,s)){if(Ei(r,n),!r[pa])return}else t&&(r[sR]&&(n.value.now=Date.now()),r[Ce].unshiftNode(n));return s.value}},Nl=(r,e)=>{if(!e||!e.maxAge&&!r[Yn])return!1;let t=Date.now()-e.now;return e.maxAge?t>e.maxAge:r[Yn]&&t>r[Yn]},fa=r=>{if(r[yr]>r[Kn])for(let e=r[Ce].tail;r[yr]>r[Kn]&&e!==null;){let t=e.prev;Ei(r,e),e=t}},Ei=(r,e)=>{if(e){let t=e.value;r[Nr]&&r[Nr](t.key,t.value),r[yr]-=t.length,r[Jt].delete(t.key),r[Ce].removeNode(e)}},j_=class{constructor(e,t,n,s,i){this.key=e,this.value=t,this.length=n,this.now=s,this.maxAge=i||0}},nR=(r,e,t,n)=>{let s=t.value;Nl(r,s)&&(Ei(r,t),r[pa]||(s=void 0)),s&&e.call(n,s.value,s.key,r)};iR.exports=$_});var Ut=c((hie,lR)=>{var kn=class{constructor(e,t){if(t=XB(t),e instanceof kn)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new kn(e.raw,t);if(e instanceof U_)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split("||").map(n=>this.parseRange(n.trim())).filter(n=>n.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${e}`);if(this.set.length>1){let n=this.set[0];if(this.set=this.set.filter(s=>!uR(s[0])),this.set.length===0)this.set=[n];else if(this.set.length>1){for(let s of this.set)if(s.length===1&&ZB(s[0])){this.set=[s];break}}}this.format()}format(){return this.range=this.set.map(e=>e.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(e){e=e.trim();let n=((this.options.includePrerelease&&zB)|(this.options.loose&&QB))+":"+e,s=aR.get(n);if(s)return s;let i=this.options.loose,o=i?mt[ot.HYPHENRANGELOOSE]:mt[ot.HYPHENRANGE];e=e.replace(o,uV(this.options.includePrerelease)),ge("hyphen replace",e),e=e.replace(mt[ot.COMPARATORTRIM],KB),ge("comparator trim",e),e=e.replace(mt[ot.TILDETRIM],YB),e=e.replace(mt[ot.CARETTRIM],kB),e=e.split(/\s+/).join(" ");let a=e.split(" ").map(d=>JB(d,this.options)).join(" ").split(/\s+/).map(d=>aV(d,this.options));i&&(a=a.filter(d=>(ge("loose invalid filter",d,this.options),!!d.match(mt[ot.COMPARATORLOOSE])))),ge("range list",a);let u=new Map,l=a.map(d=>new U_(d,this.options));for(let d of l){if(uR(d))return[d];u.set(d.value,d)}u.size>1&&u.has("")&&u.delete("");let h=[...u.values()];return aR.set(n,h),h}intersects(e,t){if(!(e instanceof kn))throw new TypeError("a Range is required");return this.set.some(n=>cR(n,t)&&e.set.some(s=>cR(s,t)&&n.every(i=>s.every(o=>i.intersects(o,t)))))}test(e){if(!e)return!1;if(typeof e=="string")try{e=new WB(e,this.options)}catch{return!1}for(let t=0;t<this.set.length;t++)if(cV(this.set[t],e,this.options))return!0;return!1}};lR.exports=kn;var HB=oR(),aR=new HB({max:1e3}),XB=ml(),U_=_a(),ge=ha(),WB=ze(),{re:mt,t:ot,comparatorTrimReplace:KB,tildeTrimReplace:YB,caretTrimReplace:kB}=fi(),{FLAG_INCLUDE_PRERELEASE:zB,FLAG_LOOSE:QB}=la(),uR=r=>r.value==="<0.0.0-0",ZB=r=>r.value==="",cR=(r,e)=>{let t=!0,n=r.slice(),s=n.pop();for(;t&&n.length;)t=n.every(i=>s.intersects(i,e)),s=n.pop();return t},JB=(r,e)=>(ge("comp",r,e),r=rV(r,e),ge("caret",r),r=eV(r,e),ge("tildes",r),r=sV(r,e),ge("xrange",r),r=oV(r,e),ge("stars",r),r),at=r=>!r||r.toLowerCase()==="x"||r==="*",eV=(r,e)=>r.trim().split(/\s+/).map(t=>tV(t,e)).join(" "),tV=(r,e)=>{let t=e.loose?mt[ot.TILDELOOSE]:mt[ot.TILDE];return r.replace(t,(n,s,i,o,a)=>{ge("tilde",r,n,s,i,o,a);let u;return at(s)?u="":at(i)?u=`>=${s}.0.0 <${+s+1}.0.0-0`:at(o)?u=`>=${s}.${i}.0 <${s}.${+i+1}.0-0`:a?(ge("replaceTilde pr",a),u=`>=${s}.${i}.${o}-${a} <${s}.${+i+1}.0-0`):u=`>=${s}.${i}.${o} <${s}.${+i+1}.0-0`,ge("tilde return",u),u})},rV=(r,e)=>r.trim().split(/\s+/).map(t=>nV(t,e)).join(" "),nV=(r,e)=>{ge("caret",r,e);let t=e.loose?mt[ot.CARETLOOSE]:mt[ot.CARET],n=e.includePrerelease?"-0":"";return r.replace(t,(s,i,o,a,u)=>{ge("caret",r,s,i,o,a,u);let l;return at(i)?l="":at(o)?l=`>=${i}.0.0${n} <${+i+1}.0.0-0`:at(a)?i==="0"?l=`>=${i}.${o}.0${n} <${i}.${+o+1}.0-0`:l=`>=${i}.${o}.0${n} <${+i+1}.0.0-0`:u?(ge("replaceCaret pr",u),i==="0"?o==="0"?l=`>=${i}.${o}.${a}-${u} <${i}.${o}.${+a+1}-0`:l=`>=${i}.${o}.${a}-${u} <${i}.${+o+1}.0-0`:l=`>=${i}.${o}.${a}-${u} <${+i+1}.0.0-0`):(ge("no pr"),i==="0"?o==="0"?l=`>=${i}.${o}.${a}${n} <${i}.${o}.${+a+1}-0`:l=`>=${i}.${o}.${a}${n} <${i}.${+o+1}.0-0`:l=`>=${i}.${o}.${a} <${+i+1}.0.0-0`),ge("caret return",l),l})},sV=(r,e)=>(ge("replaceXRanges",r,e),r.split(/\s+/).map(t=>iV(t,e)).join(" ")),iV=(r,e)=>{r=r.trim();let t=e.loose?mt[ot.XRANGELOOSE]:mt[ot.XRANGE];return r.replace(t,(n,s,i,o,a,u)=>{ge("xRange",r,n,s,i,o,a,u);let l=at(i),h=l||at(o),d=h||at(a),p=d;return s==="="&&p&&(s=""),u=e.includePrerelease?"-0":"",l?s===">"||s==="<"?n="<0.0.0-0":n="*":s&&p?(h&&(o=0),a=0,s===">"?(s=">=",h?(i=+i+1,o=0,a=0):(o=+o+1,a=0)):s==="<="&&(s="<",h?i=+i+1:o=+o+1),s==="<"&&(u="-0"),n=`${s+i}.${o}.${a}${u}`):h?n=`>=${i}.0.0${u} <${+i+1}.0.0-0`:d&&(n=`>=${i}.${o}.0${u} <${i}.${+o+1}.0-0`),ge("xRange return",n),n})},oV=(r,e)=>(ge("replaceStars",r,e),r.trim().replace(mt[ot.STAR],"")),aV=(r,e)=>(ge("replaceGTE0",r,e),r.trim().replace(mt[e.includePrerelease?ot.GTE0PRE:ot.GTE0],"")),uV=r=>(e,t,n,s,i,o,a,u,l,h,d,p,f)=>(at(n)?t="":at(s)?t=`>=${n}.0.0${r?"-0":""}`:at(i)?t=`>=${n}.${s}.0${r?"-0":""}`:o?t=`>=${t}`:t=`>=${t}${r?"-0":""}`,at(l)?u="":at(h)?u=`<${+l+1}.0.0-0`:at(d)?u=`<${l}.${+h+1}.0-0`:p?u=`<=${l}.${h}.${d}-${p}`:r?u=`<${l}.${h}.${+d+1}-0`:u=`<=${u}`,`${t} ${u}`.trim()),cV=(r,e,t)=>{for(let n=0;n<r.length;n++)if(!r[n].test(e))return!1;if(e.prerelease.length&&!t.includePrerelease){for(let n=0;n<r.length;n++)if(ge(r[n].semver),r[n].semver!==U_.ANY&&r[n].semver.prerelease.length>0){let s=r[n].semver;if(s.major===e.major&&s.minor===e.minor&&s.patch===e.patch)return!0}return!1}return!0}});var _a=c((die,ER)=>{var Ea=Symbol("SemVer ANY"),gi=class{static get ANY(){return Ea}constructor(e,t){if(t=hR(t),e instanceof gi){if(e.loose===!!t.loose)return e;e=e.value}F_("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===Ea?this.value="":this.value=this.operator+this.semver.version,F_("comp",this)}parse(e){let t=this.options.loose?dR[fR.COMPARATORLOOSE]:dR[fR.COMPARATOR],n=e.match(t);if(!n)throw new TypeError(`Invalid comparator: ${e}`);this.operator=n[1]!==void 0?n[1]:"",this.operator==="="&&(this.operator=""),n[2]?this.semver=new pR(n[2],this.options.loose):this.semver=Ea}toString(){return this.value}test(e){if(F_("Comparator.test",e,this.options.loose),this.semver===Ea||e===Ea)return!0;if(typeof e=="string")try{e=new pR(e,this.options)}catch{return!1}return G_(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof gi))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new _R(e.value,t).test(this.value):e.operator===""?e.value===""?!0:new _R(this.value,t).test(e.semver):(t=hR(t),t.includePrerelease&&(this.value==="<0.0.0-0"||e.value==="<0.0.0-0")||!t.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&e.operator.startsWith(">")||this.operator.startsWith("<")&&e.operator.startsWith("<")||this.semver.version===e.semver.version&&this.operator.includes("=")&&e.operator.includes("=")||G_(this.semver,"<",e.semver,t)&&this.operator.startsWith(">")&&e.operator.startsWith("<")||G_(this.semver,">",e.semver,t)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))}};ER.exports=gi;var hR=ml(),{re:dR,t:fR}=fi(),G_=q_(),F_=ha(),pR=ze(),_R=Ut()});var ga=c((fie,gR)=>{var lV=Ut(),hV=(r,e,t)=>{try{e=new lV(e,t)}catch{return!1}return e.test(r)};gR.exports=hV});var TR=c((pie,mR)=>{var dV=Ut(),fV=(r,e)=>new dV(r,e).set.map(t=>t.map(n=>n.value).join(" ").trim().split(" "));mR.exports=fV});var vR=c((_ie,SR)=>{var pV=ze(),_V=Ut(),EV=(r,e,t)=>{let n=null,s=null,i=null;try{i=new _V(e,t)}catch{return null}return r.forEach(o=>{i.test(o)&&(!n||s.compare(o)===-1)&&(n=o,s=new pV(n,t))}),n};SR.exports=EV});var OR=c((Eie,AR)=>{var gV=ze(),mV=Ut(),TV=(r,e,t)=>{let n=null,s=null,i=null;try{i=new mV(e,t)}catch{return null}return r.forEach(o=>{i.test(o)&&(!n||s.compare(o)===1)&&(n=o,s=new gV(n,t))}),n};AR.exports=TV});var bR=c((gie,IR)=>{var B_=ze(),SV=Ut(),RR=da(),vV=(r,e)=>{r=new SV(r,e);let t=new B_("0.0.0");if(r.test(t)||(t=new B_("0.0.0-0"),r.test(t)))return t;t=null;for(let n=0;n<r.set.length;++n){let s=r.set[n],i=null;s.forEach(o=>{let a=new B_(o.semver.version);switch(o.operator){case">":a.prerelease.length===0?a.patch++:a.prerelease.push(0),a.raw=a.format();case"":case">=":(!i||RR(a,i))&&(i=a);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${o.operator}`)}}),i&&(!t||RR(t,i))&&(t=i)}return t&&r.test(t)?t:null};IR.exports=vV});var yR=c((mie,NR)=>{var AV=Ut(),OV=(r,e)=>{try{return new AV(r,e).range||"*"}catch{return null}};NR.exports=OV});var yl=c((Tie,MR)=>{var RV=ze(),CR=_a(),{ANY:IV}=CR,bV=Ut(),NV=ga(),PR=da(),LR=Al(),yV=Rl(),PV=Ol(),LV=(r,e,t,n)=>{r=new RV(r,n),e=new bV(e,n);let s,i,o,a,u;switch(t){case">":s=PR,i=yV,o=LR,a=">",u=">=";break;case"<":s=LR,i=PV,o=PR,a="<",u="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(NV(r,e,n))return!1;for(let l=0;l<e.set.length;++l){let h=e.set[l],d=null,p=null;if(h.forEach(f=>{f.semver===IV&&(f=new CR(">=0.0.0")),d=d||f,p=p||f,s(f.semver,d.semver,n)?d=f:o(f.semver,p.semver,n)&&(p=f)}),d.operator===a||d.operator===u||(!p.operator||p.operator===a)&&i(r,p.semver))return!1;if(p.operator===u&&o(r,p.semver))return!1}return!0};MR.exports=LV});var qR=c((Sie,wR)=>{var CV=yl(),MV=(r,e,t)=>CV(r,e,">",t);wR.exports=MV});var DR=c((vie,xR)=>{var wV=yl(),qV=(r,e,t)=>wV(r,e,"<",t);xR.exports=qV});var UR=c((Aie,jR)=>{var $R=Ut(),xV=(r,e,t)=>(r=new $R(r,t),e=new $R(e,t),r.intersects(e,t));jR.exports=xV});var FR=c((Oie,GR)=>{var DV=ga(),$V=jt();GR.exports=(r,e,t)=>{let n=[],s=null,i=null,o=r.sort((h,d)=>$V(h,d,t));for(let h of o)DV(h,e,t)?(i=h,s||(s=h)):(i&&n.push([s,i]),i=null,s=null);s&&n.push([s,null]);let a=[];for(let[h,d]of n)h===d?a.push(h):!d&&h===o[0]?a.push("*"):d?h===o[0]?a.push(`<=${d}`):a.push(`${h} - ${d}`):a.push(`>=${h}`);let u=a.join(" || "),l=typeof e.raw=="string"?e.raw:String(e);return u.length<l.length?u:e}});var KR=c((Rie,WR)=>{var BR=Ut(),H_=_a(),{ANY:V_}=H_,ma=ga(),X_=jt(),jV=(r,e,t={})=>{if(r===e)return!0;r=new BR(r,t),e=new BR(e,t);let n=!1;e:for(let s of r.set){for(let i of e.set){let o=GV(s,i,t);if(n=n||o!==null,o)continue e}if(n)return!1}return!0},UV=[new H_(">=0.0.0-0")],VR=[new H_(">=0.0.0")],GV=(r,e,t)=>{if(r===e)return!0;if(r.length===1&&r[0].semver===V_){if(e.length===1&&e[0].semver===V_)return!0;t.includePrerelease?r=UV:r=VR}if(e.length===1&&e[0].semver===V_){if(t.includePrerelease)return!0;e=VR}let n=new Set,s,i;for(let f of r)f.operator===">"||f.operator===">="?s=HR(s,f,t):f.operator==="<"||f.operator==="<="?i=XR(i,f,t):n.add(f.semver);if(n.size>1)return null;let o;if(s&&i){if(o=X_(s.semver,i.semver,t),o>0)return null;if(o===0&&(s.operator!==">="||i.operator!=="<="))return null}for(let f of n){if(s&&!ma(f,String(s),t)||i&&!ma(f,String(i),t))return null;for(let E of e)if(!ma(f,String(E),t))return!1;return!0}let a,u,l,h,d=i&&!t.includePrerelease&&i.semver.prerelease.length?i.semver:!1,p=s&&!t.includePrerelease&&s.semver.prerelease.length?s.semver:!1;d&&d.prerelease.length===1&&i.operator==="<"&&d.prerelease[0]===0&&(d=!1);for(let f of e){if(h=h||f.operator===">"||f.operator===">=",l=l||f.operator==="<"||f.operator==="<=",s){if(p&&f.semver.prerelease&&f.semver.prerelease.length&&f.semver.major===p.major&&f.semver.minor===p.minor&&f.semver.patch===p.patch&&(p=!1),f.operator===">"||f.operator===">="){if(a=HR(s,f,t),a===f&&a!==s)return!1}else if(s.operator===">="&&!ma(s.semver,String(f),t))return!1}if(i){if(d&&f.semver.prerelease&&f.semver.prerelease.length&&f.semver.major===d.major&&f.semver.minor===d.minor&&f.semver.patch===d.patch&&(d=!1),f.operator==="<"||f.operator==="<="){if(u=XR(i,f,t),u===f&&u!==i)return!1}else if(i.operator==="<="&&!ma(i.semver,String(f),t))return!1}if(!f.operator&&(i||s)&&o!==0)return!1}return!(s&&l&&!i&&o!==0||i&&h&&!s&&o!==0||p||d)},HR=(r,e,t)=>{if(!r)return e;let n=X_(r.semver,e.semver,t);return n>0?r:n<0||e.operator===">"&&r.operator===">="?e:r},XR=(r,e,t)=>{if(!r)return e;let n=X_(r.semver,e.semver,t);return n<0?r:n>0||e.operator==="<"&&r.operator==="<="?e:r};WR.exports=jV});var QR=c((Iie,zR)=>{var W_=fi(),YR=la(),FV=ze(),kR=C_(),BV=Xn(),VV=pO(),HV=EO(),XV=TO(),WV=AO(),KV=RO(),YV=bO(),kV=yO(),zV=LO(),QV=jt(),ZV=qO(),JV=DO(),eH=vl(),tH=GO(),rH=BO(),nH=da(),sH=Al(),iH=M_(),oH=w_(),aH=Ol(),uH=Rl(),cH=q_(),lH=QO(),hH=_a(),dH=Ut(),fH=ga(),pH=TR(),_H=vR(),EH=OR(),gH=bR(),mH=yR(),TH=yl(),SH=qR(),vH=DR(),AH=UR(),OH=FR(),RH=KR();zR.exports={parse:BV,valid:VV,clean:HV,inc:XV,diff:WV,major:KV,minor:YV,patch:kV,prerelease:zV,compare:QV,rcompare:ZV,compareLoose:JV,compareBuild:eH,sort:tH,rsort:rH,gt:nH,lt:sH,eq:iH,neq:oH,gte:aH,lte:uH,cmp:cH,coerce:lH,Comparator:hH,Range:dH,satisfies:fH,toComparators:pH,maxSatisfying:_H,minSatisfying:EH,minVersion:gH,validRange:mH,outside:TH,gtr:SH,ltr:vH,intersects:AH,simplifyRange:OH,subset:RH,SemVer:FV,re:W_.re,src:W_.src,tokens:W_.t,SEMVER_SPEC_VERSION:YR.SEMVER_SPEC_VERSION,RELEASE_TYPES:YR.RELEASE_TYPES,compareIdentifiers:kR.compareIdentifiers,rcompareIdentifiers:kR.rcompareIdentifiers}});var ZR=c(Ta=>{"use strict";Object.defineProperty(Ta,"__esModule",{value:!0});Ta.AttributeNames=void 0;var IH;(function(r){r.HTTP_ERROR_NAME="http.error_name",r.HTTP_ERROR_MESSAGE="http.error_message",r.HTTP_STATUS_TEXT="http.status_text"})(IH=Ta.AttributeNames||(Ta.AttributeNames={}))});var K_=c(w=>{"use strict";Object.defineProperty(w,"__esModule",{value:!0});w.headerCapture=w.getIncomingRequestMetricAttributesOnResponse=w.getIncomingRequestAttributesOnResponse=w.getIncomingRequestMetricAttributes=w.getIncomingRequestAttributes=w.getOutgoingRequestMetricAttributesOnResponse=w.getOutgoingRequestAttributesOnResponse=w.getAttributesFromHttpKind=w.getOutgoingRequestMetricAttributes=w.getOutgoingRequestAttributes=w.extractHostnameAndPort=w.isValidOptionsType=w.getRequestInfo=w.isCompressed=w.setResponseContentLengthAttribute=w.setRequestContentLengthAttribute=w.setSpanWithError=w.isIgnored=w.satisfiesPattern=w.parseResponseStatus=w.getAbsoluteUrl=void 0;var Sa=_(),L=Le(),JR=H(),Pl=require("url"),Ll=ZR(),bH=(r,e,t="http:")=>{let n=r||{},s=n.protocol||t,i=(n.port||"").toString(),o=n.path||"/",a=n.host||n.hostname||e.host||"localhost";return a.indexOf(":")===-1&&i&&i!=="80"&&i!=="443"&&(a+=`:${i}`),`${s}//${a}${o}`};w.getAbsoluteUrl=bH;var NH=(r,e)=>{let t=r===Sa.SpanKind.CLIENT?400:500;return e&&e>=100&&e<t?Sa.SpanStatusCode.UNSET:Sa.SpanStatusCode.ERROR};w.parseResponseStatus=NH;var yH=(r,e)=>{if(typeof e=="string")return e===r;if(e instanceof RegExp)return e.test(r);if(typeof e=="function")return e(r);throw new TypeError("Pattern is in unsupported datatype")};w.satisfiesPattern=yH;var PH=(r,e,t)=>{if(!e)return!1;try{for(let n of e)if((0,w.satisfiesPattern)(r,n))return!0}catch(n){t&&t(n)}return!1};w.isIgnored=PH;var LH=(r,e)=>{let t=e.message;r.setAttributes({[Ll.AttributeNames.HTTP_ERROR_NAME]:e.name,[Ll.AttributeNames.HTTP_ERROR_MESSAGE]:t}),r.setStatus({code:Sa.SpanStatusCode.ERROR,message:t}),r.recordException(e)};w.setSpanWithError=LH;var CH=(r,e)=>{let t=e0(r.headers);t!==null&&((0,w.isCompressed)(r.headers)?e[L.SemanticAttributes.HTTP_REQUEST_CONTENT_LENGTH]=t:e[L.SemanticAttributes.HTTP_REQUEST_CONTENT_LENGTH_UNCOMPRESSED]=t)};w.setRequestContentLengthAttribute=CH;var MH=(r,e)=>{let t=e0(r.headers);t!==null&&((0,w.isCompressed)(r.headers)?e[L.SemanticAttributes.HTTP_RESPONSE_CONTENT_LENGTH]=t:e[L.SemanticAttributes.HTTP_RESPONSE_CONTENT_LENGTH_UNCOMPRESSED]=t)};w.setResponseContentLengthAttribute=MH;function e0(r){let e=r["content-length"];if(e===void 0)return null;let t=parseInt(e,10);return isNaN(t)?null:t}var wH=r=>{let e=r["content-encoding"];return!!e&&e!=="identity"};w.isCompressed=wH;var qH=(r,e)=>{let t="/",n="",s;if(typeof r=="string")s=Pl.parse(r),t=s.pathname||"/",n=`${s.protocol||"http:"}//${s.host}`,e!==void 0&&Object.assign(s,e);else if(r instanceof Pl.URL)s={protocol:r.protocol,hostname:typeof r.hostname=="string"&&r.hostname.startsWith("[")?r.hostname.slice(1,-1):r.hostname,path:`${r.pathname||""}${r.search||""}`},r.port!==""&&(s.port=Number(r.port)),(r.username||r.password)&&(s.auth=`${r.username}:${r.password}`),t=r.pathname,n=r.origin,e!==void 0&&Object.assign(s,e);else{s=Object.assign({protocol:r.host?"http:":void 0},r),t=r.pathname,!t&&s.path&&(t=Pl.parse(s.path).pathname||"/");let o=s.host||(s.port!=null?`${s.hostname}${s.port}`:s.hostname);n=`${s.protocol||"http:"}//${o}`}let i=s.method?s.method.toUpperCase():"GET";return{origin:n,pathname:t,method:i,optionsParsed:s}};w.getRequestInfo=qH;var xH=r=>{if(!r)return!1;let e=typeof r;return e==="string"||e==="object"&&!Array.isArray(r)};w.isValidOptionsType=xH;var DH=r=>{var e;if(r.hostname&&r.port)return{hostname:r.hostname,port:r.port};let t=((e=r.host)===null||e===void 0?void 0:e.match(/^([^:/ ]+)(:\d{1,5})?/))||null,n=r.hostname||(t===null?"localhost":t[1]),s=r.port;return s||(t&&t[2]?s=t[2].substring(1):s=r.protocol==="https:"?"443":"80"),{hostname:n,port:s}};w.extractHostnameAndPort=DH;var $H=(r,e)=>{var t,n;let s=e.hostname,i=e.port,o=r.method,a=o?o.toUpperCase():"GET",u=r.headers||{},l=u["user-agent"],h={[L.SemanticAttributes.HTTP_URL]:(0,w.getAbsoluteUrl)(r,u,`${e.component}:`),[L.SemanticAttributes.HTTP_METHOD]:a,[L.SemanticAttributes.HTTP_TARGET]:r.path||"/",[L.SemanticAttributes.NET_PEER_NAME]:s,[L.SemanticAttributes.HTTP_HOST]:(n=(t=r.headers)===null||t===void 0?void 0:t.host)!==null&&n!==void 0?n:`${s}:${i}`};return l!==void 0&&(h[L.SemanticAttributes.HTTP_USER_AGENT]=l),Object.assign(h,e.hookAttributes)};w.getOutgoingRequestAttributes=$H;var jH=r=>{let e={};return e[L.SemanticAttributes.HTTP_METHOD]=r[L.SemanticAttributes.HTTP_METHOD],e[L.SemanticAttributes.NET_PEER_NAME]=r[L.SemanticAttributes.NET_PEER_NAME],e};w.getOutgoingRequestMetricAttributes=jH;var UH=r=>{let e={};return r&&(e[L.SemanticAttributes.HTTP_FLAVOR]=r,r.toUpperCase()!=="QUIC"?e[L.SemanticAttributes.NET_TRANSPORT]=L.NetTransportValues.IP_TCP:e[L.SemanticAttributes.NET_TRANSPORT]=L.NetTransportValues.IP_UDP),e};w.getAttributesFromHttpKind=UH;var GH=r=>{let{statusCode:e,statusMessage:t,httpVersion:n,socket:s}=r,{remoteAddress:i,remotePort:o}=s,a={[L.SemanticAttributes.NET_PEER_IP]:i,[L.SemanticAttributes.NET_PEER_PORT]:o};(0,w.setResponseContentLengthAttribute)(r,a),e&&(a[L.SemanticAttributes.HTTP_STATUS_CODE]=e,a[Ll.AttributeNames.HTTP_STATUS_TEXT]=(t||"").toUpperCase());let u=(0,w.getAttributesFromHttpKind)(n);return Object.assign(a,u)};w.getOutgoingRequestAttributesOnResponse=GH;var FH=r=>{let e={};return e[L.SemanticAttributes.NET_PEER_PORT]=r[L.SemanticAttributes.NET_PEER_PORT],e[L.SemanticAttributes.HTTP_STATUS_CODE]=r[L.SemanticAttributes.HTTP_STATUS_CODE],e[L.SemanticAttributes.HTTP_FLAVOR]=r[L.SemanticAttributes.HTTP_FLAVOR],e};w.getOutgoingRequestMetricAttributesOnResponse=FH;var BH=(r,e)=>{let t=r.headers,n=t["user-agent"],s=t["x-forwarded-for"],i=r.method||"GET",o=r.httpVersion,a=r.url?Pl.parse(r.url):null,u=(a==null?void 0:a.host)||t.host,l=(a==null?void 0:a.hostname)||(u==null?void 0:u.replace(/^(.*)(:[0-9]{1,5})/,"$1"))||"localhost",h=e.serverName,d={[L.SemanticAttributes.HTTP_URL]:(0,w.getAbsoluteUrl)(a,t,`${e.component}:`),[L.SemanticAttributes.HTTP_HOST]:u,[L.SemanticAttributes.NET_HOST_NAME]:l,[L.SemanticAttributes.HTTP_METHOD]:i,[L.SemanticAttributes.HTTP_SCHEME]:e.component};typeof s=="string"&&(d[L.SemanticAttributes.HTTP_CLIENT_IP]=s.split(",")[0]),typeof h=="string"&&(d[L.SemanticAttributes.HTTP_SERVER_NAME]=h),a&&(d[L.SemanticAttributes.HTTP_TARGET]=a.path||"/"),n!==void 0&&(d[L.SemanticAttributes.HTTP_USER_AGENT]=n),(0,w.setRequestContentLengthAttribute)(r,d);let p=(0,w.getAttributesFromHttpKind)(o);return Object.assign(d,p,e.hookAttributes)};w.getIncomingRequestAttributes=BH;var VH=r=>{let e={};return e[L.SemanticAttributes.HTTP_SCHEME]=r[L.SemanticAttributes.HTTP_SCHEME],e[L.SemanticAttributes.HTTP_METHOD]=r[L.SemanticAttributes.HTTP_METHOD],e[L.SemanticAttributes.NET_HOST_NAME]=r[L.SemanticAttributes.NET_HOST_NAME],e[L.SemanticAttributes.HTTP_FLAVOR]=r[L.SemanticAttributes.HTTP_FLAVOR],e};w.getIncomingRequestMetricAttributes=VH;var HH=(r,e)=>{let{socket:t}=r,{statusCode:n,statusMessage:s}=e,{localAddress:i,localPort:o,remoteAddress:a,remotePort:u}=t,l=(0,JR.getRPCMetadata)(Sa.context.active()),h={[L.SemanticAttributes.NET_HOST_IP]:i,[L.SemanticAttributes.NET_HOST_PORT]:o,[L.SemanticAttributes.NET_PEER_IP]:a,[L.SemanticAttributes.NET_PEER_PORT]:u,[L.SemanticAttributes.HTTP_STATUS_CODE]:n,[Ll.AttributeNames.HTTP_STATUS_TEXT]:(s||"").toUpperCase()};return(l==null?void 0:l.type)===JR.RPCType.HTTP&&l.route!==void 0&&(h[L.SemanticAttributes.HTTP_ROUTE]=l.route),h};w.getIncomingRequestAttributesOnResponse=HH;var XH=r=>{let e={};return e[L.SemanticAttributes.HTTP_STATUS_CODE]=r[L.SemanticAttributes.HTTP_STATUS_CODE],e[L.SemanticAttributes.NET_HOST_PORT]=r[L.SemanticAttributes.NET_HOST_PORT],r[L.SemanticAttributes.HTTP_ROUTE]!==void 0&&(e[L.SemanticAttributes.HTTP_ROUTE]=r[L.SemanticAttributes.HTTP_ROUTE]),e};w.getIncomingRequestMetricAttributesOnResponse=XH;function WH(r,e){let t=new Map(e.map(n=>[n.toLowerCase(),n.toLowerCase().replace(/-/g,"_")]));return(n,s)=>{for(let[i,o]of t){let a=s(i);if(a===void 0)continue;let u=`http.${r}.header.${o}`;typeof a=="string"?n.setAttribute(u,[a]):Array.isArray(a)?n.setAttribute(u,a):n.setAttribute(u,[a])}}}w.headerCapture=WH});var t0=c(Cl=>{"use strict";Object.defineProperty(Cl,"__esModule",{value:!0});Cl.VERSION=void 0;Cl.VERSION="0.40.0"});var n0=c(nn=>{"use strict";Object.defineProperty(nn,"__esModule",{value:!0});nn.disableInstrumentations=nn.enableInstrumentations=nn.parseInstrumentationOptions=void 0;function r0(r=[]){let e=[];for(let t=0,n=r.length;t<n;t++){let s=r[t];if(Array.isArray(s)){let i=r0(s);e=e.concat(i.instrumentations)}else typeof s=="function"?e.push(new s):s.instrumentationName&&e.push(s)}return{instrumentations:e}}nn.parseInstrumentationOptions=r0;function KH(r,e,t){for(let n=0,s=r.length;n<s;n++){let i=r[n];e&&i.setTracerProvider(e),t&&i.setMeterProvider(t),i.getConfig().enabled||i.enable()}}nn.enableInstrumentations=KH;function YH(r){r.forEach(e=>e.disable())}nn.disableInstrumentations=YH});var i0=c(Ml=>{"use strict";Object.defineProperty(Ml,"__esModule",{value:!0});Ml.registerInstrumentations=void 0;var s0=_(),Y_=n0();function kH(r){let{instrumentations:e}=(0,Y_.parseInstrumentationOptions)(r.instrumentations),t=r.tracerProvider||s0.trace.getTracerProvider(),n=r.meterProvider||s0.metrics.getMeterProvider();return(0,Y_.enableInstrumentations)(e,t,n),()=>{(0,Y_.disableInstrumentations)(e)}}Ml.registerInstrumentations=kH});var va=c((Cie,o0)=>{var zH="2.0.0",QH=Number.MAX_SAFE_INTEGER||9007199254740991,ZH=16,JH=["major","premajor","minor","preminor","patch","prepatch","prerelease"];o0.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:ZH,MAX_SAFE_INTEGER:QH,RELEASE_TYPES:JH,SEMVER_SPEC_VERSION:zH,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var Aa=c((Mie,a0)=>{var eX=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...r)=>console.error("SEMVER",...r):()=>{};a0.exports=eX});var mi=c((sn,u0)=>{var{MAX_SAFE_COMPONENT_LENGTH:k_}=va(),tX=Aa();sn=u0.exports={};var rX=sn.re=[],T=sn.src=[],S=sn.t={},nX=0,U=(r,e,t)=>{let n=nX++;tX(r,n,e),S[r]=n,T[n]=e,rX[n]=new RegExp(e,t?"g":void 0)};U("NUMERICIDENTIFIER","0|[1-9]\\d*");U("NUMERICIDENTIFIERLOOSE","[0-9]+");U("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*");U("MAINVERSION",`(${T[S.NUMERICIDENTIFIER]})\\.(${T[S.NUMERICIDENTIFIER]})\\.(${T[S.NUMERICIDENTIFIER]})`);U("MAINVERSIONLOOSE",`(${T[S.NUMERICIDENTIFIERLOOSE]})\\.(${T[S.NUMERICIDENTIFIERLOOSE]})\\.(${T[S.NUMERICIDENTIFIERLOOSE]})`);U("PRERELEASEIDENTIFIER",`(?:${T[S.NUMERICIDENTIFIER]}|${T[S.NONNUMERICIDENTIFIER]})`);U("PRERELEASEIDENTIFIERLOOSE",`(?:${T[S.NUMERICIDENTIFIERLOOSE]}|${T[S.NONNUMERICIDENTIFIER]})`);U("PRERELEASE",`(?:-(${T[S.PRERELEASEIDENTIFIER]}(?:\\.${T[S.PRERELEASEIDENTIFIER]})*))`);U("PRERELEASELOOSE",`(?:-?(${T[S.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${T[S.PRERELEASEIDENTIFIERLOOSE]})*))`);U("BUILDIDENTIFIER","[0-9A-Za-z-]+");U("BUILD",`(?:\\+(${T[S.BUILDIDENTIFIER]}(?:\\.${T[S.BUILDIDENTIFIER]})*))`);U("FULLPLAIN",`v?${T[S.MAINVERSION]}${T[S.PRERELEASE]}?${T[S.BUILD]}?`);U("FULL",`^${T[S.FULLPLAIN]}$`);U("LOOSEPLAIN",`[v=\\s]*${T[S.MAINVERSIONLOOSE]}${T[S.PRERELEASELOOSE]}?${T[S.BUILD]}?`);U("LOOSE",`^${T[S.LOOSEPLAIN]}$`);U("GTLT","((?:<|>)?=?)");U("XRANGEIDENTIFIERLOOSE",`${T[S.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);U("XRANGEIDENTIFIER",`${T[S.NUMERICIDENTIFIER]}|x|X|\\*`);U("XRANGEPLAIN",`[v=\\s]*(${T[S.XRANGEIDENTIFIER]})(?:\\.(${T[S.XRANGEIDENTIFIER]})(?:\\.(${T[S.XRANGEIDENTIFIER]})(?:${T[S.PRERELEASE]})?${T[S.BUILD]}?)?)?`);U("XRANGEPLAINLOOSE",`[v=\\s]*(${T[S.XRANGEIDENTIFIERLOOSE]})(?:\\.(${T[S.XRANGEIDENTIFIERLOOSE]})(?:\\.(${T[S.XRANGEIDENTIFIERLOOSE]})(?:${T[S.PRERELEASELOOSE]})?${T[S.BUILD]}?)?)?`);U("XRANGE",`^${T[S.GTLT]}\\s*${T[S.XRANGEPLAIN]}$`);U("XRANGELOOSE",`^${T[S.GTLT]}\\s*${T[S.XRANGEPLAINLOOSE]}$`);U("COERCE",`(^|[^\\d])(\\d{1,${k_}})(?:\\.(\\d{1,${k_}}))?(?:\\.(\\d{1,${k_}}))?(?:$|[^\\d])`);U("COERCERTL",T[S.COERCE],!0);U("LONETILDE","(?:~>?)");U("TILDETRIM",`(\\s*)${T[S.LONETILDE]}\\s+`,!0);sn.tildeTrimReplace="$1~";U("TILDE",`^${T[S.LONETILDE]}${T[S.XRANGEPLAIN]}$`);U("TILDELOOSE",`^${T[S.LONETILDE]}${T[S.XRANGEPLAINLOOSE]}$`);U("LONECARET","(?:\\^)");U("CARETTRIM",`(\\s*)${T[S.LONECARET]}\\s+`,!0);sn.caretTrimReplace="$1^";U("CARET",`^${T[S.LONECARET]}${T[S.XRANGEPLAIN]}$`);U("CARETLOOSE",`^${T[S.LONECARET]}${T[S.XRANGEPLAINLOOSE]}$`);U("COMPARATORLOOSE",`^${T[S.GTLT]}\\s*(${T[S.LOOSEPLAIN]})$|^$`);U("COMPARATOR",`^${T[S.GTLT]}\\s*(${T[S.FULLPLAIN]})$|^$`);U("COMPARATORTRIM",`(\\s*)${T[S.GTLT]}\\s*(${T[S.LOOSEPLAIN]}|${T[S.XRANGEPLAIN]})`,!0);sn.comparatorTrimReplace="$1$2$3";U("HYPHENRANGE",`^\\s*(${T[S.XRANGEPLAIN]})\\s+-\\s+(${T[S.XRANGEPLAIN]})\\s*$`);U("HYPHENRANGELOOSE",`^\\s*(${T[S.XRANGEPLAINLOOSE]})\\s+-\\s+(${T[S.XRANGEPLAINLOOSE]})\\s*$`);U("STAR","(<|>)?=?\\s*\\*");U("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");U("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var wl=c((wie,c0)=>{var sX=Object.freeze({loose:!0}),iX=Object.freeze({}),oX=r=>r?typeof r!="object"?sX:r:iX;c0.exports=oX});var z_=c((qie,d0)=>{var l0=/^[0-9]+$/,h0=(r,e)=>{let t=l0.test(r),n=l0.test(e);return t&&n&&(r=+r,e=+e),r===e?0:t&&!n?-1:n&&!t?1:r<e?-1:1},aX=(r,e)=>h0(e,r);d0.exports={compareIdentifiers:h0,rcompareIdentifiers:aX}});var Qe=c((xie,E0)=>{var ql=Aa(),{MAX_LENGTH:f0,MAX_SAFE_INTEGER:xl}=va(),{re:p0,t:_0}=mi(),uX=wl(),{compareIdentifiers:Ti}=z_(),Pt=class{constructor(e,t){if(t=uX(t),e instanceof Pt){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>f0)throw new TypeError(`version is longer than ${f0} characters`);ql("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;let n=e.trim().match(t.loose?p0[_0.LOOSE]:p0[_0.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>xl||this.major<0)throw new TypeError("Invalid major version");if(this.minor>xl||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>xl||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(s=>{if(/^[0-9]+$/.test(s)){let i=+s;if(i>=0&&i<xl)return i}return s}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(ql("SemVer.compare",this.version,this.options,e),!(e instanceof Pt)){if(typeof e=="string"&&e===this.version)return 0;e=new Pt(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof Pt||(e=new Pt(e,this.options)),Ti(this.major,e.major)||Ti(this.minor,e.minor)||Ti(this.patch,e.patch)}comparePre(e){if(e instanceof Pt||(e=new Pt(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{let n=this.prerelease[t],s=e.prerelease[t];if(ql("prerelease compare",t,n,s),n===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(n===void 0)return-1;if(n===s)continue;return Ti(n,s)}while(++t)}compareBuild(e){e instanceof Pt||(e=new Pt(e,this.options));let t=0;do{let n=this.build[t],s=e.build[t];if(ql("prerelease compare",t,n,s),n===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(n===void 0)return-1;if(n===s)continue;return Ti(n,s)}while(++t)}inc(e,t,n){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,n),this.inc("pre",t,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",t,n),this.inc("pre",t,n);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let s=Number(n)?1:0;if(!t&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[s];else{let i=this.prerelease.length;for(;--i>=0;)typeof this.prerelease[i]=="number"&&(this.prerelease[i]++,i=-2);if(i===-1){if(t===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(s)}}if(t){let i=[t,s];n===!1&&(i=[t]),Ti(this.prerelease[0],t)===0?isNaN(this.prerelease[1])&&(this.prerelease=i):this.prerelease=i}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.format(),this.raw=this.version,this}};E0.exports=Pt});var zn=c((Die,m0)=>{var g0=Qe(),cX=(r,e,t=!1)=>{if(r instanceof g0)return r;try{return new g0(r,e)}catch(n){if(!t)return null;throw n}};m0.exports=cX});var S0=c(($ie,T0)=>{var lX=zn(),hX=(r,e)=>{let t=lX(r,e);return t?t.version:null};T0.exports=hX});var A0=c((jie,v0)=>{var dX=zn(),fX=(r,e)=>{let t=dX(r.trim().replace(/^[=v]+/,""),e);return t?t.version:null};v0.exports=fX});var I0=c((Uie,R0)=>{var O0=Qe(),pX=(r,e,t,n,s)=>{typeof t=="string"&&(s=n,n=t,t=void 0);try{return new O0(r instanceof O0?r.version:r,t).inc(e,n,s).version}catch{return null}};R0.exports=pX});var y0=c((Gie,N0)=>{var b0=zn(),_X=(r,e)=>{let t=b0(r,null,!0),n=b0(e,null,!0),s=t.compare(n);if(s===0)return null;let i=s>0,o=i?t:n,a=i?n:t,u=!!o.prerelease.length,l=u?"pre":"";return t.major!==n.major?l+"major":t.minor!==n.minor?l+"minor":t.patch!==n.patch?l+"patch":u?"prerelease":a.patch?"patch":a.minor?"minor":"major"};N0.exports=_X});var L0=c((Fie,P0)=>{var EX=Qe(),gX=(r,e)=>new EX(r,e).major;P0.exports=gX});var M0=c((Bie,C0)=>{var mX=Qe(),TX=(r,e)=>new mX(r,e).minor;C0.exports=TX});var q0=c((Vie,w0)=>{var SX=Qe(),vX=(r,e)=>new SX(r,e).patch;w0.exports=vX});var D0=c((Hie,x0)=>{var AX=zn(),OX=(r,e)=>{let t=AX(r,e);return t&&t.prerelease.length?t.prerelease:null};x0.exports=OX});var Gt=c((Xie,j0)=>{var $0=Qe(),RX=(r,e,t)=>new $0(r,t).compare(new $0(e,t));j0.exports=RX});var G0=c((Wie,U0)=>{var IX=Gt(),bX=(r,e,t)=>IX(e,r,t);U0.exports=bX});var B0=c((Kie,F0)=>{var NX=Gt(),yX=(r,e)=>NX(r,e,!0);F0.exports=yX});var Dl=c((Yie,H0)=>{var V0=Qe(),PX=(r,e,t)=>{let n=new V0(r,t),s=new V0(e,t);return n.compare(s)||n.compareBuild(s)};H0.exports=PX});var W0=c((kie,X0)=>{var LX=Dl(),CX=(r,e)=>r.sort((t,n)=>LX(t,n,e));X0.exports=CX});var Y0=c((zie,K0)=>{var MX=Dl(),wX=(r,e)=>r.sort((t,n)=>MX(n,t,e));K0.exports=wX});var Oa=c((Qie,k0)=>{var qX=Gt(),xX=(r,e,t)=>qX(r,e,t)>0;k0.exports=xX});var $l=c((Zie,z0)=>{var DX=Gt(),$X=(r,e,t)=>DX(r,e,t)<0;z0.exports=$X});var Q_=c((Jie,Q0)=>{var jX=Gt(),UX=(r,e,t)=>jX(r,e,t)===0;Q0.exports=UX});var Z_=c((eoe,Z0)=>{var GX=Gt(),FX=(r,e,t)=>GX(r,e,t)!==0;Z0.exports=FX});var jl=c((toe,J0)=>{var BX=Gt(),VX=(r,e,t)=>BX(r,e,t)>=0;J0.exports=VX});var Ul=c((roe,eI)=>{var HX=Gt(),XX=(r,e,t)=>HX(r,e,t)<=0;eI.exports=XX});var J_=c((noe,tI)=>{var WX=Q_(),KX=Z_(),YX=Oa(),kX=jl(),zX=$l(),QX=Ul(),ZX=(r,e,t,n)=>{switch(e){case"===":return typeof r=="object"&&(r=r.version),typeof t=="object"&&(t=t.version),r===t;case"!==":return typeof r=="object"&&(r=r.version),typeof t=="object"&&(t=t.version),r!==t;case"":case"=":case"==":return WX(r,t,n);case"!=":return KX(r,t,n);case">":return YX(r,t,n);case">=":return kX(r,t,n);case"<":return zX(r,t,n);case"<=":return QX(r,t,n);default:throw new TypeError(`Invalid operator: ${e}`)}};tI.exports=ZX});var nI=c((soe,rI)=>{var JX=Qe(),e3=zn(),{re:Gl,t:Fl}=mi(),t3=(r,e)=>{if(r instanceof JX)return r;if(typeof r=="number"&&(r=String(r)),typeof r!="string")return null;e=e||{};let t=null;if(!e.rtl)t=r.match(Gl[Fl.COERCE]);else{let n;for(;(n=Gl[Fl.COERCERTL].exec(r))&&(!t||t.index+t[0].length!==r.length);)(!t||n.index+n[0].length!==t.index+t[0].length)&&(t=n),Gl[Fl.COERCERTL].lastIndex=n.index+n[1].length+n[2].length;Gl[Fl.COERCERTL].lastIndex=-1}return t===null?null:e3(`${t[2]}.${t[3]||"0"}.${t[4]||"0"}`,e)};rI.exports=t3});var iI=c((ioe,sI)=>{"use strict";sI.exports=function(r){r.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}});var aI=c((ooe,oI)=>{"use strict";oI.exports=z;z.Node=Qn;z.create=z;function z(r){var e=this;if(e instanceof z||(e=new z),e.tail=null,e.head=null,e.length=0,r&&typeof r.forEach=="function")r.forEach(function(s){e.push(s)});else if(arguments.length>0)for(var t=0,n=arguments.length;t<n;t++)e.push(arguments[t]);return e}z.prototype.removeNode=function(r){if(r.list!==this)throw new Error("removing node which does not belong to this list");var e=r.next,t=r.prev;return e&&(e.prev=t),t&&(t.next=e),r===this.head&&(this.head=e),r===this.tail&&(this.tail=t),r.list.length--,r.next=null,r.prev=null,r.list=null,e};z.prototype.unshiftNode=function(r){if(r!==this.head){r.list&&r.list.removeNode(r);var e=this.head;r.list=this,r.next=e,e&&(e.prev=r),this.head=r,this.tail||(this.tail=r),this.length++}};z.prototype.pushNode=function(r){if(r!==this.tail){r.list&&r.list.removeNode(r);var e=this.tail;r.list=this,r.prev=e,e&&(e.next=r),this.tail=r,this.head||(this.head=r),this.length++}};z.prototype.push=function(){for(var r=0,e=arguments.length;r<e;r++)n3(this,arguments[r]);return this.length};z.prototype.unshift=function(){for(var r=0,e=arguments.length;r<e;r++)s3(this,arguments[r]);return this.length};z.prototype.pop=function(){if(this.tail){var r=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,r}};z.prototype.shift=function(){if(this.head){var r=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,r}};z.prototype.forEach=function(r,e){e=e||this;for(var t=this.head,n=0;t!==null;n++)r.call(e,t.value,n,this),t=t.next};z.prototype.forEachReverse=function(r,e){e=e||this;for(var t=this.tail,n=this.length-1;t!==null;n--)r.call(e,t.value,n,this),t=t.prev};z.prototype.get=function(r){for(var e=0,t=this.head;t!==null&&e<r;e++)t=t.next;if(e===r&&t!==null)return t.value};z.prototype.getReverse=function(r){for(var e=0,t=this.tail;t!==null&&e<r;e++)t=t.prev;if(e===r&&t!==null)return t.value};z.prototype.map=function(r,e){e=e||this;for(var t=new z,n=this.head;n!==null;)t.push(r.call(e,n.value,this)),n=n.next;return t};z.prototype.mapReverse=function(r,e){e=e||this;for(var t=new z,n=this.tail;n!==null;)t.push(r.call(e,n.value,this)),n=n.prev;return t};z.prototype.reduce=function(r,e){var t,n=this.head;if(arguments.length>1)t=e;else if(this.head)n=this.head.next,t=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var s=0;n!==null;s++)t=r(t,n.value,s),n=n.next;return t};z.prototype.reduceReverse=function(r,e){var t,n=this.tail;if(arguments.length>1)t=e;else if(this.tail)n=this.tail.prev,t=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var s=this.length-1;n!==null;s--)t=r(t,n.value,s),n=n.prev;return t};z.prototype.toArray=function(){for(var r=new Array(this.length),e=0,t=this.head;t!==null;e++)r[e]=t.value,t=t.next;return r};z.prototype.toArrayReverse=function(){for(var r=new Array(this.length),e=0,t=this.tail;t!==null;e++)r[e]=t.value,t=t.prev;return r};z.prototype.slice=function(r,e){e=e||this.length,e<0&&(e+=this.length),r=r||0,r<0&&(r+=this.length);var t=new z;if(e<r||e<0)return t;r<0&&(r=0),e>this.length&&(e=this.length);for(var n=0,s=this.head;s!==null&&n<r;n++)s=s.next;for(;s!==null&&n<e;n++,s=s.next)t.push(s.value);return t};z.prototype.sliceReverse=function(r,e){e=e||this.length,e<0&&(e+=this.length),r=r||0,r<0&&(r+=this.length);var t=new z;if(e<r||e<0)return t;r<0&&(r=0),e>this.length&&(e=this.length);for(var n=this.length,s=this.tail;s!==null&&n>e;n--)s=s.prev;for(;s!==null&&n>r;n--,s=s.prev)t.push(s.value);return t};z.prototype.splice=function(r,e,...t){r>this.length&&(r=this.length-1),r<0&&(r=this.length+r);for(var n=0,s=this.head;s!==null&&n<r;n++)s=s.next;for(var i=[],n=0;s&&n<e;n++)i.push(s.value),s=this.removeNode(s);s===null&&(s=this.tail),s!==this.head&&s!==this.tail&&(s=s.prev);for(var n=0;n<t.length;n++)s=r3(this,s,t[n]);return i};z.prototype.reverse=function(){for(var r=this.head,e=this.tail,t=r;t!==null;t=t.prev){var n=t.prev;t.prev=t.next,t.next=n}return this.head=e,this.tail=r,this};function r3(r,e,t){var n=e===r.head?new Qn(t,null,e,r):new Qn(t,e,e.next,r);return n.next===null&&(r.tail=n),n.prev===null&&(r.head=n),r.length++,n}function n3(r,e){r.tail=new Qn(e,r.tail,null,r),r.head||(r.head=r.tail),r.length++}function s3(r,e){r.head=new Qn(e,null,r.head,r),r.tail||(r.tail=r.head),r.length++}function Qn(r,e,t,n){if(!(this instanceof Qn))return new Qn(r,e,t,n);this.list=n,this.value=r,e?(e.next=this,this.prev=e):this.prev=null,t?(t.prev=this,this.next=t):this.next=null}try{iI()(z)}catch{}});var dI=c((aoe,hI)=>{"use strict";var i3=aI(),Zn=Symbol("max"),Lr=Symbol("length"),Si=Symbol("lengthCalculator"),Ia=Symbol("allowStale"),Jn=Symbol("maxAge"),Pr=Symbol("dispose"),uI=Symbol("noDisposeOnSet"),Me=Symbol("lruList"),er=Symbol("cache"),lI=Symbol("updateAgeOnGet"),eE=()=>1,rE=class{constructor(e){if(typeof e=="number"&&(e={max:e}),e||(e={}),e.max&&(typeof e.max!="number"||e.max<0))throw new TypeError("max must be a non-negative number");let t=this[Zn]=e.max||1/0,n=e.length||eE;if(this[Si]=typeof n!="function"?eE:n,this[Ia]=e.stale||!1,e.maxAge&&typeof e.maxAge!="number")throw new TypeError("maxAge must be a number");this[Jn]=e.maxAge||0,this[Pr]=e.dispose,this[uI]=e.noDisposeOnSet||!1,this[lI]=e.updateAgeOnGet||!1,this.reset()}set max(e){if(typeof e!="number"||e<0)throw new TypeError("max must be a non-negative number");this[Zn]=e||1/0,Ra(this)}get max(){return this[Zn]}set allowStale(e){this[Ia]=!!e}get allowStale(){return this[Ia]}set maxAge(e){if(typeof e!="number")throw new TypeError("maxAge must be a non-negative number");this[Jn]=e,Ra(this)}get maxAge(){return this[Jn]}set lengthCalculator(e){typeof e!="function"&&(e=eE),e!==this[Si]&&(this[Si]=e,this[Lr]=0,this[Me].forEach(t=>{t.length=this[Si](t.value,t.key),this[Lr]+=t.length})),Ra(this)}get lengthCalculator(){return this[Si]}get length(){return this[Lr]}get itemCount(){return this[Me].length}rforEach(e,t){t=t||this;for(let n=this[Me].tail;n!==null;){let s=n.prev;cI(this,e,n,t),n=s}}forEach(e,t){t=t||this;for(let n=this[Me].head;n!==null;){let s=n.next;cI(this,e,n,t),n=s}}keys(){return this[Me].toArray().map(e=>e.key)}values(){return this[Me].toArray().map(e=>e.value)}reset(){this[Pr]&&this[Me]&&this[Me].length&&this[Me].forEach(e=>this[Pr](e.key,e.value)),this[er]=new Map,this[Me]=new i3,this[Lr]=0}dump(){return this[Me].map(e=>Bl(this,e)?!1:{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[Me]}set(e,t,n){if(n=n||this[Jn],n&&typeof n!="number")throw new TypeError("maxAge must be a number");let s=n?Date.now():0,i=this[Si](t,e);if(this[er].has(e)){if(i>this[Zn])return vi(this,this[er].get(e)),!1;let u=this[er].get(e).value;return this[Pr]&&(this[uI]||this[Pr](e,u.value)),u.now=s,u.maxAge=n,u.value=t,this[Lr]+=i-u.length,u.length=i,this.get(e),Ra(this),!0}let o=new nE(e,t,i,s,n);return o.length>this[Zn]?(this[Pr]&&this[Pr](e,t),!1):(this[Lr]+=o.length,this[Me].unshift(o),this[er].set(e,this[Me].head),Ra(this),!0)}has(e){if(!this[er].has(e))return!1;let t=this[er].get(e).value;return!Bl(this,t)}get(e){return tE(this,e,!0)}peek(e){return tE(this,e,!1)}pop(){let e=this[Me].tail;return e?(vi(this,e),e.value):null}del(e){vi(this,this[er].get(e))}load(e){this.reset();let t=Date.now();for(let n=e.length-1;n>=0;n--){let s=e[n],i=s.e||0;if(i===0)this.set(s.k,s.v);else{let o=i-t;o>0&&this.set(s.k,s.v,o)}}}prune(){this[er].forEach((e,t)=>tE(this,t,!1))}},tE=(r,e,t)=>{let n=r[er].get(e);if(n){let s=n.value;if(Bl(r,s)){if(vi(r,n),!r[Ia])return}else t&&(r[lI]&&(n.value.now=Date.now()),r[Me].unshiftNode(n));return s.value}},Bl=(r,e)=>{if(!e||!e.maxAge&&!r[Jn])return!1;let t=Date.now()-e.now;return e.maxAge?t>e.maxAge:r[Jn]&&t>r[Jn]},Ra=r=>{if(r[Lr]>r[Zn])for(let e=r[Me].tail;r[Lr]>r[Zn]&&e!==null;){let t=e.prev;vi(r,e),e=t}},vi=(r,e)=>{if(e){let t=e.value;r[Pr]&&r[Pr](t.key,t.value),r[Lr]-=t.length,r[er].delete(t.key),r[Me].removeNode(e)}},nE=class{constructor(e,t,n,s,i){this.key=e,this.value=t,this.length=n,this.now=s,this.maxAge=i||0}},cI=(r,e,t,n)=>{let s=t.value;Bl(r,s)&&(vi(r,t),r[Ia]||(s=void 0)),s&&e.call(n,s.value,s.key,r)};hI.exports=rE});var Ft=c((uoe,EI)=>{var es=class{constructor(e,t){if(t=a3(t),e instanceof es)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new es(e.raw,t);if(e instanceof sE)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split("||").map(n=>this.parseRange(n.trim())).filter(n=>n.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${e}`);if(this.set.length>1){let n=this.set[0];if(this.set=this.set.filter(s=>!pI(s[0])),this.set.length===0)this.set=[n];else if(this.set.length>1){for(let s of this.set)if(s.length===1&&p3(s[0])){this.set=[s];break}}}this.format()}format(){return this.range=this.set.map(e=>e.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(e){e=e.trim();let n=((this.options.includePrerelease&&d3)|(this.options.loose&&f3))+":"+e,s=fI.get(n);if(s)return s;let i=this.options.loose,o=i?Tt[ut.HYPHENRANGELOOSE]:Tt[ut.HYPHENRANGE];e=e.replace(o,R3(this.options.includePrerelease)),me("hyphen replace",e),e=e.replace(Tt[ut.COMPARATORTRIM],c3),me("comparator trim",e),e=e.replace(Tt[ut.TILDETRIM],l3),e=e.replace(Tt[ut.CARETTRIM],h3),e=e.split(/\s+/).join(" ");let a=e.split(" ").map(d=>_3(d,this.options)).join(" ").split(/\s+/).map(d=>O3(d,this.options));i&&(a=a.filter(d=>(me("loose invalid filter",d,this.options),!!d.match(Tt[ut.COMPARATORLOOSE])))),me("range list",a);let u=new Map,l=a.map(d=>new sE(d,this.options));for(let d of l){if(pI(d))return[d];u.set(d.value,d)}u.size>1&&u.has("")&&u.delete("");let h=[...u.values()];return fI.set(n,h),h}intersects(e,t){if(!(e instanceof es))throw new TypeError("a Range is required");return this.set.some(n=>_I(n,t)&&e.set.some(s=>_I(s,t)&&n.every(i=>s.every(o=>i.intersects(o,t)))))}test(e){if(!e)return!1;if(typeof e=="string")try{e=new u3(e,this.options)}catch{return!1}for(let t=0;t<this.set.length;t++)if(I3(this.set[t],e,this.options))return!0;return!1}};EI.exports=es;var o3=dI(),fI=new o3({max:1e3}),a3=wl(),sE=ba(),me=Aa(),u3=Qe(),{re:Tt,t:ut,comparatorTrimReplace:c3,tildeTrimReplace:l3,caretTrimReplace:h3}=mi(),{FLAG_INCLUDE_PRERELEASE:d3,FLAG_LOOSE:f3}=va(),pI=r=>r.value==="<0.0.0-0",p3=r=>r.value==="",_I=(r,e)=>{let t=!0,n=r.slice(),s=n.pop();for(;t&&n.length;)t=n.every(i=>s.intersects(i,e)),s=n.pop();return t},_3=(r,e)=>(me("comp",r,e),r=m3(r,e),me("caret",r),r=E3(r,e),me("tildes",r),r=S3(r,e),me("xrange",r),r=A3(r,e),me("stars",r),r),ct=r=>!r||r.toLowerCase()==="x"||r==="*",E3=(r,e)=>r.trim().split(/\s+/).map(t=>g3(t,e)).join(" "),g3=(r,e)=>{let t=e.loose?Tt[ut.TILDELOOSE]:Tt[ut.TILDE];return r.replace(t,(n,s,i,o,a)=>{me("tilde",r,n,s,i,o,a);let u;return ct(s)?u="":ct(i)?u=`>=${s}.0.0 <${+s+1}.0.0-0`:ct(o)?u=`>=${s}.${i}.0 <${s}.${+i+1}.0-0`:a?(me("replaceTilde pr",a),u=`>=${s}.${i}.${o}-${a} <${s}.${+i+1}.0-0`):u=`>=${s}.${i}.${o} <${s}.${+i+1}.0-0`,me("tilde return",u),u})},m3=(r,e)=>r.trim().split(/\s+/).map(t=>T3(t,e)).join(" "),T3=(r,e)=>{me("caret",r,e);let t=e.loose?Tt[ut.CARETLOOSE]:Tt[ut.CARET],n=e.includePrerelease?"-0":"";return r.replace(t,(s,i,o,a,u)=>{me("caret",r,s,i,o,a,u);let l;return ct(i)?l="":ct(o)?l=`>=${i}.0.0${n} <${+i+1}.0.0-0`:ct(a)?i==="0"?l=`>=${i}.${o}.0${n} <${i}.${+o+1}.0-0`:l=`>=${i}.${o}.0${n} <${+i+1}.0.0-0`:u?(me("replaceCaret pr",u),i==="0"?o==="0"?l=`>=${i}.${o}.${a}-${u} <${i}.${o}.${+a+1}-0`:l=`>=${i}.${o}.${a}-${u} <${i}.${+o+1}.0-0`:l=`>=${i}.${o}.${a}-${u} <${+i+1}.0.0-0`):(me("no pr"),i==="0"?o==="0"?l=`>=${i}.${o}.${a}${n} <${i}.${o}.${+a+1}-0`:l=`>=${i}.${o}.${a}${n} <${i}.${+o+1}.0-0`:l=`>=${i}.${o}.${a} <${+i+1}.0.0-0`),me("caret return",l),l})},S3=(r,e)=>(me("replaceXRanges",r,e),r.split(/\s+/).map(t=>v3(t,e)).join(" ")),v3=(r,e)=>{r=r.trim();let t=e.loose?Tt[ut.XRANGELOOSE]:Tt[ut.XRANGE];return r.replace(t,(n,s,i,o,a,u)=>{me("xRange",r,n,s,i,o,a,u);let l=ct(i),h=l||ct(o),d=h||ct(a),p=d;return s==="="&&p&&(s=""),u=e.includePrerelease?"-0":"",l?s===">"||s==="<"?n="<0.0.0-0":n="*":s&&p?(h&&(o=0),a=0,s===">"?(s=">=",h?(i=+i+1,o=0,a=0):(o=+o+1,a=0)):s==="<="&&(s="<",h?i=+i+1:o=+o+1),s==="<"&&(u="-0"),n=`${s+i}.${o}.${a}${u}`):h?n=`>=${i}.0.0${u} <${+i+1}.0.0-0`:d&&(n=`>=${i}.${o}.0${u} <${i}.${+o+1}.0-0`),me("xRange return",n),n})},A3=(r,e)=>(me("replaceStars",r,e),r.trim().replace(Tt[ut.STAR],"")),O3=(r,e)=>(me("replaceGTE0",r,e),r.trim().replace(Tt[e.includePrerelease?ut.GTE0PRE:ut.GTE0],"")),R3=r=>(e,t,n,s,i,o,a,u,l,h,d,p,f)=>(ct(n)?t="":ct(s)?t=`>=${n}.0.0${r?"-0":""}`:ct(i)?t=`>=${n}.${s}.0${r?"-0":""}`:o?t=`>=${t}`:t=`>=${t}${r?"-0":""}`,ct(l)?u="":ct(h)?u=`<${+l+1}.0.0-0`:ct(d)?u=`<${l}.${+h+1}.0-0`:p?u=`<=${l}.${h}.${d}-${p}`:r?u=`<${l}.${h}.${+d+1}-0`:u=`<=${u}`,`${t} ${u}`.trim()),I3=(r,e,t)=>{for(let n=0;n<r.length;n++)if(!r[n].test(e))return!1;if(e.prerelease.length&&!t.includePrerelease){for(let n=0;n<r.length;n++)if(me(r[n].semver),r[n].semver!==sE.ANY&&r[n].semver.prerelease.length>0){let s=r[n].semver;if(s.major===e.major&&s.minor===e.minor&&s.patch===e.patch)return!0}return!1}return!0}});var ba=c((coe,AI)=>{var Na=Symbol("SemVer ANY"),Ai=class{static get ANY(){return Na}constructor(e,t){if(t=gI(t),e instanceof Ai){if(e.loose===!!t.loose)return e;e=e.value}oE("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===Na?this.value="":this.value=this.operator+this.semver.version,oE("comp",this)}parse(e){let t=this.options.loose?mI[TI.COMPARATORLOOSE]:mI[TI.COMPARATOR],n=e.match(t);if(!n)throw new TypeError(`Invalid comparator: ${e}`);this.operator=n[1]!==void 0?n[1]:"",this.operator==="="&&(this.operator=""),n[2]?this.semver=new SI(n[2],this.options.loose):this.semver=Na}toString(){return this.value}test(e){if(oE("Comparator.test",e,this.options.loose),this.semver===Na||e===Na)return!0;if(typeof e=="string")try{e=new SI(e,this.options)}catch{return!1}return iE(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof Ai))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new vI(e.value,t).test(this.value):e.operator===""?e.value===""?!0:new vI(this.value,t).test(e.semver):(t=gI(t),t.includePrerelease&&(this.value==="<0.0.0-0"||e.value==="<0.0.0-0")||!t.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&e.operator.startsWith(">")||this.operator.startsWith("<")&&e.operator.startsWith("<")||this.semver.version===e.semver.version&&this.operator.includes("=")&&e.operator.includes("=")||iE(this.semver,"<",e.semver,t)&&this.operator.startsWith(">")&&e.operator.startsWith("<")||iE(this.semver,">",e.semver,t)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))}};AI.exports=Ai;var gI=wl(),{re:mI,t:TI}=mi(),iE=J_(),oE=Aa(),SI=Qe(),vI=Ft()});var ya=c((loe,OI)=>{var b3=Ft(),N3=(r,e,t)=>{try{e=new b3(e,t)}catch{return!1}return e.test(r)};OI.exports=N3});var II=c((hoe,RI)=>{var y3=Ft(),P3=(r,e)=>new y3(r,e).set.map(t=>t.map(n=>n.value).join(" ").trim().split(" "));RI.exports=P3});var NI=c((doe,bI)=>{var L3=Qe(),C3=Ft(),M3=(r,e,t)=>{let n=null,s=null,i=null;try{i=new C3(e,t)}catch{return null}return r.forEach(o=>{i.test(o)&&(!n||s.compare(o)===-1)&&(n=o,s=new L3(n,t))}),n};bI.exports=M3});var PI=c((foe,yI)=>{var w3=Qe(),q3=Ft(),x3=(r,e,t)=>{let n=null,s=null,i=null;try{i=new q3(e,t)}catch{return null}return r.forEach(o=>{i.test(o)&&(!n||s.compare(o)===1)&&(n=o,s=new w3(n,t))}),n};yI.exports=x3});var MI=c((poe,CI)=>{var aE=Qe(),D3=Ft(),LI=Oa(),$3=(r,e)=>{r=new D3(r,e);let t=new aE("0.0.0");if(r.test(t)||(t=new aE("0.0.0-0"),r.test(t)))return t;t=null;for(let n=0;n<r.set.length;++n){let s=r.set[n],i=null;s.forEach(o=>{let a=new aE(o.semver.version);switch(o.operator){case">":a.prerelease.length===0?a.patch++:a.prerelease.push(0),a.raw=a.format();case"":case">=":(!i||LI(a,i))&&(i=a);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${o.operator}`)}}),i&&(!t||LI(t,i))&&(t=i)}return t&&r.test(t)?t:null};CI.exports=$3});var qI=c((_oe,wI)=>{var j3=Ft(),U3=(r,e)=>{try{return new j3(r,e).range||"*"}catch{return null}};wI.exports=U3});var Vl=c((Eoe,jI)=>{var G3=Qe(),$I=ba(),{ANY:F3}=$I,B3=Ft(),V3=ya(),xI=Oa(),DI=$l(),H3=Ul(),X3=jl(),W3=(r,e,t,n)=>{r=new G3(r,n),e=new B3(e,n);let s,i,o,a,u;switch(t){case">":s=xI,i=H3,o=DI,a=">",u=">=";break;case"<":s=DI,i=X3,o=xI,a="<",u="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(V3(r,e,n))return!1;for(let l=0;l<e.set.length;++l){let h=e.set[l],d=null,p=null;if(h.forEach(f=>{f.semver===F3&&(f=new $I(">=0.0.0")),d=d||f,p=p||f,s(f.semver,d.semver,n)?d=f:o(f.semver,p.semver,n)&&(p=f)}),d.operator===a||d.operator===u||(!p.operator||p.operator===a)&&i(r,p.semver))return!1;if(p.operator===u&&o(r,p.semver))return!1}return!0};jI.exports=W3});var GI=c((goe,UI)=>{var K3=Vl(),Y3=(r,e,t)=>K3(r,e,">",t);UI.exports=Y3});var BI=c((moe,FI)=>{var k3=Vl(),z3=(r,e,t)=>k3(r,e,"<",t);FI.exports=z3});var XI=c((Toe,HI)=>{var VI=Ft(),Q3=(r,e,t)=>(r=new VI(r,t),e=new VI(e,t),r.intersects(e,t));HI.exports=Q3});var KI=c((Soe,WI)=>{var Z3=ya(),J3=Gt();WI.exports=(r,e,t)=>{let n=[],s=null,i=null,o=r.sort((h,d)=>J3(h,d,t));for(let h of o)Z3(h,e,t)?(i=h,s||(s=h)):(i&&n.push([s,i]),i=null,s=null);s&&n.push([s,null]);let a=[];for(let[h,d]of n)h===d?a.push(h):!d&&h===o[0]?a.push("*"):d?h===o[0]?a.push(`<=${d}`):a.push(`${h} - ${d}`):a.push(`>=${h}`);let u=a.join(" || "),l=typeof e.raw=="string"?e.raw:String(e);return u.length<l.length?u:e}});var JI=c((voe,ZI)=>{var YI=Ft(),cE=ba(),{ANY:uE}=cE,Pa=ya(),lE=Gt(),eW=(r,e,t={})=>{if(r===e)return!0;r=new YI(r,t),e=new YI(e,t);let n=!1;e:for(let s of r.set){for(let i of e.set){let o=rW(s,i,t);if(n=n||o!==null,o)continue e}if(n)return!1}return!0},tW=[new cE(">=0.0.0-0")],kI=[new cE(">=0.0.0")],rW=(r,e,t)=>{if(r===e)return!0;if(r.length===1&&r[0].semver===uE){if(e.length===1&&e[0].semver===uE)return!0;t.includePrerelease?r=tW:r=kI}if(e.length===1&&e[0].semver===uE){if(t.includePrerelease)return!0;e=kI}let n=new Set,s,i;for(let f of r)f.operator===">"||f.operator===">="?s=zI(s,f,t):f.operator==="<"||f.operator==="<="?i=QI(i,f,t):n.add(f.semver);if(n.size>1)return null;let o;if(s&&i){if(o=lE(s.semver,i.semver,t),o>0)return null;if(o===0&&(s.operator!==">="||i.operator!=="<="))return null}for(let f of n){if(s&&!Pa(f,String(s),t)||i&&!Pa(f,String(i),t))return null;for(let E of e)if(!Pa(f,String(E),t))return!1;return!0}let a,u,l,h,d=i&&!t.includePrerelease&&i.semver.prerelease.length?i.semver:!1,p=s&&!t.includePrerelease&&s.semver.prerelease.length?s.semver:!1;d&&d.prerelease.length===1&&i.operator==="<"&&d.prerelease[0]===0&&(d=!1);for(let f of e){if(h=h||f.operator===">"||f.operator===">=",l=l||f.operator==="<"||f.operator==="<=",s){if(p&&f.semver.prerelease&&f.semver.prerelease.length&&f.semver.major===p.major&&f.semver.minor===p.minor&&f.semver.patch===p.patch&&(p=!1),f.operator===">"||f.operator===">="){if(a=zI(s,f,t),a===f&&a!==s)return!1}else if(s.operator===">="&&!Pa(s.semver,String(f),t))return!1}if(i){if(d&&f.semver.prerelease&&f.semver.prerelease.length&&f.semver.major===d.major&&f.semver.minor===d.minor&&f.semver.patch===d.patch&&(d=!1),f.operator==="<"||f.operator==="<="){if(u=QI(i,f,t),u===f&&u!==i)return!1}else if(i.operator==="<="&&!Pa(i.semver,String(f),t))return!1}if(!f.operator&&(i||s)&&o!==0)return!1}return!(s&&l&&!i&&o!==0||i&&h&&!s&&o!==0||p||d)},zI=(r,e,t)=>{if(!r)return e;let n=lE(r.semver,e.semver,t);return n>0?r:n<0||e.operator===">"&&r.operator===">="?e:r},QI=(r,e,t)=>{if(!r)return e;let n=lE(r.semver,e.semver,t);return n<0?r:n>0||e.operator==="<"&&r.operator==="<="?e:r};ZI.exports=eW});var nb=c((Aoe,rb)=>{var hE=mi(),eb=va(),nW=Qe(),tb=z_(),sW=zn(),iW=S0(),oW=A0(),aW=I0(),uW=y0(),cW=L0(),lW=M0(),hW=q0(),dW=D0(),fW=Gt(),pW=G0(),_W=B0(),EW=Dl(),gW=W0(),mW=Y0(),TW=Oa(),SW=$l(),vW=Q_(),AW=Z_(),OW=jl(),RW=Ul(),IW=J_(),bW=nI(),NW=ba(),yW=Ft(),PW=ya(),LW=II(),CW=NI(),MW=PI(),wW=MI(),qW=qI(),xW=Vl(),DW=GI(),$W=BI(),jW=XI(),UW=KI(),GW=JI();rb.exports={parse:sW,valid:iW,clean:oW,inc:aW,diff:uW,major:cW,minor:lW,patch:hW,prerelease:dW,compare:fW,rcompare:pW,compareLoose:_W,compareBuild:EW,sort:gW,rsort:mW,gt:TW,lt:SW,eq:vW,neq:AW,gte:OW,lte:RW,cmp:IW,coerce:bW,Comparator:NW,Range:yW,satisfies:PW,toComparators:LW,maxSatisfying:CW,minSatisfying:MW,minVersion:wW,validRange:qW,outside:xW,gtr:DW,ltr:$W,intersects:jW,simplifyRange:UW,subset:GW,SemVer:nW,re:hE.re,src:hE.src,tokens:hE.t,SEMVER_SPEC_VERSION:eb.SEMVER_SPEC_VERSION,RELEASE_TYPES:eb.RELEASE_TYPES,compareIdentifiers:tb.compareIdentifiers,rcompareIdentifiers:tb.rcompareIdentifiers}});var Ma=c((Ooe,ob)=>{"use strict";function dE(r){return typeof r=="function"}var lt=console.error.bind(console);function La(r,e,t){var n=!!r[e]&&r.propertyIsEnumerable(e);Object.defineProperty(r,e,{configurable:!0,enumerable:n,writable:!0,value:t})}function Ca(r){r&&r.logger&&(dE(r.logger)?lt=r.logger:lt("new logger isn't a function, not replacing"))}function sb(r,e,t){if(!r||!r[e]){lt("no original function "+e+" to wrap");return}if(!t){lt("no wrapper function"),lt(new Error().stack);return}if(!dE(r[e])||!dE(t)){lt("original object and wrapper must be functions");return}var n=r[e],s=t(n,e);return La(s,"__original",n),La(s,"__unwrap",function(){r[e]===s&&La(r,e,n)}),La(s,"__wrapped",!0),La(r,e,s),s}function FW(r,e,t){if(r)Array.isArray(r)||(r=[r]);else{lt("must provide one or more modules to patch"),lt(new Error().stack);return}if(!(e&&Array.isArray(e))){lt("must provide one or more functions to wrap on modules");return}r.forEach(function(n){e.forEach(function(s){sb(n,s,t)})})}function ib(r,e){if(!r||!r[e]){lt("no function to unwrap."),lt(new Error().stack);return}if(!r[e].__unwrap)lt("no original to unwrap to -- has "+e+" already been unwrapped?");else return r[e].__unwrap()}function BW(r,e){if(r)Array.isArray(r)||(r=[r]);else{lt("must provide one or more modules to patch"),lt(new Error().stack);return}if(!(e&&Array.isArray(e))){lt("must provide one or more functions to unwrap on modules");return}r.forEach(function(t){e.forEach(function(n){ib(t,n)})})}Ca.wrap=sb;Ca.massWrap=FW;Ca.unwrap=ib;Ca.massUnwrap=BW;ob.exports=Ca});var ab=c(Xl=>{"use strict";Object.defineProperty(Xl,"__esModule",{value:!0});Xl.InstrumentationAbstract=void 0;var fE=_(),Hl=Ma(),pE=class{constructor(e,t,n={}){this.instrumentationName=e,this.instrumentationVersion=t,this._wrap=Hl.wrap,this._unwrap=Hl.unwrap,this._massWrap=Hl.massWrap,this._massUnwrap=Hl.massUnwrap,this._config=Object.assign({enabled:!0},n),this._diag=fE.diag.createComponentLogger({namespace:e}),this._tracer=fE.trace.getTracer(e,t),this._meter=fE.metrics.getMeter(e,t),this._updateMetricInstruments()}get meter(){return this._meter}setMeterProvider(e){this._meter=e.getMeter(this.instrumentationName,this.instrumentationVersion),this._updateMetricInstruments()}_updateMetricInstruments(){}getConfig(){return this._config}setConfig(e={}){this._config=Object.assign({},e)}setTracerProvider(e){this._tracer=e.getTracer(this.instrumentationName,this.instrumentationVersion)}get tracer(){return this._tracer}};Xl.InstrumentationAbstract=pE});var _E=c((Ioe,ub)=>{"use strict";var VW=require("os");ub.exports=VW.homedir||function(){var e=process.env.HOME,t=process.env.LOGNAME||process.env.USER||process.env.LNAME||process.env.USERNAME;return process.platform==="win32"?process.env.USERPROFILE||process.env.HOMEDRIVE+process.env.HOMEPATH||e||null:process.platform==="darwin"?e||(t?"/Users/"+t:null):process.platform==="linux"?e||(process.getuid()===0?"/root":t?"/home/"+t:null):e||null}});var EE=c((boe,cb)=>{cb.exports=function(){var r=Error.prepareStackTrace;Error.prepareStackTrace=function(t,n){return n};var e=new Error().stack;return Error.prepareStackTrace=r,e[2].getFileName()}});var lb=c((Noe,wa)=>{"use strict";var HW=process.platform==="win32",XW=/^(((?:[a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?[\\\/]?)(?:[^\\\/]*[\\\/])*)((\.{1,2}|[^\\\/]+?|)(\.[^.\/\\]*|))[\\\/]*$/,gE={};function WW(r){return XW.exec(r).slice(1)}gE.parse=function(r){if(typeof r!="string")throw new TypeError("Parameter 'pathString' must be a string, not "+typeof r);var e=WW(r);if(!e||e.length!==5)throw new TypeError("Invalid path '"+r+"'");return{root:e[1],dir:e[0]===e[1]?e[0]:e[0].slice(0,-1),base:e[2],ext:e[4],name:e[3]}};var KW=/^((\/?)(?:[^\/]*\/)*)((\.{1,2}|[^\/]+?|)(\.[^.\/]*|))[\/]*$/,mE={};function YW(r){return KW.exec(r).slice(1)}mE.parse=function(r){if(typeof r!="string")throw new TypeError("Parameter 'pathString' must be a string, not "+typeof r);var e=YW(r);if(!e||e.length!==5)throw new TypeError("Invalid path '"+r+"'");return{root:e[1],dir:e[0].slice(0,-1),base:e[2],ext:e[4],name:e[3]}};HW?wa.exports=gE.parse:wa.exports=mE.parse;wa.exports.posix=mE.parse;wa.exports.win32=gE.parse});var TE=c((yoe,pb)=>{var fb=require("path"),hb=fb.parse||lb(),db=function(e,t){var n="/";/^([A-Za-z]:)/.test(e)?n="":/^\\\\/.test(e)&&(n="\\\\");for(var s=[e],i=hb(e);i.dir!==s[s.length-1];)s.push(i.dir),i=hb(i.dir);return s.reduce(function(o,a){return o.concat(t.map(function(u){return fb.resolve(n,a,u)}))},[])};pb.exports=function(e,t,n){var s=t&&t.moduleDirectory?[].concat(t.moduleDirectory):["node_modules"];if(t&&typeof t.paths=="function")return t.paths(n,e,function(){return db(e,s)},t);var i=db(e,s);return t&&t.paths?i.concat(t.paths):i}});var SE=c((Poe,_b)=>{_b.exports=function(r,e){return e||{}}});var gb=c((Loe,Eb)=>{"use strict";var kW="Function.prototype.bind called on incompatible ",vE=Array.prototype.slice,zW=Object.prototype.toString,QW="[object Function]";Eb.exports=function(e){var t=this;if(typeof t!="function"||zW.call(t)!==QW)throw new TypeError(kW+t);for(var n=vE.call(arguments,1),s,i=function(){if(this instanceof s){var h=t.apply(this,n.concat(vE.call(arguments)));return Object(h)===h?h:this}else return t.apply(e,n.concat(vE.call(arguments)))},o=Math.max(0,t.length-n.length),a=[],u=0;u<o;u++)a.push("$"+u);if(s=Function("binder","return function ("+a.join(",")+"){ return binder.apply(this,arguments); }")(i),t.prototype){var l=function(){};l.prototype=t.prototype,s.prototype=new l,l.prototype=null}return s}});var Tb=c((Coe,mb)=>{"use strict";var ZW=gb();mb.exports=Function.prototype.bind||ZW});var vb=c((Moe,Sb)=>{"use strict";var JW=Tb();Sb.exports=JW.call(Function.call,Object.prototype.hasOwnProperty)});var Ab=c((woe,e6)=>{e6.exports={assert:!0,"node:assert":[">= 14.18 && < 15",">= 16"],"assert/strict":">= 15","node:assert/strict":">= 16",async_hooks:">= 8","node:async_hooks":[">= 14.18 && < 15",">= 16"],buffer_ieee754:">= 0.5 && < 0.9.7",buffer:!0,"node:buffer":[">= 14.18 && < 15",">= 16"],child_process:!0,"node:child_process":[">= 14.18 && < 15",">= 16"],cluster:">= 0.5","node:cluster":[">= 14.18 && < 15",">= 16"],console:!0,"node:console":[">= 14.18 && < 15",">= 16"],constants:!0,"node:constants":[">= 14.18 && < 15",">= 16"],crypto:!0,"node:crypto":[">= 14.18 && < 15",">= 16"],_debug_agent:">= 1 && < 8",_debugger:"< 8",dgram:!0,"node:dgram":[">= 14.18 && < 15",">= 16"],diagnostics_channel:[">= 14.17 && < 15",">= 15.1"],"node:diagnostics_channel":[">= 14.18 && < 15",">= 16"],dns:!0,"node:dns":[">= 14.18 && < 15",">= 16"],"dns/promises":">= 15","node:dns/promises":">= 16",domain:">= 0.7.12","node:domain":[">= 14.18 && < 15",">= 16"],events:!0,"node:events":[">= 14.18 && < 15",">= 16"],freelist:"< 6",fs:!0,"node:fs":[">= 14.18 && < 15",">= 16"],"fs/promises":[">= 10 && < 10.1",">= 14"],"node:fs/promises":[">= 14.18 && < 15",">= 16"],_http_agent:">= 0.11.1","node:_http_agent":[">= 14.18 && < 15",">= 16"],_http_client:">= 0.11.1","node:_http_client":[">= 14.18 && < 15",">= 16"],_http_common:">= 0.11.1","node:_http_common":[">= 14.18 && < 15",">= 16"],_http_incoming:">= 0.11.1","node:_http_incoming":[">= 14.18 && < 15",">= 16"],_http_outgoing:">= 0.11.1","node:_http_outgoing":[">= 14.18 && < 15",">= 16"],_http_server:">= 0.11.1","node:_http_server":[">= 14.18 && < 15",">= 16"],http:!0,"node:http":[">= 14.18 && < 15",">= 16"],http2:">= 8.8","node:http2":[">= 14.18 && < 15",">= 16"],https:!0,"node:https":[">= 14.18 && < 15",">= 16"],inspector:">= 8","node:inspector":[">= 14.18 && < 15",">= 16"],"inspector/promises":[">= 19"],"node:inspector/promises":[">= 19"],_linklist:"< 8",module:!0,"node:module":[">= 14.18 && < 15",">= 16"],net:!0,"node:net":[">= 14.18 && < 15",">= 16"],"node-inspect/lib/_inspect":">= 7.6 && < 12","node-inspect/lib/internal/inspect_client":">= 7.6 && < 12","node-inspect/lib/internal/inspect_repl":">= 7.6 && < 12",os:!0,"node:os":[">= 14.18 && < 15",">= 16"],path:!0,"node:path":[">= 14.18 && < 15",">= 16"],"path/posix":">= 15.3","node:path/posix":">= 16","path/win32":">= 15.3","node:path/win32":">= 16",perf_hooks:">= 8.5","node:perf_hooks":[">= 14.18 && < 15",">= 16"],process:">= 1","node:process":[">= 14.18 && < 15",">= 16"],punycode:">= 0.5","node:punycode":[">= 14.18 && < 15",">= 16"],querystring:!0,"node:querystring":[">= 14.18 && < 15",">= 16"],readline:!0,"node:readline":[">= 14.18 && < 15",">= 16"],"readline/promises":">= 17","node:readline/promises":">= 17",repl:!0,"node:repl":[">= 14.18 && < 15",">= 16"],smalloc:">= 0.11.5 && < 3",_stream_duplex:">= 0.9.4","node:_stream_duplex":[">= 14.18 && < 15",">= 16"],_stream_transform:">= 0.9.4","node:_stream_transform":[">= 14.18 && < 15",">= 16"],_stream_wrap:">= 1.4.1","node:_stream_wrap":[">= 14.18 && < 15",">= 16"],_stream_passthrough:">= 0.9.4","node:_stream_passthrough":[">= 14.18 && < 15",">= 16"],_stream_readable:">= 0.9.4","node:_stream_readable":[">= 14.18 && < 15",">= 16"],_stream_writable:">= 0.9.4","node:_stream_writable":[">= 14.18 && < 15",">= 16"],stream:!0,"node:stream":[">= 14.18 && < 15",">= 16"],"stream/consumers":">= 16.7","node:stream/consumers":">= 16.7","stream/promises":">= 15","node:stream/promises":">= 16","stream/web":">= 16.5","node:stream/web":">= 16.5",string_decoder:!0,"node:string_decoder":[">= 14.18 && < 15",">= 16"],sys:[">= 0.4 && < 0.7",">= 0.8"],"node:sys":[">= 14.18 && < 15",">= 16"],"test/reporters":">= 19.9 && < 20.2","node:test/reporters":[">= 19.9",">= 20"],"node:test":[">= 16.17 && < 17",">= 18"],timers:!0,"node:timers":[">= 14.18 && < 15",">= 16"],"timers/promises":">= 15","node:timers/promises":">= 16",_tls_common:">= 0.11.13","node:_tls_common":[">= 14.18 && < 15",">= 16"],_tls_legacy:">= 0.11.3 && < 10",_tls_wrap:">= 0.11.3","node:_tls_wrap":[">= 14.18 && < 15",">= 16"],tls:!0,"node:tls":[">= 14.18 && < 15",">= 16"],trace_events:">= 10","node:trace_events":[">= 14.18 && < 15",">= 16"],tty:!0,"node:tty":[">= 14.18 && < 15",">= 16"],url:!0,"node:url":[">= 14.18 && < 15",">= 16"],util:!0,"node:util":[">= 14.18 && < 15",">= 16"],"util/types":">= 15.3","node:util/types":">= 16","v8/tools/arguments":">= 10 && < 12","v8/tools/codemap":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/consarray":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/csvparser":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/logreader":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/profile_view":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/splaytree":[">= 4.4 && < 5",">= 5.2 && < 12"],v8:">= 1","node:v8":[">= 14.18 && < 15",">= 16"],vm:!0,"node:vm":[">= 14.18 && < 15",">= 16"],wasi:[">= 13.4 && < 13.5",">= 20"],"node:wasi":">= 20",worker_threads:">= 11.7","node:worker_threads":[">= 14.18 && < 15",">= 16"],zlib:">= 0.5","node:zlib":[">= 14.18 && < 15",">= 16"]}});var qa=c((qoe,Ib)=>{"use strict";var t6=vb();function r6(r,e){for(var t=r.split("."),n=e.split(" "),s=n.length>1?n[0]:"=",i=(n.length>1?n[1]:n[0]).split("."),o=0;o<3;++o){var a=parseInt(t[o]||0,10),u=parseInt(i[o]||0,10);if(a!==u)return s==="<"?a<u:s===">="?a>=u:!1}return s===">="}function Ob(r,e){var t=e.split(/ ?&& ?/);if(t.length===0)return!1;for(var n=0;n<t.length;++n)if(!r6(r,t[n]))return!1;return!0}function n6(r,e){if(typeof e=="boolean")return e;var t=typeof r>"u"?process.versions&&process.versions.node:r;if(typeof t!="string")throw new TypeError(typeof r>"u"?"Unable to determine current node version":"If provided, a valid node version is required");if(e&&typeof e=="object"){for(var n=0;n<e.length;++n)if(Ob(t,e[n]))return!0;return!1}return Ob(t,e)}var Rb=Ab();Ib.exports=function(e,t){return t6(Rb,e)&&n6(t,Rb[e])}});var yb=c((xoe,Nb)=>{var ts=require("fs"),s6=_E(),Ne=require("path"),i6=EE(),o6=TE(),a6=SE(),u6=qa(),c6=process.platform!=="win32"&&ts.realpath&&typeof ts.realpath.native=="function"?ts.realpath.native:ts.realpath,bb=s6(),l6=function(){return[Ne.join(bb,".node_modules"),Ne.join(bb,".node_libraries")]},h6=function(e,t){ts.stat(e,function(n,s){return n?n.code==="ENOENT"||n.code==="ENOTDIR"?t(null,!1):t(n):t(null,s.isFile()||s.isFIFO())})},d6=function(e,t){ts.stat(e,function(n,s){return n?n.code==="ENOENT"||n.code==="ENOTDIR"?t(null,!1):t(n):t(null,s.isDirectory())})},f6=function(e,t){c6(e,function(n,s){n&&n.code!=="ENOENT"?t(n):t(null,n?e:s)})},xa=function(e,t,n,s){n&&n.preserveSymlinks===!1?e(t,s):s(null,t)},p6=function(e,t,n){e(t,function(s,i){if(s)n(s);else try{var o=JSON.parse(i);n(null,o)}catch{n(null)}})},_6=function(e,t,n){for(var s=o6(t,n,e),i=0;i<s.length;i++)s[i]=Ne.join(s[i],e);return s};Nb.exports=function(e,t,n){var s=n,i=t;if(typeof t=="function"&&(s=i,i={}),typeof e!="string"){var o=new TypeError("Path must be a string.");return process.nextTick(function(){s(o)})}i=a6(e,i);var a=i.isFile||h6,u=i.isDirectory||d6,l=i.readFile||ts.readFile,h=i.realpath||f6,d=i.readPackage||p6;if(i.readFile&&i.readPackage){var p=new TypeError("`readFile` and `readPackage` are mutually exclusive.");return process.nextTick(function(){s(p)})}var f=i.packageIterator,E=i.extensions||[".js"],y=i.includeCoreModules!==!1,q=i.basedir||Ne.dirname(i6()),N=i.filename||q;i.paths=i.paths||l6();var Y=Ne.resolve(q);xa(h,Y,i,function(P,D){P?s(P):re(D)});var M;function re(P){if(/^(?:\.\.?(?:\/|$)|\/|([A-Za-z]:)?[/\\])/.test(e))M=Ne.resolve(P,e),(e==="."||e===".."||e.slice(-1)==="/")&&(M+="/"),/\/$/.test(e)&&M===P?ne(M,i.package,oe):Oe(M,i.package,oe);else{if(y&&u6(e))return s(null,e);ee(e,P,function(D,ce,K){if(D)s(D);else{if(ce)return xa(h,ce,i,function(Xe,le){Xe?s(Xe):s(null,le,K)});var ae=new Error("Cannot find module '"+e+"' from '"+N+"'");ae.code="MODULE_NOT_FOUND",s(ae)}})}}function oe(P,D,ce){P?s(P):D?s(null,D,ce):ne(M,function(K,ae,Xe){if(K)s(K);else if(ae)xa(h,ae,i,function(he,Ue){he?s(he):s(null,Ue,Xe)});else{var le=new Error("Cannot find module '"+e+"' from '"+N+"'");le.code="MODULE_NOT_FOUND",s(le)}})}function Oe(P,D,ce){var K=D,ae=ce;typeof K=="function"&&(ae=K,K=void 0);var Xe=[""].concat(E);le(Xe,P,K);function le(he,Ue,$t){if(he.length===0)return ae(null,void 0,$t);var wn=Ue+he[0],dr=$t;dr?We(null,dr):W(Ne.dirname(wn),We);function We(kr,zs,Ir){if(dr=zs,kr)return ae(kr);if(Ir&&dr&&i.pathFilter){var Ju=Ne.relative(Ir,wn),ec=Ju.slice(0,Ju.length-he[0].length),Uo=i.pathFilter(dr,Ue,ec);if(Uo)return le([""].concat(E.slice()),Ne.resolve(Ir,Uo),dr)}a(wn,Zu)}function Zu(kr,zs){if(kr)return ae(kr);if(zs)return ae(null,wn,dr);le(he.slice(1),Ue,dr)}}}function W(P,D){if(P===""||P==="/"||process.platform==="win32"&&/^\w:[/\\]*$/.test(P)||/[/\\]node_modules[/\\]*$/.test(P))return D(null);xa(h,P,i,function(ce,K){if(ce)return W(Ne.dirname(P),D);var ae=Ne.join(K,"package.json");a(ae,function(Xe,le){if(!le)return W(Ne.dirname(P),D);d(l,ae,function(he,Ue){he&&D(he);var $t=Ue;$t&&i.packageFilter&&($t=i.packageFilter($t,ae)),D(null,$t,P)})})})}function ne(P,D,ce){var K=ce,ae=D;typeof ae=="function"&&(K=ae,ae=i.package),xa(h,P,i,function(Xe,le){if(Xe)return K(Xe);var he=Ne.join(le,"package.json");a(he,function(Ue,$t){if(Ue)return K(Ue);if(!$t)return Oe(Ne.join(P,"index"),ae,K);d(l,he,function(wn,dr){if(wn)return K(wn);var We=dr;if(We&&i.packageFilter&&(We=i.packageFilter(We,he)),We&&We.main){if(typeof We.main!="string"){var Zu=new TypeError("package \u201C"+We.name+"\u201D `main` must be a string");return Zu.code="INVALID_PACKAGE_MAIN",K(Zu)}(We.main==="."||We.main==="./")&&(We.main="index"),Oe(Ne.resolve(P,We.main),We,function(kr,zs,Ir){if(kr)return K(kr);if(zs)return K(null,zs,Ir);if(!Ir)return Oe(Ne.join(P,"index"),Ir,K);var Ju=Ne.resolve(P,Ir.main);ne(Ju,Ir,function(ec,Uo,DS){if(ec)return K(ec);if(Uo)return K(null,Uo,DS);Oe(Ne.join(P,"index"),DS,K)})});return}Oe(Ne.join(P,"/index"),We,K)})})})}function se(P,D){if(D.length===0)return P(null,void 0);var ce=D[0];u(Ne.dirname(ce),K);function K(le,he){if(le)return P(le);if(!he)return se(P,D.slice(1));Oe(ce,i.package,ae)}function ae(le,he,Ue){if(le)return P(le);if(he)return P(null,he,Ue);ne(ce,i.package,Xe)}function Xe(le,he,Ue){if(le)return P(le);if(he)return P(null,he,Ue);se(P,D.slice(1))}}function ee(P,D,ce){var K=function(){return _6(P,D,i)};se(ce,f?f(P,D,K,i):K())}}});var Pb=c((Doe,E6)=>{E6.exports={assert:!0,"node:assert":[">= 14.18 && < 15",">= 16"],"assert/strict":">= 15","node:assert/strict":">= 16",async_hooks:">= 8","node:async_hooks":[">= 14.18 && < 15",">= 16"],buffer_ieee754:">= 0.5 && < 0.9.7",buffer:!0,"node:buffer":[">= 14.18 && < 15",">= 16"],child_process:!0,"node:child_process":[">= 14.18 && < 15",">= 16"],cluster:">= 0.5","node:cluster":[">= 14.18 && < 15",">= 16"],console:!0,"node:console":[">= 14.18 && < 15",">= 16"],constants:!0,"node:constants":[">= 14.18 && < 15",">= 16"],crypto:!0,"node:crypto":[">= 14.18 && < 15",">= 16"],_debug_agent:">= 1 && < 8",_debugger:"< 8",dgram:!0,"node:dgram":[">= 14.18 && < 15",">= 16"],diagnostics_channel:[">= 14.17 && < 15",">= 15.1"],"node:diagnostics_channel":[">= 14.18 && < 15",">= 16"],dns:!0,"node:dns":[">= 14.18 && < 15",">= 16"],"dns/promises":">= 15","node:dns/promises":">= 16",domain:">= 0.7.12","node:domain":[">= 14.18 && < 15",">= 16"],events:!0,"node:events":[">= 14.18 && < 15",">= 16"],freelist:"< 6",fs:!0,"node:fs":[">= 14.18 && < 15",">= 16"],"fs/promises":[">= 10 && < 10.1",">= 14"],"node:fs/promises":[">= 14.18 && < 15",">= 16"],_http_agent:">= 0.11.1","node:_http_agent":[">= 14.18 && < 15",">= 16"],_http_client:">= 0.11.1","node:_http_client":[">= 14.18 && < 15",">= 16"],_http_common:">= 0.11.1","node:_http_common":[">= 14.18 && < 15",">= 16"],_http_incoming:">= 0.11.1","node:_http_incoming":[">= 14.18 && < 15",">= 16"],_http_outgoing:">= 0.11.1","node:_http_outgoing":[">= 14.18 && < 15",">= 16"],_http_server:">= 0.11.1","node:_http_server":[">= 14.18 && < 15",">= 16"],http:!0,"node:http":[">= 14.18 && < 15",">= 16"],http2:">= 8.8","node:http2":[">= 14.18 && < 15",">= 16"],https:!0,"node:https":[">= 14.18 && < 15",">= 16"],inspector:">= 8","node:inspector":[">= 14.18 && < 15",">= 16"],"inspector/promises":[">= 19"],"node:inspector/promises":[">= 19"],_linklist:"< 8",module:!0,"node:module":[">= 14.18 && < 15",">= 16"],net:!0,"node:net":[">= 14.18 && < 15",">= 16"],"node-inspect/lib/_inspect":">= 7.6 && < 12","node-inspect/lib/internal/inspect_client":">= 7.6 && < 12","node-inspect/lib/internal/inspect_repl":">= 7.6 && < 12",os:!0,"node:os":[">= 14.18 && < 15",">= 16"],path:!0,"node:path":[">= 14.18 && < 15",">= 16"],"path/posix":">= 15.3","node:path/posix":">= 16","path/win32":">= 15.3","node:path/win32":">= 16",perf_hooks:">= 8.5","node:perf_hooks":[">= 14.18 && < 15",">= 16"],process:">= 1","node:process":[">= 14.18 && < 15",">= 16"],punycode:">= 0.5","node:punycode":[">= 14.18 && < 15",">= 16"],querystring:!0,"node:querystring":[">= 14.18 && < 15",">= 16"],readline:!0,"node:readline":[">= 14.18 && < 15",">= 16"],"readline/promises":">= 17","node:readline/promises":">= 17",repl:!0,"node:repl":[">= 14.18 && < 15",">= 16"],smalloc:">= 0.11.5 && < 3",_stream_duplex:">= 0.9.4","node:_stream_duplex":[">= 14.18 && < 15",">= 16"],_stream_transform:">= 0.9.4","node:_stream_transform":[">= 14.18 && < 15",">= 16"],_stream_wrap:">= 1.4.1","node:_stream_wrap":[">= 14.18 && < 15",">= 16"],_stream_passthrough:">= 0.9.4","node:_stream_passthrough":[">= 14.18 && < 15",">= 16"],_stream_readable:">= 0.9.4","node:_stream_readable":[">= 14.18 && < 15",">= 16"],_stream_writable:">= 0.9.4","node:_stream_writable":[">= 14.18 && < 15",">= 16"],stream:!0,"node:stream":[">= 14.18 && < 15",">= 16"],"stream/consumers":">= 16.7","node:stream/consumers":">= 16.7","stream/promises":">= 15","node:stream/promises":">= 16","stream/web":">= 16.5","node:stream/web":">= 16.5",string_decoder:!0,"node:string_decoder":[">= 14.18 && < 15",">= 16"],sys:[">= 0.4 && < 0.7",">= 0.8"],"node:sys":[">= 14.18 && < 15",">= 16"],"node:test":[">= 16.17 && < 17",">= 18"],timers:!0,"node:timers":[">= 14.18 && < 15",">= 16"],"timers/promises":">= 15","node:timers/promises":">= 16",_tls_common:">= 0.11.13","node:_tls_common":[">= 14.18 && < 15",">= 16"],_tls_legacy:">= 0.11.3 && < 10",_tls_wrap:">= 0.11.3","node:_tls_wrap":[">= 14.18 && < 15",">= 16"],tls:!0,"node:tls":[">= 14.18 && < 15",">= 16"],trace_events:">= 10","node:trace_events":[">= 14.18 && < 15",">= 16"],tty:!0,"node:tty":[">= 14.18 && < 15",">= 16"],url:!0,"node:url":[">= 14.18 && < 15",">= 16"],util:!0,"node:util":[">= 14.18 && < 15",">= 16"],"util/types":">= 15.3","node:util/types":">= 16","v8/tools/arguments":">= 10 && < 12","v8/tools/codemap":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/consarray":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/csvparser":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/logreader":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/profile_view":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/splaytree":[">= 4.4 && < 5",">= 5.2 && < 12"],v8:">= 1","node:v8":[">= 14.18 && < 15",">= 16"],vm:!0,"node:vm":[">= 14.18 && < 15",">= 16"],wasi:">= 13.4 && < 13.5",worker_threads:">= 11.7","node:worker_threads":[">= 14.18 && < 15",">= 16"],zlib:">= 0.5","node:zlib":[">= 14.18 && < 15",">= 16"]}});var wb=c(($oe,Mb)=>{"use strict";var g6=qa(),Lb=Pb(),Cb={};for(Wl in Lb)Object.prototype.hasOwnProperty.call(Lb,Wl)&&(Cb[Wl]=g6(Wl));var Wl;Mb.exports=Cb});var xb=c((joe,qb)=>{var m6=qa();qb.exports=function(e){return m6(e)}});var jb=c((Uoe,$b)=>{var T6=qa(),rs=require("fs"),Ze=require("path"),S6=_E(),v6=EE(),A6=TE(),O6=SE(),R6=process.platform!=="win32"&&rs.realpathSync&&typeof rs.realpathSync.native=="function"?rs.realpathSync.native:rs.realpathSync,Db=S6(),I6=function(){return[Ze.join(Db,".node_modules"),Ze.join(Db,".node_libraries")]},b6=function(e){try{var t=rs.statSync(e,{throwIfNoEntry:!1})}catch(n){if(n&&(n.code==="ENOENT"||n.code==="ENOTDIR"))return!1;throw n}return!!t&&(t.isFile()||t.isFIFO())},N6=function(e){try{var t=rs.statSync(e,{throwIfNoEntry:!1})}catch(n){if(n&&(n.code==="ENOENT"||n.code==="ENOTDIR"))return!1;throw n}return!!t&&t.isDirectory()},y6=function(e){try{return R6(e)}catch(t){if(t.code!=="ENOENT")throw t}return e},Da=function(e,t,n){return n&&n.preserveSymlinks===!1?e(t):t},P6=function(e,t){var n=e(t);try{var s=JSON.parse(n);return s}catch{}},L6=function(e,t,n){for(var s=A6(t,n,e),i=0;i<s.length;i++)s[i]=Ze.join(s[i],e);return s};$b.exports=function(e,t){if(typeof e!="string")throw new TypeError("Path must be a string.");var n=O6(e,t),s=n.isFile||b6,i=n.readFileSync||rs.readFileSync,o=n.isDirectory||N6,a=n.realpathSync||y6,u=n.readPackageSync||P6;if(n.readFileSync&&n.readPackageSync)throw new TypeError("`readFileSync` and `readPackageSync` are mutually exclusive.");var l=n.packageIterator,h=n.extensions||[".js"],d=n.includeCoreModules!==!1,p=n.basedir||Ze.dirname(v6()),f=n.filename||p;n.paths=n.paths||I6();var E=Da(a,Ze.resolve(p),n);if(/^(?:\.\.?(?:\/|$)|\/|([A-Za-z]:)?[/\\])/.test(e)){var y=Ze.resolve(E,e);(e==="."||e===".."||e.slice(-1)==="/")&&(y+="/");var q=M(y)||oe(y);if(q)return Da(a,q,n)}else{if(d&&T6(e))return e;var N=Oe(e,E);if(N)return Da(a,N,n)}var Y=new Error("Cannot find module '"+e+"' from '"+f+"'");throw Y.code="MODULE_NOT_FOUND",Y;function M(W){var ne=re(Ze.dirname(W));if(ne&&ne.dir&&ne.pkg&&n.pathFilter){var se=Ze.relative(ne.dir,W),ee=n.pathFilter(ne.pkg,W,se);ee&&(W=Ze.resolve(ne.dir,ee))}if(s(W))return W;for(var P=0;P<h.length;P++){var D=W+h[P];if(s(D))return D}}function re(W){if(!(W===""||W==="/")&&!(process.platform==="win32"&&/^\w:[/\\]*$/.test(W))&&!/[/\\]node_modules[/\\]*$/.test(W)){var ne=Ze.join(Da(a,W,n),"package.json");if(!s(ne))return re(Ze.dirname(W));var se=u(i,ne);return se&&n.packageFilter&&(se=n.packageFilter(se,W)),{pkg:se,dir:W}}}function oe(W){var ne=Ze.join(Da(a,W,n),"/package.json");if(s(ne)){try{var se=u(i,ne)}catch{}if(se&&n.packageFilter&&(se=n.packageFilter(se,W)),se&&se.main){if(typeof se.main!="string"){var ee=new TypeError("package \u201C"+se.name+"\u201D `main` must be a string");throw ee.code="INVALID_PACKAGE_MAIN",ee}(se.main==="."||se.main==="./")&&(se.main="index");try{var P=M(Ze.resolve(W,se.main));if(P)return P;var D=oe(Ze.resolve(W,se.main));if(D)return D}catch{}}}return M(Ze.join(W,"/index"))}function Oe(W,ne){for(var se=function(){return L6(W,ne,n)},ee=l?l(W,ne,se,n):se(),P=0;P<ee.length;P++){var D=ee[P];if(o(Ze.dirname(D))){var ce=M(D);if(ce)return ce;var K=oe(D);if(K)return K}}}}});var Gb=c((Goe,Ub)=>{var Kl=yb();Kl.core=wb();Kl.isCore=xb();Kl.sync=jb();Ub.exports=Kl});var Bb=c((Foe,Fb)=>{var Oi=1e3,Ri=Oi*60,Ii=Ri*60,ns=Ii*24,C6=ns*7,M6=ns*365.25;Fb.exports=function(r,e){e=e||{};var t=typeof r;if(t==="string"&&r.length>0)return w6(r);if(t==="number"&&isFinite(r))return e.long?x6(r):q6(r);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(r))};function w6(r){if(r=String(r),!(r.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(r);if(e){var t=parseFloat(e[1]),n=(e[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return t*M6;case"weeks":case"week":case"w":return t*C6;case"days":case"day":case"d":return t*ns;case"hours":case"hour":case"hrs":case"hr":case"h":return t*Ii;case"minutes":case"minute":case"mins":case"min":case"m":return t*Ri;case"seconds":case"second":case"secs":case"sec":case"s":return t*Oi;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return t;default:return}}}}function q6(r){var e=Math.abs(r);return e>=ns?Math.round(r/ns)+"d":e>=Ii?Math.round(r/Ii)+"h":e>=Ri?Math.round(r/Ri)+"m":e>=Oi?Math.round(r/Oi)+"s":r+"ms"}function x6(r){var e=Math.abs(r);return e>=ns?Yl(r,e,ns,"day"):e>=Ii?Yl(r,e,Ii,"hour"):e>=Ri?Yl(r,e,Ri,"minute"):e>=Oi?Yl(r,e,Oi,"second"):r+" ms"}function Yl(r,e,t,n){var s=e>=t*1.5;return Math.round(r/t)+" "+n+(s?"s":"")}});var AE=c((Boe,Vb)=>{function D6(r){t.debug=t,t.default=t,t.coerce=u,t.disable=i,t.enable=s,t.enabled=o,t.humanize=Bb(),t.destroy=l,Object.keys(r).forEach(h=>{t[h]=r[h]}),t.names=[],t.skips=[],t.formatters={};function e(h){let d=0;for(let p=0;p<h.length;p++)d=(d<<5)-d+h.charCodeAt(p),d|=0;return t.colors[Math.abs(d)%t.colors.length]}t.selectColor=e;function t(h){let d,p=null,f,E;function y(...q){if(!y.enabled)return;let N=y,Y=Number(new Date),M=Y-(d||Y);N.diff=M,N.prev=d,N.curr=Y,d=Y,q[0]=t.coerce(q[0]),typeof q[0]!="string"&&q.unshift("%O");let re=0;q[0]=q[0].replace(/%([a-zA-Z%])/g,(Oe,W)=>{if(Oe==="%%")return"%";re++;let ne=t.formatters[W];if(typeof ne=="function"){let se=q[re];Oe=ne.call(N,se),q.splice(re,1),re--}return Oe}),t.formatArgs.call(N,q),(N.log||t.log).apply(N,q)}return y.namespace=h,y.useColors=t.useColors(),y.color=t.selectColor(h),y.extend=n,y.destroy=t.destroy,Object.defineProperty(y,"enabled",{enumerable:!0,configurable:!1,get:()=>p!==null?p:(f!==t.namespaces&&(f=t.namespaces,E=t.enabled(h)),E),set:q=>{p=q}}),typeof t.init=="function"&&t.init(y),y}function n(h,d){let p=t(this.namespace+(typeof d>"u"?":":d)+h);return p.log=this.log,p}function s(h){t.save(h),t.namespaces=h,t.names=[],t.skips=[];let d,p=(typeof h=="string"?h:"").split(/[\s,]+/),f=p.length;for(d=0;d<f;d++)p[d]&&(h=p[d].replace(/\*/g,".*?"),h[0]==="-"?t.skips.push(new RegExp("^"+h.slice(1)+"$")):t.names.push(new RegExp("^"+h+"$")))}function i(){let h=[...t.names.map(a),...t.skips.map(a).map(d=>"-"+d)].join(",");return t.enable(""),h}function o(h){if(h[h.length-1]==="*")return!0;let d,p;for(d=0,p=t.skips.length;d<p;d++)if(t.skips[d].test(h))return!1;for(d=0,p=t.names.length;d<p;d++)if(t.names[d].test(h))return!0;return!1}function a(h){return h.toString().substring(2,h.toString().length-2).replace(/\.\*\?$/,"*")}function u(h){return h instanceof Error?h.stack||h.message:h}function l(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return t.enable(t.load()),t}Vb.exports=D6});var Hb=c((Lt,kl)=>{Lt.formatArgs=j6;Lt.save=U6;Lt.load=G6;Lt.useColors=$6;Lt.storage=F6();Lt.destroy=(()=>{let r=!1;return()=>{r||(r=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();Lt.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function $6(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function j6(r){if(r[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+r[0]+(this.useColors?"%c ":" ")+"+"+kl.exports.humanize(this.diff),!this.useColors)return;let e="color: "+this.color;r.splice(1,0,e,"color: inherit");let t=0,n=0;r[0].replace(/%[a-zA-Z%]/g,s=>{s!=="%%"&&(t++,s==="%c"&&(n=t))}),r.splice(n,0,e)}Lt.log=console.debug||console.log||(()=>{});function U6(r){try{r?Lt.storage.setItem("debug",r):Lt.storage.removeItem("debug")}catch{}}function G6(){let r;try{r=Lt.storage.getItem("debug")}catch{}return!r&&typeof process<"u"&&"env"in process&&(r=process.env.DEBUG),r}function F6(){try{return localStorage}catch{}}kl.exports=AE()(Lt);var{formatters:B6}=kl.exports;B6.j=function(r){try{return JSON.stringify(r)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}});var Wb=c((Voe,Xb)=>{"use strict";Xb.exports=(r,e=process.argv)=>{let t=r.startsWith("-")?"":r.length===1?"-":"--",n=e.indexOf(t+r),s=e.indexOf("--");return n!==-1&&(s===-1||n<s)}});var kb=c((Hoe,Yb)=>{"use strict";var V6=require("os"),Kb=require("tty"),Bt=Wb(),{env:we}=process,on;Bt("no-color")||Bt("no-colors")||Bt("color=false")||Bt("color=never")?on=0:(Bt("color")||Bt("colors")||Bt("color=true")||Bt("color=always"))&&(on=1);"FORCE_COLOR"in we&&(we.FORCE_COLOR==="true"?on=1:we.FORCE_COLOR==="false"?on=0:on=we.FORCE_COLOR.length===0?1:Math.min(parseInt(we.FORCE_COLOR,10),3));function OE(r){return r===0?!1:{level:r,hasBasic:!0,has256:r>=2,has16m:r>=3}}function RE(r,e){if(on===0)return 0;if(Bt("color=16m")||Bt("color=full")||Bt("color=truecolor"))return 3;if(Bt("color=256"))return 2;if(r&&!e&&on===void 0)return 0;let t=on||0;if(we.TERM==="dumb")return t;if(process.platform==="win32"){let n=V6.release().split(".");return Number(n[0])>=10&&Number(n[2])>=10586?Number(n[2])>=14931?3:2:1}if("CI"in we)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some(n=>n in we)||we.CI_NAME==="codeship"?1:t;if("TEAMCITY_VERSION"in we)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(we.TEAMCITY_VERSION)?1:0;if(we.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in we){let n=parseInt((we.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(we.TERM_PROGRAM){case"iTerm.app":return n>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(we.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(we.TERM)||"COLORTERM"in we?1:t}function H6(r){let e=RE(r,r&&r.isTTY);return OE(e)}Yb.exports={supportsColor:H6,stdout:OE(RE(!0,Kb.isatty(1))),stderr:OE(RE(!0,Kb.isatty(2)))}});var Qb=c((Ge,Ql)=>{var X6=require("tty"),zl=require("util");Ge.init=Z6;Ge.log=k6;Ge.formatArgs=K6;Ge.save=z6;Ge.load=Q6;Ge.useColors=W6;Ge.destroy=zl.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");Ge.colors=[6,2,3,4,5,1];try{let r=kb();r&&(r.stderr||r).level>=2&&(Ge.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}Ge.inspectOpts=Object.keys(process.env).filter(r=>/^debug_/i.test(r)).reduce((r,e)=>{let t=e.substring(6).toLowerCase().replace(/_([a-z])/g,(s,i)=>i.toUpperCase()),n=process.env[e];return/^(yes|on|true|enabled)$/i.test(n)?n=!0:/^(no|off|false|disabled)$/i.test(n)?n=!1:n==="null"?n=null:n=Number(n),r[t]=n,r},{});function W6(){return"colors"in Ge.inspectOpts?Boolean(Ge.inspectOpts.colors):X6.isatty(process.stderr.fd)}function K6(r){let{namespace:e,useColors:t}=this;if(t){let n=this.color,s="\x1B[3"+(n<8?n:"8;5;"+n),i=`  ${s};1m${e} \x1B[0m`;r[0]=i+r[0].split(`
`).join(`
`+i),r.push(s+"m+"+Ql.exports.humanize(this.diff)+"\x1B[0m")}else r[0]=Y6()+e+" "+r[0]}function Y6(){return Ge.inspectOpts.hideDate?"":new Date().toISOString()+" "}function k6(...r){return process.stderr.write(zl.format(...r)+`
`)}function z6(r){r?process.env.DEBUG=r:delete process.env.DEBUG}function Q6(){return process.env.DEBUG}function Z6(r){r.inspectOpts={};let e=Object.keys(Ge.inspectOpts);for(let t=0;t<e.length;t++)r.inspectOpts[e[t]]=Ge.inspectOpts[e[t]]}Ql.exports=AE()(Ge);var{formatters:zb}=Ql.exports;zb.o=function(r){return this.inspectOpts.colors=this.useColors,zl.inspect(r,this.inspectOpts).split(`
`).map(e=>e.trim()).join(" ")};zb.O=function(r){return this.inspectOpts.colors=this.useColors,zl.inspect(r,this.inspectOpts)}});var Zb=c((Xoe,IE)=>{typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?IE.exports=Hb():IE.exports=Qb()});var NE=c((Woe,Jb)=>{"use strict";var bE=require("path");Jb.exports=function(r){var e=r.split(bE.sep),t=e.lastIndexOf("node_modules");if(t!==-1&&e[t+1]){var n=e[t+1][0]==="@",s=n?e[t+1]+"/"+e[t+2]:e[t+1],i=n?3:2;return{name:s,basedir:e.slice(0,t+i).join(bE.sep),path:e.slice(t+i).join(bE.sep)}}}});var eN=c((Koe,J6)=>{J6.exports={name:"require-in-the-middle",version:"7.1.1",description:"Module to hook into the Node.js require function",main:"index.js",types:"types/index.d.ts",dependencies:{debug:"^4.1.1","module-details-from-path":"^1.0.3",resolve:"^1.22.1"},devDependencies:{"@babel/core":"^7.9.0","@babel/preset-env":"^7.9.5","@babel/preset-typescript":"^7.9.0","@babel/register":"^7.9.0","ipp-printer":"^1.0.0",patterns:"^1.0.3",roundround:"^0.2.0",semver:"^6.3.0",standard:"^14.3.1",tape:"^4.11.0"},scripts:{test:"npm run test:lint && npm run test:tape && npm run test:babel","test:lint":"standard","test:tape":"tape test/*.js","test:babel":"node test/babel/babel-register.js"},repository:{type:"git",url:"git+https://github.com/elastic/require-in-the-middle.git"},keywords:["require","hook","shim","shimmer","shimming","patch","monkey","monkeypatch","module","load"],files:["types"],author:"Thomas Watson Steen <w@tson.dk> (https://twitter.com/wa7son)",license:"MIT",bugs:{url:"https://github.com/elastic/require-in-the-middle/issues"},homepage:"https://github.com/elastic/require-in-the-middle#readme",engines:{node:">=8.6.0"}}});var ss=c((Yoe,LE)=>{"use strict";var bi=require("path"),Cr=require("module"),yE=Gb(),Fe=Zb()("require-in-the-middle"),e4=NE();LE.exports=ja;LE.exports.Hook=ja;var $a;if(Cr.isBuiltin)$a=Cr.isBuiltin;else{let[r,e]=process.versions.node.split(".").map(Number);r===8&&e<8?$a=t=>t==="http2"?!0:!!yE.core[t]:$a=t=>!!yE.core[t]}var t4=/([/\\]index)?(\.js)?$/,PE=class{constructor(){this._localCache=new Map,this._kRitmExports=Symbol("RitmExports")}has(e,t){if(this._localCache.has(e))return!0;if(t)return!1;{let n=require.cache[e];return!!(n&&this._kRitmExports in n)}}get(e,t){let n=this._localCache.get(e);if(n!==void 0)return n;if(!t){let s=require.cache[e];return s&&s[this._kRitmExports]}}set(e,t,n){n?this._localCache.set(e,t):e in require.cache?require.cache[e][this._kRitmExports]=t:(Fe('non-core module is unexpectedly not in require.cache: "%s"',e),this._localCache.set(e,t))}};function ja(r,e,t){if(!(this instanceof ja))return new ja(r,e,t);if(typeof r=="function"?(t=r,r=null,e=null):typeof e=="function"&&(t=e,e=null),typeof Cr._resolveFilename!="function"){console.error("Error: Expected Module._resolveFilename to be a function (was: %s) - aborting!",typeof Cr._resolveFilename),console.error("Please report this error as an issue related to Node.js %s at %s",process.version,eN().bugs.url);return}this._cache=new PE,this._unhooked=!1,this._origRequire=Cr.prototype.require;let n=this,s=new Set,i=e?e.internals===!0:!1,o=Array.isArray(r);Fe("registering require hook"),this._require=Cr.prototype.require=function(a){if(n._unhooked===!0)return Fe("ignoring require call - module is soft-unhooked"),n._origRequire.apply(this,arguments);let u=$a(a),l;if(u){if(l=a,a.startsWith("node:")){let y=a.slice(5);$a(y)&&(l=y)}}else try{l=Cr._resolveFilename(a,this)}catch(y){return Fe('Module._resolveFilename("%s") threw %j, calling original Module.require',a,y.message),n._origRequire.apply(this,arguments)}let h,d;if(Fe("processing %s module require('%s'): %s",u===!0?"core":"non-core",a,l),n._cache.has(l,u)===!0)return Fe("returning already patched cached module: %s",l),n._cache.get(l,u);let p=s.has(l);p===!1&&s.add(l);let f=n._origRequire.apply(this,arguments);if(p===!0)return Fe("module is in the process of being patched already - ignoring: %s",l),f;if(s.delete(l),u===!0){if(o===!0&&r.includes(l)===!1)return Fe("ignoring core module not on whitelist: %s",l),f;h=l}else if(o===!0&&r.includes(l)){let y=bi.parse(l);h=y.name,d=y.dir}else{let y=e4(l);if(y===void 0)return Fe("could not parse filename: %s",l),f;h=y.name,d=y.basedir;let q=r4(y);if(Fe("resolved filename to module: %s (id: %s, resolved: %s, basedir: %s)",h,a,q,d),o===!0&&r.includes(h)===!1){if(r.includes(q)===!1)return f;h=q}else{let N;try{N=yE.sync(h,{basedir:d})}catch{return Fe("could not resolve module: %s",h),f}if(N!==l)if(i===!0)h=h+bi.sep+bi.relative(d,l),Fe("preparing to process require of internal file: %s",h);else return Fe("ignoring require of non-main module file: %s",N),f}}n._cache.set(l,f,u),Fe("calling require hook: %s",h);let E=t(f,h,d);return n._cache.set(l,E,u),Fe("returning module: %s",h),E}}ja.prototype.unhook=function(){this._unhooked=!0,this._require===Cr.prototype.require?(Cr.prototype.require=this._origRequire,Fe("unhook successful")):Fe("unhook unsuccessful")};function r4(r){let e=bi.sep!=="/"?r.path.split(bi.sep).join("/"):r.path;return bi.posix.join(r.name,e).replace(t4,"")}});var tN=c(an=>{"use strict";Object.defineProperty(an,"__esModule",{value:!0});an.ModuleNameTrie=an.ModuleNameSeparator=void 0;an.ModuleNameSeparator="/";var Zl=class{constructor(){this.hooks=[],this.children=new Map}},CE=class{constructor(){this._trie=new Zl,this._counter=0}insert(e){let t=this._trie;for(let n of e.moduleName.split(an.ModuleNameSeparator)){let s=t.children.get(n);s||(s=new Zl,t.children.set(n,s)),t=s}t.hooks.push({hook:e,insertedId:this._counter++})}search(e,{maintainInsertionOrder:t,fullOnly:n}={}){let s=this._trie,i=[],o=!0;for(let a of e.split(an.ModuleNameSeparator)){let u=s.children.get(a);if(!u){o=!1;break}n||i.push(...u.hooks),s=u}return n&&o&&i.push(...s.hooks),i.length===0?[]:i.length===1?[i[0].hook]:(t&&i.sort((a,u)=>a.insertedId-u.insertedId),i.map(({hook:a})=>a))}};an.ModuleNameTrie=CE});var nN=c(Jl=>{"use strict";Object.defineProperty(Jl,"__esModule",{value:!0});Jl.RequireInTheMiddleSingleton=void 0;var n4=ss(),rN=require("path"),ME=tN(),s4=["afterEach","after","beforeEach","before","describe","it"].every(r=>typeof global[r]=="function"),Ni=class{constructor(){this._moduleNameTrie=new ME.ModuleNameTrie,this._initialize()}_initialize(){new n4.Hook(null,{internals:!0},(e,t,n)=>{let s=i4(t),i=this._moduleNameTrie.search(s,{maintainInsertionOrder:!0,fullOnly:n===void 0});for(let{onRequire:o}of i)e=o(e,t,n);return e})}register(e,t){let n={moduleName:e,onRequire:t};return this._moduleNameTrie.insert(n),n}static getInstance(){var e;return s4?new Ni:this._instance=(e=this._instance)!==null&&e!==void 0?e:new Ni}};Jl.RequireInTheMiddleSingleton=Ni;function i4(r){return rN.sep!==ME.ModuleNameSeparator?r.split(rN.sep).join(ME.ModuleNameSeparator):r}});var aN=c(Ua=>{var sN=[],wE=new WeakMap,iN=new Map,oN=[],o4={set(r,e,t){return wE.get(r)[e](t)},defineProperty(r,e,t){if(!("value"in t))throw new Error("Getters/setters are not supported for exports property descriptors.");return wE.get(r)[e](t.value)}};function a4(r,e,t,n){iN.set(r,n),wE.set(e,t);let s=new Proxy(e,o4);sN.forEach(i=>i(r,s)),oN.push([r,s])}Ua.register=a4;Ua.importHooks=sN;Ua.specifiers=iN;Ua.toHook=oN});var fN=c((Zoe,th)=>{var uN=require("path"),u4=NE(),{fileURLToPath:cN}=require("url"),{importHooks:qE,specifiers:c4,toHook:l4}=aN();function hN(r){qE.push(r),l4.forEach(([e,t])=>r(e,t))}function dN(r){let e=qE.indexOf(r);e>-1&&qE.splice(e,1)}function lN(r,e,t,n){let s=r(e,t,n);s&&s!==e&&(e.default=s)}function eh(r,e,t){if(!(this instanceof eh))return new eh(r,e,t);typeof r=="function"?(t=r,r=null,e=null):typeof e=="function"&&(t=e,e=null);let n=e?e.internals===!0:!1;this._iitmHook=(s,i)=>{let o=s,a=s.startsWith("node:"),u;if(a)s=s.replace(/^node:/,"");else{if(s.startsWith("file://"))try{s=cN(s)}catch{}let l=u4(s);l&&(s=l.name,u=l.basedir)}if(r){for(let l of r)if(l===s){if(u){if(n)s=s+uN.sep+uN.relative(u,cN(o));else if(!u.endsWith(c4.get(o)))continue}lN(t,i,s,u)}}else lN(t,i,s,u)},hN(this._iitmHook)}eh.prototype.unhook=function(){dN(this._iitmHook)};th.exports=eh;th.exports.addHook=hN;th.exports.removeHook=dN});var gN=c(rh=>{"use strict";Object.defineProperty(rh,"__esModule",{value:!0});rh.InstrumentationBase=void 0;var pN=require("path"),_N=require("util"),h4=nb(),xE=Ma(),d4=ab(),f4=nN(),p4=fN(),yi=_(),_4=ss(),DE=class extends d4.InstrumentationAbstract{constructor(e,t,n={}){super(e,t,n),this._hooks=[],this._requireInTheMiddleSingleton=f4.RequireInTheMiddleSingleton.getInstance(),this._enabled=!1,this._wrap=(i,o,a)=>{if(_N.types.isProxy(i)){let u=(0,xE.wrap)(Object.assign({},i),o,a);return Object.defineProperty(i,o,{value:u})}else return(0,xE.wrap)(i,o,a)},this._unwrap=(i,o)=>_N.types.isProxy(i)?Object.defineProperty(i,o,{value:i[o]}):(0,xE.unwrap)(i,o),this._massWrap=(i,o,a)=>{if(i)Array.isArray(i)||(i=[i]);else{yi.diag.error("must provide one or more modules to patch");return}if(!(o&&Array.isArray(o))){yi.diag.error("must provide one or more functions to wrap on modules");return}i.forEach(u=>{o.forEach(l=>{this._wrap(u,l,a)})})},this._massUnwrap=(i,o)=>{if(i)Array.isArray(i)||(i=[i]);else{yi.diag.error("must provide one or more modules to patch");return}if(!(o&&Array.isArray(o))){yi.diag.error("must provide one or more functions to wrap on modules");return}i.forEach(a=>{o.forEach(u=>{this._unwrap(a,u)})})};let s=this.init();s&&!Array.isArray(s)&&(s=[s]),this._modules=s||[],this._modules.length===0&&yi.diag.debug(`No modules instrumentation has been defined for '${this.instrumentationName}@${this.instrumentationVersion}', nothing will be patched`),this._config.enabled&&this.enable()}_warnOnPreloadedModules(){this._modules.forEach(e=>{let{name:t}=e;try{let n=require.resolve(t);require.cache[n]&&this._diag.warn(`Module ${t} has been loaded before ${this.instrumentationName} so it might not work, please initialize it before requiring ${t}`)}catch{}})}_extractPackageVersion(e){try{let t=require(pN.join(e,"package.json")).version;return typeof t=="string"?t:void 0}catch{yi.diag.warn("Failed extracting version",e)}}_onRequire(e,t,n,s){var i;if(!s)return typeof e.patch=="function"&&(e.moduleExports=t,this._enabled)?e.patch(t):t;let o=this._extractPackageVersion(s);return e.moduleVersion=o,e.name===n?EN(e.supportedVersions,o,e.includePrerelease)&&typeof e.patch=="function"&&(e.moduleExports=t,this._enabled)?e.patch(t,e.moduleVersion):t:((i=e.files)!==null&&i!==void 0?i:[]).filter(l=>l.name===n).filter(l=>EN(l.supportedVersions,o,e.includePrerelease)).reduce((l,h)=>(h.moduleExports=l,this._enabled?h.patch(l,e.moduleVersion):l),t)}enable(){if(!this._enabled){if(this._enabled=!0,this._hooks.length>0){for(let e of this._modules){typeof e.patch=="function"&&e.moduleExports&&e.patch(e.moduleExports,e.moduleVersion);for(let t of e.files)t.moduleExports&&t.patch(t.moduleExports,e.moduleVersion)}return}this._warnOnPreloadedModules();for(let e of this._modules){let t=(o,a,u)=>this._onRequire(e,o,a,u),n=(o,a,u)=>this._onRequire(e,o,a,u),s=pN.isAbsolute(e.name)?new _4.Hook([e.name],{internals:!0},n):this._requireInTheMiddleSingleton.register(e.name,n);this._hooks.push(s);let i=new p4([e.name],{internals:!1},t);this._hooks.push(i)}}}disable(){if(this._enabled){this._enabled=!1;for(let e of this._modules){typeof e.unpatch=="function"&&e.moduleExports&&e.unpatch(e.moduleExports,e.moduleVersion);for(let t of e.files)t.moduleExports&&t.unpatch(t.moduleExports,e.moduleVersion)}}}isEnabled(){return this._enabled}};rh.InstrumentationBase=DE;function EN(r,e,t){return typeof e>"u"?r.includes("*"):r.some(n=>(0,h4.satisfies)(e,n,{includePrerelease:t}))}});var mN=c(nh=>{"use strict";Object.defineProperty(nh,"__esModule",{value:!0});nh.InstrumentationNodeModuleDefinition=void 0;var $E=class{constructor(e,t,n,s,i){this.name=e,this.supportedVersions=t,this.patch=n,this.unpatch=s,this.files=i||[]}};nh.InstrumentationNodeModuleDefinition=$E});var TN=c(sh=>{"use strict";Object.defineProperty(sh,"__esModule",{value:!0});sh.InstrumentationNodeModuleFile=void 0;var E4=require("path"),jE=class{constructor(e,t,n,s){this.supportedVersions=t,this.patch=n,this.unpatch=s,this.name=(0,E4.normalize)(e)}};sh.InstrumentationNodeModuleFile=jE});var vN=c(SN=>{"use strict";Object.defineProperty(SN,"__esModule",{value:!0})});var AN=c(gr=>{"use strict";var g4=gr&&gr.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),ih=gr&&gr.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&g4(e,r,t)};Object.defineProperty(gr,"__esModule",{value:!0});ih(gN(),gr);ih(mN(),gr);ih(TN(),gr);ih(vN(),gr)});var ON=c(is=>{"use strict";var m4=is&&is.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),T4=is&&is.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&m4(e,r,t)};Object.defineProperty(is,"__esModule",{value:!0});T4(AN(),is)});var IN=c(RN=>{"use strict";Object.defineProperty(RN,"__esModule",{value:!0})});var NN=c(bN=>{"use strict";Object.defineProperty(bN,"__esModule",{value:!0})});var yN=c(un=>{"use strict";Object.defineProperty(un,"__esModule",{value:!0});un.isWrapped=un.safeExecuteInTheMiddleAsync=un.safeExecuteInTheMiddle=void 0;function S4(r,e,t){let n,s;try{s=r()}catch(i){n=i}finally{if(e(n,s),n&&!t)throw n;return s}}un.safeExecuteInTheMiddle=S4;async function v4(r,e,t){let n,s;try{s=await r()}catch(i){n=i}finally{if(e(n,s),n&&!t)throw n;return s}}un.safeExecuteInTheMiddleAsync=v4;function A4(r){return typeof r=="function"&&typeof r.__original=="function"&&typeof r.__unwrap=="function"&&r.__wrapped===!0}un.isWrapped=A4});var UE=c(tr=>{"use strict";var O4=tr&&tr.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Ga=tr&&tr.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&O4(e,r,t)};Object.defineProperty(tr,"__esModule",{value:!0});Ga(i0(),tr);Ga(ON(),tr);Ga(IN(),tr);Ga(NN(),tr);Ga(yN(),tr)});var MN=c(oh=>{"use strict";Object.defineProperty(oh,"__esModule",{value:!0});oh.HttpInstrumentation=void 0;var x=_(),Pi=H(),PN=QR(),LN=require("url"),pe=K_(),R4=t0(),qe=UE(),CN=H(),GE=require("events"),I4=Le(),FE=class extends qe.InstrumentationBase{constructor(e){super("@opentelemetry/instrumentation-http",R4.VERSION,e),this._spanNotEnded=new WeakSet,this._headerCapture=this._createHeaderCapture()}_updateMetricInstruments(){this._httpServerDurationHistogram=this.meter.createHistogram("http.server.duration",{description:"Measures the duration of inbound HTTP requests.",unit:"ms",valueType:x.ValueType.DOUBLE}),this._httpClientDurationHistogram=this.meter.createHistogram("http.client.duration",{description:"Measures the duration of outbound HTTP requests.",unit:"ms",valueType:x.ValueType.DOUBLE})}_getConfig(){return this._config}setConfig(e){super.setConfig(e),this._headerCapture=this._createHeaderCapture()}init(){return[this._getHttpsInstrumentation(),this._getHttpInstrumentation()]}_getHttpInstrumentation(){let e=process.versions.node;return new qe.InstrumentationNodeModuleDefinition("http",["*"],t=>(this._diag.debug(`Applying patch for http@${e}`),(0,qe.isWrapped)(t.request)&&this._unwrap(t,"request"),this._wrap(t,"request",this._getPatchOutgoingRequestFunction("http")),(0,qe.isWrapped)(t.get)&&this._unwrap(t,"get"),this._wrap(t,"get",this._getPatchOutgoingGetFunction(t.request)),(0,qe.isWrapped)(t.Server.prototype.emit)&&this._unwrap(t.Server.prototype,"emit"),this._wrap(t.Server.prototype,"emit",this._getPatchIncomingRequestFunction("http")),t),t=>{t!==void 0&&(this._diag.debug(`Removing patch for http@${e}`),this._unwrap(t,"request"),this._unwrap(t,"get"),this._unwrap(t.Server.prototype,"emit"))})}_getHttpsInstrumentation(){let e=process.versions.node;return new qe.InstrumentationNodeModuleDefinition("https",["*"],t=>(this._diag.debug(`Applying patch for https@${e}`),(0,qe.isWrapped)(t.request)&&this._unwrap(t,"request"),this._wrap(t,"request",this._getPatchHttpsOutgoingRequestFunction("https")),(0,qe.isWrapped)(t.get)&&this._unwrap(t,"get"),this._wrap(t,"get",this._getPatchHttpsOutgoingGetFunction(t.request)),(0,qe.isWrapped)(t.Server.prototype.emit)&&this._unwrap(t.Server.prototype,"emit"),this._wrap(t.Server.prototype,"emit",this._getPatchIncomingRequestFunction("https")),t),t=>{t!==void 0&&(this._diag.debug(`Removing patch for https@${e}`),this._unwrap(t,"request"),this._unwrap(t,"get"),this._unwrap(t.Server.prototype,"emit"))})}_getPatchIncomingRequestFunction(e){return t=>this._incomingRequestFunction(e,t)}_getPatchOutgoingRequestFunction(e){return t=>this._outgoingRequestFunction(e,t)}_getPatchOutgoingGetFunction(e){return t=>function(s,...i){let o=e(s,...i);return o.end(),o}}_getPatchHttpsOutgoingRequestFunction(e){return t=>{let n=this;return function(i,...o){var a;return e==="https"&&typeof i=="object"&&((a=i==null?void 0:i.constructor)===null||a===void 0?void 0:a.name)!=="URL"&&(i=Object.assign({},i),n._setDefaultOptions(i)),n._getPatchOutgoingRequestFunction(e)(t)(i,...o)}}}_setDefaultOptions(e){e.protocol=e.protocol||"https:",e.port=e.port||443}_getPatchHttpsOutgoingGetFunction(e){return t=>{let n=this;return function(i,...o){return n._getPatchOutgoingGetFunction(e)(t)(i,...o)}}}_traceClientRequest(e,t,n,s){this._getConfig().requestHook&&this._callRequestHook(t,e);let i=!1;return e.prependListener("response",o=>{this._diag.debug("outgoingRequest on response()");let a=pe.getOutgoingRequestAttributesOnResponse(o);t.setAttributes(a),s=Object.assign(s,pe.getOutgoingRequestMetricAttributesOnResponse(a)),this._getConfig().responseHook&&this._callResponseHook(t,o),this._headerCapture.client.captureRequestHeaders(t,l=>e.getHeader(l)),this._headerCapture.client.captureResponseHeaders(t,l=>o.headers[l]),x.context.bind(x.context.active(),o);let u=()=>{if(this._diag.debug("outgoingRequest on end()"),i)return;i=!0;let l;o.aborted&&!o.complete?l={code:x.SpanStatusCode.ERROR}:l={code:pe.parseResponseStatus(x.SpanKind.CLIENT,o.statusCode)},t.setStatus(l),this._getConfig().applyCustomAttributesOnSpan&&(0,qe.safeExecuteInTheMiddle)(()=>this._getConfig().applyCustomAttributesOnSpan(t,e,o),()=>{},!0),this._closeHttpSpan(t,x.SpanKind.CLIENT,n,s)};o.on("end",u),PN.lt(process.version,"16.0.0")&&o.on("close",u),o.on(GE.errorMonitor,l=>{this._diag.debug("outgoingRequest on error()",l),!i&&(i=!0,pe.setSpanWithError(t,l),t.setStatus({code:x.SpanStatusCode.ERROR,message:l.message}),this._closeHttpSpan(t,x.SpanKind.CLIENT,n,s))})}),e.on("close",()=>{this._diag.debug("outgoingRequest on request close()"),!(e.aborted||i)&&(i=!0,this._closeHttpSpan(t,x.SpanKind.CLIENT,n,s))}),e.on(GE.errorMonitor,o=>{this._diag.debug("outgoingRequest on request error()",o),!i&&(i=!0,pe.setSpanWithError(t,o),this._closeHttpSpan(t,x.SpanKind.CLIENT,n,s))}),this._diag.debug("http.ClientRequest return request"),e}_incomingRequestFunction(e,t){let n=this;return function(i,...o){if(i!=="request")return t.apply(this,[i,...o]);let a=o[0],u=o[1],l=a.url&&LN.parse(a.url).pathname||"/",h=a.method||"GET";if(n._diag.debug(`${e} instrumentation incomingRequest`),pe.isIgnored(l,n._getConfig().ignoreIncomingPaths,M=>n._diag.error("caught ignoreIncomingPaths error: ",M))||(0,qe.safeExecuteInTheMiddle)(()=>{var M,re;return(re=(M=n._getConfig()).ignoreIncomingRequestHook)===null||re===void 0?void 0:re.call(M,a)},M=>{M!=null&&n._diag.error("caught ignoreIncomingRequestHook error: ",M)},!0))return x.context.with((0,Pi.suppressTracing)(x.context.active()),()=>(x.context.bind(x.context.active(),a),x.context.bind(x.context.active(),u),t.apply(this,[i,...o])));let d=a.headers,p=pe.getIncomingRequestAttributes(a,{component:e,serverName:n._getConfig().serverName,hookAttributes:n._callStartSpanHook(a,n._getConfig().startIncomingSpanHook)}),f={kind:x.SpanKind.SERVER,attributes:p},E=(0,Pi.hrTime)(),y=pe.getIncomingRequestMetricAttributes(p),q=x.propagation.extract(x.ROOT_CONTEXT,d),N=n._startHttpSpan(h,f,q),Y={type:CN.RPCType.HTTP,span:N};return x.context.with((0,CN.setRPCMetadata)(x.trace.setSpan(q,N),Y),()=>{x.context.bind(x.context.active(),a),x.context.bind(x.context.active(),u),n._getConfig().requestHook&&n._callRequestHook(N,a),n._getConfig().responseHook&&n._callResponseHook(N,u),n._headerCapture.server.captureRequestHeaders(N,re=>a.headers[re]);let M=!1;return u.on("close",()=>{M||n._onServerResponseFinish(a,u,N,y,E)}),u.on(GE.errorMonitor,re=>{M=!0,n._onServerResponseError(N,y,E,re)}),(0,qe.safeExecuteInTheMiddle)(()=>t.apply(this,[i,...o]),re=>{if(re)throw pe.setSpanWithError(N,re),n._closeHttpSpan(N,x.SpanKind.SERVER,E,y),re})})}}_outgoingRequestFunction(e,t){let n=this;return function(i,...o){if(!pe.isValidOptionsType(i))return t.apply(this,[i,...o]);let a=typeof o[0]=="object"&&(typeof i=="string"||i instanceof LN.URL)?o.shift():void 0,{origin:u,pathname:l,method:h,optionsParsed:d}=pe.getRequestInfo(i,a);if(e==="http"&&PN.lt(process.version,"9.0.0")&&d.protocol==="https:")return t.apply(this,[d,...o]);if(pe.isIgnored(u+l,n._getConfig().ignoreOutgoingUrls,oe=>n._diag.error("caught ignoreOutgoingUrls error: ",oe))||(0,qe.safeExecuteInTheMiddle)(()=>{var oe,Oe;return(Oe=(oe=n._getConfig()).ignoreOutgoingRequestHook)===null||Oe===void 0?void 0:Oe.call(oe,d)},oe=>{oe!=null&&n._diag.error("caught ignoreOutgoingRequestHook error: ",oe)},!0))return t.apply(this,[d,...o]);let{hostname:p,port:f}=pe.extractHostnameAndPort(d),E=pe.getOutgoingRequestAttributes(d,{component:e,port:f,hostname:p,hookAttributes:n._callStartSpanHook(d,n._getConfig().startOutgoingSpanHook)}),y=(0,Pi.hrTime)(),q=pe.getOutgoingRequestMetricAttributes(E),N={kind:x.SpanKind.CLIENT,attributes:E},Y=n._startHttpSpan(h,N),M=x.context.active(),re=x.trace.setSpan(M,Y);return d.headers||(d.headers={}),x.propagation.inject(re,d.headers),x.context.with(re,()=>{let oe=o[o.length-1];typeof oe=="function"&&(o[o.length-1]=x.context.bind(M,oe));let Oe=(0,qe.safeExecuteInTheMiddle)(()=>t.apply(this,[d,...o]),W=>{if(W)throw pe.setSpanWithError(Y,W),n._closeHttpSpan(Y,x.SpanKind.CLIENT,y,q),W});return n._diag.debug(`${e} instrumentation outgoingRequest`),x.context.bind(M,Oe),n._traceClientRequest(Oe,Y,y,q)})}}_onServerResponseFinish(e,t,n,s,i){let o=pe.getIncomingRequestAttributesOnResponse(e,t);s=Object.assign(s,pe.getIncomingRequestMetricAttributesOnResponse(o)),this._headerCapture.server.captureResponseHeaders(n,u=>t.getHeader(u)),n.setAttributes(o).setStatus({code:pe.parseResponseStatus(x.SpanKind.SERVER,t.statusCode)});let a=o[I4.SemanticAttributes.HTTP_ROUTE];a&&n.updateName(`${e.method||"GET"} ${a}`),this._getConfig().applyCustomAttributesOnSpan&&(0,qe.safeExecuteInTheMiddle)(()=>this._getConfig().applyCustomAttributesOnSpan(n,e,t),()=>{},!0),this._closeHttpSpan(n,x.SpanKind.SERVER,i,s)}_onServerResponseError(e,t,n,s){pe.setSpanWithError(e,s),this._closeHttpSpan(e,x.SpanKind.SERVER,n,t)}_startHttpSpan(e,t,n=x.context.active()){let s=t.kind===x.SpanKind.CLIENT?this._getConfig().requireParentforOutgoingSpans:this._getConfig().requireParentforIncomingSpans,i,o=x.trace.getSpan(n);return s===!0&&o===void 0?i=x.trace.wrapSpanContext(x.INVALID_SPAN_CONTEXT):s===!0&&(o!=null&&o.spanContext().isRemote)?i=o:i=this.tracer.startSpan(e,t,n),this._spanNotEnded.add(i),i}_closeHttpSpan(e,t,n,s){if(!this._spanNotEnded.has(e))return;e.end(),this._spanNotEnded.delete(e);let i=(0,Pi.hrTimeToMilliseconds)((0,Pi.hrTimeDuration)(n,(0,Pi.hrTime)()));t===x.SpanKind.SERVER?this._httpServerDurationHistogram.record(i,s):t===x.SpanKind.CLIENT&&this._httpClientDurationHistogram.record(i,s)}_callResponseHook(e,t){(0,qe.safeExecuteInTheMiddle)(()=>this._getConfig().responseHook(e,t),()=>{},!0)}_callRequestHook(e,t){(0,qe.safeExecuteInTheMiddle)(()=>this._getConfig().requestHook(e,t),()=>{},!0)}_callStartSpanHook(e,t){if(typeof t=="function")return(0,qe.safeExecuteInTheMiddle)(()=>t(e),()=>{},!0)}_createHeaderCapture(){var e,t,n,s,i,o,a,u,l,h,d,p;let f=this._getConfig();return{client:{captureRequestHeaders:pe.headerCapture("request",(n=(t=(e=f.headersToSpanAttributes)===null||e===void 0?void 0:e.client)===null||t===void 0?void 0:t.requestHeaders)!==null&&n!==void 0?n:[]),captureResponseHeaders:pe.headerCapture("response",(o=(i=(s=f.headersToSpanAttributes)===null||s===void 0?void 0:s.client)===null||i===void 0?void 0:i.responseHeaders)!==null&&o!==void 0?o:[])},server:{captureRequestHeaders:pe.headerCapture("request",(l=(u=(a=f.headersToSpanAttributes)===null||a===void 0?void 0:a.server)===null||u===void 0?void 0:u.requestHeaders)!==null&&l!==void 0?l:[]),captureResponseHeaders:pe.headerCapture("response",(p=(d=(h=f.headersToSpanAttributes)===null||h===void 0?void 0:h.server)===null||d===void 0?void 0:d.responseHeaders)!==null&&p!==void 0?p:[])}}}};oh.HttpInstrumentation=FE});var qN=c(wN=>{"use strict";Object.defineProperty(wN,"__esModule",{value:!0})});var xN=c(Mr=>{"use strict";var b4=Mr&&Mr.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),BE=Mr&&Mr.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&b4(e,r,t)};Object.defineProperty(Mr,"__esModule",{value:!0});BE(MN(),Mr);BE(qN(),Mr);BE(K_(),Mr)});var DN=c(ah=>{"use strict";Object.defineProperty(ah,"__esModule",{value:!0});ah.defaultServiceName=void 0;function N4(){return`unknown_service:${process.argv0}`}ah.defaultServiceName=N4});var VE=c(Li=>{"use strict";Object.defineProperty(Li,"__esModule",{value:!0});Li.normalizeType=Li.normalizeArch=void 0;var y4=r=>{switch(r){case"arm":return"arm32";case"ppc":return"ppc32";case"x64":return"amd64";default:return r}};Li.normalizeArch=y4;var P4=r=>{switch(r){case"sunos":return"solaris";case"win32":return"windows";default:return r}};Li.normalizeType=P4});var ch=c(uh=>{"use strict";Object.defineProperty(uh,"__esModule",{value:!0});uh.execAsync=void 0;var L4=require("child_process"),C4=require("util");uh.execAsync=C4.promisify(L4.exec)});var $N=c(lh=>{"use strict";Object.defineProperty(lh,"__esModule",{value:!0});lh.getMachineId=void 0;var M4=ch(),w4=_();async function q4(){try{let e=(await(0,M4.execAsync)('ioreg -rd1 -c "IOPlatformExpertDevice"')).stdout.split(`
`).find(n=>n.includes("IOPlatformUUID"));if(!e)return"";let t=e.split('" = "');if(t.length===2)return t[1].slice(0,-1)}catch(r){w4.diag.debug(`error reading machine id: ${r}`)}return""}lh.getMachineId=q4});var jN=c(hh=>{"use strict";Object.defineProperty(hh,"__esModule",{value:!0});hh.getMachineId=void 0;var x4=require("fs"),D4=_();async function $4(){let r=["/etc/machine-id","/var/lib/dbus/machine-id"];for(let e of r)try{return(await x4.promises.readFile(e,{encoding:"utf8"})).trim()}catch(t){D4.diag.debug(`error reading machine id: ${t}`)}return""}hh.getMachineId=$4});var GN=c(dh=>{"use strict";Object.defineProperty(dh,"__esModule",{value:!0});dh.getMachineId=void 0;var j4=require("fs"),U4=ch(),UN=_();async function G4(){try{return(await j4.promises.readFile("/etc/hostid",{encoding:"utf8"})).trim()}catch(r){UN.diag.debug(`error reading machine id: ${r}`)}try{return(await(0,U4.execAsync)("kenv -q smbios.system.uuid")).stdout.trim()}catch(r){UN.diag.debug(`error reading machine id: ${r}`)}return""}dh.getMachineId=G4});var BN=c(fh=>{"use strict";Object.defineProperty(fh,"__esModule",{value:!0});fh.getMachineId=void 0;var FN=require("process"),F4=ch(),B4=_();async function V4(){let r="QUERY HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Cryptography /v MachineGuid",e="%windir%\\System32\\REG.exe";FN.arch==="ia32"&&"PROCESSOR_ARCHITEW6432"in FN.env&&(e="%windir%\\sysnative\\cmd.exe /c "+e);try{let n=(await(0,F4.execAsync)(`${e} ${r}`)).stdout.split("REG_SZ");if(n.length===2)return n[1].trim()}catch(t){B4.diag.debug(`error reading machine id: ${t}`)}return""}fh.getMachineId=V4});var VN=c(ph=>{"use strict";Object.defineProperty(ph,"__esModule",{value:!0});ph.getMachineId=void 0;var H4=_();async function X4(){return H4.diag.debug("could not read machine-id: unsupported platform"),""}ph.getMachineId=X4});var HN=c(wr=>{"use strict";Object.defineProperty(wr,"__esModule",{value:!0});wr.getMachineId=void 0;var W4=require("process"),Ci;wr.getMachineId=Ci;switch(W4.platform){case"darwin":wr.getMachineId=Ci=$N().getMachineId;break;case"linux":wr.getMachineId=Ci=jN().getMachineId;break;case"freebsd":wr.getMachineId=Ci=GN().getMachineId;break;case"win32":wr.getMachineId=Ci=BN().getMachineId;break;default:wr.getMachineId=Ci=VN().getMachineId}});var WE=c(_h=>{"use strict";Object.defineProperty(_h,"__esModule",{value:!0});_h.hostDetectorSync=void 0;var HE=Le(),K4=os(),XN=require("os"),Y4=VE(),k4=HN(),XE=class{detect(e){let t={[HE.SemanticResourceAttributes.HOST_NAME]:(0,XN.hostname)(),[HE.SemanticResourceAttributes.HOST_ARCH]:(0,Y4.normalizeArch)((0,XN.arch)())};return new K4.Resource(t,this._getAsyncAttributes())}_getAsyncAttributes(){return(0,k4.getMachineId)().then(e=>{let t={};return e&&(t[HE.SemanticResourceAttributes.HOST_ID]=e),t})}};_h.hostDetectorSync=new XE});var WN=c(Eh=>{"use strict";Object.defineProperty(Eh,"__esModule",{value:!0});Eh.hostDetector=void 0;var z4=WE(),KE=class{detect(e){return Promise.resolve(z4.hostDetectorSync.detect(e))}};Eh.hostDetector=new KE});var kE=c(gh=>{"use strict";Object.defineProperty(gh,"__esModule",{value:!0});gh.osDetectorSync=void 0;var KN=Le(),Q4=os(),YN=require("os"),Z4=VE(),YE=class{detect(e){let t={[KN.SemanticResourceAttributes.OS_TYPE]:(0,Z4.normalizeType)((0,YN.platform)()),[KN.SemanticResourceAttributes.OS_VERSION]:(0,YN.release)()};return new Q4.Resource(t)}};gh.osDetectorSync=new YE});var kN=c(mh=>{"use strict";Object.defineProperty(mh,"__esModule",{value:!0});mh.osDetector=void 0;var J4=kE(),zE=class{detect(e){return Promise.resolve(J4.osDetectorSync.detect(e))}};mh.osDetector=new zE});var ZE=c(Th=>{"use strict";Object.defineProperty(Th,"__esModule",{value:!0});Th.processDetectorSync=void 0;var e5=_(),qr=Le(),t5=os(),r5=require("os"),QE=class{detect(e){let t={[qr.SemanticResourceAttributes.PROCESS_PID]:process.pid,[qr.SemanticResourceAttributes.PROCESS_EXECUTABLE_NAME]:process.title,[qr.SemanticResourceAttributes.PROCESS_EXECUTABLE_PATH]:process.execPath,[qr.SemanticResourceAttributes.PROCESS_COMMAND_ARGS]:[process.argv[0],...process.execArgv,...process.argv.slice(1)],[qr.SemanticResourceAttributes.PROCESS_RUNTIME_VERSION]:process.versions.node,[qr.SemanticResourceAttributes.PROCESS_RUNTIME_NAME]:"nodejs",[qr.SemanticResourceAttributes.PROCESS_RUNTIME_DESCRIPTION]:"Node.js"};process.argv.length>1&&(t[qr.SemanticResourceAttributes.PROCESS_COMMAND]=process.argv[1]);try{let n=r5.userInfo();t[qr.SemanticResourceAttributes.PROCESS_OWNER]=n.username}catch(n){e5.diag.debug(`error obtaining process owner: ${n}`)}return new t5.Resource(t)}};Th.processDetectorSync=new QE});var zN=c(Sh=>{"use strict";Object.defineProperty(Sh,"__esModule",{value:!0});Sh.processDetector=void 0;var n5=ZE(),JE=class{detect(e){return Promise.resolve(n5.processDetectorSync.detect(e))}};Sh.processDetector=new JE});var QN=c(Ct=>{"use strict";var s5=Ct&&Ct.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),as=Ct&&Ct.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&s5(e,r,t)};Object.defineProperty(Ct,"__esModule",{value:!0});as(DN(),Ct);as(WN(),Ct);as(kN(),Ct);as(WE(),Ct);as(kE(),Ct);as(zN(),Ct);as(ZE(),Ct)});var eg=c(us=>{"use strict";var i5=us&&us.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),o5=us&&us.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&i5(e,r,t)};Object.defineProperty(us,"__esModule",{value:!0});o5(QN(),us)});var os=c(vh=>{"use strict";Object.defineProperty(vh,"__esModule",{value:!0});vh.Resource=void 0;var ZN=_(),cs=Le(),tg=H(),a5=eg(),mr=class{constructor(e,t){var n;this._attributes=e,this.asyncAttributesPending=t!=null,this._syncAttributes=(n=this._attributes)!==null&&n!==void 0?n:{},this._asyncAttributesPromise=t==null?void 0:t.then(s=>(this._attributes=Object.assign({},this._attributes,s),this.asyncAttributesPending=!1,s),s=>(ZN.diag.debug("a resource's async attributes promise rejected: %s",s),this.asyncAttributesPending=!1,{}))}static empty(){return mr.EMPTY}static default(){return new mr({[cs.SemanticResourceAttributes.SERVICE_NAME]:(0,a5.defaultServiceName)(),[cs.SemanticResourceAttributes.TELEMETRY_SDK_LANGUAGE]:tg.SDK_INFO[cs.SemanticResourceAttributes.TELEMETRY_SDK_LANGUAGE],[cs.SemanticResourceAttributes.TELEMETRY_SDK_NAME]:tg.SDK_INFO[cs.SemanticResourceAttributes.TELEMETRY_SDK_NAME],[cs.SemanticResourceAttributes.TELEMETRY_SDK_VERSION]:tg.SDK_INFO[cs.SemanticResourceAttributes.TELEMETRY_SDK_VERSION]})}get attributes(){var e;return this.asyncAttributesPending&&ZN.diag.error("Accessing resource attributes before async attributes settled"),(e=this._attributes)!==null&&e!==void 0?e:{}}async waitForAsyncAttributes(){this.asyncAttributesPending&&await this._asyncAttributesPromise}merge(e){var t;if(!e)return this;let n=Object.assign(Object.assign({},this._syncAttributes),(t=e._syncAttributes)!==null&&t!==void 0?t:e.attributes);if(!this._asyncAttributesPromise&&!e._asyncAttributesPromise)return new mr(n);let s=Promise.all([this._asyncAttributesPromise,e._asyncAttributesPromise]).then(([i,o])=>{var a;return Object.assign(Object.assign(Object.assign(Object.assign({},this._syncAttributes),i),(a=e._syncAttributes)!==null&&a!==void 0?a:e.attributes),o)});return new mr(n,s)}};vh.Resource=mr;mr.EMPTY=new mr({})});var ey=c(JN=>{"use strict";Object.defineProperty(JN,"__esModule",{value:!0})});var ry=c(ty=>{"use strict";Object.defineProperty(ty,"__esModule",{value:!0})});var sy=c(ny=>{"use strict";Object.defineProperty(ny,"__esModule",{value:!0})});var iy=c(Ah=>{"use strict";Object.defineProperty(Ah,"__esModule",{value:!0});Ah.browserDetector=void 0;var u5=Mi(),rg=class{detect(e){return Promise.resolve(u5.browserDetectorSync.detect(e))}};Ah.browserDetector=new rg});var sg=c(Oh=>{"use strict";Object.defineProperty(Oh,"__esModule",{value:!0});Oh.envDetectorSync=void 0;var c5=_(),l5=H(),h5=Le(),d5=os(),ng=class{constructor(){this._MAX_LENGTH=255,this._COMMA_SEPARATOR=",",this._LABEL_KEY_VALUE_SPLITTER="=",this._ERROR_MESSAGE_INVALID_CHARS="should be a ASCII string with a length greater than 0 and not exceed "+this._MAX_LENGTH+" characters.",this._ERROR_MESSAGE_INVALID_VALUE="should be a ASCII string with a length not exceed "+this._MAX_LENGTH+" characters."}detect(e){let t={},n=(0,l5.getEnv)(),s=n.OTEL_RESOURCE_ATTRIBUTES,i=n.OTEL_SERVICE_NAME;if(s)try{let o=this._parseResourceAttributes(s);Object.assign(t,o)}catch(o){c5.diag.debug(`EnvDetector failed: ${o.message}`)}return i&&(t[h5.SemanticResourceAttributes.SERVICE_NAME]=i),new d5.Resource(t)}_parseResourceAttributes(e){if(!e)return{};let t={},n=e.split(this._COMMA_SEPARATOR,-1);for(let s of n){let i=s.split(this._LABEL_KEY_VALUE_SPLITTER,-1);if(i.length!==2)continue;let[o,a]=i;if(o=o.trim(),a=a.trim().split(/^"|"$/).join(""),!this._isValidAndNotEmpty(o))throw new Error(`Attribute key ${this._ERROR_MESSAGE_INVALID_CHARS}`);if(!this._isValid(a))throw new Error(`Attribute value ${this._ERROR_MESSAGE_INVALID_VALUE}`);t[o]=decodeURIComponent(a)}return t}_isValid(e){return e.length<=this._MAX_LENGTH&&this._isBaggageOctetString(e)}_isBaggageOctetString(e){for(let t=0;t<e.length;t++){let n=e.charCodeAt(t);if(n<33||n===44||n===59||n===92||n>126)return!1}return!0}_isValidAndNotEmpty(e){return e.length>0&&this._isValid(e)}};Oh.envDetectorSync=new ng});var oy=c(Rh=>{"use strict";Object.defineProperty(Rh,"__esModule",{value:!0});Rh.envDetector=void 0;var f5=sg(),ig=class{detect(e){return Promise.resolve(f5.envDetectorSync.detect(e))}};Rh.envDetector=new ig});var ay=c(bh=>{"use strict";Object.defineProperty(bh,"__esModule",{value:!0});bh.browserDetectorSync=void 0;var Ih=Le(),og=Mi(),p5=_(),ag=class{detect(e){if(!(typeof navigator<"u"))return og.Resource.empty();let n={[Ih.SemanticResourceAttributes.PROCESS_RUNTIME_NAME]:"browser",[Ih.SemanticResourceAttributes.PROCESS_RUNTIME_DESCRIPTION]:"Web Browser",[Ih.SemanticResourceAttributes.PROCESS_RUNTIME_VERSION]:navigator.userAgent};return this._getResourceAttributes(n,e)}_getResourceAttributes(e,t){return e[Ih.SemanticResourceAttributes.PROCESS_RUNTIME_VERSION]===""?(p5.diag.debug("BrowserDetector failed: Unable to find required browser resources. "),og.Resource.empty()):new og.Resource(Object.assign({},e))}};bh.browserDetectorSync=new ag});var uy=c(Tr=>{"use strict";var _5=Tr&&Tr.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Nh=Tr&&Tr.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&_5(e,r,t)};Object.defineProperty(Tr,"__esModule",{value:!0});Nh(iy(),Tr);Nh(oy(),Tr);Nh(ay(),Tr);Nh(sg(),Tr)});var cy=c(yh=>{"use strict";Object.defineProperty(yh,"__esModule",{value:!0});yh.isPromiseLike=void 0;var E5=r=>r!==null&&typeof r=="object"&&typeof r.then=="function";yh.isPromiseLike=E5});var hy=c(qi=>{"use strict";Object.defineProperty(qi,"__esModule",{value:!0});qi.detectResourcesSync=qi.detectResources=void 0;var Fa=os(),wi=_(),g5=cy(),m5=async(r={})=>{let e=await Promise.all((r.detectors||[]).map(async t=>{try{let n=await t.detect(r);return wi.diag.debug(`${t.constructor.name} found resource.`,n),n}catch(n){return wi.diag.debug(`${t.constructor.name} failed: ${n.message}`),Fa.Resource.empty()}}));return ly(e),e.reduce((t,n)=>t.merge(n),Fa.Resource.empty())};qi.detectResources=m5;var T5=(r={})=>{var e;let t=((e=r.detectors)!==null&&e!==void 0?e:[]).map(s=>{try{let i=s.detect(r),o;if((0,g5.isPromiseLike)(i)){let a=async()=>(await i).attributes;o=new Fa.Resource({},a())}else o=i;return o.waitForAsyncAttributes?o.waitForAsyncAttributes().then(()=>wi.diag.debug(`${s.constructor.name} found resource.`,o)):wi.diag.debug(`${s.constructor.name} found resource.`,o),o}catch(i){return wi.diag.error(`${s.constructor.name} failed: ${i.message}`),Fa.Resource.empty()}}),n=t.reduce((s,i)=>s.merge(i),Fa.Resource.empty());return n.waitForAsyncAttributes&&n.waitForAsyncAttributes().then(()=>{ly(t)}),n};qi.detectResourcesSync=T5;var ly=r=>{r.forEach(e=>{if(Object.keys(e.attributes).length>0){let t=JSON.stringify(e.attributes,null,4);wi.diag.verbose(t)}})}});var Mi=c(Mt=>{"use strict";var S5=Mt&&Mt.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),ls=Mt&&Mt.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&S5(e,r,t)};Object.defineProperty(Mt,"__esModule",{value:!0});ls(os(),Mt);ls(ey(),Mt);ls(eg(),Mt);ls(ry(),Mt);ls(sy(),Mt);ls(uy(),Mt);ls(hy(),Mt)});var dy=c(Ph=>{"use strict";Object.defineProperty(Ph,"__esModule",{value:!0});Ph.ExceptionEventName=void 0;Ph.ExceptionEventName="exception"});var cg=c(Lh=>{"use strict";Object.defineProperty(Lh,"__esModule",{value:!0});Lh.Span=void 0;var Sr=_(),Je=H(),hs=Le(),v5=dy(),ug=class{constructor(e,t,n,s,i,o,a=[],u,l){this.attributes={},this.links=[],this.events=[],this._droppedAttributesCount=0,this._droppedEventsCount=0,this._droppedLinksCount=0,this.status={code:Sr.SpanStatusCode.UNSET},this.endTime=[0,0],this._ended=!1,this._duration=[-1,-1],this.name=n,this._spanContext=s,this.parentSpanId=o,this.kind=i,this.links=a;let h=Date.now();this._performanceStartTime=Je.otperformance.now(),this._performanceOffset=h-(this._performanceStartTime+(0,Je.getTimeOrigin)()),this._startTimeProvided=u!=null,this.startTime=this._getTime(u??h),this.resource=e.resource,this.instrumentationLibrary=e.instrumentationLibrary,this._spanLimits=e.getSpanLimits(),this._spanProcessor=e.getActiveSpanProcessor(),this._spanProcessor.onStart(this,t),this._attributeValueLengthLimit=this._spanLimits.attributeValueLengthLimit||0}spanContext(){return this._spanContext}setAttribute(e,t){return t==null||this._isSpanEnded()?this:e.length===0?(Sr.diag.warn(`Invalid attribute key: ${e}`),this):(0,Je.isAttributeValue)(t)?Object.keys(this.attributes).length>=this._spanLimits.attributeCountLimit&&!Object.prototype.hasOwnProperty.call(this.attributes,e)?(this._droppedAttributesCount++,this):(this.attributes[e]=this._truncateToSize(t),this):(Sr.diag.warn(`Invalid attribute value set for key: ${e}`),this)}setAttributes(e){for(let[t,n]of Object.entries(e))this.setAttribute(t,n);return this}addEvent(e,t,n){if(this._isSpanEnded())return this;if(this._spanLimits.eventCountLimit===0)return Sr.diag.warn("No events allowed."),this._droppedEventsCount++,this;this.events.length>=this._spanLimits.eventCountLimit&&(Sr.diag.warn("Dropping extra events."),this.events.shift(),this._droppedEventsCount++),(0,Je.isTimeInput)(t)&&((0,Je.isTimeInput)(n)||(n=t),t=void 0);let s=(0,Je.sanitizeAttributes)(t);return this.events.push({name:e,attributes:s,time:this._getTime(n),droppedAttributesCount:0}),this}setStatus(e){return this._isSpanEnded()?this:(this.status=e,this)}updateName(e){return this._isSpanEnded()?this:(this.name=e,this)}end(e){if(this._isSpanEnded()){Sr.diag.error(`${this.name} ${this._spanContext.traceId}-${this._spanContext.spanId} - You can only call end() on a span once.`);return}this._ended=!0,this.endTime=this._getTime(e),this._duration=(0,Je.hrTimeDuration)(this.startTime,this.endTime),this._duration[0]<0&&(Sr.diag.warn("Inconsistent start and end time, startTime > endTime. Setting span duration to 0ms.",this.startTime,this.endTime),this.endTime=this.startTime.slice(),this._duration=[0,0]),this._spanProcessor.onEnd(this)}_getTime(e){if(typeof e=="number"&&e<Je.otperformance.now())return(0,Je.hrTime)(e+this._performanceOffset);if(typeof e=="number")return(0,Je.millisToHrTime)(e);if(e instanceof Date)return(0,Je.millisToHrTime)(e.getTime());if((0,Je.isTimeInputHrTime)(e))return e;if(this._startTimeProvided)return(0,Je.millisToHrTime)(Date.now());let t=Je.otperformance.now()-this._performanceStartTime;return(0,Je.addHrTimes)(this.startTime,(0,Je.millisToHrTime)(t))}isRecording(){return this._ended===!1}recordException(e,t){let n={};typeof e=="string"?n[hs.SemanticAttributes.EXCEPTION_MESSAGE]=e:e&&(e.code?n[hs.SemanticAttributes.EXCEPTION_TYPE]=e.code.toString():e.name&&(n[hs.SemanticAttributes.EXCEPTION_TYPE]=e.name),e.message&&(n[hs.SemanticAttributes.EXCEPTION_MESSAGE]=e.message),e.stack&&(n[hs.SemanticAttributes.EXCEPTION_STACKTRACE]=e.stack)),n[hs.SemanticAttributes.EXCEPTION_TYPE]||n[hs.SemanticAttributes.EXCEPTION_MESSAGE]?this.addEvent(v5.ExceptionEventName,n,t):Sr.diag.warn(`Failed to record an exception ${e}`)}get duration(){return this._duration}get ended(){return this._ended}get droppedAttributesCount(){return this._droppedAttributesCount}get droppedEventsCount(){return this._droppedEventsCount}get droppedLinksCount(){return this._droppedLinksCount}_isSpanEnded(){return this._ended&&Sr.diag.warn(`Can not execute the operation on ended Span {traceId: ${this._spanContext.traceId}, spanId: ${this._spanContext.spanId}}`),this._ended}_truncateToLimitUtil(e,t){return e.length<=t?e:e.substr(0,t)}_truncateToSize(e){let t=this._attributeValueLengthLimit;return t<=0?(Sr.diag.warn(`Attribute value limit must be positive, got ${t}`),e):typeof e=="string"?this._truncateToLimitUtil(e,t):Array.isArray(e)?e.map(n=>typeof n=="string"?this._truncateToLimitUtil(n,t):n):e}};Lh.Span=ug});var Ha=c(Va=>{"use strict";Object.defineProperty(Va,"__esModule",{value:!0});Va.SamplingDecision=void 0;var A5;(function(r){r[r.NOT_RECORD=0]="NOT_RECORD",r[r.RECORD=1]="RECORD",r[r.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"})(A5=Va.SamplingDecision||(Va.SamplingDecision={}))});var Mh=c(Ch=>{"use strict";Object.defineProperty(Ch,"__esModule",{value:!0});Ch.AlwaysOffSampler=void 0;var O5=Ha(),lg=class{shouldSample(){return{decision:O5.SamplingDecision.NOT_RECORD}}toString(){return"AlwaysOffSampler"}};Ch.AlwaysOffSampler=lg});var qh=c(wh=>{"use strict";Object.defineProperty(wh,"__esModule",{value:!0});wh.AlwaysOnSampler=void 0;var R5=Ha(),hg=class{shouldSample(){return{decision:R5.SamplingDecision.RECORD_AND_SAMPLED}}toString(){return"AlwaysOnSampler"}};wh.AlwaysOnSampler=hg});var pg=c(Dh=>{"use strict";Object.defineProperty(Dh,"__esModule",{value:!0});Dh.ParentBasedSampler=void 0;var xh=_(),I5=H(),fy=Mh(),dg=qh(),fg=class{constructor(e){var t,n,s,i;this._root=e.root,this._root||((0,I5.globalErrorHandler)(new Error("ParentBasedSampler must have a root sampler configured")),this._root=new dg.AlwaysOnSampler),this._remoteParentSampled=(t=e.remoteParentSampled)!==null&&t!==void 0?t:new dg.AlwaysOnSampler,this._remoteParentNotSampled=(n=e.remoteParentNotSampled)!==null&&n!==void 0?n:new fy.AlwaysOffSampler,this._localParentSampled=(s=e.localParentSampled)!==null&&s!==void 0?s:new dg.AlwaysOnSampler,this._localParentNotSampled=(i=e.localParentNotSampled)!==null&&i!==void 0?i:new fy.AlwaysOffSampler}shouldSample(e,t,n,s,i,o){let a=xh.trace.getSpanContext(e);return!a||!(0,xh.isSpanContextValid)(a)?this._root.shouldSample(e,t,n,s,i,o):a.isRemote?a.traceFlags&xh.TraceFlags.SAMPLED?this._remoteParentSampled.shouldSample(e,t,n,s,i,o):this._remoteParentNotSampled.shouldSample(e,t,n,s,i,o):a.traceFlags&xh.TraceFlags.SAMPLED?this._localParentSampled.shouldSample(e,t,n,s,i,o):this._localParentNotSampled.shouldSample(e,t,n,s,i,o)}toString(){return`ParentBased{root=${this._root.toString()}, remoteParentSampled=${this._remoteParentSampled.toString()}, remoteParentNotSampled=${this._remoteParentNotSampled.toString()}, localParentSampled=${this._localParentSampled.toString()}, localParentNotSampled=${this._localParentNotSampled.toString()}}`}};Dh.ParentBasedSampler=fg});var Eg=c($h=>{"use strict";Object.defineProperty($h,"__esModule",{value:!0});$h.TraceIdRatioBasedSampler=void 0;var b5=_(),py=Ha(),_g=class{constructor(e=0){this._ratio=e,this._ratio=this._normalize(e),this._upperBound=Math.floor(this._ratio*4294967295)}shouldSample(e,t){return{decision:(0,b5.isValidTraceId)(t)&&this._accumulate(t)<this._upperBound?py.SamplingDecision.RECORD_AND_SAMPLED:py.SamplingDecision.NOT_RECORD}}toString(){return`TraceIdRatioBased{${this._ratio}}`}_normalize(e){return typeof e!="number"||isNaN(e)?0:e>=1?1:e<=0?0:e}_accumulate(e){let t=0;for(let n=0;n<e.length/8;n++){let s=n*8,i=parseInt(e.slice(s,s+8),16);t=(t^i)>>>0}return t}};$h.TraceIdRatioBasedSampler=_g});var Tg=c(Di=>{"use strict";Object.defineProperty(Di,"__esModule",{value:!0});Di.buildSamplerFromEnv=Di.loadDefaultConfig=void 0;var jh=_(),Be=H(),_y=Mh(),gg=qh(),mg=pg(),Ey=Eg(),N5=(0,Be.getEnv)(),y5=Be.TracesSamplerValues.AlwaysOn,xi=1;function P5(){return{sampler:my(N5),forceFlushTimeoutMillis:3e4,generalLimits:{attributeValueLengthLimit:(0,Be.getEnv)().OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT,attributeCountLimit:(0,Be.getEnv)().OTEL_ATTRIBUTE_COUNT_LIMIT},spanLimits:{attributeValueLengthLimit:(0,Be.getEnv)().OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT,attributeCountLimit:(0,Be.getEnv)().OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT,linkCountLimit:(0,Be.getEnv)().OTEL_SPAN_LINK_COUNT_LIMIT,eventCountLimit:(0,Be.getEnv)().OTEL_SPAN_EVENT_COUNT_LIMIT,attributePerEventCountLimit:(0,Be.getEnv)().OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT,attributePerLinkCountLimit:(0,Be.getEnv)().OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT}}}Di.loadDefaultConfig=P5;function my(r=(0,Be.getEnv)()){switch(r.OTEL_TRACES_SAMPLER){case Be.TracesSamplerValues.AlwaysOn:return new gg.AlwaysOnSampler;case Be.TracesSamplerValues.AlwaysOff:return new _y.AlwaysOffSampler;case Be.TracesSamplerValues.ParentBasedAlwaysOn:return new mg.ParentBasedSampler({root:new gg.AlwaysOnSampler});case Be.TracesSamplerValues.ParentBasedAlwaysOff:return new mg.ParentBasedSampler({root:new _y.AlwaysOffSampler});case Be.TracesSamplerValues.TraceIdRatio:return new Ey.TraceIdRatioBasedSampler(gy(r));case Be.TracesSamplerValues.ParentBasedTraceIdRatio:return new mg.ParentBasedSampler({root:new Ey.TraceIdRatioBasedSampler(gy(r))});default:return jh.diag.error(`OTEL_TRACES_SAMPLER value "${r.OTEL_TRACES_SAMPLER} invalid, defaulting to ${y5}".`),new gg.AlwaysOnSampler}}Di.buildSamplerFromEnv=my;function gy(r){if(r.OTEL_TRACES_SAMPLER_ARG===void 0||r.OTEL_TRACES_SAMPLER_ARG==="")return jh.diag.error(`OTEL_TRACES_SAMPLER_ARG is blank, defaulting to ${xi}.`),xi;let e=Number(r.OTEL_TRACES_SAMPLER_ARG);return isNaN(e)?(jh.diag.error(`OTEL_TRACES_SAMPLER_ARG=${r.OTEL_TRACES_SAMPLER_ARG} was given, but it is invalid, defaulting to ${xi}.`),xi):e<0||e>1?(jh.diag.error(`OTEL_TRACES_SAMPLER_ARG=${r.OTEL_TRACES_SAMPLER_ARG} was given, but it is out of range ([0..1]), defaulting to ${xi}.`),xi):e}});var vg=c($i=>{"use strict";Object.defineProperty($i,"__esModule",{value:!0});$i.reconfigureLimits=$i.mergeConfig=void 0;var Ty=Tg(),Sg=H();function L5(r){let e={sampler:(0,Ty.buildSamplerFromEnv)()},t=(0,Ty.loadDefaultConfig)(),n=Object.assign({},t,e,r);return n.generalLimits=Object.assign({},t.generalLimits,r.generalLimits||{}),n.spanLimits=Object.assign({},t.spanLimits,r.spanLimits||{}),n}$i.mergeConfig=L5;function C5(r){var e,t,n,s,i,o,a,u,l,h,d,p;let f=Object.assign({},r.spanLimits),E=(0,Sg.getEnvWithoutDefaults)();return f.attributeCountLimit=(o=(i=(s=(t=(e=r.spanLimits)===null||e===void 0?void 0:e.attributeCountLimit)!==null&&t!==void 0?t:(n=r.generalLimits)===null||n===void 0?void 0:n.attributeCountLimit)!==null&&s!==void 0?s:E.OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT)!==null&&i!==void 0?i:E.OTEL_ATTRIBUTE_COUNT_LIMIT)!==null&&o!==void 0?o:Sg.DEFAULT_ATTRIBUTE_COUNT_LIMIT,f.attributeValueLengthLimit=(p=(d=(h=(u=(a=r.spanLimits)===null||a===void 0?void 0:a.attributeValueLengthLimit)!==null&&u!==void 0?u:(l=r.generalLimits)===null||l===void 0?void 0:l.attributeValueLengthLimit)!==null&&h!==void 0?h:E.OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT)!==null&&d!==void 0?d:E.OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT)!==null&&p!==void 0?p:Sg.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT,Object.assign({},r,{spanLimits:f})}$i.reconfigureLimits=C5});var Sy=c(Uh=>{"use strict";Object.defineProperty(Uh,"__esModule",{value:!0});Uh.BatchSpanProcessorBase=void 0;var ji=_(),ds=H(),Ag=class{constructor(e,t){this._exporter=e,this._finishedSpans=[],this._droppedSpansCount=0;let n=(0,ds.getEnv)();this._maxExportBatchSize=typeof(t==null?void 0:t.maxExportBatchSize)=="number"?t.maxExportBatchSize:n.OTEL_BSP_MAX_EXPORT_BATCH_SIZE,this._maxQueueSize=typeof(t==null?void 0:t.maxQueueSize)=="number"?t.maxQueueSize:n.OTEL_BSP_MAX_QUEUE_SIZE,this._scheduledDelayMillis=typeof(t==null?void 0:t.scheduledDelayMillis)=="number"?t.scheduledDelayMillis:n.OTEL_BSP_SCHEDULE_DELAY,this._exportTimeoutMillis=typeof(t==null?void 0:t.exportTimeoutMillis)=="number"?t.exportTimeoutMillis:n.OTEL_BSP_EXPORT_TIMEOUT,this._shutdownOnce=new ds.BindOnceFuture(this._shutdown,this),this._maxExportBatchSize>this._maxQueueSize&&(ji.diag.warn("BatchSpanProcessor: maxExportBatchSize must be smaller or equal to maxQueueSize, setting maxExportBatchSize to match maxQueueSize"),this._maxExportBatchSize=this._maxQueueSize)}forceFlush(){return this._shutdownOnce.isCalled?this._shutdownOnce.promise:this._flushAll()}onStart(e,t){}onEnd(e){this._shutdownOnce.isCalled||e.spanContext().traceFlags&ji.TraceFlags.SAMPLED&&this._addToBuffer(e)}shutdown(){return this._shutdownOnce.call()}_shutdown(){return Promise.resolve().then(()=>this.onShutdown()).then(()=>this._flushAll()).then(()=>this._exporter.shutdown())}_addToBuffer(e){if(this._finishedSpans.length>=this._maxQueueSize){this._droppedSpansCount===0&&ji.diag.debug("maxQueueSize reached, dropping spans"),this._droppedSpansCount++;return}this._droppedSpansCount>0&&(ji.diag.warn(`Dropped ${this._droppedSpansCount} spans because maxQueueSize reached`),this._droppedSpansCount=0),this._finishedSpans.push(e),this._maybeStartTimer()}_flushAll(){return new Promise((e,t)=>{let n=[],s=Math.ceil(this._finishedSpans.length/this._maxExportBatchSize);for(let i=0,o=s;i<o;i++)n.push(this._flushOneBatch());Promise.all(n).then(()=>{e()}).catch(t)})}_flushOneBatch(){return this._clearTimer(),this._finishedSpans.length===0?Promise.resolve():new Promise((e,t)=>{let n=setTimeout(()=>{t(new Error("Timeout"))},this._exportTimeoutMillis);ji.context.with((0,ds.suppressTracing)(ji.context.active()),()=>{let s=this._finishedSpans.splice(0,this._maxExportBatchSize),i=()=>this._exporter.export(s,a=>{var u;clearTimeout(n),a.code===ds.ExportResultCode.SUCCESS?e():t((u=a.error)!==null&&u!==void 0?u:new Error("BatchSpanProcessor: span export failed"))}),o=s.map(a=>a.resource).filter(a=>a.asyncAttributesPending);o.length===0?i():Promise.all(o.map(a=>{var u;return(u=a.waitForAsyncAttributes)===null||u===void 0?void 0:u.call(a)})).then(i,a=>{(0,ds.globalErrorHandler)(a),t(a)})})})}_maybeStartTimer(){this._timer===void 0&&(this._timer=setTimeout(()=>{this._flushOneBatch().then(()=>{this._finishedSpans.length>0&&(this._clearTimer(),this._maybeStartTimer())}).catch(e=>{(0,ds.globalErrorHandler)(e)})},this._scheduledDelayMillis),(0,ds.unrefTimer)(this._timer))}_clearTimer(){this._timer!==void 0&&(clearTimeout(this._timer),this._timer=void 0)}};Uh.BatchSpanProcessorBase=Ag});var vy=c(Gh=>{"use strict";Object.defineProperty(Gh,"__esModule",{value:!0});Gh.BatchSpanProcessor=void 0;var M5=Sy(),Og=class extends M5.BatchSpanProcessorBase{onShutdown(){}};Gh.BatchSpanProcessor=Og});var Ry=c(Bh=>{"use strict";Object.defineProperty(Bh,"__esModule",{value:!0});Bh.RandomIdGenerator=void 0;var w5=8,Oy=16,Rg=class{constructor(){this.generateTraceId=Ay(Oy),this.generateSpanId=Ay(w5)}};Bh.RandomIdGenerator=Rg;var Fh=Buffer.allocUnsafe(Oy);function Ay(r){return function(){for(let t=0;t<r/4;t++)Fh.writeUInt32BE(Math.random()*2**32>>>0,t*4);for(let t=0;t<r&&!(Fh[t]>0);t++)t===r-1&&(Fh[r-1]=1);return Fh.toString("hex",0,r)}}});var by=c(cn=>{"use strict";var q5=cn&&cn.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Iy=cn&&cn.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&q5(e,r,t)};Object.defineProperty(cn,"__esModule",{value:!0});Iy(vy(),cn);Iy(Ry(),cn)});var Vh=c(fs=>{"use strict";var x5=fs&&fs.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),D5=fs&&fs.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&x5(e,r,t)};Object.defineProperty(fs,"__esModule",{value:!0});D5(by(),fs)});var Ny=c(Xh=>{"use strict";Object.defineProperty(Xh,"__esModule",{value:!0});Xh.Tracer=void 0;var Ve=_(),Hh=H(),$5=cg(),j5=vg(),U5=Vh(),Ig=class{constructor(e,t,n){this._tracerProvider=n;let s=(0,j5.mergeConfig)(t);this._sampler=s.sampler,this._generalLimits=s.generalLimits,this._spanLimits=s.spanLimits,this._idGenerator=t.idGenerator||new U5.RandomIdGenerator,this.resource=n.resource,this.instrumentationLibrary=e}startSpan(e,t={},n=Ve.context.active()){var s,i,o;t.root&&(n=Ve.trace.deleteSpan(n));let a=Ve.trace.getSpan(n);if((0,Hh.isTracingSuppressed)(n))return Ve.diag.debug("Instrumentation suppressed, returning Noop Span"),Ve.trace.wrapSpanContext(Ve.INVALID_SPAN_CONTEXT);let u=a==null?void 0:a.spanContext(),l=this._idGenerator.generateSpanId(),h,d,p;!u||!Ve.trace.isSpanContextValid(u)?h=this._idGenerator.generateTraceId():(h=u.traceId,d=u.traceState,p=u.spanId);let f=(s=t.kind)!==null&&s!==void 0?s:Ve.SpanKind.INTERNAL,E=((i=t.links)!==null&&i!==void 0?i:[]).map(oe=>({context:oe.context,attributes:(0,Hh.sanitizeAttributes)(oe.attributes)})),y=(0,Hh.sanitizeAttributes)(t.attributes),q=this._sampler.shouldSample(n,h,e,f,y,E);d=(o=q.traceState)!==null&&o!==void 0?o:d;let N=q.decision===Ve.SamplingDecision.RECORD_AND_SAMPLED?Ve.TraceFlags.SAMPLED:Ve.TraceFlags.NONE,Y={traceId:h,spanId:l,traceFlags:N,traceState:d};if(q.decision===Ve.SamplingDecision.NOT_RECORD)return Ve.diag.debug("Recording is off, propagating context in a non-recording span"),Ve.trace.wrapSpanContext(Y);let M=new $5.Span(this,n,e,Y,f,p,E,t.startTime),re=(0,Hh.sanitizeAttributes)(Object.assign(y,q.attributes));return M.setAttributes(re),M}startActiveSpan(e,t,n,s){let i,o,a;if(arguments.length<2)return;arguments.length===2?a=t:arguments.length===3?(i=t,a=n):(i=t,o=n,a=s);let u=o??Ve.context.active(),l=this.startSpan(e,i,u),h=Ve.trace.setSpan(u,l);return Ve.context.with(h,a,void 0,l)}getGeneralLimits(){return this._generalLimits}getSpanLimits(){return this._spanLimits}getActiveSpanProcessor(){return this._tracerProvider.getActiveSpanProcessor()}};Xh.Tracer=Ig});var yy=c(Wh=>{"use strict";Object.defineProperty(Wh,"__esModule",{value:!0});Wh.MultiSpanProcessor=void 0;var G5=H(),bg=class{constructor(e){this._spanProcessors=e}forceFlush(){let e=[];for(let t of this._spanProcessors)e.push(t.forceFlush());return new Promise(t=>{Promise.all(e).then(()=>{t()}).catch(n=>{(0,G5.globalErrorHandler)(n||new Error("MultiSpanProcessor: forceFlush failed")),t()})})}onStart(e,t){for(let n of this._spanProcessors)n.onStart(e,t)}onEnd(e){for(let t of this._spanProcessors)t.onEnd(e)}shutdown(){let e=[];for(let t of this._spanProcessors)e.push(t.shutdown());return new Promise((t,n)=>{Promise.all(e).then(()=>{t()},n)})}};Wh.MultiSpanProcessor=bg});var yg=c(Kh=>{"use strict";Object.defineProperty(Kh,"__esModule",{value:!0});Kh.NoopSpanProcessor=void 0;var Ng=class{onStart(e,t){}onEnd(e){}shutdown(){return Promise.resolve()}forceFlush(){return Promise.resolve()}};Kh.NoopSpanProcessor=Ng});var Ly=c(ps=>{"use strict";Object.defineProperty(ps,"__esModule",{value:!0});ps.BasicTracerProvider=ps.ForceFlushState=void 0;var Ui=_(),Fi=H(),Py=Mi(),F5=Wa(),B5=Tg(),V5=yy(),H5=yg(),X5=Vh(),W5=vg(),Gi;(function(r){r[r.resolved=0]="resolved",r[r.timeout=1]="timeout",r[r.error=2]="error",r[r.unresolved=3]="unresolved"})(Gi=ps.ForceFlushState||(ps.ForceFlushState={}));var Xa=class{constructor(e={}){var t;this._registeredSpanProcessors=[],this._tracers=new Map;let n=(0,Fi.merge)({},(0,B5.loadDefaultConfig)(),(0,W5.reconfigureLimits)(e));this.resource=(t=n.resource)!==null&&t!==void 0?t:Py.Resource.empty(),this.resource=Py.Resource.default().merge(this.resource),this._config=Object.assign({},n,{resource:this.resource});let s=this._buildExporterFromEnv();if(s!==void 0){let i=new X5.BatchSpanProcessor(s);this.activeSpanProcessor=i}else this.activeSpanProcessor=new H5.NoopSpanProcessor}getTracer(e,t,n){let s=`${e}@${t||""}:${(n==null?void 0:n.schemaUrl)||""}`;return this._tracers.has(s)||this._tracers.set(s,new F5.Tracer({name:e,version:t,schemaUrl:n==null?void 0:n.schemaUrl},this._config,this)),this._tracers.get(s)}addSpanProcessor(e){this._registeredSpanProcessors.length===0&&this.activeSpanProcessor.shutdown().catch(t=>Ui.diag.error("Error while trying to shutdown current span processor",t)),this._registeredSpanProcessors.push(e),this.activeSpanProcessor=new V5.MultiSpanProcessor(this._registeredSpanProcessors)}getActiveSpanProcessor(){return this.activeSpanProcessor}register(e={}){Ui.trace.setGlobalTracerProvider(this),e.propagator===void 0&&(e.propagator=this._buildPropagatorFromEnv()),e.contextManager&&Ui.context.setGlobalContextManager(e.contextManager),e.propagator&&Ui.propagation.setGlobalPropagator(e.propagator)}forceFlush(){let e=this._config.forceFlushTimeoutMillis,t=this._registeredSpanProcessors.map(n=>new Promise(s=>{let i,o=setTimeout(()=>{s(new Error(`Span processor did not completed within timeout period of ${e} ms`)),i=Gi.timeout},e);n.forceFlush().then(()=>{clearTimeout(o),i!==Gi.timeout&&(i=Gi.resolved,s(i))}).catch(a=>{clearTimeout(o),i=Gi.error,s(a)})}));return new Promise((n,s)=>{Promise.all(t).then(i=>{let o=i.filter(a=>a!==Gi.resolved);o.length>0?s(o):n()}).catch(i=>s([i]))})}shutdown(){return this.activeSpanProcessor.shutdown()}_getPropagator(e){var t;return(t=this.constructor._registeredPropagators.get(e))===null||t===void 0?void 0:t()}_getSpanExporter(e){var t;return(t=this.constructor._registeredExporters.get(e))===null||t===void 0?void 0:t()}_buildPropagatorFromEnv(){let e=Array.from(new Set((0,Fi.getEnv)().OTEL_PROPAGATORS)),n=e.map(s=>{let i=this._getPropagator(s);return i||Ui.diag.warn(`Propagator "${s}" requested through environment variable is unavailable.`),i}).reduce((s,i)=>(i&&s.push(i),s),[]);if(n.length!==0)return e.length===1?n[0]:new Fi.CompositePropagator({propagators:n})}_buildExporterFromEnv(){let e=(0,Fi.getEnv)().OTEL_TRACES_EXPORTER;if(e==="none"||e==="")return;let t=this._getSpanExporter(e);return t||Ui.diag.error(`Exporter "${e}" requested through environment variable is unavailable.`),t}};ps.BasicTracerProvider=Xa;Xa._registeredPropagators=new Map([["tracecontext",()=>new Fi.W3CTraceContextPropagator],["baggage",()=>new Fi.W3CBaggagePropagator]]);Xa._registeredExporters=new Map});var Cy=c(Yh=>{"use strict";Object.defineProperty(Yh,"__esModule",{value:!0});Yh.ConsoleSpanExporter=void 0;var Pg=H(),Lg=class{export(e,t){return this._sendSpans(e,t)}shutdown(){return this._sendSpans([]),this.forceFlush()}forceFlush(){return Promise.resolve()}_exportInfo(e){var t;return{traceId:e.spanContext().traceId,parentId:e.parentSpanId,traceState:(t=e.spanContext().traceState)===null||t===void 0?void 0:t.serialize(),name:e.name,id:e.spanContext().spanId,kind:e.kind,timestamp:(0,Pg.hrTimeToMicroseconds)(e.startTime),duration:(0,Pg.hrTimeToMicroseconds)(e.duration),attributes:e.attributes,status:e.status,events:e.events,links:e.links}}_sendSpans(e,t){for(let n of e)console.dir(this._exportInfo(n),{depth:3});if(t)return t({code:Pg.ExportResultCode.SUCCESS})}};Yh.ConsoleSpanExporter=Lg});var wy=c(kh=>{"use strict";Object.defineProperty(kh,"__esModule",{value:!0});kh.InMemorySpanExporter=void 0;var My=H(),Cg=class{constructor(){this._finishedSpans=[],this._stopped=!1}export(e,t){if(this._stopped)return t({code:My.ExportResultCode.FAILED,error:new Error("Exporter has been stopped")});this._finishedSpans.push(...e),setTimeout(()=>t({code:My.ExportResultCode.SUCCESS}),0)}shutdown(){return this._stopped=!0,this._finishedSpans=[],this.forceFlush()}forceFlush(){return Promise.resolve()}reset(){this._finishedSpans=[]}getFinishedSpans(){return this._finishedSpans}};kh.InMemorySpanExporter=Cg});var xy=c(qy=>{"use strict";Object.defineProperty(qy,"__esModule",{value:!0})});var Dy=c(zh=>{"use strict";Object.defineProperty(zh,"__esModule",{value:!0});zh.SimpleSpanProcessor=void 0;var K5=_(),Bi=H(),Mg=class{constructor(e){this._exporter=e,this._shutdownOnce=new Bi.BindOnceFuture(this._shutdown,this),this._unresolvedExports=new Set}async forceFlush(){await Promise.all(Array.from(this._unresolvedExports)),this._exporter.forceFlush&&await this._exporter.forceFlush()}onStart(e,t){}onEnd(e){var t,n;if(this._shutdownOnce.isCalled||!(e.spanContext().traceFlags&K5.TraceFlags.SAMPLED))return;let s=()=>Bi.internal._export(this._exporter,[e]).then(i=>{var o;i.code!==Bi.ExportResultCode.SUCCESS&&(0,Bi.globalErrorHandler)((o=i.error)!==null&&o!==void 0?o:new Error(`SimpleSpanProcessor: span export failed (status ${i})`))}).catch(i=>{(0,Bi.globalErrorHandler)(i)});if(e.resource.asyncAttributesPending){let i=(n=(t=e.resource).waitForAsyncAttributes)===null||n===void 0?void 0:n.call(t).then(()=>(i!=null&&this._unresolvedExports.delete(i),s()),o=>(0,Bi.globalErrorHandler)(o));i!=null&&this._unresolvedExports.add(i)}else s()}shutdown(){return this._shutdownOnce.call()}_shutdown(){return this._exporter.shutdown()}};zh.SimpleSpanProcessor=Mg});var jy=c($y=>{"use strict";Object.defineProperty($y,"__esModule",{value:!0})});var Gy=c(Uy=>{"use strict";Object.defineProperty(Uy,"__esModule",{value:!0})});var By=c(Fy=>{"use strict";Object.defineProperty(Fy,"__esModule",{value:!0})});var Hy=c(Vy=>{"use strict";Object.defineProperty(Vy,"__esModule",{value:!0})});var Wy=c(Xy=>{"use strict";Object.defineProperty(Xy,"__esModule",{value:!0})});var Wa=c(fe=>{"use strict";var Y5=fe&&fe.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Pe=fe&&fe.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Y5(e,r,t)};Object.defineProperty(fe,"__esModule",{value:!0});Pe(Ny(),fe);Pe(Ly(),fe);Pe(Vh(),fe);Pe(Cy(),fe);Pe(wy(),fe);Pe(xy(),fe);Pe(Dy(),fe);Pe(jy(),fe);Pe(yg(),fe);Pe(Mh(),fe);Pe(qh(),fe);Pe(pg(),fe);Pe(Eg(),fe);Pe(Ha(),fe);Pe(cg(),fe);Pe(Gy(),fe);Pe(By(),fe);Pe(Hy(),fe);Pe(Wy(),fe)});var _s=c(_e=>{"use strict";Object.defineProperty(_e,"__esModule",{value:!0});_e.parseRetryAfterToMills=_e.isExportRetryable=_e.invalidTimeout=_e.configureExporterTimeout=_e.appendRootPathToUrlIfNeeded=_e.appendResourcePathToUrl=_e.parseHeaders=_e.DEFAULT_EXPORT_BACKOFF_MULTIPLIER=_e.DEFAULT_EXPORT_MAX_BACKOFF=_e.DEFAULT_EXPORT_INITIAL_BACKOFF=_e.DEFAULT_EXPORT_MAX_ATTEMPTS=void 0;var wg=_(),Ky=H(),Yy=1e4;_e.DEFAULT_EXPORT_MAX_ATTEMPTS=5;_e.DEFAULT_EXPORT_INITIAL_BACKOFF=1e3;_e.DEFAULT_EXPORT_MAX_BACKOFF=5e3;_e.DEFAULT_EXPORT_BACKOFF_MULTIPLIER=1.5;function k5(r={}){let e={};return Object.entries(r).forEach(([t,n])=>{typeof n<"u"?e[t]=String(n):wg.diag.warn(`Header "${t}" has wrong value and will be ignored`)}),e}_e.parseHeaders=k5;function z5(r,e){return r.endsWith("/")||(r=r+"/"),r+e}_e.appendResourcePathToUrl=z5;function Q5(r){try{let e=new URL(r);return e.pathname===""&&(e.pathname=e.pathname+"/"),e.toString()}catch{return wg.diag.warn(`Could not parse export URL: '${r}'`),r}}_e.appendRootPathToUrlIfNeeded=Q5;function Z5(r){return typeof r=="number"?r<=0?qg(r,Yy):r:J5()}_e.configureExporterTimeout=Z5;function J5(){var r;let e=Number((r=(0,Ky.getEnv)().OTEL_EXPORTER_OTLP_TRACES_TIMEOUT)!==null&&r!==void 0?r:(0,Ky.getEnv)().OTEL_EXPORTER_OTLP_TIMEOUT);return e<=0?qg(e,Yy):e}function qg(r,e){return wg.diag.warn("Timeout must be greater than 0",r),e}_e.invalidTimeout=qg;function eK(r){return[429,502,503,504].includes(r)}_e.isExportRetryable=eK;function tK(r){if(r==null)return-1;let e=Number.parseInt(r,10);if(Number.isInteger(e))return e>0?e*1e3:-1;let t=new Date(r).getTime()-Date.now();return t>=0?t:0}_e.parseRetryAfterToMills=tK});var Zh=c(Qh=>{"use strict";Object.defineProperty(Qh,"__esModule",{value:!0});Qh.OTLPExporterBase=void 0;var ky=_(),Ka=H(),rK=_s(),xg=class{constructor(e={}){this._sendingPromises=[],this.url=this.getDefaultUrl(e),typeof e.hostname=="string"&&(this.hostname=e.hostname),this.shutdown=this.shutdown.bind(this),this._shutdownOnce=new Ka.BindOnceFuture(this._shutdown,this),this._concurrencyLimit=typeof e.concurrencyLimit=="number"?e.concurrencyLimit:1/0,this.timeoutMillis=(0,rK.configureExporterTimeout)(e.timeoutMillis),this.onInit(e)}export(e,t){if(this._shutdownOnce.isCalled){t({code:Ka.ExportResultCode.FAILED,error:new Error("Exporter has been shutdown")});return}if(this._sendingPromises.length>=this._concurrencyLimit){t({code:Ka.ExportResultCode.FAILED,error:new Error("Concurrent export limit reached")});return}this._export(e).then(()=>{t({code:Ka.ExportResultCode.SUCCESS})}).catch(n=>{t({code:Ka.ExportResultCode.FAILED,error:n})})}_export(e){return new Promise((t,n)=>{try{ky.diag.debug("items to be sent",e),this.send(e,t,n)}catch(s){n(s)}})}shutdown(){return this._shutdownOnce.call()}forceFlush(){return Promise.all(this._sendingPromises).then(()=>{})}_shutdown(){return ky.diag.debug("shutdown started"),this.onShutdown(),this.forceFlush()}};Qh.OTLPExporterBase=xg});var Dg=c(Ya=>{"use strict";Object.defineProperty(Ya,"__esModule",{value:!0});Ya.CompressionAlgorithm=void 0;var nK;(function(r){r.NONE="none",r.GZIP="gzip"})(nK=Ya.CompressionAlgorithm||(Ya.CompressionAlgorithm={}))});var ed=c(Jh=>{"use strict";Object.defineProperty(Jh,"__esModule",{value:!0});Jh.OTLPExporterError=void 0;var $g=class extends Error{constructor(e,t,n){super(e),this.name="OTLPExporterError",this.data=n,this.code=t}};Jh.OTLPExporterError=$g});var Ug=c(ln=>{"use strict";Object.defineProperty(ln,"__esModule",{value:!0});ln.configureCompression=ln.createHttpAgent=ln.sendWithHttp=void 0;var Qy=require("url"),Zy=require("http"),Jy=require("https"),sK=require("zlib"),iK=require("stream"),jg=_(),td=Dg(),zy=H(),ka=ed(),Vi=_s();function oK(r,e,t,n,s){let i=r.timeoutMillis,o=new Qy.URL(r.url),a=Number(process.versions.node.split(".")[0]),u,l,h=!1,d=setTimeout(()=>{if(clearTimeout(u),h=!0,l.destroyed){let y=new ka.OTLPExporterError("Request Timeout");s(y)}else a>=14?l.destroy():l.abort()},i),p={hostname:o.hostname,port:o.port,path:o.pathname,method:"POST",headers:Object.assign({"Content-Type":t},r.headers),agent:r.agent},f=o.protocol==="http:"?Zy.request:Jy.request,E=(y=Vi.DEFAULT_EXPORT_MAX_ATTEMPTS,q=Vi.DEFAULT_EXPORT_INITIAL_BACKOFF)=>{switch(l=f(p,N=>{let Y="";N.on("data",M=>Y+=M),N.on("aborted",()=>{if(h){let M=new ka.OTLPExporterError("Request Timeout");s(M)}}),N.on("end",()=>{if(h===!1)if(N.statusCode&&N.statusCode<299)jg.diag.debug(`statusCode: ${N.statusCode}`,Y),n(),clearTimeout(d),clearTimeout(u);else if(N.statusCode&&(0,Vi.isExportRetryable)(N.statusCode)&&y>0){let M;q=Vi.DEFAULT_EXPORT_BACKOFF_MULTIPLIER*q,N.headers["retry-after"]?M=(0,Vi.parseRetryAfterToMills)(N.headers["retry-after"]):M=Math.round(Math.random()*(Vi.DEFAULT_EXPORT_MAX_BACKOFF-q)+q),u=setTimeout(()=>{E(y-1,q)},M)}else{let M=new ka.OTLPExporterError(N.statusMessage,N.statusCode,Y);s(M),clearTimeout(d),clearTimeout(u)}})}),l.on("error",N=>{if(h){let Y=new ka.OTLPExporterError("Request Timeout",N.code);s(Y)}else s(N);clearTimeout(d),clearTimeout(u)}),l.on("abort",()=>{if(h){let N=new ka.OTLPExporterError("Request Timeout");s(N)}clearTimeout(d),clearTimeout(u)}),r.compression){case td.CompressionAlgorithm.GZIP:{l.setHeader("Content-Encoding","gzip"),aK(e).on("error",s).pipe(sK.createGzip()).on("error",s).pipe(l);break}default:l.end(e);break}};E()}ln.sendWithHttp=oK;function aK(r){let e=new iK.Readable;return e.push(r),e.push(null),e}function uK(r){if(r.httpAgentOptions&&r.keepAlive===!1){jg.diag.warn("httpAgentOptions is used only when keepAlive is true");return}if(!(r.keepAlive===!1||!r.url))try{let t=new Qy.URL(r.url).protocol==="http:"?Zy.Agent:Jy.Agent;return new t(Object.assign({keepAlive:!0},r.httpAgentOptions))}catch(e){jg.diag.error(`collector exporter failed to create http agent. err: ${e.message}`);return}}ln.createHttpAgent=uK;function cK(r){return r||(((0,zy.getEnv)().OTEL_EXPORTER_OTLP_TRACES_COMPRESSION||(0,zy.getEnv)().OTEL_EXPORTER_OTLP_COMPRESSION)===td.CompressionAlgorithm.GZIP?td.CompressionAlgorithm.GZIP:td.CompressionAlgorithm.NONE)}ln.configureCompression=cK});var rP=c(rd=>{"use strict";Object.defineProperty(rd,"__esModule",{value:!0});rd.OTLPExporterNodeBase=void 0;var lK=Zh(),hK=_s(),Gg=Ug(),eP=_(),tP=H(),Fg=class extends lK.OTLPExporterBase{constructor(e={}){super(e),this.DEFAULT_HEADERS={},e.metadata&&eP.diag.warn("Metadata cannot be set when using http"),this.headers=Object.assign(this.DEFAULT_HEADERS,(0,hK.parseHeaders)(e.headers),tP.baggageUtils.parseKeyPairsIntoRecord((0,tP.getEnv)().OTEL_EXPORTER_OTLP_HEADERS)),this.agent=(0,Gg.createHttpAgent)(e),this.compression=(0,Gg.configureCompression)(e.compression)}onInit(e){}send(e,t,n){if(this._shutdownOnce.isCalled){eP.diag.debug("Shutdown already started. Cannot send objects");return}let s=this.convert(e),i=new Promise((a,u)=>{(0,Gg.sendWithHttp)(this,JSON.stringify(s),"application/json",a,u)}).then(t,n);this._sendingPromises.push(i);let o=()=>{let a=this._sendingPromises.indexOf(i);this._sendingPromises.splice(a,1)};i.then(o,o)}onShutdown(){}};rd.OTLPExporterNodeBase=Fg});var nP=c(Vt=>{"use strict";Object.defineProperty(Vt,"__esModule",{value:!0});Vt.CompressionAlgorithm=Vt.configureCompression=Vt.createHttpAgent=Vt.sendWithHttp=Vt.OTLPExporterNodeBase=void 0;var dK=rP();Object.defineProperty(Vt,"OTLPExporterNodeBase",{enumerable:!0,get:function(){return dK.OTLPExporterNodeBase}});var Bg=Ug();Object.defineProperty(Vt,"sendWithHttp",{enumerable:!0,get:function(){return Bg.sendWithHttp}});Object.defineProperty(Vt,"createHttpAgent",{enumerable:!0,get:function(){return Bg.createHttpAgent}});Object.defineProperty(Vt,"configureCompression",{enumerable:!0,get:function(){return Bg.configureCompression}});var fK=Dg();Object.defineProperty(Vt,"CompressionAlgorithm",{enumerable:!0,get:function(){return fK.CompressionAlgorithm}})});var Vg=c(Xi=>{"use strict";Object.defineProperty(Xi,"__esModule",{value:!0});Xi.sendWithXhr=Xi.sendWithBeacon=void 0;var sP=_(),za=ed(),Hi=_s();function pK(r,e,t,n,s){if(navigator.sendBeacon(e,new Blob([r],t)))sP.diag.debug("sendBeacon - can send",r),n();else{let i=new za.OTLPExporterError(`sendBeacon - cannot send ${r}`);s(i)}}Xi.sendWithBeacon=pK;function _K(r,e,t,n,s,i){let o,a,u=!1,l=setTimeout(()=>{if(clearTimeout(o),u=!0,a.readyState===XMLHttpRequest.DONE){let d=new za.OTLPExporterError("Request Timeout");i(d)}else a.abort()},n),h=(d=Hi.DEFAULT_EXPORT_MAX_ATTEMPTS,p=Hi.DEFAULT_EXPORT_INITIAL_BACKOFF)=>{a=new XMLHttpRequest,a.open("POST",e),Object.entries(Object.assign(Object.assign({},{Accept:"application/json","Content-Type":"application/json"}),t)).forEach(([E,y])=>{a.setRequestHeader(E,y)}),a.send(r),a.onreadystatechange=()=>{if(a.readyState===XMLHttpRequest.DONE&&u===!1)if(a.status>=200&&a.status<=299)sP.diag.debug("xhr success",r),s(),clearTimeout(l),clearTimeout(o);else if(a.status&&(0,Hi.isExportRetryable)(a.status)&&d>0){let E;p=Hi.DEFAULT_EXPORT_BACKOFF_MULTIPLIER*p,a.getResponseHeader("Retry-After")?E=(0,Hi.parseRetryAfterToMills)(a.getResponseHeader("Retry-After")):E=Math.round(Math.random()*(Hi.DEFAULT_EXPORT_MAX_BACKOFF-p)+p),o=setTimeout(()=>{h(d-1,p)},E)}else{let E=new za.OTLPExporterError(`Failed to export with XHR (status: ${a.status})`,a.status);i(E),clearTimeout(l),clearTimeout(o)}},a.onabort=()=>{if(u){let E=new za.OTLPExporterError("Request Timeout");i(E)}clearTimeout(l),clearTimeout(o)},a.onerror=()=>{if(u){let E=new za.OTLPExporterError("Request Timeout");i(E)}clearTimeout(l),clearTimeout(o)}};h()}Xi.sendWithXhr=_K});var aP=c(nd=>{"use strict";Object.defineProperty(nd,"__esModule",{value:!0});nd.OTLPExporterBrowserBase=void 0;var EK=Zh(),gK=_s(),iP=Vg(),mK=_(),oP=H(),Hg=class extends EK.OTLPExporterBase{constructor(e={}){super(e),this._useXHR=!1,this._useXHR=!!e.headers||typeof navigator.sendBeacon!="function",this._useXHR?this._headers=Object.assign({},(0,gK.parseHeaders)(e.headers),oP.baggageUtils.parseKeyPairsIntoRecord((0,oP.getEnv)().OTEL_EXPORTER_OTLP_HEADERS)):this._headers={}}onInit(){window.addEventListener("unload",this.shutdown)}onShutdown(){window.removeEventListener("unload",this.shutdown)}send(e,t,n){if(this._shutdownOnce.isCalled){mK.diag.debug("Shutdown already started. Cannot send objects");return}let s=this.convert(e),i=JSON.stringify(s),o=new Promise((u,l)=>{this._useXHR?(0,iP.sendWithXhr)(i,this.url,this._headers,this.timeoutMillis,u,l):(0,iP.sendWithBeacon)(i,this.url,{type:"application/json"},u,l)}).then(t,n);this._sendingPromises.push(o);let a=()=>{let u=this._sendingPromises.indexOf(o);this._sendingPromises.splice(u,1)};o.then(a,a)}};nd.OTLPExporterBrowserBase=Hg});var uP=c(Wi=>{"use strict";Object.defineProperty(Wi,"__esModule",{value:!0});Wi.sendWithXhr=Wi.OTLPExporterBrowserBase=void 0;var TK=aP();Object.defineProperty(Wi,"OTLPExporterBrowserBase",{enumerable:!0,get:function(){return TK.OTLPExporterBrowserBase}});var SK=Vg();Object.defineProperty(Wi,"sendWithXhr",{enumerable:!0,get:function(){return SK.sendWithXhr}})});var lP=c(et=>{"use strict";Object.defineProperty(et,"__esModule",{value:!0});et.sendWithXhr=et.OTLPExporterBrowserBase=et.CompressionAlgorithm=et.configureCompression=et.createHttpAgent=et.sendWithHttp=et.OTLPExporterNodeBase=void 0;var Qa=nP();Object.defineProperty(et,"OTLPExporterNodeBase",{enumerable:!0,get:function(){return Qa.OTLPExporterNodeBase}});Object.defineProperty(et,"sendWithHttp",{enumerable:!0,get:function(){return Qa.sendWithHttp}});Object.defineProperty(et,"createHttpAgent",{enumerable:!0,get:function(){return Qa.createHttpAgent}});Object.defineProperty(et,"configureCompression",{enumerable:!0,get:function(){return Qa.configureCompression}});Object.defineProperty(et,"CompressionAlgorithm",{enumerable:!0,get:function(){return Qa.CompressionAlgorithm}});var cP=uP();Object.defineProperty(et,"OTLPExporterBrowserBase",{enumerable:!0,get:function(){return cP.OTLPExporterBrowserBase}});Object.defineProperty(et,"sendWithXhr",{enumerable:!0,get:function(){return cP.sendWithXhr}})});var Xg=c(be=>{"use strict";var vK=be&&be.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),AK=be&&be.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&vK(e,r,t)};Object.defineProperty(be,"__esModule",{value:!0});be.invalidTimeout=be.configureExporterTimeout=be.appendRootPathToUrlIfNeeded=be.appendResourcePathToUrl=be.parseHeaders=be.OTLPExporterError=be.OTLPExporterBase=void 0;AK(lP(),be);var OK=Zh();Object.defineProperty(be,"OTLPExporterBase",{enumerable:!0,get:function(){return OK.OTLPExporterBase}});var RK=ed();Object.defineProperty(be,"OTLPExporterError",{enumerable:!0,get:function(){return RK.OTLPExporterError}});var Za=_s();Object.defineProperty(be,"parseHeaders",{enumerable:!0,get:function(){return Za.parseHeaders}});Object.defineProperty(be,"appendResourcePathToUrl",{enumerable:!0,get:function(){return Za.appendResourcePathToUrl}});Object.defineProperty(be,"appendRootPathToUrlIfNeeded",{enumerable:!0,get:function(){return Za.appendRootPathToUrlIfNeeded}});Object.defineProperty(be,"configureExporterTimeout",{enumerable:!0,get:function(){return Za.configureExporterTimeout}});Object.defineProperty(be,"invalidTimeout",{enumerable:!0,get:function(){return Za.invalidTimeout}})});var dP=c(hP=>{"use strict";Object.defineProperty(hP,"__esModule",{value:!0})});var pP=c(fP=>{"use strict";Object.defineProperty(fP,"__esModule",{value:!0})});var EP=c(_P=>{"use strict";Object.defineProperty(_P,"__esModule",{value:!0})});var gP=c(Ja=>{"use strict";Object.defineProperty(Ja,"__esModule",{value:!0});Ja.ESpanKind=void 0;var IK;(function(r){r[r.SPAN_KIND_UNSPECIFIED=0]="SPAN_KIND_UNSPECIFIED",r[r.SPAN_KIND_INTERNAL=1]="SPAN_KIND_INTERNAL",r[r.SPAN_KIND_SERVER=2]="SPAN_KIND_SERVER",r[r.SPAN_KIND_CLIENT=3]="SPAN_KIND_CLIENT",r[r.SPAN_KIND_PRODUCER=4]="SPAN_KIND_PRODUCER",r[r.SPAN_KIND_CONSUMER=5]="SPAN_KIND_CONSUMER"})(IK=Ja.ESpanKind||(Ja.ESpanKind={}))});var TP=c(mP=>{"use strict";Object.defineProperty(mP,"__esModule",{value:!0})});var eu=c(hn=>{"use strict";Object.defineProperty(hn,"__esModule",{value:!0});hn.toAnyValue=hn.toKeyValue=hn.toAttributes=void 0;function bK(r){return Object.keys(r).map(e=>Wg(e,r[e]))}hn.toAttributes=bK;function Wg(r,e){return{key:r,value:Kg(e)}}hn.toKeyValue=Wg;function Kg(r){let e=typeof r;return e==="string"?{stringValue:r}:e==="number"?Number.isInteger(r)?{intValue:r}:{doubleValue:r}:e==="boolean"?{boolValue:r}:r instanceof Uint8Array?{bytesValue:r}:Array.isArray(r)?{arrayValue:{values:r.map(Kg)}}:e==="object"&&r!=null?{kvlistValue:{values:Object.entries(r).map(([t,n])=>Wg(t,n))}}:{}}hn.toAnyValue=Kg});var AP=c(dn=>{"use strict";Object.defineProperty(dn,"__esModule",{value:!0});dn.toOtlpSpanEvent=dn.toOtlpLink=dn.sdkSpanToOtlpSpan=void 0;var Yg=H(),kg=eu(),tu=H();function NK(r,e){var t;let n=r.spanContext(),s=r.status,i=e?r.parentSpanId:r.parentSpanId!=null?tu.hexToBase64(r.parentSpanId):void 0;return{traceId:e?n.traceId:tu.hexToBase64(n.traceId),spanId:e?n.spanId:tu.hexToBase64(n.spanId),parentSpanId:i,traceState:(t=n.traceState)===null||t===void 0?void 0:t.serialize(),name:r.name,kind:r.kind==null?0:r.kind+1,startTimeUnixNano:(0,Yg.hrTimeToNanoseconds)(r.startTime),endTimeUnixNano:(0,Yg.hrTimeToNanoseconds)(r.endTime),attributes:(0,kg.toAttributes)(r.attributes),droppedAttributesCount:r.droppedAttributesCount,events:r.events.map(vP),droppedEventsCount:r.droppedEventsCount,status:{code:s.code,message:s.message},links:r.links.map(o=>SP(o,e)),droppedLinksCount:r.droppedLinksCount}}dn.sdkSpanToOtlpSpan=NK;function SP(r,e){var t;return{attributes:r.attributes?(0,kg.toAttributes)(r.attributes):[],spanId:e?r.context.spanId:tu.hexToBase64(r.context.spanId),traceId:e?r.context.traceId:tu.hexToBase64(r.context.traceId),traceState:(t=r.context.traceState)===null||t===void 0?void 0:t.serialize(),droppedAttributesCount:r.droppedAttributesCount||0}}dn.toOtlpLink=SP;function vP(r){return{attributes:r.attributes?(0,kg.toAttributes)(r.attributes):[],name:r.name,timeUnixNano:(0,Yg.hrTimeToNanoseconds)(r.time),droppedAttributesCount:r.droppedAttributesCount||0}}dn.toOtlpSpanEvent=vP});var OP=c(sd=>{"use strict";Object.defineProperty(sd,"__esModule",{value:!0});sd.createExportTraceServiceRequest=void 0;var yK=eu(),PK=AP();function LK(r,e){return{resourceSpans:MK(r,e)}}sd.createExportTraceServiceRequest=LK;function CK(r){let e=new Map;for(let t of r){let n=e.get(t.resource);n||(n=new Map,e.set(t.resource,n));let s=`${t.instrumentationLibrary.name}@${t.instrumentationLibrary.version||""}:${t.instrumentationLibrary.schemaUrl||""}`,i=n.get(s);i||(i=[],n.set(s,i)),i.push(t)}return e}function MK(r,e){let t=CK(r),n=[],s=t.entries(),i=s.next();for(;!i.done;){let[o,a]=i.value,u=[],l=a.values(),h=l.next();for(;!h.done;){let p=h.value;if(p.length>0){let{name:f,version:E,schemaUrl:y}=p[0].instrumentationLibrary,q=p.map(N=>(0,PK.sdkSpanToOtlpSpan)(N,e));u.push({scope:{name:f,version:E},spans:q,schemaUrl:y})}h=l.next()}let d={resource:{attributes:(0,yK.toAttributes)(o.attributes),droppedAttributesCount:0},scopeSpans:u,schemaUrl:void 0};n.push(d),i=s.next()}return n}});var id=c(ru=>{"use strict";Object.defineProperty(ru,"__esModule",{value:!0});ru.AggregationTemporality=void 0;var wK;(function(r){r[r.DELTA=0]="DELTA",r[r.CUMULATIVE=1]="CUMULATIVE"})(wK=ru.AggregationTemporality||(ru.AggregationTemporality={}))});var Ki=c(nu=>{"use strict";Object.defineProperty(nu,"__esModule",{value:!0});nu.DataPointType=void 0;var qK;(function(r){r[r.HISTOGRAM=0]="HISTOGRAM",r[r.EXPONENTIAL_HISTOGRAM=1]="EXPONENTIAL_HISTOGRAM",r[r.GAUGE=2]="GAUGE",r[r.SUM=3]="SUM"})(qK=nu.DataPointType||(nu.DataPointType={}))});var vr=c(Re=>{"use strict";Object.defineProperty(Re,"__esModule",{value:!0});Re.binarySearchLB=Re.setEquals=Re.FlatMap=Re.isPromiseAllSettledRejectionResult=Re.PromiseAllSettled=Re.callWithTimeout=Re.TimeoutError=Re.instrumentationScopeId=Re.hashAttributes=Re.isNotNullish=void 0;function xK(r){return r!=null}Re.isNotNullish=xK;function DK(r){let e=Object.keys(r);return e.length===0?"":(e=e.sort(),JSON.stringify(e.map(t=>[t,r[t]])))}Re.hashAttributes=DK;function $K(r){var e,t;return`${r.name}:${(e=r.version)!==null&&e!==void 0?e:""}:${(t=r.schemaUrl)!==null&&t!==void 0?t:""}`}Re.instrumentationScopeId=$K;var Yi=class extends Error{constructor(e){super(e),Object.setPrototypeOf(this,Yi.prototype)}};Re.TimeoutError=Yi;function jK(r,e){let t,n=new Promise(function(i,o){t=setTimeout(function(){o(new Yi("Operation timed out."))},e)});return Promise.race([r,n]).then(s=>(clearTimeout(t),s),s=>{throw clearTimeout(t),s})}Re.callWithTimeout=jK;async function UK(r){return Promise.all(r.map(async e=>{try{return{status:"fulfilled",value:await e}}catch(t){return{status:"rejected",reason:t}}}))}Re.PromiseAllSettled=UK;function GK(r){return r.status==="rejected"}Re.isPromiseAllSettledRejectionResult=GK;function FK(r,e){let t=[];return r.forEach(n=>{t.push(...e(n))}),t}Re.FlatMap=FK;function BK(r,e){if(r.size!==e.size)return!1;for(let t of r)if(!e.has(t))return!1;return!0}Re.setEquals=BK;function VK(r,e){let t=0,n=r.length-1;for(;n-t>1;){let s=Math.trunc((n+t)/2);r[s]<=e?t=s:n=s-1}return r[n]<=e?n:r[t]<=e?t:-1}Re.binarySearchLB=VK});var ki=c(su=>{"use strict";Object.defineProperty(su,"__esModule",{value:!0});su.AggregatorKind=void 0;var HK;(function(r){r[r.DROP=0]="DROP",r[r.SUM=1]="SUM",r[r.LAST_VALUE=2]="LAST_VALUE",r[r.HISTOGRAM=3]="HISTOGRAM",r[r.EXPONENTIAL_HISTOGRAM=4]="EXPONENTIAL_HISTOGRAM"})(HK=su.AggregatorKind||(su.AggregatorKind={}))});var RP=c(od=>{"use strict";Object.defineProperty(od,"__esModule",{value:!0});od.DropAggregator=void 0;var XK=ki(),zg=class{constructor(){this.kind=XK.AggregatorKind.DROP}createAccumulation(){}merge(e,t){}diff(e,t){}toMetricData(e,t,n,s){}};od.DropAggregator=zg});var xr=c(rr=>{"use strict";Object.defineProperty(rr,"__esModule",{value:!0});rr.isDescriptorCompatibleWith=rr.createInstrumentDescriptorWithView=rr.createInstrumentDescriptor=rr.InstrumentType=void 0;var WK=_(),KK;(function(r){r.COUNTER="COUNTER",r.HISTOGRAM="HISTOGRAM",r.UP_DOWN_COUNTER="UP_DOWN_COUNTER",r.OBSERVABLE_COUNTER="OBSERVABLE_COUNTER",r.OBSERVABLE_GAUGE="OBSERVABLE_GAUGE",r.OBSERVABLE_UP_DOWN_COUNTER="OBSERVABLE_UP_DOWN_COUNTER"})(KK=rr.InstrumentType||(rr.InstrumentType={}));function YK(r,e,t){var n,s,i;return{name:r,type:e,description:(n=t==null?void 0:t.description)!==null&&n!==void 0?n:"",unit:(s=t==null?void 0:t.unit)!==null&&s!==void 0?s:"",valueType:(i=t==null?void 0:t.valueType)!==null&&i!==void 0?i:WK.ValueType.DOUBLE}}rr.createInstrumentDescriptor=YK;function kK(r,e){var t,n;return{name:(t=r.name)!==null&&t!==void 0?t:e.name,description:(n=r.description)!==null&&n!==void 0?n:e.description,type:e.type,unit:e.unit,valueType:e.valueType}}rr.createInstrumentDescriptorWithView=kK;function zK(r,e){return r.name===e.name&&r.unit===e.unit&&r.type===e.type&&r.valueType===e.valueType}rr.isDescriptorCompatibleWith=zK});var IP=c(Qi=>{"use strict";Object.defineProperty(Qi,"__esModule",{value:!0});Qi.HistogramAggregator=Qi.HistogramAccumulation=void 0;var QK=ki(),ZK=Ki(),Qg=xr(),JK=vr();function e8(r){let e=r.map(()=>0);return e.push(0),{buckets:{boundaries:r,counts:e},sum:0,count:0,hasMinMax:!1,min:1/0,max:-1/0}}var zi=class{constructor(e,t,n=!0,s=e8(t)){this.startTime=e,this._boundaries=t,this._recordMinMax=n,this._current=s}record(e){this._current.count+=1,this._current.sum+=e,this._recordMinMax&&(this._current.min=Math.min(e,this._current.min),this._current.max=Math.max(e,this._current.max),this._current.hasMinMax=!0);let t=(0,JK.binarySearchLB)(this._boundaries,e);this._current.buckets.counts[t+1]+=1}setStartTime(e){this.startTime=e}toPointValue(){return this._current}};Qi.HistogramAccumulation=zi;var Zg=class{constructor(e,t){this._boundaries=e,this._recordMinMax=t,this.kind=QK.AggregatorKind.HISTOGRAM}createAccumulation(e){return new zi(e,this._boundaries,this._recordMinMax)}merge(e,t){let n=e.toPointValue(),s=t.toPointValue(),i=n.buckets.counts,o=s.buckets.counts,a=new Array(i.length);for(let h=0;h<i.length;h++)a[h]=i[h]+o[h];let u=1/0,l=-1/0;return this._recordMinMax&&(n.hasMinMax&&s.hasMinMax?(u=Math.min(n.min,s.min),l=Math.max(n.max,s.max)):n.hasMinMax?(u=n.min,l=n.max):s.hasMinMax&&(u=s.min,l=s.max)),new zi(e.startTime,n.buckets.boundaries,this._recordMinMax,{buckets:{boundaries:n.buckets.boundaries,counts:a},count:n.count+s.count,sum:n.sum+s.sum,hasMinMax:this._recordMinMax&&(n.hasMinMax||s.hasMinMax),min:u,max:l})}diff(e,t){let n=e.toPointValue(),s=t.toPointValue(),i=n.buckets.counts,o=s.buckets.counts,a=new Array(i.length);for(let u=0;u<i.length;u++)a[u]=o[u]-i[u];return new zi(t.startTime,n.buckets.boundaries,this._recordMinMax,{buckets:{boundaries:n.buckets.boundaries,counts:a},count:s.count-n.count,sum:s.sum-n.sum,hasMinMax:!1,min:1/0,max:-1/0})}toMetricData(e,t,n,s){return{descriptor:e,aggregationTemporality:t,dataPointType:ZK.DataPointType.HISTOGRAM,dataPoints:n.map(([i,o])=>{let a=o.toPointValue(),u=e.type===Qg.InstrumentType.UP_DOWN_COUNTER||e.type===Qg.InstrumentType.OBSERVABLE_GAUGE||e.type===Qg.InstrumentType.OBSERVABLE_UP_DOWN_COUNTER;return{attributes:i,startTime:o.startTime,endTime:s,value:{min:a.hasMinMax?a.min:void 0,max:a.hasMinMax?a.max:void 0,sum:u?void 0:a.sum,buckets:a.buckets,count:a.count}}})}}};Qi.HistogramAggregator=Zg});var bP=c(ad=>{"use strict";Object.defineProperty(ad,"__esModule",{value:!0});ad.Buckets=void 0;var iu=class{constructor(e=new ou,t=0,n=0,s=0){this.backing=e,this.indexBase=t,this.indexStart=n,this.indexEnd=s}get offset(){return this.indexStart}get length(){return this.backing.length===0||this.indexEnd===this.indexStart&&this.at(0)===0?0:this.indexEnd-this.indexStart+1}counts(){return Array.from({length:this.length},(e,t)=>this.at(t))}at(e){let t=this.indexBase-this.indexStart;return e<t&&(e+=this.backing.length),e-=t,this.backing.countAt(e)}incrementBucket(e,t){this.backing.increment(e,t)}decrementBucket(e,t){this.backing.decrement(e,t)}trim(){for(let e=0;e<this.length;e++)if(this.at(e)!==0){this.indexStart+=e;break}else if(e===this.length-1){this.indexStart=this.indexEnd=this.indexBase=0;return}for(let e=this.length-1;e>=0;e--)if(this.at(e)!==0){this.indexEnd-=this.length-e-1;break}this._rotate()}downscale(e){this._rotate();let t=1+this.indexEnd-this.indexStart,n=1<<e,s=0,i=0;for(let o=this.indexStart;o<=this.indexEnd;){let a=o%n;a<0&&(a+=n);for(let u=a;u<n&&s<t;u++)this._relocateBucket(i,s),s++,o++;i++}this.indexStart>>=e,this.indexEnd>>=e,this.indexBase=this.indexStart}clone(){return new iu(this.backing.clone(),this.indexBase,this.indexStart,this.indexEnd)}_rotate(){let e=this.indexBase-this.indexStart;e!==0&&(e>0?(this.backing.reverse(0,this.backing.length),this.backing.reverse(0,e),this.backing.reverse(e,this.backing.length)):(this.backing.reverse(0,this.backing.length),this.backing.reverse(0,this.backing.length+e)),this.indexBase=this.indexStart)}_relocateBucket(e,t){e!==t&&this.incrementBucket(e,this.backing.emptyBucket(t))}};ad.Buckets=iu;var ou=class{constructor(e=[0]){this._counts=e}get length(){return this._counts.length}countAt(e){return this._counts[e]}growTo(e,t,n){let s=new Array(e).fill(0);s.splice(n,this._counts.length-t,...this._counts.slice(t)),s.splice(0,t,...this._counts.slice(0,t)),this._counts=s}reverse(e,t){let n=Math.floor((e+t)/2)-e;for(let s=0;s<n;s++){let i=this._counts[e+s];this._counts[e+s]=this._counts[t-s-1],this._counts[t-s-1]=i}}emptyBucket(e){let t=this._counts[e];return this._counts[e]=0,t}increment(e,t){this._counts[e]+=t}decrement(e,t){this._counts[e]>=t?this._counts[e]-=t:this._counts[e]=0}clone(){return new ou([...this._counts])}}});var em=c(St=>{"use strict";Object.defineProperty(St,"__esModule",{value:!0});St.getSignificand=St.getNormalBase2=St.MIN_VALUE=St.MAX_NORMAL_EXPONENT=St.MIN_NORMAL_EXPONENT=St.SIGNIFICAND_WIDTH=void 0;St.SIGNIFICAND_WIDTH=52;var t8=2146435072,r8=1048575,Jg=1023;St.MIN_NORMAL_EXPONENT=-Jg+1;St.MAX_NORMAL_EXPONENT=Jg;St.MIN_VALUE=Math.pow(2,-1022);function n8(r){let e=new DataView(new ArrayBuffer(8));return e.setFloat64(0,r),((e.getUint32(0)&t8)>>20)-Jg}St.getNormalBase2=n8;function s8(r){let e=new DataView(new ArrayBuffer(8));e.setFloat64(0,r);let t=e.getUint32(0),n=e.getUint32(4);return(t&r8)*Math.pow(2,32)+n}St.getSignificand=s8});var ud=c(Zi=>{"use strict";Object.defineProperty(Zi,"__esModule",{value:!0});Zi.nextGreaterSquare=Zi.ldexp=void 0;function i8(r,e){return r===0||r===Number.POSITIVE_INFINITY||r===Number.NEGATIVE_INFINITY||Number.isNaN(r)?r:r*Math.pow(2,e)}Zi.ldexp=i8;function o8(r){return r--,r|=r>>1,r|=r>>2,r|=r>>4,r|=r>>8,r|=r>>16,r++,r}Zi.nextGreaterSquare=o8});var ld=c(cd=>{"use strict";Object.defineProperty(cd,"__esModule",{value:!0});cd.MappingError=void 0;var tm=class extends Error{};cd.MappingError=tm});var yP=c(hd=>{"use strict";Object.defineProperty(hd,"__esModule",{value:!0});hd.ExponentMapping=void 0;var Ji=em(),a8=ud(),NP=ld(),rm=class{constructor(e){this._shift=-e}mapToIndex(e){if(e<Ji.MIN_VALUE)return this._minNormalLowerBoundaryIndex();let t=Ji.getNormalBase2(e),n=this._rightShift(Ji.getSignificand(e)-1,Ji.SIGNIFICAND_WIDTH);return t+n>>this._shift}lowerBoundary(e){let t=this._minNormalLowerBoundaryIndex();if(e<t)throw new NP.MappingError(`underflow: ${e} is < minimum lower boundary: ${t}`);let n=this._maxNormalLowerBoundaryIndex();if(e>n)throw new NP.MappingError(`overflow: ${e} is > maximum lower boundary: ${n}`);return a8.ldexp(1,e<<this._shift)}get scale(){return this._shift===0?0:-this._shift}_minNormalLowerBoundaryIndex(){let e=Ji.MIN_NORMAL_EXPONENT>>this._shift;return this._shift<2&&e--,e}_maxNormalLowerBoundaryIndex(){return Ji.MAX_NORMAL_EXPONENT>>this._shift}_rightShift(e,t){return Math.floor(e*Math.pow(2,-t))}};hd.ExponentMapping=rm});var CP=c(dd=>{"use strict";Object.defineProperty(dd,"__esModule",{value:!0});dd.LogarithmMapping=void 0;var eo=em(),PP=ud(),LP=ld(),nm=class{constructor(e){this._scale=e,this._scaleFactor=PP.ldexp(Math.LOG2E,e),this._inverseFactor=PP.ldexp(Math.LN2,-e)}mapToIndex(e){if(e<=eo.MIN_VALUE)return this._minNormalLowerBoundaryIndex()-1;if(eo.getSignificand(e)===0)return(eo.getNormalBase2(e)<<this._scale)-1;let t=Math.floor(Math.log(e)*this._scaleFactor),n=this._maxNormalLowerBoundaryIndex();return t>=n?n:t}lowerBoundary(e){let t=this._maxNormalLowerBoundaryIndex();if(e>=t){if(e===t)return 2*Math.exp((e-(1<<this._scale))/this._scaleFactor);throw new LP.MappingError(`overflow: ${e} is > maximum lower boundary: ${t}`)}let n=this._minNormalLowerBoundaryIndex();if(e<=n){if(e===n)return eo.MIN_VALUE;if(e===n-1)return Math.exp((e+(1<<this._scale))/this._scaleFactor)/2;throw new LP.MappingError(`overflow: ${e} is < minimum lower boundary: ${n}`)}return Math.exp(e*this._inverseFactor)}get scale(){return this._scale}_minNormalLowerBoundaryIndex(){return eo.MIN_NORMAL_EXPONENT<<this._scale}_maxNormalLowerBoundaryIndex(){return(eo.MAX_NORMAL_EXPONENT+1<<this._scale)-1}};dd.LogarithmMapping=nm});var qP=c(fd=>{"use strict";Object.defineProperty(fd,"__esModule",{value:!0});fd.getMapping=void 0;var u8=yP(),c8=CP(),l8=ld(),MP=-10,wP=20,h8=Array.from({length:31},(r,e)=>e>10?new c8.LogarithmMapping(e-10):new u8.ExponentMapping(e-10));function d8(r){if(r>wP||r<MP)throw new l8.MappingError(`expected scale >= ${MP} && <= ${wP}, got: ${r}`);return h8[r+10]}fd.getMapping=d8});var $P=c(ro=>{"use strict";Object.defineProperty(ro,"__esModule",{value:!0});ro.ExponentialHistogramAggregator=ro.ExponentialHistogramAccumulation=void 0;var f8=ki(),p8=Ki(),_8=_(),sm=xr(),xP=bP(),DP=qP(),E8=ud(),fn=class{constructor(e,t){this.low=e,this.high=t}static combine(e,t){return new fn(Math.min(e.low,t.low),Math.max(e.high,t.high))}},g8=20,m8=160,im=2,to=class{constructor(e=e,t=m8,n=!0,s=0,i=0,o=0,a=Number.POSITIVE_INFINITY,u=Number.NEGATIVE_INFINITY,l=new xP.Buckets,h=new xP.Buckets,d=(0,DP.getMapping)(g8)){this.startTime=e,this._maxSize=t,this._recordMinMax=n,this._sum=s,this._count=i,this._zeroCount=o,this._min=a,this._max=u,this._positive=l,this._negative=h,this._mapping=d,this._maxSize<im&&(_8.diag.warn(`Exponential Histogram Max Size set to ${this._maxSize},                 changing to the minimum size of: ${im}`),this._maxSize=im)}record(e){this.updateByIncrement(e,1)}setStartTime(e){this.startTime=e}toPointValue(){return{hasMinMax:this._recordMinMax,min:this.min,max:this.max,sum:this.sum,positive:{offset:this.positive.offset,bucketCounts:this.positive.counts()},negative:{offset:this.negative.offset,bucketCounts:this.negative.counts()},count:this.count,scale:this.scale,zeroCount:this.zeroCount}}get sum(){return this._sum}get min(){return this._min}get max(){return this._max}get count(){return this._count}get zeroCount(){return this._zeroCount}get scale(){return this._count===this._zeroCount?0:this._mapping.scale}get positive(){return this._positive}get negative(){return this._negative}updateByIncrement(e,t){if(e>this._max&&(this._max=e),e<this._min&&(this._min=e),this._count+=t,e===0){this._zeroCount+=t;return}this._sum+=e*t,e>0?this._updateBuckets(this._positive,e,t):this._updateBuckets(this._negative,-e,t)}merge(e){this._count===0?(this._min=e.min,this._max=e.max):e.count!==0&&(e.min<this.min&&(this._min=e.min),e.max>this.max&&(this._max=e.max)),this._sum+=e.sum,this._count+=e.count,this._zeroCount+=e.zeroCount;let t=this._minScale(e);this._downscale(this.scale-t),this._mergeBuckets(this.positive,e,e.positive,t),this._mergeBuckets(this.negative,e,e.negative,t)}diff(e){this._min=1/0,this._max=-1/0,this._sum-=e.sum,this._count-=e.count,this._zeroCount-=e.zeroCount;let t=this._minScale(e);this._downscale(this.scale-t),this._diffBuckets(this.positive,e,e.positive,t),this._diffBuckets(this.negative,e,e.negative,t)}clone(){return new to(this.startTime,this._maxSize,this._recordMinMax,this._sum,this._count,this._zeroCount,this._min,this._max,this.positive.clone(),this.negative.clone(),this._mapping)}_updateBuckets(e,t,n){let s=this._mapping.mapToIndex(t),i=!1,o=0,a=0;if(e.length===0?(e.indexStart=s,e.indexEnd=e.indexStart,e.indexBase=e.indexStart):s<e.indexStart&&e.indexEnd-s>=this._maxSize?(i=!0,a=s,o=e.indexEnd):s>e.indexEnd&&s-e.indexStart>=this._maxSize&&(i=!0,a=e.indexStart,o=s),i){let u=this._changeScale(o,a);this._downscale(u),s=this._mapping.mapToIndex(t)}this._incrementIndexBy(e,s,n)}_incrementIndexBy(e,t,n){if(n===0)return;if(t<e.indexStart){let i=e.indexEnd-t;i>=e.backing.length&&this._grow(e,i+1),e.indexStart=t}else if(t>e.indexEnd){let i=t-e.indexStart;i>=e.backing.length&&this._grow(e,i+1),e.indexEnd=t}let s=t-e.indexBase;s<0&&(s+=e.backing.length),e.incrementBucket(s,n)}_grow(e,t){let n=e.backing.length,s=e.indexBase-e.indexStart,i=n-s,o=(0,E8.nextGreaterSquare)(t);o>this._maxSize&&(o=this._maxSize);let a=o-s;e.backing.growTo(o,i,a)}_changeScale(e,t){let n=0;for(;e-t>=this._maxSize;)e>>=1,t>>=1,n++;return n}_downscale(e){if(e===0)return;if(e<0)throw new Error(`impossible change of scale: ${this.scale}`);let t=this._mapping.scale-e;this._positive.downscale(e),this._negative.downscale(e),this._mapping=(0,DP.getMapping)(t)}_minScale(e){let t=Math.min(this.scale,e.scale),n=fn.combine(this._highLowAtScale(this.positive,this.scale,t),this._highLowAtScale(e.positive,e.scale,t)),s=fn.combine(this._highLowAtScale(this.negative,this.scale,t),this._highLowAtScale(e.negative,e.scale,t));return Math.min(t-this._changeScale(n.high,n.low),t-this._changeScale(s.high,s.low))}_highLowAtScale(e,t,n){if(e.length===0)return new fn(0,-1);let s=t-n;return new fn(e.indexStart>>s,e.indexEnd>>s)}_mergeBuckets(e,t,n,s){let i=n.offset,o=t.scale-s;for(let a=0;a<n.length;a++)this._incrementIndexBy(e,i+a>>o,n.at(a))}_diffBuckets(e,t,n,s){let i=n.offset,o=t.scale-s;for(let a=0;a<n.length;a++){let l=(i+a>>o)-e.indexBase;l<0&&(l+=e.backing.length),e.decrementBucket(l,n.at(a))}e.trim()}};ro.ExponentialHistogramAccumulation=to;var om=class{constructor(e,t){this._maxSize=e,this._recordMinMax=t,this.kind=f8.AggregatorKind.EXPONENTIAL_HISTOGRAM}createAccumulation(e){return new to(e,this._maxSize,this._recordMinMax)}merge(e,t){let n=t.clone();return n.merge(e),n}diff(e,t){let n=t.clone();return n.diff(e),n}toMetricData(e,t,n,s){return{descriptor:e,aggregationTemporality:t,dataPointType:p8.DataPointType.EXPONENTIAL_HISTOGRAM,dataPoints:n.map(([i,o])=>{let a=o.toPointValue(),u=e.type===sm.InstrumentType.UP_DOWN_COUNTER||e.type===sm.InstrumentType.OBSERVABLE_GAUGE||e.type===sm.InstrumentType.OBSERVABLE_UP_DOWN_COUNTER;return{attributes:i,startTime:o.startTime,endTime:s,value:{min:a.hasMinMax?a.min:void 0,max:a.hasMinMax?a.max:void 0,sum:u?void 0:a.sum,positive:{offset:a.positive.offset,bucketCounts:a.positive.bucketCounts},negative:{offset:a.negative.offset,bucketCounts:a.negative.bucketCounts},count:a.count,scale:a.scale,zeroCount:a.zeroCount}}})}}};ro.ExponentialHistogramAggregator=om});var jP=c(so=>{"use strict";Object.defineProperty(so,"__esModule",{value:!0});so.LastValueAggregator=so.LastValueAccumulation=void 0;var T8=ki(),au=H(),S8=Ki(),no=class{constructor(e,t=0,n=[0,0]){this.startTime=e,this._current=t,this.sampleTime=n}record(e){this._current=e,this.sampleTime=(0,au.millisToHrTime)(Date.now())}setStartTime(e){this.startTime=e}toPointValue(){return this._current}};so.LastValueAccumulation=no;var am=class{constructor(){this.kind=T8.AggregatorKind.LAST_VALUE}createAccumulation(e){return new no(e)}merge(e,t){let n=(0,au.hrTimeToMicroseconds)(t.sampleTime)>=(0,au.hrTimeToMicroseconds)(e.sampleTime)?t:e;return new no(e.startTime,n.toPointValue(),n.sampleTime)}diff(e,t){let n=(0,au.hrTimeToMicroseconds)(t.sampleTime)>=(0,au.hrTimeToMicroseconds)(e.sampleTime)?t:e;return new no(t.startTime,n.toPointValue(),n.sampleTime)}toMetricData(e,t,n,s){return{descriptor:e,aggregationTemporality:t,dataPointType:S8.DataPointType.GAUGE,dataPoints:n.map(([i,o])=>({attributes:i,startTime:o.startTime,endTime:s,value:o.toPointValue()}))}}};so.LastValueAggregator=am});var UP=c(io=>{"use strict";Object.defineProperty(io,"__esModule",{value:!0});io.SumAggregator=io.SumAccumulation=void 0;var v8=ki(),A8=Ki(),pn=class{constructor(e,t,n=0,s=!1){this.startTime=e,this.monotonic=t,this._current=n,this.reset=s}record(e){this.monotonic&&e<0||(this._current+=e)}setStartTime(e){this.startTime=e}toPointValue(){return this._current}};io.SumAccumulation=pn;var um=class{constructor(e){this.monotonic=e,this.kind=v8.AggregatorKind.SUM}createAccumulation(e){return new pn(e,this.monotonic)}merge(e,t){let n=e.toPointValue(),s=t.toPointValue();return t.reset?new pn(t.startTime,this.monotonic,s,t.reset):new pn(e.startTime,this.monotonic,n+s)}diff(e,t){let n=e.toPointValue(),s=t.toPointValue();return this.monotonic&&n>s?new pn(t.startTime,this.monotonic,s,!0):new pn(t.startTime,this.monotonic,s-n)}toMetricData(e,t,n,s){return{descriptor:e,aggregationTemporality:t,dataPointType:A8.DataPointType.SUM,dataPoints:n.map(([i,o])=>({attributes:i,startTime:o.startTime,endTime:s,value:o.toPointValue()})),isMonotonic:this.monotonic}}};io.SumAggregator=um});var GP=c(nr=>{"use strict";var O8=nr&&nr.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),uu=nr&&nr.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&O8(e,r,t)};Object.defineProperty(nr,"__esModule",{value:!0});uu(RP(),nr);uu(IP(),nr);uu($P(),nr);uu(jP(),nr);uu(UP(),nr)});var Ed=c(xe=>{"use strict";Object.defineProperty(xe,"__esModule",{value:!0});xe.DefaultAggregation=xe.ExponentialHistogramAggregation=xe.ExplicitBucketHistogramAggregation=xe.HistogramAggregation=xe.LastValueAggregation=xe.SumAggregation=xe.DropAggregation=xe.Aggregation=void 0;var R8=_(),Ts=GP(),Dr=xr(),Ar=class{static Drop(){return FP}static Sum(){return BP}static LastValue(){return VP}static Histogram(){return HP}static ExponentialHistogram(){return I8}static Default(){return b8}};xe.Aggregation=Ar;var Es=class extends Ar{createAggregator(e){return Es.DEFAULT_INSTANCE}};xe.DropAggregation=Es;Es.DEFAULT_INSTANCE=new Ts.DropAggregator;var $r=class extends Ar{createAggregator(e){switch(e.type){case Dr.InstrumentType.COUNTER:case Dr.InstrumentType.OBSERVABLE_COUNTER:case Dr.InstrumentType.HISTOGRAM:return $r.MONOTONIC_INSTANCE;default:return $r.NON_MONOTONIC_INSTANCE}}};xe.SumAggregation=$r;$r.MONOTONIC_INSTANCE=new Ts.SumAggregator(!0);$r.NON_MONOTONIC_INSTANCE=new Ts.SumAggregator(!1);var gs=class extends Ar{createAggregator(e){return gs.DEFAULT_INSTANCE}};xe.LastValueAggregation=gs;gs.DEFAULT_INSTANCE=new Ts.LastValueAggregator;var ms=class extends Ar{createAggregator(e){return ms.DEFAULT_INSTANCE}};xe.HistogramAggregation=ms;ms.DEFAULT_INSTANCE=new Ts.HistogramAggregator([0,5,10,25,50,75,100,250,500,1e3],!0);var cm=class extends Ar{constructor(e,t=!0){if(super(),this._recordMinMax=t,e===void 0||e.length===0)throw new Error("HistogramAggregator should be created with boundaries.");e=e.concat(),e=e.sort((i,o)=>i-o);let n=e.lastIndexOf(-1/0),s=e.indexOf(1/0);s===-1&&(s=void 0),this._boundaries=e.slice(n+1,s)}createAggregator(e){return new Ts.HistogramAggregator(this._boundaries,this._recordMinMax)}};xe.ExplicitBucketHistogramAggregation=cm;var pd=class extends Ar{constructor(e=160,t=!0){super(),this._maxSize=e,this._recordMinMax=t}createAggregator(e){return new Ts.ExponentialHistogramAggregator(this._maxSize,this._recordMinMax)}};xe.ExponentialHistogramAggregation=pd;var _d=class extends Ar{_resolve(e){switch(e.type){case Dr.InstrumentType.COUNTER:case Dr.InstrumentType.UP_DOWN_COUNTER:case Dr.InstrumentType.OBSERVABLE_COUNTER:case Dr.InstrumentType.OBSERVABLE_UP_DOWN_COUNTER:return BP;case Dr.InstrumentType.OBSERVABLE_GAUGE:return VP;case Dr.InstrumentType.HISTOGRAM:return HP}return R8.diag.warn(`Unable to recognize instrument type: ${e.type}`),FP}createAggregator(e){return this._resolve(e).createAggregator(e)}};xe.DefaultAggregation=_d;var FP=new Es,BP=new $r,VP=new gs,HP=new ms,I8=new pd,b8=new _d});var lm=c(oo=>{"use strict";Object.defineProperty(oo,"__esModule",{value:!0});oo.DEFAULT_AGGREGATION_TEMPORALITY_SELECTOR=oo.DEFAULT_AGGREGATION_SELECTOR=void 0;var N8=Ed(),y8=id(),P8=r=>N8.Aggregation.Default();oo.DEFAULT_AGGREGATION_SELECTOR=P8;var L8=r=>y8.AggregationTemporality.CUMULATIVE;oo.DEFAULT_AGGREGATION_TEMPORALITY_SELECTOR=L8});var dm=c(gd=>{"use strict";Object.defineProperty(gd,"__esModule",{value:!0});gd.MetricReader=void 0;var XP=_(),WP=vr(),KP=lm(),hm=class{constructor(e){var t,n;this._shutdown=!1,this._aggregationSelector=(t=e==null?void 0:e.aggregationSelector)!==null&&t!==void 0?t:KP.DEFAULT_AGGREGATION_SELECTOR,this._aggregationTemporalitySelector=(n=e==null?void 0:e.aggregationTemporalitySelector)!==null&&n!==void 0?n:KP.DEFAULT_AGGREGATION_TEMPORALITY_SELECTOR}setMetricProducer(e){if(this._metricProducer)throw new Error("MetricReader can not be bound to a MeterProvider again.");this._metricProducer=e,this.onInitialized()}selectAggregation(e){return this._aggregationSelector(e)}selectAggregationTemporality(e){return this._aggregationTemporalitySelector(e)}onInitialized(){}async collect(e){if(this._metricProducer===void 0)throw new Error("MetricReader is not bound to a MetricProducer");if(this._shutdown)throw new Error("MetricReader is shutdown");return this._metricProducer.collect({timeoutMillis:e==null?void 0:e.timeoutMillis})}async shutdown(e){if(this._shutdown){XP.diag.error("Cannot call shutdown twice.");return}(e==null?void 0:e.timeoutMillis)==null?await this.onShutdown():await(0,WP.callWithTimeout)(this.onShutdown(),e.timeoutMillis),this._shutdown=!0}async forceFlush(e){if(this._shutdown){XP.diag.warn("Cannot forceFlush on already shutdown MetricReader.");return}if((e==null?void 0:e.timeoutMillis)==null){await this.onForceFlush();return}await(0,WP.callWithTimeout)(this.onForceFlush(),e.timeoutMillis)}};gd.MetricReader=hm});var zP=c(Td=>{"use strict";Object.defineProperty(Td,"__esModule",{value:!0});Td.PeriodicExportingMetricReader=void 0;var YP=_(),md=H(),C8=dm(),kP=vr(),M8=_(),fm=class extends C8.MetricReader{constructor(e){var t,n,s,i;if(super({aggregationSelector:(t=e.exporter.selectAggregation)===null||t===void 0?void 0:t.bind(e.exporter),aggregationTemporalitySelector:(n=e.exporter.selectAggregationTemporality)===null||n===void 0?void 0:n.bind(e.exporter)}),e.exportIntervalMillis!==void 0&&e.exportIntervalMillis<=0)throw Error("exportIntervalMillis must be greater than 0");if(e.exportTimeoutMillis!==void 0&&e.exportTimeoutMillis<=0)throw Error("exportTimeoutMillis must be greater than 0");if(e.exportTimeoutMillis!==void 0&&e.exportIntervalMillis!==void 0&&e.exportIntervalMillis<e.exportTimeoutMillis)throw Error("exportIntervalMillis must be greater than or equal to exportTimeoutMillis");this._exportInterval=(s=e.exportIntervalMillis)!==null&&s!==void 0?s:6e4,this._exportTimeout=(i=e.exportTimeoutMillis)!==null&&i!==void 0?i:3e4,this._exporter=e.exporter}async _runOnce(){try{await(0,kP.callWithTimeout)(this._doRun(),this._exportTimeout)}catch(e){if(e instanceof kP.TimeoutError){YP.diag.error("Export took longer than %s milliseconds and timed out.",this._exportTimeout);return}(0,md.globalErrorHandler)(e)}}async _doRun(){var e,t;let{resourceMetrics:n,errors:s}=await this.collect({timeoutMillis:this._exportTimeout});s.length>0&&YP.diag.error("PeriodicExportingMetricReader: metrics collection errors",...s);let i=async()=>{let o=await md.internal._export(this._exporter,n);if(o.code!==md.ExportResultCode.SUCCESS)throw new Error(`PeriodicExportingMetricReader: metrics export failed (error ${o.error})`)};n.resource.asyncAttributesPending?(t=(e=n.resource).waitForAsyncAttributes)===null||t===void 0||t.call(e).then(i,o=>M8.diag.debug("Error while resolving async portion of resource: ",o)):await i()}onInitialized(){this._interval=setInterval(()=>{this._runOnce()},this._exportInterval),(0,md.unrefTimer)(this._interval)}async onForceFlush(){await this._runOnce(),await this._exporter.forceFlush()}async onShutdown(){this._interval&&clearInterval(this._interval),await this._exporter.shutdown()}};Td.PeriodicExportingMetricReader=fm});var ZP=c(Sd=>{"use strict";Object.defineProperty(Sd,"__esModule",{value:!0});Sd.InMemoryMetricExporter=void 0;var QP=H(),pm=class{constructor(e){this._shutdown=!1,this._metrics=[],this._aggregationTemporality=e}export(e,t){if(this._shutdown){setTimeout(()=>t({code:QP.ExportResultCode.FAILED}),0);return}this._metrics.push(e),setTimeout(()=>t({code:QP.ExportResultCode.SUCCESS}),0)}getMetrics(){return this._metrics}forceFlush(){return Promise.resolve()}reset(){this._metrics=[]}selectAggregationTemporality(e){return this._aggregationTemporality}shutdown(){return this._shutdown=!0,Promise.resolve()}};Sd.InMemoryMetricExporter=pm});var eL=c(vd=>{"use strict";Object.defineProperty(vd,"__esModule",{value:!0});vd.ConsoleMetricExporter=void 0;var JP=H(),w8=lm(),cu=class{constructor(e){var t;this._shutdown=!1,this._temporalitySelector=(t=e==null?void 0:e.temporalitySelector)!==null&&t!==void 0?t:w8.DEFAULT_AGGREGATION_TEMPORALITY_SELECTOR}export(e,t){if(this._shutdown){setImmediate(t,{code:JP.ExportResultCode.FAILED});return}return cu._sendMetrics(e,t)}forceFlush(){return Promise.resolve()}selectAggregationTemporality(e){return this._temporalitySelector(e)}shutdown(){return this._shutdown=!0,Promise.resolve()}static _sendMetrics(e,t){for(let n of e.scopeMetrics)for(let s of n.metrics)console.dir({descriptor:s.descriptor,dataPointType:s.dataPointType,dataPoints:s.dataPoints});t({code:JP.ExportResultCode.SUCCESS})}};vd.ConsoleMetricExporter=cu});var tL=c(Ad=>{"use strict";Object.defineProperty(Ad,"__esModule",{value:!0});Ad.ViewRegistry=void 0;var _m=class{constructor(){this._registeredViews=[]}addView(e){this._registeredViews.push(e)}findViews(e,t){return this._registeredViews.filter(s=>this._matchInstrument(s.instrumentSelector,e)&&this._matchMeter(s.meterSelector,t))}_matchInstrument(e,t){return(e.getType()===void 0||t.type===e.getType())&&e.getNameFilter().match(t.name)&&e.getUnitFilter().match(t.unit)}_matchMeter(e,t){return e.getNameFilter().match(t.name)&&(t.version===void 0||e.getVersionFilter().match(t.version))&&(t.schemaUrl===void 0||e.getSchemaUrlFilter().match(t.schemaUrl))}};Ad.ViewRegistry=_m});var Od=c(ye=>{"use strict";Object.defineProperty(ye,"__esModule",{value:!0});ye.isObservableInstrument=ye.ObservableUpDownCounterInstrument=ye.ObservableGaugeInstrument=ye.ObservableCounterInstrument=ye.ObservableInstrument=ye.HistogramInstrument=ye.CounterInstrument=ye.UpDownCounterInstrument=ye.SyncInstrument=void 0;var lu=_(),q8=H(),ao=class{constructor(e,t){this._writableMetricStorage=e,this._descriptor=t}_record(e,t={},n=lu.context.active()){this._descriptor.valueType===lu.ValueType.INT&&!Number.isInteger(e)&&(lu.diag.warn(`INT value type cannot accept a floating-point value for ${this._descriptor.name}, ignoring the fractional digits.`),e=Math.trunc(e)),this._writableMetricStorage.record(e,t,n,(0,q8.millisToHrTime)(Date.now()))}};ye.SyncInstrument=ao;var Em=class extends ao{add(e,t,n){this._record(e,t,n)}};ye.UpDownCounterInstrument=Em;var gm=class extends ao{add(e,t,n){if(e<0){lu.diag.warn(`negative value provided to counter ${this._descriptor.name}: ${e}`);return}this._record(e,t,n)}};ye.CounterInstrument=gm;var mm=class extends ao{record(e,t,n){if(e<0){lu.diag.warn(`negative value provided to histogram ${this._descriptor.name}: ${e}`);return}this._record(e,t,n)}};ye.HistogramInstrument=mm;var Ss=class{constructor(e,t,n){this._observableRegistry=n,this._descriptor=e,this._metricStorages=t}addCallback(e){this._observableRegistry.addCallback(e,this)}removeCallback(e){this._observableRegistry.removeCallback(e,this)}};ye.ObservableInstrument=Ss;var Tm=class extends Ss{};ye.ObservableCounterInstrument=Tm;var Sm=class extends Ss{};ye.ObservableGaugeInstrument=Sm;var vm=class extends Ss{};ye.ObservableUpDownCounterInstrument=vm;function x8(r){return r instanceof Ss}ye.isObservableInstrument=x8});var rL=c(Rd=>{"use strict";Object.defineProperty(Rd,"__esModule",{value:!0});Rd.Meter=void 0;var Ht=xr(),uo=Od(),Am=class{constructor(e){this._meterSharedState=e}createHistogram(e,t){let n=(0,Ht.createInstrumentDescriptor)(e,Ht.InstrumentType.HISTOGRAM,t),s=this._meterSharedState.registerMetricStorage(n);return new uo.HistogramInstrument(s,n)}createCounter(e,t){let n=(0,Ht.createInstrumentDescriptor)(e,Ht.InstrumentType.COUNTER,t),s=this._meterSharedState.registerMetricStorage(n);return new uo.CounterInstrument(s,n)}createUpDownCounter(e,t){let n=(0,Ht.createInstrumentDescriptor)(e,Ht.InstrumentType.UP_DOWN_COUNTER,t),s=this._meterSharedState.registerMetricStorage(n);return new uo.UpDownCounterInstrument(s,n)}createObservableGauge(e,t){let n=(0,Ht.createInstrumentDescriptor)(e,Ht.InstrumentType.OBSERVABLE_GAUGE,t),s=this._meterSharedState.registerAsyncMetricStorage(n);return new uo.ObservableGaugeInstrument(n,s,this._meterSharedState.observableRegistry)}createObservableCounter(e,t){let n=(0,Ht.createInstrumentDescriptor)(e,Ht.InstrumentType.OBSERVABLE_COUNTER,t),s=this._meterSharedState.registerAsyncMetricStorage(n);return new uo.ObservableCounterInstrument(n,s,this._meterSharedState.observableRegistry)}createObservableUpDownCounter(e,t){let n=(0,Ht.createInstrumentDescriptor)(e,Ht.InstrumentType.OBSERVABLE_UP_DOWN_COUNTER,t),s=this._meterSharedState.registerAsyncMetricStorage(n);return new uo.ObservableUpDownCounterInstrument(n,s,this._meterSharedState.observableRegistry)}addBatchObservableCallback(e,t){this._meterSharedState.observableRegistry.addBatchCallback(e,t)}removeBatchObservableCallback(e,t){this._meterSharedState.observableRegistry.removeBatchCallback(e,t)}};Rd.Meter=Am});var Rm=c(Id=>{"use strict";Object.defineProperty(Id,"__esModule",{value:!0});Id.MetricStorage=void 0;var D8=xr(),Om=class{constructor(e){this._instrumentDescriptor=e}getInstrumentDescriptor(){return this._instrumentDescriptor}updateDescription(e){this._instrumentDescriptor=(0,D8.createInstrumentDescriptor)(this._instrumentDescriptor.name,this._instrumentDescriptor.type,{description:e,valueType:this._instrumentDescriptor.valueType,unit:this._instrumentDescriptor.unit})}};Id.MetricStorage=Om});var hu=c(co=>{"use strict";Object.defineProperty(co,"__esModule",{value:!0});co.AttributeHashMap=co.HashMap=void 0;var $8=vr(),bd=class{constructor(e){this._hash=e,this._valueMap=new Map,this._keyMap=new Map}get(e,t){return t??(t=this._hash(e)),this._valueMap.get(t)}getOrDefault(e,t){let n=this._hash(e);if(this._valueMap.has(n))return this._valueMap.get(n);let s=t();return this._keyMap.has(n)||this._keyMap.set(n,e),this._valueMap.set(n,s),s}set(e,t,n){n??(n=this._hash(e)),this._keyMap.has(n)||this._keyMap.set(n,e),this._valueMap.set(n,t)}has(e,t){return t??(t=this._hash(e)),this._valueMap.has(t)}*keys(){let e=this._keyMap.entries(),t=e.next();for(;t.done!==!0;)yield[t.value[1],t.value[0]],t=e.next()}*entries(){let e=this._valueMap.entries(),t=e.next();for(;t.done!==!0;)yield[this._keyMap.get(t.value[0]),t.value[1],t.value[0]],t=e.next()}get size(){return this._valueMap.size}};co.HashMap=bd;var Im=class extends bd{constructor(){super($8.hashAttributes)}};co.AttributeHashMap=Im});var ym=c(Nd=>{"use strict";Object.defineProperty(Nd,"__esModule",{value:!0});Nd.DeltaMetricProcessor=void 0;var bm=hu(),Nm=class{constructor(e){this._aggregator=e,this._activeCollectionStorage=new bm.AttributeHashMap,this._cumulativeMemoStorage=new bm.AttributeHashMap}record(e,t,n,s){let i=this._activeCollectionStorage.getOrDefault(t,()=>this._aggregator.createAccumulation(s));i==null||i.record(e)}batchCumulate(e,t){Array.from(e.entries()).forEach(([n,s,i])=>{let o=this._aggregator.createAccumulation(t);o==null||o.record(s);let a=o;if(this._cumulativeMemoStorage.has(n,i)){let u=this._cumulativeMemoStorage.get(n,i);a=this._aggregator.diff(u,o)}if(this._activeCollectionStorage.has(n,i)){let u=this._activeCollectionStorage.get(n,i);a=this._aggregator.merge(u,a)}this._cumulativeMemoStorage.set(n,o,i),this._activeCollectionStorage.set(n,a,i)})}collect(){let e=this._activeCollectionStorage;return this._activeCollectionStorage=new bm.AttributeHashMap,e}};Nd.DeltaMetricProcessor=Nm});var Pm=c(yd=>{"use strict";Object.defineProperty(yd,"__esModule",{value:!0});yd.TemporalMetricProcessor=void 0;var j8=id(),U8=hu(),vs=class{constructor(e){this._aggregator=e,this._unreportedAccumulations=new Map,this._reportHistory=new Map}buildMetrics(e,t,n,s,i){this._stashAccumulations(t,s);let o=this._getMergedUnreportedAccumulations(e),a=o,u;if(this._reportHistory.has(e)){let l=this._reportHistory.get(e),h=l.collectionTime;u=l.aggregationTemporality,u===j8.AggregationTemporality.CUMULATIVE?a=vs.merge(l.accumulations,o,this._aggregator):a=vs.calibrateStartTime(l.accumulations,o,h)}else u=e.selectAggregationTemporality(n.type);return this._reportHistory.set(e,{accumulations:a,collectionTime:i,aggregationTemporality:u}),this._aggregator.toMetricData(n,u,G8(a),i)}_stashAccumulations(e,t){e.forEach(n=>{let s=this._unreportedAccumulations.get(n);s===void 0&&(s=[],this._unreportedAccumulations.set(n,s)),s.push(t)})}_getMergedUnreportedAccumulations(e){let t=new U8.AttributeHashMap,n=this._unreportedAccumulations.get(e);if(this._unreportedAccumulations.set(e,[]),n===void 0)return t;for(let s of n)t=vs.merge(t,s,this._aggregator);return t}static merge(e,t,n){let s=e,i=t.entries(),o=i.next();for(;o.done!==!0;){let[a,u,l]=o.value;if(e.has(a,l)){let h=e.get(a,l),d=n.merge(h,u);s.set(a,d,l)}else s.set(a,u,l);o=i.next()}return s}static calibrateStartTime(e,t,n){for(let[s,i]of e.keys()){let o=t.get(s,i);o==null||o.setStartTime(n)}return t}};yd.TemporalMetricProcessor=vs;function G8(r){return Array.from(r.entries())}});var nL=c(Pd=>{"use strict";Object.defineProperty(Pd,"__esModule",{value:!0});Pd.AsyncMetricStorage=void 0;var F8=Rm(),B8=ym(),V8=Pm(),H8=hu(),Lm=class extends F8.MetricStorage{constructor(e,t,n){super(e),this._attributesProcessor=n,this._deltaMetricStorage=new B8.DeltaMetricProcessor(t),this._temporalMetricStorage=new V8.TemporalMetricProcessor(t)}record(e,t){let n=new H8.AttributeHashMap;Array.from(e.entries()).forEach(([s,i])=>{n.set(this._attributesProcessor.process(s),i)}),this._deltaMetricStorage.batchCumulate(n,t)}collect(e,t,n){let s=this._deltaMetricStorage.collect();return this._temporalMetricStorage.buildMetrics(e,t,this._instrumentDescriptor,s,n)}};Pd.AsyncMetricStorage=Lm});var uL=c(vt=>{"use strict";Object.defineProperty(vt,"__esModule",{value:!0});vt.getConflictResolutionRecipe=vt.getDescriptionResolutionRecipe=vt.getTypeConflictResolutionRecipe=vt.getUnitConflictResolutionRecipe=vt.getValueTypeConflictResolutionRecipe=vt.getIncompatibilityDetails=void 0;function X8(r,e){let t="";return r.unit!==e.unit&&(t+=`	- Unit '${r.unit}' does not match '${e.unit}'
`),r.type!==e.type&&(t+=`	- Type '${r.type}' does not match '${e.type}'
`),r.valueType!==e.valueType&&(t+=`	- Value Type '${r.valueType}' does not match '${e.valueType}'
`),r.description!==e.description&&(t+=`	- Description '${r.description}' does not match '${e.description}'
`),t}vt.getIncompatibilityDetails=X8;function sL(r,e){return`	- use valueType '${r.valueType}' on instrument creation or use an instrument name other than '${e.name}'`}vt.getValueTypeConflictResolutionRecipe=sL;function iL(r,e){return`	- use unit '${r.unit}' on instrument creation or use an instrument name other than '${e.name}'`}vt.getUnitConflictResolutionRecipe=iL;function oL(r,e){let t={name:e.name,type:e.type,unit:e.unit},n=JSON.stringify(t);return`	- create a new view with a name other than '${r.name}' and InstrumentSelector '${n}'`}vt.getTypeConflictResolutionRecipe=oL;function aL(r,e){let t={name:e.name,type:e.type,unit:e.unit},n=JSON.stringify(t);return`	- create a new view with a name other than '${r.name}' and InstrumentSelector '${n}'
    	- OR - create a new view with the name ${r.name} and description '${r.description}' and InstrumentSelector ${n}
    	- OR - create a new view with the name ${e.name} and description '${r.description}' and InstrumentSelector ${n}`}vt.getDescriptionResolutionRecipe=aL;function W8(r,e){return r.valueType!==e.valueType?sL(r,e):r.unit!==e.unit?iL(r,e):r.type!==e.type?oL(r,e):r.description!==e.description?aL(r,e):""}vt.getConflictResolutionRecipe=W8});var lL=c(Cd=>{"use strict";Object.defineProperty(Cd,"__esModule",{value:!0});Cd.MetricStorageRegistry=void 0;var K8=xr(),cL=_(),Ld=uL(),du=class{constructor(){this._sharedRegistry=new Map,this._perCollectorRegistry=new Map}static create(){return new du}getStorages(e){let t=[];for(let s of this._sharedRegistry.values())t=t.concat(s);let n=this._perCollectorRegistry.get(e);if(n!=null)for(let s of n.values())t=t.concat(s);return t}register(e){this._registerStorage(e,this._sharedRegistry)}registerForCollector(e,t){let n=this._perCollectorRegistry.get(e);n==null&&(n=new Map,this._perCollectorRegistry.set(e,n)),this._registerStorage(t,n)}findOrUpdateCompatibleStorage(e){let t=this._sharedRegistry.get(e.name);return t===void 0?null:this._findOrUpdateCompatibleStorage(e,t)}findOrUpdateCompatibleCollectorStorage(e,t){let n=this._perCollectorRegistry.get(e);if(n===void 0)return null;let s=n.get(t.name);return s===void 0?null:this._findOrUpdateCompatibleStorage(t,s)}_registerStorage(e,t){let n=e.getInstrumentDescriptor(),s=t.get(n.name);if(s===void 0){t.set(n.name,[e]);return}s.push(e)}_findOrUpdateCompatibleStorage(e,t){let n=null;for(let s of t){let i=s.getInstrumentDescriptor();(0,K8.isDescriptorCompatibleWith)(i,e)?(i.description!==e.description&&(e.description.length>i.description.length&&s.updateDescription(e.description),cL.diag.warn("A view or instrument with the name ",e.name,` has already been registered, but has a different description and is incompatible with another registered view.
`,`Details:
`,(0,Ld.getIncompatibilityDetails)(i,e),`The longer description will be used.
To resolve the conflict:`,(0,Ld.getConflictResolutionRecipe)(i,e))),n=s):cL.diag.warn("A view or instrument with the name ",e.name,` has already been registered and is incompatible with another registered view.
`,`Details:
`,(0,Ld.getIncompatibilityDetails)(i,e),`To resolve the conflict:
`,(0,Ld.getConflictResolutionRecipe)(i,e))}return n}};Cd.MetricStorageRegistry=du});var hL=c(Md=>{"use strict";Object.defineProperty(Md,"__esModule",{value:!0});Md.MultiMetricStorage=void 0;var Cm=class{constructor(e){this._backingStorages=e}record(e,t,n,s){this._backingStorages.forEach(i=>{i.record(e,t,n,s)})}};Md.MultiMetricStorage=Cm});var fL=c(lo=>{"use strict";Object.defineProperty(lo,"__esModule",{value:!0});lo.BatchObservableResultImpl=lo.ObservableResultImpl=void 0;var wd=_(),dL=hu(),Y8=Od(),Mm=class{constructor(e){this._descriptor=e,this._buffer=new dL.AttributeHashMap}observe(e,t={}){this._descriptor.valueType===wd.ValueType.INT&&!Number.isInteger(e)&&(wd.diag.warn(`INT value type cannot accept a floating-point value for ${this._descriptor.name}, ignoring the fractional digits.`),e=Math.trunc(e)),this._buffer.set(t,e)}};lo.ObservableResultImpl=Mm;var wm=class{constructor(){this._buffer=new Map}observe(e,t,n={}){if(!(0,Y8.isObservableInstrument)(e))return;let s=this._buffer.get(e);s==null&&(s=new dL.AttributeHashMap,this._buffer.set(e,s)),e._descriptor.valueType===wd.ValueType.INT&&!Number.isInteger(t)&&(wd.diag.warn(`INT value type cannot accept a floating-point value for ${e._descriptor.name}, ignoring the fractional digits.`),t=Math.trunc(t)),s.set(n,t)}};lo.BatchObservableResultImpl=wm});var EL=c(qd=>{"use strict";Object.defineProperty(qd,"__esModule",{value:!0});qd.ObservableRegistry=void 0;var k8=_(),pL=Od(),_L=fL(),fu=vr(),qm=class{constructor(){this._callbacks=[],this._batchCallbacks=[]}addCallback(e,t){this._findCallback(e,t)>=0||this._callbacks.push({callback:e,instrument:t})}removeCallback(e,t){let n=this._findCallback(e,t);n<0||this._callbacks.splice(n,1)}addBatchCallback(e,t){let n=new Set(t.filter(pL.isObservableInstrument));if(n.size===0){k8.diag.error("BatchObservableCallback is not associated with valid instruments",t);return}this._findBatchCallback(e,n)>=0||this._batchCallbacks.push({callback:e,instruments:n})}removeBatchCallback(e,t){let n=new Set(t.filter(pL.isObservableInstrument)),s=this._findBatchCallback(e,n);s<0||this._batchCallbacks.splice(s,1)}async observe(e,t){let n=this._observeCallbacks(e,t),s=this._observeBatchCallbacks(e,t);return(await(0,fu.PromiseAllSettled)([...n,...s])).filter(fu.isPromiseAllSettledRejectionResult).map(a=>a.reason)}_observeCallbacks(e,t){return this._callbacks.map(async({callback:n,instrument:s})=>{let i=new _L.ObservableResultImpl(s._descriptor),o=Promise.resolve(n(i));t!=null&&(o=(0,fu.callWithTimeout)(o,t)),await o,s._metricStorages.forEach(a=>{a.record(i._buffer,e)})})}_observeBatchCallbacks(e,t){return this._batchCallbacks.map(async({callback:n,instruments:s})=>{let i=new _L.BatchObservableResultImpl,o=Promise.resolve(n(i));t!=null&&(o=(0,fu.callWithTimeout)(o,t)),await o,s.forEach(a=>{let u=i._buffer.get(a);u!=null&&a._metricStorages.forEach(l=>{l.record(u,e)})})})}_findCallback(e,t){return this._callbacks.findIndex(n=>n.callback===e&&n.instrument===t)}_findBatchCallback(e,t){return this._batchCallbacks.findIndex(n=>n.callback===e&&(0,fu.setEquals)(n.instruments,t))}};qd.ObservableRegistry=qm});var gL=c(xd=>{"use strict";Object.defineProperty(xd,"__esModule",{value:!0});xd.SyncMetricStorage=void 0;var z8=Rm(),Q8=ym(),Z8=Pm(),xm=class extends z8.MetricStorage{constructor(e,t,n){super(e),this._attributesProcessor=n,this._deltaMetricStorage=new Q8.DeltaMetricProcessor(t),this._temporalMetricStorage=new Z8.TemporalMetricProcessor(t)}record(e,t,n,s){t=this._attributesProcessor.process(t,n),this._deltaMetricStorage.record(e,t,n,s)}collect(e,t,n){let s=this._deltaMetricStorage.collect();return this._temporalMetricStorage.buildMetrics(e,t,this._instrumentDescriptor,s,n)}};xd.SyncMetricStorage=xm});var $m=c(_n=>{"use strict";Object.defineProperty(_n,"__esModule",{value:!0});_n.FilteringAttributesProcessor=_n.NoopAttributesProcessor=_n.AttributesProcessor=void 0;var pu=class{static Noop(){return J8}};_n.AttributesProcessor=pu;var Dd=class extends pu{process(e,t){return e}};_n.NoopAttributesProcessor=Dd;var Dm=class extends pu{constructor(e){super(),this._allowedAttributeNames=e}process(e,t){let n={};return Object.keys(e).filter(s=>this._allowedAttributeNames.includes(s)).forEach(s=>n[s]=e[s]),n}};_n.FilteringAttributesProcessor=Dm;var J8=new Dd});var TL=c($d=>{"use strict";Object.defineProperty($d,"__esModule",{value:!0});$d.MeterSharedState=void 0;var eY=xr(),tY=rL(),mL=vr(),rY=nL(),nY=lL(),sY=hL(),iY=EL(),oY=gL(),aY=$m(),jm=class{constructor(e,t){this._meterProviderSharedState=e,this._instrumentationScope=t,this.metricStorageRegistry=new nY.MetricStorageRegistry,this.observableRegistry=new iY.ObservableRegistry,this.meter=new tY.Meter(this)}registerMetricStorage(e){let t=this._registerMetricStorage(e,oY.SyncMetricStorage);return t.length===1?t[0]:new sY.MultiMetricStorage(t)}registerAsyncMetricStorage(e){return this._registerMetricStorage(e,rY.AsyncMetricStorage)}async collect(e,t,n){let s=await this.observableRegistry.observe(t,n==null?void 0:n.timeoutMillis),i=Array.from(this.metricStorageRegistry.getStorages(e)).map(o=>o.collect(e,this._meterProviderSharedState.metricCollectors,t)).filter(mL.isNotNullish);return{scopeMetrics:{scope:this._instrumentationScope,metrics:i.filter(mL.isNotNullish)},errors:s}}_registerMetricStorage(e,t){let s=this._meterProviderSharedState.viewRegistry.findViews(e,this._instrumentationScope).map(i=>{let o=(0,eY.createInstrumentDescriptorWithView)(i,e),a=this.metricStorageRegistry.findOrUpdateCompatibleStorage(o);if(a!=null)return a;let u=i.aggregation.createAggregator(o),l=new t(o,u,i.attributesProcessor);return this.metricStorageRegistry.register(l),l});if(s.length===0){let o=this._meterProviderSharedState.selectAggregations(e.type).map(([a,u])=>{let l=this.metricStorageRegistry.findOrUpdateCompatibleCollectorStorage(a,e);if(l!=null)return l;let h=u.createAggregator(e),d=new t(e,h,aY.AttributesProcessor.Noop());return this.metricStorageRegistry.registerForCollector(a,d),d});s=s.concat(o)}return s}};$d.MeterSharedState=jm});var SL=c(jd=>{"use strict";Object.defineProperty(jd,"__esModule",{value:!0});jd.MeterProviderSharedState=void 0;var uY=vr(),cY=tL(),lY=TL(),Um=class{constructor(e){this.resource=e,this.viewRegistry=new cY.ViewRegistry,this.metricCollectors=[],this.meterSharedStates=new Map}getMeterSharedState(e){let t=(0,uY.instrumentationScopeId)(e),n=this.meterSharedStates.get(t);return n==null&&(n=new lY.MeterSharedState(this,e),this.meterSharedStates.set(t,n)),n}selectAggregations(e){let t=[];for(let n of this.metricCollectors)t.push([n,n.selectAggregation(e)]);return t}};jd.MeterProviderSharedState=Um});var vL=c(Ud=>{"use strict";Object.defineProperty(Ud,"__esModule",{value:!0});Ud.MetricCollector=void 0;var hY=H(),dY=vr(),Gm=class{constructor(e,t){this._sharedState=e,this._metricReader=t}async collect(e){let t=(0,hY.millisToHrTime)(Date.now()),n=Array.from(this._sharedState.meterSharedStates.values()).map(i=>i.collect(this,t,e)),s=await Promise.all(n);return{resourceMetrics:{resource:this._sharedState.resource,scopeMetrics:s.map(i=>i.scopeMetrics)},errors:(0,dY.FlatMap)(s,i=>i.errors)}}async forceFlush(e){await this._metricReader.forceFlush(e)}async shutdown(e){await this._metricReader.shutdown(e)}selectAggregationTemporality(e){return this._metricReader.selectAggregationTemporality(e)}selectAggregation(e){return this._metricReader.selectAggregation(e)}};Ud.MetricCollector=Gm});var OL=c(Fd=>{"use strict";Object.defineProperty(Fd,"__esModule",{value:!0});Fd.MeterProvider=void 0;var Gd=_(),AL=Mi(),fY=SL(),pY=vL(),Fm=class{constructor(e){var t;this._shutdown=!1;let n=AL.Resource.default().merge((t=e==null?void 0:e.resource)!==null&&t!==void 0?t:AL.Resource.empty());if(this._sharedState=new fY.MeterProviderSharedState(n),(e==null?void 0:e.views)!=null&&e.views.length>0)for(let s of e.views)this._sharedState.viewRegistry.addView(s)}getMeter(e,t="",n={}){return this._shutdown?(Gd.diag.warn("A shutdown MeterProvider cannot provide a Meter"),(0,Gd.createNoopMeter)()):this._sharedState.getMeterSharedState({name:e,version:t,schemaUrl:n.schemaUrl}).meter}addMetricReader(e){let t=new pY.MetricCollector(this._sharedState,e);e.setMetricProducer(t),this._sharedState.metricCollectors.push(t)}async shutdown(e){if(this._shutdown){Gd.diag.warn("shutdown may only be called once per MeterProvider");return}this._shutdown=!0,await Promise.all(this._sharedState.metricCollectors.map(t=>t.shutdown(e)))}async forceFlush(e){if(this._shutdown){Gd.diag.warn("invalid attempt to force flush after MeterProvider shutdown");return}await Promise.all(this._sharedState.metricCollectors.map(t=>t.forceFlush(e)))}};Fd.MeterProvider=Fm});var Bd=c(ho=>{"use strict";Object.defineProperty(ho,"__esModule",{value:!0});ho.ExactPredicate=ho.PatternPredicate=void 0;var _Y=/[\^$\\.+?()[\]{}|]/g,_u=class{constructor(e){e==="*"?(this._matchAll=!0,this._regexp=/.*/):(this._matchAll=!1,this._regexp=new RegExp(_u.escapePattern(e)))}match(e){return this._matchAll?!0:this._regexp.test(e)}static escapePattern(e){return`^${e.replace(_Y,"\\$&").replace("*",".*")}$`}static hasWildcard(e){return e.includes("*")}};ho.PatternPredicate=_u;var Bm=class{constructor(e){this._matchAll=e===void 0,this._pattern=e}match(e){return!!(this._matchAll||e===this._pattern)}};ho.ExactPredicate=Bm});var IL=c(Vd=>{"use strict";Object.defineProperty(Vd,"__esModule",{value:!0});Vd.InstrumentSelector=void 0;var RL=Bd(),Vm=class{constructor(e){var t;this._nameFilter=new RL.PatternPredicate((t=e==null?void 0:e.name)!==null&&t!==void 0?t:"*"),this._type=e==null?void 0:e.type,this._unitFilter=new RL.ExactPredicate(e==null?void 0:e.unit)}getType(){return this._type}getNameFilter(){return this._nameFilter}getUnitFilter(){return this._unitFilter}};Vd.InstrumentSelector=Vm});var bL=c(Hd=>{"use strict";Object.defineProperty(Hd,"__esModule",{value:!0});Hd.MeterSelector=void 0;var Hm=Bd(),Xm=class{constructor(e){this._nameFilter=new Hm.ExactPredicate(e==null?void 0:e.name),this._versionFilter=new Hm.ExactPredicate(e==null?void 0:e.version),this._schemaUrlFilter=new Hm.ExactPredicate(e==null?void 0:e.schemaUrl)}getNameFilter(){return this._nameFilter}getVersionFilter(){return this._versionFilter}getSchemaUrlFilter(){return this._schemaUrlFilter}};Hd.MeterSelector=Xm});var yL=c(Xd=>{"use strict";Object.defineProperty(Xd,"__esModule",{value:!0});Xd.View=void 0;var EY=Bd(),NL=$m(),gY=IL(),mY=bL(),TY=Ed();function SY(r){return r.instrumentName==null&&r.instrumentType==null&&r.instrumentUnit==null&&r.meterName==null&&r.meterVersion==null&&r.meterSchemaUrl==null}var Wm=class{constructor(e){var t;if(SY(e))throw new Error("Cannot create view with no selector arguments supplied");if(e.name!=null&&((e==null?void 0:e.instrumentName)==null||EY.PatternPredicate.hasWildcard(e.instrumentName)))throw new Error("Views with a specified name must be declared with an instrument selector that selects at most one instrument per meter.");e.attributeKeys!=null?this.attributesProcessor=new NL.FilteringAttributesProcessor(e.attributeKeys):this.attributesProcessor=NL.AttributesProcessor.Noop(),this.name=e.name,this.description=e.description,this.aggregation=(t=e.aggregation)!==null&&t!==void 0?t:TY.Aggregation.Default(),this.instrumentSelector=new gY.InstrumentSelector({name:e.instrumentName,type:e.instrumentType,unit:e.instrumentUnit}),this.meterSelector=new mY.MeterSelector({name:e.meterName,version:e.meterVersion,schemaUrl:e.meterSchemaUrl})}};Xd.View=Wm});var PL=c(X=>{"use strict";Object.defineProperty(X,"__esModule",{value:!0});X.TimeoutError=X.View=X.Aggregation=X.SumAggregation=X.LastValueAggregation=X.HistogramAggregation=X.DropAggregation=X.ExponentialHistogramAggregation=X.ExplicitBucketHistogramAggregation=X.DefaultAggregation=X.MeterProvider=X.InstrumentType=X.ConsoleMetricExporter=X.InMemoryMetricExporter=X.PeriodicExportingMetricReader=X.MetricReader=X.DataPointType=X.AggregationTemporality=void 0;var vY=id();Object.defineProperty(X,"AggregationTemporality",{enumerable:!0,get:function(){return vY.AggregationTemporality}});var AY=Ki();Object.defineProperty(X,"DataPointType",{enumerable:!0,get:function(){return AY.DataPointType}});var OY=dm();Object.defineProperty(X,"MetricReader",{enumerable:!0,get:function(){return OY.MetricReader}});var RY=zP();Object.defineProperty(X,"PeriodicExportingMetricReader",{enumerable:!0,get:function(){return RY.PeriodicExportingMetricReader}});var IY=ZP();Object.defineProperty(X,"InMemoryMetricExporter",{enumerable:!0,get:function(){return IY.InMemoryMetricExporter}});var bY=eL();Object.defineProperty(X,"ConsoleMetricExporter",{enumerable:!0,get:function(){return bY.ConsoleMetricExporter}});var NY=xr();Object.defineProperty(X,"InstrumentType",{enumerable:!0,get:function(){return NY.InstrumentType}});var yY=OL();Object.defineProperty(X,"MeterProvider",{enumerable:!0,get:function(){return yY.MeterProvider}});var En=Ed();Object.defineProperty(X,"DefaultAggregation",{enumerable:!0,get:function(){return En.DefaultAggregation}});Object.defineProperty(X,"ExplicitBucketHistogramAggregation",{enumerable:!0,get:function(){return En.ExplicitBucketHistogramAggregation}});Object.defineProperty(X,"ExponentialHistogramAggregation",{enumerable:!0,get:function(){return En.ExponentialHistogramAggregation}});Object.defineProperty(X,"DropAggregation",{enumerable:!0,get:function(){return En.DropAggregation}});Object.defineProperty(X,"HistogramAggregation",{enumerable:!0,get:function(){return En.HistogramAggregation}});Object.defineProperty(X,"LastValueAggregation",{enumerable:!0,get:function(){return En.LastValueAggregation}});Object.defineProperty(X,"SumAggregation",{enumerable:!0,get:function(){return En.SumAggregation}});Object.defineProperty(X,"Aggregation",{enumerable:!0,get:function(){return En.Aggregation}});var PY=yL();Object.defineProperty(X,"View",{enumerable:!0,get:function(){return PY.View}});var LY=vr();Object.defineProperty(X,"TimeoutError",{enumerable:!0,get:function(){return LY.TimeoutError}})});var qL=c(gn=>{"use strict";Object.defineProperty(gn,"__esModule",{value:!0});gn.toMetric=gn.toScopeMetrics=gn.toResourceMetrics=void 0;var LL=_(),po=H(),fo=PL(),Wd=eu();function CY(r){return{resource:{attributes:(0,Wd.toAttributes)(r.resource.attributes),droppedAttributesCount:0},schemaUrl:void 0,scopeMetrics:ML(r.scopeMetrics)}}gn.toResourceMetrics=CY;function ML(r){return Array.from(r.map(e=>({scope:{name:e.scope.name,version:e.scope.version},metrics:e.metrics.map(t=>wL(t)),schemaUrl:e.scope.schemaUrl})))}gn.toScopeMetrics=ML;function wL(r){let e={name:r.descriptor.name,description:r.descriptor.description,unit:r.descriptor.unit},t=xY(r.aggregationTemporality);switch(r.dataPointType){case fo.DataPointType.SUM:e.sum={aggregationTemporality:t,isMonotonic:r.isMonotonic,dataPoints:CL(r)};break;case fo.DataPointType.GAUGE:e.gauge={dataPoints:CL(r)};break;case fo.DataPointType.HISTOGRAM:e.histogram={aggregationTemporality:t,dataPoints:wY(r)};break;case fo.DataPointType.EXPONENTIAL_HISTOGRAM:e.exponentialHistogram={aggregationTemporality:t,dataPoints:qY(r)};break}return e}gn.toMetric=wL;function MY(r,e){let t={attributes:(0,Wd.toAttributes)(r.attributes),startTimeUnixNano:(0,po.hrTimeToNanoseconds)(r.startTime),timeUnixNano:(0,po.hrTimeToNanoseconds)(r.endTime)};switch(e){case LL.ValueType.INT:t.asInt=r.value;break;case LL.ValueType.DOUBLE:t.asDouble=r.value;break}return t}function CL(r){return r.dataPoints.map(e=>MY(e,r.descriptor.valueType))}function wY(r){return r.dataPoints.map(e=>{let t=e.value;return{attributes:(0,Wd.toAttributes)(e.attributes),bucketCounts:t.buckets.counts,explicitBounds:t.buckets.boundaries,count:t.count,sum:t.sum,min:t.min,max:t.max,startTimeUnixNano:(0,po.hrTimeToNanoseconds)(e.startTime),timeUnixNano:(0,po.hrTimeToNanoseconds)(e.endTime)}})}function qY(r){return r.dataPoints.map(e=>{let t=e.value;return{attributes:(0,Wd.toAttributes)(e.attributes),count:t.count,min:t.min,max:t.max,sum:t.sum,positive:{offset:t.positive.offset,bucketCounts:t.positive.bucketCounts},negative:{offset:t.negative.offset,bucketCounts:t.negative.bucketCounts},scale:t.scale,zeroCount:t.zeroCount,startTimeUnixNano:(0,po.hrTimeToNanoseconds)(e.startTime),timeUnixNano:(0,po.hrTimeToNanoseconds)(e.endTime)}})}function xY(r){switch(r){case fo.AggregationTemporality.DELTA:return 1;case fo.AggregationTemporality.CUMULATIVE:return 2}}});var xL=c(Kd=>{"use strict";Object.defineProperty(Kd,"__esModule",{value:!0});Kd.createExportMetricsServiceRequest=void 0;var DY=qL();function $Y(r){return{resourceMetrics:r.map(e=>(0,DY.toResourceMetrics)(e))}}Kd.createExportMetricsServiceRequest=$Y});var jL=c(_o=>{"use strict";Object.defineProperty(_o,"__esModule",{value:!0});_o.toLogAttributes=_o.createExportLogsServiceRequest=void 0;var Ym=eu(),Km=H();function jY(r,e){return{resourceLogs:GY(r,e)}}_o.createExportLogsServiceRequest=jY;function UY(r){let e=new Map;for(let t of r){let{resource:n,instrumentationScope:{name:s,version:i="",schemaUrl:o=""}}=t,a=e.get(n);a||(a=new Map,e.set(n,a));let u=`${s}@${i}:${o}`,l=a.get(u);l||(l=[],a.set(u,l)),l.push(t)}return e}function GY(r,e){let t=UY(r);return Array.from(t,([n,s])=>({resource:{attributes:(0,Ym.toAttributes)(n.attributes),droppedAttributesCount:0},scopeLogs:Array.from(s,([,i])=>{let{instrumentationScope:{name:o,version:a,schemaUrl:u}}=i[0];return{scope:{name:o,version:a},logRecords:i.map(l=>FY(l,e)),schemaUrl:u}}),schemaUrl:void 0}))}function FY(r,e){var t,n,s,i,o;return{timeUnixNano:(0,Km.hrTimeToNanoseconds)(r.hrTime),observedTimeUnixNano:(0,Km.hrTimeToNanoseconds)(r.hrTimeObserved),severityNumber:r.severityNumber,severityText:r.severityText,body:(0,Ym.toAnyValue)(r.body),attributes:$L(r.attributes),droppedAttributesCount:0,flags:(t=r.spanContext)===null||t===void 0?void 0:t.traceFlags,traceId:e?(n=r.spanContext)===null||n===void 0?void 0:n.traceId:DL((s=r.spanContext)===null||s===void 0?void 0:s.traceId),spanId:e?(i=r.spanContext)===null||i===void 0?void 0:i.spanId:DL((o=r.spanContext)===null||o===void 0?void 0:o.spanId)}}function DL(r){if(r!==void 0)return(0,Km.hexToBase64)(r)}function $L(r){return Object.keys(r).map(e=>(0,Ym.toKeyValue)(e,r[e]))}_o.toLogAttributes=$L});var UL=c(He=>{"use strict";var BY=He&&He.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Eu=He&&He.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&BY(e,r,t)};Object.defineProperty(He,"__esModule",{value:!0});He.createExportLogsServiceRequest=He.createExportMetricsServiceRequest=He.createExportTraceServiceRequest=void 0;Eu(dP(),He);Eu(pP(),He);Eu(EP(),He);Eu(gP(),He);Eu(TP(),He);var VY=OP();Object.defineProperty(He,"createExportTraceServiceRequest",{enumerable:!0,get:function(){return VY.createExportTraceServiceRequest}});var HY=xL();Object.defineProperty(He,"createExportMetricsServiceRequest",{enumerable:!0,get:function(){return HY.createExportMetricsServiceRequest}});var XY=jL();Object.defineProperty(He,"createExportLogsServiceRequest",{enumerable:!0,get:function(){return XY.createExportLogsServiceRequest}})});var GL=c(Yd=>{"use strict";Object.defineProperty(Yd,"__esModule",{value:!0});Yd.VERSION=void 0;Yd.VERSION="0.40.0"});var VL=c(kd=>{"use strict";Object.defineProperty(kd,"__esModule",{value:!0});kd.OTLPTraceExporter=void 0;var Eo=H(),WY=Xg(),FL=Xg(),KY=UL(),YY=GL(),BL="v1/traces",kY=`http://localhost:4318/${BL}`,zY={"User-Agent":`OTel-OTLP-Exporter-JavaScript/${YY.VERSION}`},km=class extends WY.OTLPExporterNodeBase{constructor(e={}){super(e),this.headers=Object.assign(Object.assign(Object.assign({},this.headers),zY),Eo.baggageUtils.parseKeyPairsIntoRecord((0,Eo.getEnv)().OTEL_EXPORTER_OTLP_TRACES_HEADERS))}convert(e){return(0,KY.createExportTraceServiceRequest)(e,!0)}getDefaultUrl(e){return typeof e.url=="string"?e.url:(0,Eo.getEnv)().OTEL_EXPORTER_OTLP_TRACES_ENDPOINT.length>0?(0,FL.appendRootPathToUrlIfNeeded)((0,Eo.getEnv)().OTEL_EXPORTER_OTLP_TRACES_ENDPOINT):(0,Eo.getEnv)().OTEL_EXPORTER_OTLP_ENDPOINT.length>0?(0,FL.appendResourcePathToUrl)((0,Eo.getEnv)().OTEL_EXPORTER_OTLP_ENDPOINT,BL):kY}};kd.OTLPTraceExporter=km});var HL=c(As=>{"use strict";var QY=As&&As.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),ZY=As&&As.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&QY(e,r,t)};Object.defineProperty(As,"__esModule",{value:!0});ZY(VL(),As)});var XL=c(Os=>{"use strict";var JY=Os&&Os.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),ek=Os&&Os.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&JY(e,r,t)};Object.defineProperty(Os,"__esModule",{value:!0});ek(HL(),Os)});var WL=c(Rs=>{"use strict";var tk=Rs&&Rs.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),rk=Rs&&Rs.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&tk(e,r,t)};Object.defineProperty(Rs,"__esModule",{value:!0});rk(XL(),Rs)});var Qm=c(zd=>{"use strict";Object.defineProperty(zd,"__esModule",{value:!0});zd.AbstractAsyncHooksContextManager=void 0;var nk=require("events"),sk=["addListener","on","once","prependListener","prependOnceListener"],zm=class{constructor(){this._kOtListeners=Symbol("OtListeners"),this._wrapped=!1}bind(e,t){return t instanceof nk.EventEmitter?this._bindEventEmitter(e,t):typeof t=="function"?this._bindFunction(e,t):t}_bindFunction(e,t){let n=this,s=function(...i){return n.with(e,()=>t.apply(this,i))};return Object.defineProperty(s,"length",{enumerable:!1,configurable:!0,writable:!1,value:t.length}),s}_bindEventEmitter(e,t){return this._getPatchMap(t)!==void 0||(this._createPatchMap(t),sk.forEach(s=>{t[s]!==void 0&&(t[s]=this._patchAddListener(t,t[s],e))}),typeof t.removeListener=="function"&&(t.removeListener=this._patchRemoveListener(t,t.removeListener)),typeof t.off=="function"&&(t.off=this._patchRemoveListener(t,t.off)),typeof t.removeAllListeners=="function"&&(t.removeAllListeners=this._patchRemoveAllListeners(t,t.removeAllListeners))),t}_patchRemoveListener(e,t){let n=this;return function(s,i){var o;let a=(o=n._getPatchMap(e))===null||o===void 0?void 0:o[s];if(a===void 0)return t.call(this,s,i);let u=a.get(i);return t.call(this,s,u||i)}}_patchRemoveAllListeners(e,t){let n=this;return function(s){let i=n._getPatchMap(e);return i!==void 0&&(arguments.length===0?n._createPatchMap(e):i[s]!==void 0&&delete i[s]),t.apply(this,arguments)}}_patchAddListener(e,t,n){let s=this;return function(i,o){if(s._wrapped)return t.call(this,i,o);let a=s._getPatchMap(e);a===void 0&&(a=s._createPatchMap(e));let u=a[i];u===void 0&&(u=new WeakMap,a[i]=u);let l=s.bind(n,o);u.set(o,l),s._wrapped=!0;try{return t.call(this,i,l)}finally{s._wrapped=!1}}}_createPatchMap(e){let t=Object.create(null);return e[this._kOtListeners]=t,t}_getPatchMap(e){return e[this._kOtListeners]}};zd.AbstractAsyncHooksContextManager=zm});var KL=c(Qd=>{"use strict";Object.defineProperty(Qd,"__esModule",{value:!0});Qd.AsyncHooksContextManager=void 0;var ik=_(),ok=require("async_hooks"),ak=Qm(),Zm=class extends ak.AbstractAsyncHooksContextManager{constructor(){super(),this._contexts=new Map,this._stack=[],this._asyncHook=ok.createHook({init:this._init.bind(this),before:this._before.bind(this),after:this._after.bind(this),destroy:this._destroy.bind(this),promiseResolve:this._destroy.bind(this)})}active(){var e;return(e=this._stack[this._stack.length-1])!==null&&e!==void 0?e:ik.ROOT_CONTEXT}with(e,t,n,...s){this._enterContext(e);try{return t.call(n,...s)}finally{this._exitContext()}}enable(){return this._asyncHook.enable(),this}disable(){return this._asyncHook.disable(),this._contexts.clear(),this._stack=[],this}_init(e,t){if(t==="TIMERWRAP")return;let n=this._stack[this._stack.length-1];n!==void 0&&this._contexts.set(e,n)}_destroy(e){this._contexts.delete(e)}_before(e){let t=this._contexts.get(e);t!==void 0&&this._enterContext(t)}_after(){this._exitContext()}_enterContext(e){this._stack.push(e)}_exitContext(){this._stack.pop()}};Qd.AsyncHooksContextManager=Zm});var YL=c(Zd=>{"use strict";Object.defineProperty(Zd,"__esModule",{value:!0});Zd.AsyncLocalStorageContextManager=void 0;var uk=_(),ck=require("async_hooks"),lk=Qm(),Jm=class extends lk.AbstractAsyncHooksContextManager{constructor(){super(),this._asyncLocalStorage=new ck.AsyncLocalStorage}active(){var e;return(e=this._asyncLocalStorage.getStore())!==null&&e!==void 0?e:uk.ROOT_CONTEXT}with(e,t,n,...s){let i=n==null?t:t.bind(n);return this._asyncLocalStorage.run(e,i,...s)}enable(){return this}disable(){return this._asyncLocalStorage.disable(),this}};Zd.AsyncLocalStorageContextManager=Jm});var zL=c(mn=>{"use strict";var hk=mn&&mn.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),kL=mn&&mn.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&hk(e,r,t)};Object.defineProperty(mn,"__esModule",{value:!0});kL(KL(),mn);kL(YL(),mn)});var eT=c(Jd=>{"use strict";Object.defineProperty(Jd,"__esModule",{value:!0});Jd.B3_DEBUG_FLAG_KEY=void 0;var dk=_();Jd.B3_DEBUG_FLAG_KEY=(0,dk.createContextKey)("OpenTelemetry Context Key B3 Debug Flag")});var gu=c(At=>{"use strict";Object.defineProperty(At,"__esModule",{value:!0});At.X_B3_FLAGS=At.X_B3_PARENT_SPAN_ID=At.X_B3_SAMPLED=At.X_B3_SPAN_ID=At.X_B3_TRACE_ID=At.B3_CONTEXT_HEADER=void 0;At.B3_CONTEXT_HEADER="b3";At.X_B3_TRACE_ID="x-b3-traceid";At.X_B3_SPAN_ID="x-b3-spanid";At.X_B3_SAMPLED="x-b3-sampled";At.X_B3_PARENT_SPAN_ID="x-b3-parentspanid";At.X_B3_FLAGS="x-b3-flags"});var JL=c(tf=>{"use strict";Object.defineProperty(tf,"__esModule",{value:!0});tf.B3MultiPropagator=void 0;var sr=_(),fk=H(),QL=eT(),wt=gu(),pk=new Set([!0,"true","True","1",1]),_k=new Set([!1,"false","False","0",0]);function Ek(r){return r===sr.TraceFlags.SAMPLED||r===sr.TraceFlags.NONE}function gk(r){return Array.isArray(r)?r[0]:r}function ef(r,e,t){let n=e.get(r,t);return gk(n)}function mk(r,e){let t=ef(r,e,wt.X_B3_TRACE_ID);return typeof t=="string"?t.padStart(32,"0"):""}function Tk(r,e){let t=ef(r,e,wt.X_B3_SPAN_ID);return typeof t=="string"?t:""}function ZL(r,e){return ef(r,e,wt.X_B3_FLAGS)==="1"?"1":void 0}function Sk(r,e){let t=ef(r,e,wt.X_B3_SAMPLED);if(ZL(r,e)==="1"||pk.has(t))return sr.TraceFlags.SAMPLED;if(t===void 0||_k.has(t))return sr.TraceFlags.NONE}var tT=class{inject(e,t,n){let s=sr.trace.getSpanContext(e);if(!s||!(0,sr.isSpanContextValid)(s)||(0,fk.isTracingSuppressed)(e))return;let i=e.getValue(QL.B3_DEBUG_FLAG_KEY);n.set(t,wt.X_B3_TRACE_ID,s.traceId),n.set(t,wt.X_B3_SPAN_ID,s.spanId),i==="1"?n.set(t,wt.X_B3_FLAGS,i):s.traceFlags!==void 0&&n.set(t,wt.X_B3_SAMPLED,(sr.TraceFlags.SAMPLED&s.traceFlags)===sr.TraceFlags.SAMPLED?"1":"0")}extract(e,t,n){let s=mk(t,n),i=Tk(t,n),o=Sk(t,n),a=ZL(t,n);return(0,sr.isValidTraceId)(s)&&(0,sr.isValidSpanId)(i)&&Ek(o)?(e=e.setValue(QL.B3_DEBUG_FLAG_KEY,a),sr.trace.setSpanContext(e,{traceId:s,spanId:i,isRemote:!0,traceFlags:o})):e}fields(){return[wt.X_B3_TRACE_ID,wt.X_B3_SPAN_ID,wt.X_B3_FLAGS,wt.X_B3_SAMPLED,wt.X_B3_PARENT_SPAN_ID]}};tf.B3MultiPropagator=tT});var tC=c(rf=>{"use strict";Object.defineProperty(rf,"__esModule",{value:!0});rf.B3SinglePropagator=void 0;var Is=_(),vk=H(),eC=eT(),rT=gu(),Ak=/((?:[0-9a-f]{16}){1,2})-([0-9a-f]{16})(?:-([01d](?![0-9a-f])))?(?:-([0-9a-f]{16}))?/,Ok="0".repeat(16),Rk=new Set(["d","1"]),Ik="d";function bk(r){return r.length===32?r:`${Ok}${r}`}function Nk(r){return r&&Rk.has(r)?Is.TraceFlags.SAMPLED:Is.TraceFlags.NONE}var nT=class{inject(e,t,n){let s=Is.trace.getSpanContext(e);if(!s||!(0,Is.isSpanContextValid)(s)||(0,vk.isTracingSuppressed)(e))return;let i=e.getValue(eC.B3_DEBUG_FLAG_KEY)||s.traceFlags&1,o=`${s.traceId}-${s.spanId}-${i}`;n.set(t,rT.B3_CONTEXT_HEADER,o)}extract(e,t,n){let s=n.get(t,rT.B3_CONTEXT_HEADER),i=Array.isArray(s)?s[0]:s;if(typeof i!="string")return e;let o=i.match(Ak);if(!o)return e;let[,a,u,l]=o,h=bk(a);if(!(0,Is.isValidTraceId)(h)||!(0,Is.isValidSpanId)(u))return e;let d=Nk(l);return l===Ik&&(e=e.setValue(eC.B3_DEBUG_FLAG_KEY,l)),Is.trace.setSpanContext(e,{traceId:h,spanId:u,isRemote:!0,traceFlags:d})}fields(){return[rT.B3_CONTEXT_HEADER]}};rf.B3SinglePropagator=nT});var sT=c(mu=>{"use strict";Object.defineProperty(mu,"__esModule",{value:!0});mu.B3InjectEncoding=void 0;var yk;(function(r){r[r.SINGLE_HEADER=0]="SINGLE_HEADER",r[r.MULTI_HEADER=1]="MULTI_HEADER"})(yk=mu.B3InjectEncoding||(mu.B3InjectEncoding={}))});var rC=c(nf=>{"use strict";Object.defineProperty(nf,"__esModule",{value:!0});nf.B3Propagator=void 0;var Pk=H(),Lk=JL(),Ck=tC(),Mk=gu(),wk=sT(),iT=class{constructor(e={}){this._b3MultiPropagator=new Lk.B3MultiPropagator,this._b3SinglePropagator=new Ck.B3SinglePropagator,e.injectEncoding===wk.B3InjectEncoding.MULTI_HEADER?(this._inject=this._b3MultiPropagator.inject,this._fields=this._b3MultiPropagator.fields()):(this._inject=this._b3SinglePropagator.inject,this._fields=this._b3SinglePropagator.fields())}inject(e,t,n){(0,Pk.isTracingSuppressed)(e)||this._inject(e,t,n)}extract(e,t,n){let s=n.get(t,Mk.B3_CONTEXT_HEADER);return(Array.isArray(s)?s[0]:s)?this._b3SinglePropagator.extract(e,t,n):this._b3MultiPropagator.extract(e,t,n)}fields(){return this._fields}};nf.B3Propagator=iT});var nC=c(jr=>{"use strict";var qk=jr&&jr.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),oT=jr&&jr.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&qk(e,r,t)};Object.defineProperty(jr,"__esModule",{value:!0});oT(rC(),jr);oT(gu(),jr);oT(sT(),jr)});var Tu=c((zce,sC)=>{var xk="2.0.0",Dk=Number.MAX_SAFE_INTEGER||9007199254740991,$k=16,jk=["major","premajor","minor","preminor","patch","prepatch","prerelease"];sC.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:$k,MAX_SAFE_INTEGER:Dk,RELEASE_TYPES:jk,SEMVER_SPEC_VERSION:xk,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var Su=c((Qce,iC)=>{var Uk=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...r)=>console.error("SEMVER",...r):()=>{};iC.exports=Uk});var go=c((Tn,oC)=>{var{MAX_SAFE_COMPONENT_LENGTH:aT}=Tu(),Gk=Su();Tn=oC.exports={};var Fk=Tn.re=[],v=Tn.src=[],A=Tn.t={},Bk=0,G=(r,e,t)=>{let n=Bk++;Gk(r,n,e),A[r]=n,v[n]=e,Fk[n]=new RegExp(e,t?"g":void 0)};G("NUMERICIDENTIFIER","0|[1-9]\\d*");G("NUMERICIDENTIFIERLOOSE","[0-9]+");G("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*");G("MAINVERSION",`(${v[A.NUMERICIDENTIFIER]})\\.(${v[A.NUMERICIDENTIFIER]})\\.(${v[A.NUMERICIDENTIFIER]})`);G("MAINVERSIONLOOSE",`(${v[A.NUMERICIDENTIFIERLOOSE]})\\.(${v[A.NUMERICIDENTIFIERLOOSE]})\\.(${v[A.NUMERICIDENTIFIERLOOSE]})`);G("PRERELEASEIDENTIFIER",`(?:${v[A.NUMERICIDENTIFIER]}|${v[A.NONNUMERICIDENTIFIER]})`);G("PRERELEASEIDENTIFIERLOOSE",`(?:${v[A.NUMERICIDENTIFIERLOOSE]}|${v[A.NONNUMERICIDENTIFIER]})`);G("PRERELEASE",`(?:-(${v[A.PRERELEASEIDENTIFIER]}(?:\\.${v[A.PRERELEASEIDENTIFIER]})*))`);G("PRERELEASELOOSE",`(?:-?(${v[A.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${v[A.PRERELEASEIDENTIFIERLOOSE]})*))`);G("BUILDIDENTIFIER","[0-9A-Za-z-]+");G("BUILD",`(?:\\+(${v[A.BUILDIDENTIFIER]}(?:\\.${v[A.BUILDIDENTIFIER]})*))`);G("FULLPLAIN",`v?${v[A.MAINVERSION]}${v[A.PRERELEASE]}?${v[A.BUILD]}?`);G("FULL",`^${v[A.FULLPLAIN]}$`);G("LOOSEPLAIN",`[v=\\s]*${v[A.MAINVERSIONLOOSE]}${v[A.PRERELEASELOOSE]}?${v[A.BUILD]}?`);G("LOOSE",`^${v[A.LOOSEPLAIN]}$`);G("GTLT","((?:<|>)?=?)");G("XRANGEIDENTIFIERLOOSE",`${v[A.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);G("XRANGEIDENTIFIER",`${v[A.NUMERICIDENTIFIER]}|x|X|\\*`);G("XRANGEPLAIN",`[v=\\s]*(${v[A.XRANGEIDENTIFIER]})(?:\\.(${v[A.XRANGEIDENTIFIER]})(?:\\.(${v[A.XRANGEIDENTIFIER]})(?:${v[A.PRERELEASE]})?${v[A.BUILD]}?)?)?`);G("XRANGEPLAINLOOSE",`[v=\\s]*(${v[A.XRANGEIDENTIFIERLOOSE]})(?:\\.(${v[A.XRANGEIDENTIFIERLOOSE]})(?:\\.(${v[A.XRANGEIDENTIFIERLOOSE]})(?:${v[A.PRERELEASELOOSE]})?${v[A.BUILD]}?)?)?`);G("XRANGE",`^${v[A.GTLT]}\\s*${v[A.XRANGEPLAIN]}$`);G("XRANGELOOSE",`^${v[A.GTLT]}\\s*${v[A.XRANGEPLAINLOOSE]}$`);G("COERCE",`(^|[^\\d])(\\d{1,${aT}})(?:\\.(\\d{1,${aT}}))?(?:\\.(\\d{1,${aT}}))?(?:$|[^\\d])`);G("COERCERTL",v[A.COERCE],!0);G("LONETILDE","(?:~>?)");G("TILDETRIM",`(\\s*)${v[A.LONETILDE]}\\s+`,!0);Tn.tildeTrimReplace="$1~";G("TILDE",`^${v[A.LONETILDE]}${v[A.XRANGEPLAIN]}$`);G("TILDELOOSE",`^${v[A.LONETILDE]}${v[A.XRANGEPLAINLOOSE]}$`);G("LONECARET","(?:\\^)");G("CARETTRIM",`(\\s*)${v[A.LONECARET]}\\s+`,!0);Tn.caretTrimReplace="$1^";G("CARET",`^${v[A.LONECARET]}${v[A.XRANGEPLAIN]}$`);G("CARETLOOSE",`^${v[A.LONECARET]}${v[A.XRANGEPLAINLOOSE]}$`);G("COMPARATORLOOSE",`^${v[A.GTLT]}\\s*(${v[A.LOOSEPLAIN]})$|^$`);G("COMPARATOR",`^${v[A.GTLT]}\\s*(${v[A.FULLPLAIN]})$|^$`);G("COMPARATORTRIM",`(\\s*)${v[A.GTLT]}\\s*(${v[A.LOOSEPLAIN]}|${v[A.XRANGEPLAIN]})`,!0);Tn.comparatorTrimReplace="$1$2$3";G("HYPHENRANGE",`^\\s*(${v[A.XRANGEPLAIN]})\\s+-\\s+(${v[A.XRANGEPLAIN]})\\s*$`);G("HYPHENRANGELOOSE",`^\\s*(${v[A.XRANGEPLAINLOOSE]})\\s+-\\s+(${v[A.XRANGEPLAINLOOSE]})\\s*$`);G("STAR","(<|>)?=?\\s*\\*");G("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");G("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var sf=c((Zce,aC)=>{var Vk=Object.freeze({loose:!0}),Hk=Object.freeze({}),Xk=r=>r?typeof r!="object"?Vk:r:Hk;aC.exports=Xk});var uT=c((Jce,lC)=>{var uC=/^[0-9]+$/,cC=(r,e)=>{let t=uC.test(r),n=uC.test(e);return t&&n&&(r=+r,e=+e),r===e?0:t&&!n?-1:n&&!t?1:r<e?-1:1},Wk=(r,e)=>cC(e,r);lC.exports={compareIdentifiers:cC,rcompareIdentifiers:Wk}});var tt=c((ele,pC)=>{var of=Su(),{MAX_LENGTH:hC,MAX_SAFE_INTEGER:af}=Tu(),{re:dC,t:fC}=go(),Kk=sf(),{compareIdentifiers:mo}=uT(),qt=class{constructor(e,t){if(t=Kk(t),e instanceof qt){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>hC)throw new TypeError(`version is longer than ${hC} characters`);of("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;let n=e.trim().match(t.loose?dC[fC.LOOSE]:dC[fC.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>af||this.major<0)throw new TypeError("Invalid major version");if(this.minor>af||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>af||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(s=>{if(/^[0-9]+$/.test(s)){let i=+s;if(i>=0&&i<af)return i}return s}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(of("SemVer.compare",this.version,this.options,e),!(e instanceof qt)){if(typeof e=="string"&&e===this.version)return 0;e=new qt(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof qt||(e=new qt(e,this.options)),mo(this.major,e.major)||mo(this.minor,e.minor)||mo(this.patch,e.patch)}comparePre(e){if(e instanceof qt||(e=new qt(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{let n=this.prerelease[t],s=e.prerelease[t];if(of("prerelease compare",t,n,s),n===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(n===void 0)return-1;if(n===s)continue;return mo(n,s)}while(++t)}compareBuild(e){e instanceof qt||(e=new qt(e,this.options));let t=0;do{let n=this.build[t],s=e.build[t];if(of("prerelease compare",t,n,s),n===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(n===void 0)return-1;if(n===s)continue;return mo(n,s)}while(++t)}inc(e,t,n){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,n),this.inc("pre",t,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",t,n),this.inc("pre",t,n);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let s=Number(n)?1:0;if(!t&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[s];else{let i=this.prerelease.length;for(;--i>=0;)typeof this.prerelease[i]=="number"&&(this.prerelease[i]++,i=-2);if(i===-1){if(t===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(s)}}if(t){let i=[t,s];n===!1&&(i=[t]),mo(this.prerelease[0],t)===0?isNaN(this.prerelease[1])&&(this.prerelease=i):this.prerelease=i}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.format(),this.raw=this.version,this}};pC.exports=qt});var bs=c((tle,EC)=>{var _C=tt(),Yk=(r,e,t=!1)=>{if(r instanceof _C)return r;try{return new _C(r,e)}catch(n){if(!t)return null;throw n}};EC.exports=Yk});var mC=c((rle,gC)=>{var kk=bs(),zk=(r,e)=>{let t=kk(r,e);return t?t.version:null};gC.exports=zk});var SC=c((nle,TC)=>{var Qk=bs(),Zk=(r,e)=>{let t=Qk(r.trim().replace(/^[=v]+/,""),e);return t?t.version:null};TC.exports=Zk});var OC=c((sle,AC)=>{var vC=tt(),Jk=(r,e,t,n,s)=>{typeof t=="string"&&(s=n,n=t,t=void 0);try{return new vC(r instanceof vC?r.version:r,t).inc(e,n,s).version}catch{return null}};AC.exports=Jk});var bC=c((ile,IC)=>{var RC=bs(),ez=(r,e)=>{let t=RC(r,null,!0),n=RC(e,null,!0),s=t.compare(n);if(s===0)return null;let i=s>0,o=i?t:n,a=i?n:t,u=!!o.prerelease.length,l=u?"pre":"";return t.major!==n.major?l+"major":t.minor!==n.minor?l+"minor":t.patch!==n.patch?l+"patch":u?"prerelease":a.patch?"patch":a.minor?"minor":"major"};IC.exports=ez});var yC=c((ole,NC)=>{var tz=tt(),rz=(r,e)=>new tz(r,e).major;NC.exports=rz});var LC=c((ale,PC)=>{var nz=tt(),sz=(r,e)=>new nz(r,e).minor;PC.exports=sz});var MC=c((ule,CC)=>{var iz=tt(),oz=(r,e)=>new iz(r,e).patch;CC.exports=oz});var qC=c((cle,wC)=>{var az=bs(),uz=(r,e)=>{let t=az(r,e);return t&&t.prerelease.length?t.prerelease:null};wC.exports=uz});var Xt=c((lle,DC)=>{var xC=tt(),cz=(r,e,t)=>new xC(r,t).compare(new xC(e,t));DC.exports=cz});var jC=c((hle,$C)=>{var lz=Xt(),hz=(r,e,t)=>lz(e,r,t);$C.exports=hz});var GC=c((dle,UC)=>{var dz=Xt(),fz=(r,e)=>dz(r,e,!0);UC.exports=fz});var uf=c((fle,BC)=>{var FC=tt(),pz=(r,e,t)=>{let n=new FC(r,t),s=new FC(e,t);return n.compare(s)||n.compareBuild(s)};BC.exports=pz});var HC=c((ple,VC)=>{var _z=uf(),Ez=(r,e)=>r.sort((t,n)=>_z(t,n,e));VC.exports=Ez});var WC=c((_le,XC)=>{var gz=uf(),mz=(r,e)=>r.sort((t,n)=>gz(n,t,e));XC.exports=mz});var vu=c((Ele,KC)=>{var Tz=Xt(),Sz=(r,e,t)=>Tz(r,e,t)>0;KC.exports=Sz});var cf=c((gle,YC)=>{var vz=Xt(),Az=(r,e,t)=>vz(r,e,t)<0;YC.exports=Az});var cT=c((mle,kC)=>{var Oz=Xt(),Rz=(r,e,t)=>Oz(r,e,t)===0;kC.exports=Rz});var lT=c((Tle,zC)=>{var Iz=Xt(),bz=(r,e,t)=>Iz(r,e,t)!==0;zC.exports=bz});var lf=c((Sle,QC)=>{var Nz=Xt(),yz=(r,e,t)=>Nz(r,e,t)>=0;QC.exports=yz});var hf=c((vle,ZC)=>{var Pz=Xt(),Lz=(r,e,t)=>Pz(r,e,t)<=0;ZC.exports=Lz});var hT=c((Ale,JC)=>{var Cz=cT(),Mz=lT(),wz=vu(),qz=lf(),xz=cf(),Dz=hf(),$z=(r,e,t,n)=>{switch(e){case"===":return typeof r=="object"&&(r=r.version),typeof t=="object"&&(t=t.version),r===t;case"!==":return typeof r=="object"&&(r=r.version),typeof t=="object"&&(t=t.version),r!==t;case"":case"=":case"==":return Cz(r,t,n);case"!=":return Mz(r,t,n);case">":return wz(r,t,n);case">=":return qz(r,t,n);case"<":return xz(r,t,n);case"<=":return Dz(r,t,n);default:throw new TypeError(`Invalid operator: ${e}`)}};JC.exports=$z});var tM=c((Ole,eM)=>{var jz=tt(),Uz=bs(),{re:df,t:ff}=go(),Gz=(r,e)=>{if(r instanceof jz)return r;if(typeof r=="number"&&(r=String(r)),typeof r!="string")return null;e=e||{};let t=null;if(!e.rtl)t=r.match(df[ff.COERCE]);else{let n;for(;(n=df[ff.COERCERTL].exec(r))&&(!t||t.index+t[0].length!==r.length);)(!t||n.index+n[0].length!==t.index+t[0].length)&&(t=n),df[ff.COERCERTL].lastIndex=n.index+n[1].length+n[2].length;df[ff.COERCERTL].lastIndex=-1}return t===null?null:Uz(`${t[2]}.${t[3]||"0"}.${t[4]||"0"}`,e)};eM.exports=Gz});var nM=c((Rle,rM)=>{"use strict";rM.exports=function(r){r.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}});var iM=c((Ile,sM)=>{"use strict";sM.exports=Q;Q.Node=Ns;Q.create=Q;function Q(r){var e=this;if(e instanceof Q||(e=new Q),e.tail=null,e.head=null,e.length=0,r&&typeof r.forEach=="function")r.forEach(function(s){e.push(s)});else if(arguments.length>0)for(var t=0,n=arguments.length;t<n;t++)e.push(arguments[t]);return e}Q.prototype.removeNode=function(r){if(r.list!==this)throw new Error("removing node which does not belong to this list");var e=r.next,t=r.prev;return e&&(e.prev=t),t&&(t.next=e),r===this.head&&(this.head=e),r===this.tail&&(this.tail=t),r.list.length--,r.next=null,r.prev=null,r.list=null,e};Q.prototype.unshiftNode=function(r){if(r!==this.head){r.list&&r.list.removeNode(r);var e=this.head;r.list=this,r.next=e,e&&(e.prev=r),this.head=r,this.tail||(this.tail=r),this.length++}};Q.prototype.pushNode=function(r){if(r!==this.tail){r.list&&r.list.removeNode(r);var e=this.tail;r.list=this,r.prev=e,e&&(e.next=r),this.tail=r,this.head||(this.head=r),this.length++}};Q.prototype.push=function(){for(var r=0,e=arguments.length;r<e;r++)Bz(this,arguments[r]);return this.length};Q.prototype.unshift=function(){for(var r=0,e=arguments.length;r<e;r++)Vz(this,arguments[r]);return this.length};Q.prototype.pop=function(){if(this.tail){var r=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,r}};Q.prototype.shift=function(){if(this.head){var r=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,r}};Q.prototype.forEach=function(r,e){e=e||this;for(var t=this.head,n=0;t!==null;n++)r.call(e,t.value,n,this),t=t.next};Q.prototype.forEachReverse=function(r,e){e=e||this;for(var t=this.tail,n=this.length-1;t!==null;n--)r.call(e,t.value,n,this),t=t.prev};Q.prototype.get=function(r){for(var e=0,t=this.head;t!==null&&e<r;e++)t=t.next;if(e===r&&t!==null)return t.value};Q.prototype.getReverse=function(r){for(var e=0,t=this.tail;t!==null&&e<r;e++)t=t.prev;if(e===r&&t!==null)return t.value};Q.prototype.map=function(r,e){e=e||this;for(var t=new Q,n=this.head;n!==null;)t.push(r.call(e,n.value,this)),n=n.next;return t};Q.prototype.mapReverse=function(r,e){e=e||this;for(var t=new Q,n=this.tail;n!==null;)t.push(r.call(e,n.value,this)),n=n.prev;return t};Q.prototype.reduce=function(r,e){var t,n=this.head;if(arguments.length>1)t=e;else if(this.head)n=this.head.next,t=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var s=0;n!==null;s++)t=r(t,n.value,s),n=n.next;return t};Q.prototype.reduceReverse=function(r,e){var t,n=this.tail;if(arguments.length>1)t=e;else if(this.tail)n=this.tail.prev,t=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var s=this.length-1;n!==null;s--)t=r(t,n.value,s),n=n.prev;return t};Q.prototype.toArray=function(){for(var r=new Array(this.length),e=0,t=this.head;t!==null;e++)r[e]=t.value,t=t.next;return r};Q.prototype.toArrayReverse=function(){for(var r=new Array(this.length),e=0,t=this.tail;t!==null;e++)r[e]=t.value,t=t.prev;return r};Q.prototype.slice=function(r,e){e=e||this.length,e<0&&(e+=this.length),r=r||0,r<0&&(r+=this.length);var t=new Q;if(e<r||e<0)return t;r<0&&(r=0),e>this.length&&(e=this.length);for(var n=0,s=this.head;s!==null&&n<r;n++)s=s.next;for(;s!==null&&n<e;n++,s=s.next)t.push(s.value);return t};Q.prototype.sliceReverse=function(r,e){e=e||this.length,e<0&&(e+=this.length),r=r||0,r<0&&(r+=this.length);var t=new Q;if(e<r||e<0)return t;r<0&&(r=0),e>this.length&&(e=this.length);for(var n=this.length,s=this.tail;s!==null&&n>e;n--)s=s.prev;for(;s!==null&&n>r;n--,s=s.prev)t.push(s.value);return t};Q.prototype.splice=function(r,e,...t){r>this.length&&(r=this.length-1),r<0&&(r=this.length+r);for(var n=0,s=this.head;s!==null&&n<r;n++)s=s.next;for(var i=[],n=0;s&&n<e;n++)i.push(s.value),s=this.removeNode(s);s===null&&(s=this.tail),s!==this.head&&s!==this.tail&&(s=s.prev);for(var n=0;n<t.length;n++)s=Fz(this,s,t[n]);return i};Q.prototype.reverse=function(){for(var r=this.head,e=this.tail,t=r;t!==null;t=t.prev){var n=t.prev;t.prev=t.next,t.next=n}return this.head=e,this.tail=r,this};function Fz(r,e,t){var n=e===r.head?new Ns(t,null,e,r):new Ns(t,e,e.next,r);return n.next===null&&(r.tail=n),n.prev===null&&(r.head=n),r.length++,n}function Bz(r,e){r.tail=new Ns(e,r.tail,null,r),r.head||(r.head=r.tail),r.length++}function Vz(r,e){r.head=new Ns(e,null,r.head,r),r.tail||(r.tail=r.head),r.length++}function Ns(r,e,t,n){if(!(this instanceof Ns))return new Ns(r,e,t,n);this.list=n,this.value=r,e?(e.next=this,this.prev=e):this.prev=null,t?(t.prev=this,this.next=t):this.next=null}try{nM()(Q)}catch{}});var lM=c((ble,cM)=>{"use strict";var Hz=iM(),ys=Symbol("max"),Gr=Symbol("length"),To=Symbol("lengthCalculator"),Ou=Symbol("allowStale"),Ps=Symbol("maxAge"),Ur=Symbol("dispose"),oM=Symbol("noDisposeOnSet"),De=Symbol("lruList"),ir=Symbol("cache"),uM=Symbol("updateAgeOnGet"),dT=()=>1,pT=class{constructor(e){if(typeof e=="number"&&(e={max:e}),e||(e={}),e.max&&(typeof e.max!="number"||e.max<0))throw new TypeError("max must be a non-negative number");let t=this[ys]=e.max||1/0,n=e.length||dT;if(this[To]=typeof n!="function"?dT:n,this[Ou]=e.stale||!1,e.maxAge&&typeof e.maxAge!="number")throw new TypeError("maxAge must be a number");this[Ps]=e.maxAge||0,this[Ur]=e.dispose,this[oM]=e.noDisposeOnSet||!1,this[uM]=e.updateAgeOnGet||!1,this.reset()}set max(e){if(typeof e!="number"||e<0)throw new TypeError("max must be a non-negative number");this[ys]=e||1/0,Au(this)}get max(){return this[ys]}set allowStale(e){this[Ou]=!!e}get allowStale(){return this[Ou]}set maxAge(e){if(typeof e!="number")throw new TypeError("maxAge must be a non-negative number");this[Ps]=e,Au(this)}get maxAge(){return this[Ps]}set lengthCalculator(e){typeof e!="function"&&(e=dT),e!==this[To]&&(this[To]=e,this[Gr]=0,this[De].forEach(t=>{t.length=this[To](t.value,t.key),this[Gr]+=t.length})),Au(this)}get lengthCalculator(){return this[To]}get length(){return this[Gr]}get itemCount(){return this[De].length}rforEach(e,t){t=t||this;for(let n=this[De].tail;n!==null;){let s=n.prev;aM(this,e,n,t),n=s}}forEach(e,t){t=t||this;for(let n=this[De].head;n!==null;){let s=n.next;aM(this,e,n,t),n=s}}keys(){return this[De].toArray().map(e=>e.key)}values(){return this[De].toArray().map(e=>e.value)}reset(){this[Ur]&&this[De]&&this[De].length&&this[De].forEach(e=>this[Ur](e.key,e.value)),this[ir]=new Map,this[De]=new Hz,this[Gr]=0}dump(){return this[De].map(e=>pf(this,e)?!1:{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[De]}set(e,t,n){if(n=n||this[Ps],n&&typeof n!="number")throw new TypeError("maxAge must be a number");let s=n?Date.now():0,i=this[To](t,e);if(this[ir].has(e)){if(i>this[ys])return So(this,this[ir].get(e)),!1;let u=this[ir].get(e).value;return this[Ur]&&(this[oM]||this[Ur](e,u.value)),u.now=s,u.maxAge=n,u.value=t,this[Gr]+=i-u.length,u.length=i,this.get(e),Au(this),!0}let o=new _T(e,t,i,s,n);return o.length>this[ys]?(this[Ur]&&this[Ur](e,t),!1):(this[Gr]+=o.length,this[De].unshift(o),this[ir].set(e,this[De].head),Au(this),!0)}has(e){if(!this[ir].has(e))return!1;let t=this[ir].get(e).value;return!pf(this,t)}get(e){return fT(this,e,!0)}peek(e){return fT(this,e,!1)}pop(){let e=this[De].tail;return e?(So(this,e),e.value):null}del(e){So(this,this[ir].get(e))}load(e){this.reset();let t=Date.now();for(let n=e.length-1;n>=0;n--){let s=e[n],i=s.e||0;if(i===0)this.set(s.k,s.v);else{let o=i-t;o>0&&this.set(s.k,s.v,o)}}}prune(){this[ir].forEach((e,t)=>fT(this,t,!1))}},fT=(r,e,t)=>{let n=r[ir].get(e);if(n){let s=n.value;if(pf(r,s)){if(So(r,n),!r[Ou])return}else t&&(r[uM]&&(n.value.now=Date.now()),r[De].unshiftNode(n));return s.value}},pf=(r,e)=>{if(!e||!e.maxAge&&!r[Ps])return!1;let t=Date.now()-e.now;return e.maxAge?t>e.maxAge:r[Ps]&&t>r[Ps]},Au=r=>{if(r[Gr]>r[ys])for(let e=r[De].tail;r[Gr]>r[ys]&&e!==null;){let t=e.prev;So(r,e),e=t}},So=(r,e)=>{if(e){let t=e.value;r[Ur]&&r[Ur](t.key,t.value),r[Gr]-=t.length,r[ir].delete(t.key),r[De].removeNode(e)}},_T=class{constructor(e,t,n,s,i){this.key=e,this.value=t,this.length=n,this.now=s,this.maxAge=i||0}},aM=(r,e,t,n)=>{let s=t.value;pf(r,s)&&(So(r,t),r[Ou]||(s=void 0)),s&&e.call(n,s.value,s.key,r)};cM.exports=pT});var Wt=c((Nle,pM)=>{var Ls=class{constructor(e,t){if(t=Wz(t),e instanceof Ls)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new Ls(e.raw,t);if(e instanceof ET)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split("||").map(n=>this.parseRange(n.trim())).filter(n=>n.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${e}`);if(this.set.length>1){let n=this.set[0];if(this.set=this.set.filter(s=>!dM(s[0])),this.set.length===0)this.set=[n];else if(this.set.length>1){for(let s of this.set)if(s.length===1&&Jz(s[0])){this.set=[s];break}}}this.format()}format(){return this.range=this.set.map(e=>e.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(e){e=e.trim();let n=((this.options.includePrerelease&&Qz)|(this.options.loose&&Zz))+":"+e,s=hM.get(n);if(s)return s;let i=this.options.loose,o=i?Ot[ht.HYPHENRANGELOOSE]:Ot[ht.HYPHENRANGE];e=e.replace(o,c2(this.options.includePrerelease)),Te("hyphen replace",e),e=e.replace(Ot[ht.COMPARATORTRIM],Yz),Te("comparator trim",e),e=e.replace(Ot[ht.TILDETRIM],kz),e=e.replace(Ot[ht.CARETTRIM],zz),e=e.split(/\s+/).join(" ");let a=e.split(" ").map(d=>e2(d,this.options)).join(" ").split(/\s+/).map(d=>u2(d,this.options));i&&(a=a.filter(d=>(Te("loose invalid filter",d,this.options),!!d.match(Ot[ht.COMPARATORLOOSE])))),Te("range list",a);let u=new Map,l=a.map(d=>new ET(d,this.options));for(let d of l){if(dM(d))return[d];u.set(d.value,d)}u.size>1&&u.has("")&&u.delete("");let h=[...u.values()];return hM.set(n,h),h}intersects(e,t){if(!(e instanceof Ls))throw new TypeError("a Range is required");return this.set.some(n=>fM(n,t)&&e.set.some(s=>fM(s,t)&&n.every(i=>s.every(o=>i.intersects(o,t)))))}test(e){if(!e)return!1;if(typeof e=="string")try{e=new Kz(e,this.options)}catch{return!1}for(let t=0;t<this.set.length;t++)if(l2(this.set[t],e,this.options))return!0;return!1}};pM.exports=Ls;var Xz=lM(),hM=new Xz({max:1e3}),Wz=sf(),ET=Ru(),Te=Su(),Kz=tt(),{re:Ot,t:ht,comparatorTrimReplace:Yz,tildeTrimReplace:kz,caretTrimReplace:zz}=go(),{FLAG_INCLUDE_PRERELEASE:Qz,FLAG_LOOSE:Zz}=Tu(),dM=r=>r.value==="<0.0.0-0",Jz=r=>r.value==="",fM=(r,e)=>{let t=!0,n=r.slice(),s=n.pop();for(;t&&n.length;)t=n.every(i=>s.intersects(i,e)),s=n.pop();return t},e2=(r,e)=>(Te("comp",r,e),r=n2(r,e),Te("caret",r),r=t2(r,e),Te("tildes",r),r=i2(r,e),Te("xrange",r),r=a2(r,e),Te("stars",r),r),dt=r=>!r||r.toLowerCase()==="x"||r==="*",t2=(r,e)=>r.trim().split(/\s+/).map(t=>r2(t,e)).join(" "),r2=(r,e)=>{let t=e.loose?Ot[ht.TILDELOOSE]:Ot[ht.TILDE];return r.replace(t,(n,s,i,o,a)=>{Te("tilde",r,n,s,i,o,a);let u;return dt(s)?u="":dt(i)?u=`>=${s}.0.0 <${+s+1}.0.0-0`:dt(o)?u=`>=${s}.${i}.0 <${s}.${+i+1}.0-0`:a?(Te("replaceTilde pr",a),u=`>=${s}.${i}.${o}-${a} <${s}.${+i+1}.0-0`):u=`>=${s}.${i}.${o} <${s}.${+i+1}.0-0`,Te("tilde return",u),u})},n2=(r,e)=>r.trim().split(/\s+/).map(t=>s2(t,e)).join(" "),s2=(r,e)=>{Te("caret",r,e);let t=e.loose?Ot[ht.CARETLOOSE]:Ot[ht.CARET],n=e.includePrerelease?"-0":"";return r.replace(t,(s,i,o,a,u)=>{Te("caret",r,s,i,o,a,u);let l;return dt(i)?l="":dt(o)?l=`>=${i}.0.0${n} <${+i+1}.0.0-0`:dt(a)?i==="0"?l=`>=${i}.${o}.0${n} <${i}.${+o+1}.0-0`:l=`>=${i}.${o}.0${n} <${+i+1}.0.0-0`:u?(Te("replaceCaret pr",u),i==="0"?o==="0"?l=`>=${i}.${o}.${a}-${u} <${i}.${o}.${+a+1}-0`:l=`>=${i}.${o}.${a}-${u} <${i}.${+o+1}.0-0`:l=`>=${i}.${o}.${a}-${u} <${+i+1}.0.0-0`):(Te("no pr"),i==="0"?o==="0"?l=`>=${i}.${o}.${a}${n} <${i}.${o}.${+a+1}-0`:l=`>=${i}.${o}.${a}${n} <${i}.${+o+1}.0-0`:l=`>=${i}.${o}.${a} <${+i+1}.0.0-0`),Te("caret return",l),l})},i2=(r,e)=>(Te("replaceXRanges",r,e),r.split(/\s+/).map(t=>o2(t,e)).join(" ")),o2=(r,e)=>{r=r.trim();let t=e.loose?Ot[ht.XRANGELOOSE]:Ot[ht.XRANGE];return r.replace(t,(n,s,i,o,a,u)=>{Te("xRange",r,n,s,i,o,a,u);let l=dt(i),h=l||dt(o),d=h||dt(a),p=d;return s==="="&&p&&(s=""),u=e.includePrerelease?"-0":"",l?s===">"||s==="<"?n="<0.0.0-0":n="*":s&&p?(h&&(o=0),a=0,s===">"?(s=">=",h?(i=+i+1,o=0,a=0):(o=+o+1,a=0)):s==="<="&&(s="<",h?i=+i+1:o=+o+1),s==="<"&&(u="-0"),n=`${s+i}.${o}.${a}${u}`):h?n=`>=${i}.0.0${u} <${+i+1}.0.0-0`:d&&(n=`>=${i}.${o}.0${u} <${i}.${+o+1}.0-0`),Te("xRange return",n),n})},a2=(r,e)=>(Te("replaceStars",r,e),r.trim().replace(Ot[ht.STAR],"")),u2=(r,e)=>(Te("replaceGTE0",r,e),r.trim().replace(Ot[e.includePrerelease?ht.GTE0PRE:ht.GTE0],"")),c2=r=>(e,t,n,s,i,o,a,u,l,h,d,p,f)=>(dt(n)?t="":dt(s)?t=`>=${n}.0.0${r?"-0":""}`:dt(i)?t=`>=${n}.${s}.0${r?"-0":""}`:o?t=`>=${t}`:t=`>=${t}${r?"-0":""}`,dt(l)?u="":dt(h)?u=`<${+l+1}.0.0-0`:dt(d)?u=`<${l}.${+h+1}.0-0`:p?u=`<=${l}.${h}.${d}-${p}`:r?u=`<${l}.${h}.${+d+1}-0`:u=`<=${u}`,`${t} ${u}`.trim()),l2=(r,e,t)=>{for(let n=0;n<r.length;n++)if(!r[n].test(e))return!1;if(e.prerelease.length&&!t.includePrerelease){for(let n=0;n<r.length;n++)if(Te(r[n].semver),r[n].semver!==ET.ANY&&r[n].semver.prerelease.length>0){let s=r[n].semver;if(s.major===e.major&&s.minor===e.minor&&s.patch===e.patch)return!0}return!1}return!0}});var Ru=c((yle,SM)=>{var Iu=Symbol("SemVer ANY"),vo=class{static get ANY(){return Iu}constructor(e,t){if(t=_M(t),e instanceof vo){if(e.loose===!!t.loose)return e;e=e.value}mT("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===Iu?this.value="":this.value=this.operator+this.semver.version,mT("comp",this)}parse(e){let t=this.options.loose?EM[gM.COMPARATORLOOSE]:EM[gM.COMPARATOR],n=e.match(t);if(!n)throw new TypeError(`Invalid comparator: ${e}`);this.operator=n[1]!==void 0?n[1]:"",this.operator==="="&&(this.operator=""),n[2]?this.semver=new mM(n[2],this.options.loose):this.semver=Iu}toString(){return this.value}test(e){if(mT("Comparator.test",e,this.options.loose),this.semver===Iu||e===Iu)return!0;if(typeof e=="string")try{e=new mM(e,this.options)}catch{return!1}return gT(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof vo))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new TM(e.value,t).test(this.value):e.operator===""?e.value===""?!0:new TM(this.value,t).test(e.semver):(t=_M(t),t.includePrerelease&&(this.value==="<0.0.0-0"||e.value==="<0.0.0-0")||!t.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&e.operator.startsWith(">")||this.operator.startsWith("<")&&e.operator.startsWith("<")||this.semver.version===e.semver.version&&this.operator.includes("=")&&e.operator.includes("=")||gT(this.semver,"<",e.semver,t)&&this.operator.startsWith(">")&&e.operator.startsWith("<")||gT(this.semver,">",e.semver,t)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))}};SM.exports=vo;var _M=sf(),{re:EM,t:gM}=go(),gT=hT(),mT=Su(),mM=tt(),TM=Wt()});var bu=c((Ple,vM)=>{var h2=Wt(),d2=(r,e,t)=>{try{e=new h2(e,t)}catch{return!1}return e.test(r)};vM.exports=d2});var OM=c((Lle,AM)=>{var f2=Wt(),p2=(r,e)=>new f2(r,e).set.map(t=>t.map(n=>n.value).join(" ").trim().split(" "));AM.exports=p2});var IM=c((Cle,RM)=>{var _2=tt(),E2=Wt(),g2=(r,e,t)=>{let n=null,s=null,i=null;try{i=new E2(e,t)}catch{return null}return r.forEach(o=>{i.test(o)&&(!n||s.compare(o)===-1)&&(n=o,s=new _2(n,t))}),n};RM.exports=g2});var NM=c((Mle,bM)=>{var m2=tt(),T2=Wt(),S2=(r,e,t)=>{let n=null,s=null,i=null;try{i=new T2(e,t)}catch{return null}return r.forEach(o=>{i.test(o)&&(!n||s.compare(o)===1)&&(n=o,s=new m2(n,t))}),n};bM.exports=S2});var LM=c((wle,PM)=>{var TT=tt(),v2=Wt(),yM=vu(),A2=(r,e)=>{r=new v2(r,e);let t=new TT("0.0.0");if(r.test(t)||(t=new TT("0.0.0-0"),r.test(t)))return t;t=null;for(let n=0;n<r.set.length;++n){let s=r.set[n],i=null;s.forEach(o=>{let a=new TT(o.semver.version);switch(o.operator){case">":a.prerelease.length===0?a.patch++:a.prerelease.push(0),a.raw=a.format();case"":case">=":(!i||yM(a,i))&&(i=a);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${o.operator}`)}}),i&&(!t||yM(t,i))&&(t=i)}return t&&r.test(t)?t:null};PM.exports=A2});var MM=c((qle,CM)=>{var O2=Wt(),R2=(r,e)=>{try{return new O2(r,e).range||"*"}catch{return null}};CM.exports=R2});var _f=c((xle,DM)=>{var I2=tt(),xM=Ru(),{ANY:b2}=xM,N2=Wt(),y2=bu(),wM=vu(),qM=cf(),P2=hf(),L2=lf(),C2=(r,e,t,n)=>{r=new I2(r,n),e=new N2(e,n);let s,i,o,a,u;switch(t){case">":s=wM,i=P2,o=qM,a=">",u=">=";break;case"<":s=qM,i=L2,o=wM,a="<",u="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(y2(r,e,n))return!1;for(let l=0;l<e.set.length;++l){let h=e.set[l],d=null,p=null;if(h.forEach(f=>{f.semver===b2&&(f=new xM(">=0.0.0")),d=d||f,p=p||f,s(f.semver,d.semver,n)?d=f:o(f.semver,p.semver,n)&&(p=f)}),d.operator===a||d.operator===u||(!p.operator||p.operator===a)&&i(r,p.semver))return!1;if(p.operator===u&&o(r,p.semver))return!1}return!0};DM.exports=C2});var jM=c((Dle,$M)=>{var M2=_f(),w2=(r,e,t)=>M2(r,e,">",t);$M.exports=w2});var GM=c(($le,UM)=>{var q2=_f(),x2=(r,e,t)=>q2(r,e,"<",t);UM.exports=x2});var VM=c((jle,BM)=>{var FM=Wt(),D2=(r,e,t)=>(r=new FM(r,t),e=new FM(e,t),r.intersects(e,t));BM.exports=D2});var XM=c((Ule,HM)=>{var $2=bu(),j2=Xt();HM.exports=(r,e,t)=>{let n=[],s=null,i=null,o=r.sort((h,d)=>j2(h,d,t));for(let h of o)$2(h,e,t)?(i=h,s||(s=h)):(i&&n.push([s,i]),i=null,s=null);s&&n.push([s,null]);let a=[];for(let[h,d]of n)h===d?a.push(h):!d&&h===o[0]?a.push("*"):d?h===o[0]?a.push(`<=${d}`):a.push(`${h} - ${d}`):a.push(`>=${h}`);let u=a.join(" || "),l=typeof e.raw=="string"?e.raw:String(e);return u.length<l.length?u:e}});var QM=c((Gle,zM)=>{var WM=Wt(),vT=Ru(),{ANY:ST}=vT,Nu=bu(),AT=Xt(),U2=(r,e,t={})=>{if(r===e)return!0;r=new WM(r,t),e=new WM(e,t);let n=!1;e:for(let s of r.set){for(let i of e.set){let o=F2(s,i,t);if(n=n||o!==null,o)continue e}if(n)return!1}return!0},G2=[new vT(">=0.0.0-0")],KM=[new vT(">=0.0.0")],F2=(r,e,t)=>{if(r===e)return!0;if(r.length===1&&r[0].semver===ST){if(e.length===1&&e[0].semver===ST)return!0;t.includePrerelease?r=G2:r=KM}if(e.length===1&&e[0].semver===ST){if(t.includePrerelease)return!0;e=KM}let n=new Set,s,i;for(let f of r)f.operator===">"||f.operator===">="?s=YM(s,f,t):f.operator==="<"||f.operator==="<="?i=kM(i,f,t):n.add(f.semver);if(n.size>1)return null;let o;if(s&&i){if(o=AT(s.semver,i.semver,t),o>0)return null;if(o===0&&(s.operator!==">="||i.operator!=="<="))return null}for(let f of n){if(s&&!Nu(f,String(s),t)||i&&!Nu(f,String(i),t))return null;for(let E of e)if(!Nu(f,String(E),t))return!1;return!0}let a,u,l,h,d=i&&!t.includePrerelease&&i.semver.prerelease.length?i.semver:!1,p=s&&!t.includePrerelease&&s.semver.prerelease.length?s.semver:!1;d&&d.prerelease.length===1&&i.operator==="<"&&d.prerelease[0]===0&&(d=!1);for(let f of e){if(h=h||f.operator===">"||f.operator===">=",l=l||f.operator==="<"||f.operator==="<=",s){if(p&&f.semver.prerelease&&f.semver.prerelease.length&&f.semver.major===p.major&&f.semver.minor===p.minor&&f.semver.patch===p.patch&&(p=!1),f.operator===">"||f.operator===">="){if(a=YM(s,f,t),a===f&&a!==s)return!1}else if(s.operator===">="&&!Nu(s.semver,String(f),t))return!1}if(i){if(d&&f.semver.prerelease&&f.semver.prerelease.length&&f.semver.major===d.major&&f.semver.minor===d.minor&&f.semver.patch===d.patch&&(d=!1),f.operator==="<"||f.operator==="<="){if(u=kM(i,f,t),u===f&&u!==i)return!1}else if(i.operator==="<="&&!Nu(i.semver,String(f),t))return!1}if(!f.operator&&(i||s)&&o!==0)return!1}return!(s&&l&&!i&&o!==0||i&&h&&!s&&o!==0||p||d)},YM=(r,e,t)=>{if(!r)return e;let n=AT(r.semver,e.semver,t);return n>0?r:n<0||e.operator===">"&&r.operator===">="?e:r},kM=(r,e,t)=>{if(!r)return e;let n=AT(r.semver,e.semver,t);return n<0?r:n>0||e.operator==="<"&&r.operator==="<="?e:r};zM.exports=U2});var t1=c((Fle,e1)=>{var OT=go(),ZM=Tu(),B2=tt(),JM=uT(),V2=bs(),H2=mC(),X2=SC(),W2=OC(),K2=bC(),Y2=yC(),k2=LC(),z2=MC(),Q2=qC(),Z2=Xt(),J2=jC(),e9=GC(),t9=uf(),r9=HC(),n9=WC(),s9=vu(),i9=cf(),o9=cT(),a9=lT(),u9=lf(),c9=hf(),l9=hT(),h9=tM(),d9=Ru(),f9=Wt(),p9=bu(),_9=OM(),E9=IM(),g9=NM(),m9=LM(),T9=MM(),S9=_f(),v9=jM(),A9=GM(),O9=VM(),R9=XM(),I9=QM();e1.exports={parse:V2,valid:H2,clean:X2,inc:W2,diff:K2,major:Y2,minor:k2,patch:z2,prerelease:Q2,compare:Z2,rcompare:J2,compareLoose:e9,compareBuild:t9,sort:r9,rsort:n9,gt:s9,lt:i9,eq:o9,neq:a9,gte:u9,lte:c9,cmp:l9,coerce:h9,Comparator:d9,Range:f9,satisfies:p9,toComparators:_9,maxSatisfying:E9,minSatisfying:g9,minVersion:m9,validRange:T9,outside:S9,gtr:v9,ltr:A9,intersects:O9,simplifyRange:R9,subset:I9,SemVer:B2,re:OT.re,src:OT.src,tokens:OT.t,SEMVER_SPEC_VERSION:ZM.SEMVER_SPEC_VERSION,RELEASE_TYPES:ZM.RELEASE_TYPES,compareIdentifiers:JM.compareIdentifiers,rcompareIdentifiers:JM.rcompareIdentifiers}});var r1=c(or=>{"use strict";Object.defineProperty(or,"__esModule",{value:!0});or.JaegerPropagator=or.UBER_BAGGAGE_HEADER_PREFIX=or.UBER_TRACE_ID_HEADER=void 0;var Cs=_(),b9=H();or.UBER_TRACE_ID_HEADER="uber-trace-id";or.UBER_BAGGAGE_HEADER_PREFIX="uberctx";var RT=class{constructor(e){typeof e=="string"?(this._jaegerTraceHeader=e,this._jaegerBaggageHeaderPrefix=or.UBER_BAGGAGE_HEADER_PREFIX):(this._jaegerTraceHeader=(e==null?void 0:e.customTraceHeader)||or.UBER_TRACE_ID_HEADER,this._jaegerBaggageHeaderPrefix=(e==null?void 0:e.customBaggageHeaderPrefix)||or.UBER_BAGGAGE_HEADER_PREFIX)}inject(e,t,n){let s=Cs.trace.getSpanContext(e),i=Cs.propagation.getBaggage(e);if(s&&(0,b9.isTracingSuppressed)(e)===!1){let o=`0${(s.traceFlags||Cs.TraceFlags.NONE).toString(16)}`;n.set(t,this._jaegerTraceHeader,`${s.traceId}:${s.spanId}:0:${o}`)}if(i)for(let[o,a]of i.getAllEntries())n.set(t,`${this._jaegerBaggageHeaderPrefix}-${o}`,encodeURIComponent(a.value))}extract(e,t,n){var s;let i=n.get(t,this._jaegerTraceHeader),o=Array.isArray(i)?i[0]:i,a=n.keys(t).filter(h=>h.startsWith(`${this._jaegerBaggageHeaderPrefix}-`)).map(h=>{let d=n.get(t,h);return{key:h.substring(this._jaegerBaggageHeaderPrefix.length+1),value:Array.isArray(d)?d[0]:d}}),u=e;if(typeof o=="string"){let h=y9(o);h&&(u=Cs.trace.setSpanContext(u,h))}if(a.length===0)return u;let l=(s=Cs.propagation.getBaggage(e))!==null&&s!==void 0?s:Cs.propagation.createBaggage();for(let h of a)h.value!==void 0&&(l=l.setEntry(h.key,{value:decodeURIComponent(h.value)}));return u=Cs.propagation.setBaggage(u,l),u}fields(){return[this._jaegerTraceHeader]}};or.JaegerPropagator=RT;var N9=/^[0-9a-f]{1,2}$/i;function y9(r){let e=decodeURIComponent(r).split(":");if(e.length!==4)return null;let[t,n,,s]=e,i=t.padStart(32,"0"),o=n.padStart(16,"0"),a=N9.test(s)?parseInt(s,16)&1:1;return{traceId:i,spanId:o,isRemote:!0,traceFlags:a}}});var n1=c(Ms=>{"use strict";var P9=Ms&&Ms.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),L9=Ms&&Ms.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&P9(e,r,t)};Object.defineProperty(Ms,"__esModule",{value:!0});L9(r1(),Ms)});var o1=c(mf=>{"use strict";Object.defineProperty(mf,"__esModule",{value:!0});mf.NodeTracerProvider=void 0;var s1=zL(),Ef=nC(),i1=Wa(),C9=t1(),M9=n1(),gf=class extends i1.BasicTracerProvider{constructor(e={}){super(e)}register(e={}){if(e.contextManager===void 0){let t=C9.gte(process.version,"14.8.0")?s1.AsyncLocalStorageContextManager:s1.AsyncHooksContextManager;e.contextManager=new t,e.contextManager.enable()}super.register(e)}};mf.NodeTracerProvider=gf;gf._registeredPropagators=new Map([...i1.BasicTracerProvider._registeredPropagators,["b3",()=>new Ef.B3Propagator({injectEncoding:Ef.B3InjectEncoding.SINGLE_HEADER})],["b3multi",()=>new Ef.B3Propagator({injectEncoding:Ef.B3InjectEncoding.MULTI_HEADER})],["jaeger",()=>new M9.JaegerPropagator]])});var u1=c(Sn=>{"use strict";var w9=Sn&&Sn.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),a1=Sn&&Sn.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&w9(e,r,t)};Object.defineProperty(Sn,"__esModule",{value:!0});a1(o1(),Sn);a1(Wa(),Sn)});var l1=c(vn=>{"use strict";Object.defineProperty(vn,"__esModule",{value:!0});vn.disableInstrumentations=vn.enableInstrumentations=vn.parseInstrumentationOptions=void 0;function c1(r=[]){let e=[];for(let t=0,n=r.length;t<n;t++){let s=r[t];if(Array.isArray(s)){let i=c1(s);e=e.concat(i.instrumentations)}else typeof s=="function"?e.push(new s):s.instrumentationName&&e.push(s)}return{instrumentations:e}}vn.parseInstrumentationOptions=c1;function q9(r,e,t){for(let n=0,s=r.length;n<s;n++){let i=r[n];e&&i.setTracerProvider(e),t&&i.setMeterProvider(t),i.getConfig().enabled||i.enable()}}vn.enableInstrumentations=q9;function x9(r){r.forEach(e=>e.disable())}vn.disableInstrumentations=x9});var d1=c(Tf=>{"use strict";Object.defineProperty(Tf,"__esModule",{value:!0});Tf.registerInstrumentations=void 0;var h1=_(),IT=l1();function D9(r){let{instrumentations:e}=(0,IT.parseInstrumentationOptions)(r.instrumentations),t=r.tracerProvider||h1.trace.getTracerProvider(),n=r.meterProvider||h1.metrics.getMeterProvider();return(0,IT.enableInstrumentations)(e,t,n),()=>{(0,IT.disableInstrumentations)(e)}}Tf.registerInstrumentations=D9});var yu=c((Yle,f1)=>{var $9="2.0.0",j9=Number.MAX_SAFE_INTEGER||9007199254740991,U9=16,G9=["major","premajor","minor","preminor","patch","prepatch","prerelease"];f1.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:U9,MAX_SAFE_INTEGER:j9,RELEASE_TYPES:G9,SEMVER_SPEC_VERSION:$9,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var Pu=c((kle,p1)=>{var F9=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...r)=>console.error("SEMVER",...r):()=>{};p1.exports=F9});var Ao=c((An,_1)=>{var{MAX_SAFE_COMPONENT_LENGTH:bT}=yu(),B9=Pu();An=_1.exports={};var V9=An.re=[],O=An.src=[],R=An.t={},H9=0,F=(r,e,t)=>{let n=H9++;B9(r,n,e),R[r]=n,O[n]=e,V9[n]=new RegExp(e,t?"g":void 0)};F("NUMERICIDENTIFIER","0|[1-9]\\d*");F("NUMERICIDENTIFIERLOOSE","[0-9]+");F("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*");F("MAINVERSION",`(${O[R.NUMERICIDENTIFIER]})\\.(${O[R.NUMERICIDENTIFIER]})\\.(${O[R.NUMERICIDENTIFIER]})`);F("MAINVERSIONLOOSE",`(${O[R.NUMERICIDENTIFIERLOOSE]})\\.(${O[R.NUMERICIDENTIFIERLOOSE]})\\.(${O[R.NUMERICIDENTIFIERLOOSE]})`);F("PRERELEASEIDENTIFIER",`(?:${O[R.NUMERICIDENTIFIER]}|${O[R.NONNUMERICIDENTIFIER]})`);F("PRERELEASEIDENTIFIERLOOSE",`(?:${O[R.NUMERICIDENTIFIERLOOSE]}|${O[R.NONNUMERICIDENTIFIER]})`);F("PRERELEASE",`(?:-(${O[R.PRERELEASEIDENTIFIER]}(?:\\.${O[R.PRERELEASEIDENTIFIER]})*))`);F("PRERELEASELOOSE",`(?:-?(${O[R.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${O[R.PRERELEASEIDENTIFIERLOOSE]})*))`);F("BUILDIDENTIFIER","[0-9A-Za-z-]+");F("BUILD",`(?:\\+(${O[R.BUILDIDENTIFIER]}(?:\\.${O[R.BUILDIDENTIFIER]})*))`);F("FULLPLAIN",`v?${O[R.MAINVERSION]}${O[R.PRERELEASE]}?${O[R.BUILD]}?`);F("FULL",`^${O[R.FULLPLAIN]}$`);F("LOOSEPLAIN",`[v=\\s]*${O[R.MAINVERSIONLOOSE]}${O[R.PRERELEASELOOSE]}?${O[R.BUILD]}?`);F("LOOSE",`^${O[R.LOOSEPLAIN]}$`);F("GTLT","((?:<|>)?=?)");F("XRANGEIDENTIFIERLOOSE",`${O[R.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);F("XRANGEIDENTIFIER",`${O[R.NUMERICIDENTIFIER]}|x|X|\\*`);F("XRANGEPLAIN",`[v=\\s]*(${O[R.XRANGEIDENTIFIER]})(?:\\.(${O[R.XRANGEIDENTIFIER]})(?:\\.(${O[R.XRANGEIDENTIFIER]})(?:${O[R.PRERELEASE]})?${O[R.BUILD]}?)?)?`);F("XRANGEPLAINLOOSE",`[v=\\s]*(${O[R.XRANGEIDENTIFIERLOOSE]})(?:\\.(${O[R.XRANGEIDENTIFIERLOOSE]})(?:\\.(${O[R.XRANGEIDENTIFIERLOOSE]})(?:${O[R.PRERELEASELOOSE]})?${O[R.BUILD]}?)?)?`);F("XRANGE",`^${O[R.GTLT]}\\s*${O[R.XRANGEPLAIN]}$`);F("XRANGELOOSE",`^${O[R.GTLT]}\\s*${O[R.XRANGEPLAINLOOSE]}$`);F("COERCE",`(^|[^\\d])(\\d{1,${bT}})(?:\\.(\\d{1,${bT}}))?(?:\\.(\\d{1,${bT}}))?(?:$|[^\\d])`);F("COERCERTL",O[R.COERCE],!0);F("LONETILDE","(?:~>?)");F("TILDETRIM",`(\\s*)${O[R.LONETILDE]}\\s+`,!0);An.tildeTrimReplace="$1~";F("TILDE",`^${O[R.LONETILDE]}${O[R.XRANGEPLAIN]}$`);F("TILDELOOSE",`^${O[R.LONETILDE]}${O[R.XRANGEPLAINLOOSE]}$`);F("LONECARET","(?:\\^)");F("CARETTRIM",`(\\s*)${O[R.LONECARET]}\\s+`,!0);An.caretTrimReplace="$1^";F("CARET",`^${O[R.LONECARET]}${O[R.XRANGEPLAIN]}$`);F("CARETLOOSE",`^${O[R.LONECARET]}${O[R.XRANGEPLAINLOOSE]}$`);F("COMPARATORLOOSE",`^${O[R.GTLT]}\\s*(${O[R.LOOSEPLAIN]})$|^$`);F("COMPARATOR",`^${O[R.GTLT]}\\s*(${O[R.FULLPLAIN]})$|^$`);F("COMPARATORTRIM",`(\\s*)${O[R.GTLT]}\\s*(${O[R.LOOSEPLAIN]}|${O[R.XRANGEPLAIN]})`,!0);An.comparatorTrimReplace="$1$2$3";F("HYPHENRANGE",`^\\s*(${O[R.XRANGEPLAIN]})\\s+-\\s+(${O[R.XRANGEPLAIN]})\\s*$`);F("HYPHENRANGELOOSE",`^\\s*(${O[R.XRANGEPLAINLOOSE]})\\s+-\\s+(${O[R.XRANGEPLAINLOOSE]})\\s*$`);F("STAR","(<|>)?=?\\s*\\*");F("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");F("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var Sf=c((zle,E1)=>{var X9=Object.freeze({loose:!0}),W9=Object.freeze({}),K9=r=>r?typeof r!="object"?X9:r:W9;E1.exports=K9});var NT=c((Qle,T1)=>{var g1=/^[0-9]+$/,m1=(r,e)=>{let t=g1.test(r),n=g1.test(e);return t&&n&&(r=+r,e=+e),r===e?0:t&&!n?-1:n&&!t?1:r<e?-1:1},Y9=(r,e)=>m1(e,r);T1.exports={compareIdentifiers:m1,rcompareIdentifiers:Y9}});var rt=c((Zle,O1)=>{var vf=Pu(),{MAX_LENGTH:S1,MAX_SAFE_INTEGER:Af}=yu(),{re:v1,t:A1}=Ao(),k9=Sf(),{compareIdentifiers:Oo}=NT(),xt=class{constructor(e,t){if(t=k9(t),e instanceof xt){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>S1)throw new TypeError(`version is longer than ${S1} characters`);vf("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;let n=e.trim().match(t.loose?v1[A1.LOOSE]:v1[A1.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>Af||this.major<0)throw new TypeError("Invalid major version");if(this.minor>Af||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>Af||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(s=>{if(/^[0-9]+$/.test(s)){let i=+s;if(i>=0&&i<Af)return i}return s}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(vf("SemVer.compare",this.version,this.options,e),!(e instanceof xt)){if(typeof e=="string"&&e===this.version)return 0;e=new xt(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof xt||(e=new xt(e,this.options)),Oo(this.major,e.major)||Oo(this.minor,e.minor)||Oo(this.patch,e.patch)}comparePre(e){if(e instanceof xt||(e=new xt(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{let n=this.prerelease[t],s=e.prerelease[t];if(vf("prerelease compare",t,n,s),n===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(n===void 0)return-1;if(n===s)continue;return Oo(n,s)}while(++t)}compareBuild(e){e instanceof xt||(e=new xt(e,this.options));let t=0;do{let n=this.build[t],s=e.build[t];if(vf("prerelease compare",t,n,s),n===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(n===void 0)return-1;if(n===s)continue;return Oo(n,s)}while(++t)}inc(e,t,n){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,n),this.inc("pre",t,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",t,n),this.inc("pre",t,n);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let s=Number(n)?1:0;if(!t&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[s];else{let i=this.prerelease.length;for(;--i>=0;)typeof this.prerelease[i]=="number"&&(this.prerelease[i]++,i=-2);if(i===-1){if(t===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(s)}}if(t){let i=[t,s];n===!1&&(i=[t]),Oo(this.prerelease[0],t)===0?isNaN(this.prerelease[1])&&(this.prerelease=i):this.prerelease=i}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.format(),this.raw=this.version,this}};O1.exports=xt});var ws=c((Jle,I1)=>{var R1=rt(),z9=(r,e,t=!1)=>{if(r instanceof R1)return r;try{return new R1(r,e)}catch(n){if(!t)return null;throw n}};I1.exports=z9});var N1=c((ehe,b1)=>{var Q9=ws(),Z9=(r,e)=>{let t=Q9(r,e);return t?t.version:null};b1.exports=Z9});var P1=c((the,y1)=>{var J9=ws(),e7=(r,e)=>{let t=J9(r.trim().replace(/^[=v]+/,""),e);return t?t.version:null};y1.exports=e7});var M1=c((rhe,C1)=>{var L1=rt(),t7=(r,e,t,n,s)=>{typeof t=="string"&&(s=n,n=t,t=void 0);try{return new L1(r instanceof L1?r.version:r,t).inc(e,n,s).version}catch{return null}};C1.exports=t7});var x1=c((nhe,q1)=>{var w1=ws(),r7=(r,e)=>{let t=w1(r,null,!0),n=w1(e,null,!0),s=t.compare(n);if(s===0)return null;let i=s>0,o=i?t:n,a=i?n:t,u=!!o.prerelease.length,l=u?"pre":"";return t.major!==n.major?l+"major":t.minor!==n.minor?l+"minor":t.patch!==n.patch?l+"patch":u?"prerelease":a.patch?"patch":a.minor?"minor":"major"};q1.exports=r7});var $1=c((she,D1)=>{var n7=rt(),s7=(r,e)=>new n7(r,e).major;D1.exports=s7});var U1=c((ihe,j1)=>{var i7=rt(),o7=(r,e)=>new i7(r,e).minor;j1.exports=o7});var F1=c((ohe,G1)=>{var a7=rt(),u7=(r,e)=>new a7(r,e).patch;G1.exports=u7});var V1=c((ahe,B1)=>{var c7=ws(),l7=(r,e)=>{let t=c7(r,e);return t&&t.prerelease.length?t.prerelease:null};B1.exports=l7});var Kt=c((uhe,X1)=>{var H1=rt(),h7=(r,e,t)=>new H1(r,t).compare(new H1(e,t));X1.exports=h7});var K1=c((che,W1)=>{var d7=Kt(),f7=(r,e,t)=>d7(e,r,t);W1.exports=f7});var k1=c((lhe,Y1)=>{var p7=Kt(),_7=(r,e)=>p7(r,e,!0);Y1.exports=_7});var Of=c((hhe,Q1)=>{var z1=rt(),E7=(r,e,t)=>{let n=new z1(r,t),s=new z1(e,t);return n.compare(s)||n.compareBuild(s)};Q1.exports=E7});var J1=c((dhe,Z1)=>{var g7=Of(),m7=(r,e)=>r.sort((t,n)=>g7(t,n,e));Z1.exports=m7});var tw=c((fhe,ew)=>{var T7=Of(),S7=(r,e)=>r.sort((t,n)=>T7(n,t,e));ew.exports=S7});var Lu=c((phe,rw)=>{var v7=Kt(),A7=(r,e,t)=>v7(r,e,t)>0;rw.exports=A7});var Rf=c((_he,nw)=>{var O7=Kt(),R7=(r,e,t)=>O7(r,e,t)<0;nw.exports=R7});var yT=c((Ehe,sw)=>{var I7=Kt(),b7=(r,e,t)=>I7(r,e,t)===0;sw.exports=b7});var PT=c((ghe,iw)=>{var N7=Kt(),y7=(r,e,t)=>N7(r,e,t)!==0;iw.exports=y7});var If=c((mhe,ow)=>{var P7=Kt(),L7=(r,e,t)=>P7(r,e,t)>=0;ow.exports=L7});var bf=c((The,aw)=>{var C7=Kt(),M7=(r,e,t)=>C7(r,e,t)<=0;aw.exports=M7});var LT=c((She,uw)=>{var w7=yT(),q7=PT(),x7=Lu(),D7=If(),$7=Rf(),j7=bf(),U7=(r,e,t,n)=>{switch(e){case"===":return typeof r=="object"&&(r=r.version),typeof t=="object"&&(t=t.version),r===t;case"!==":return typeof r=="object"&&(r=r.version),typeof t=="object"&&(t=t.version),r!==t;case"":case"=":case"==":return w7(r,t,n);case"!=":return q7(r,t,n);case">":return x7(r,t,n);case">=":return D7(r,t,n);case"<":return $7(r,t,n);case"<=":return j7(r,t,n);default:throw new TypeError(`Invalid operator: ${e}`)}};uw.exports=U7});var lw=c((vhe,cw)=>{var G7=rt(),F7=ws(),{re:Nf,t:yf}=Ao(),B7=(r,e)=>{if(r instanceof G7)return r;if(typeof r=="number"&&(r=String(r)),typeof r!="string")return null;e=e||{};let t=null;if(!e.rtl)t=r.match(Nf[yf.COERCE]);else{let n;for(;(n=Nf[yf.COERCERTL].exec(r))&&(!t||t.index+t[0].length!==r.length);)(!t||n.index+n[0].length!==t.index+t[0].length)&&(t=n),Nf[yf.COERCERTL].lastIndex=n.index+n[1].length+n[2].length;Nf[yf.COERCERTL].lastIndex=-1}return t===null?null:F7(`${t[2]}.${t[3]||"0"}.${t[4]||"0"}`,e)};cw.exports=B7});var dw=c((Ahe,hw)=>{"use strict";hw.exports=function(r){r.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}});var pw=c((Ohe,fw)=>{"use strict";fw.exports=Z;Z.Node=qs;Z.create=Z;function Z(r){var e=this;if(e instanceof Z||(e=new Z),e.tail=null,e.head=null,e.length=0,r&&typeof r.forEach=="function")r.forEach(function(s){e.push(s)});else if(arguments.length>0)for(var t=0,n=arguments.length;t<n;t++)e.push(arguments[t]);return e}Z.prototype.removeNode=function(r){if(r.list!==this)throw new Error("removing node which does not belong to this list");var e=r.next,t=r.prev;return e&&(e.prev=t),t&&(t.next=e),r===this.head&&(this.head=e),r===this.tail&&(this.tail=t),r.list.length--,r.next=null,r.prev=null,r.list=null,e};Z.prototype.unshiftNode=function(r){if(r!==this.head){r.list&&r.list.removeNode(r);var e=this.head;r.list=this,r.next=e,e&&(e.prev=r),this.head=r,this.tail||(this.tail=r),this.length++}};Z.prototype.pushNode=function(r){if(r!==this.tail){r.list&&r.list.removeNode(r);var e=this.tail;r.list=this,r.prev=e,e&&(e.next=r),this.tail=r,this.head||(this.head=r),this.length++}};Z.prototype.push=function(){for(var r=0,e=arguments.length;r<e;r++)H7(this,arguments[r]);return this.length};Z.prototype.unshift=function(){for(var r=0,e=arguments.length;r<e;r++)X7(this,arguments[r]);return this.length};Z.prototype.pop=function(){if(this.tail){var r=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,r}};Z.prototype.shift=function(){if(this.head){var r=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,r}};Z.prototype.forEach=function(r,e){e=e||this;for(var t=this.head,n=0;t!==null;n++)r.call(e,t.value,n,this),t=t.next};Z.prototype.forEachReverse=function(r,e){e=e||this;for(var t=this.tail,n=this.length-1;t!==null;n--)r.call(e,t.value,n,this),t=t.prev};Z.prototype.get=function(r){for(var e=0,t=this.head;t!==null&&e<r;e++)t=t.next;if(e===r&&t!==null)return t.value};Z.prototype.getReverse=function(r){for(var e=0,t=this.tail;t!==null&&e<r;e++)t=t.prev;if(e===r&&t!==null)return t.value};Z.prototype.map=function(r,e){e=e||this;for(var t=new Z,n=this.head;n!==null;)t.push(r.call(e,n.value,this)),n=n.next;return t};Z.prototype.mapReverse=function(r,e){e=e||this;for(var t=new Z,n=this.tail;n!==null;)t.push(r.call(e,n.value,this)),n=n.prev;return t};Z.prototype.reduce=function(r,e){var t,n=this.head;if(arguments.length>1)t=e;else if(this.head)n=this.head.next,t=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var s=0;n!==null;s++)t=r(t,n.value,s),n=n.next;return t};Z.prototype.reduceReverse=function(r,e){var t,n=this.tail;if(arguments.length>1)t=e;else if(this.tail)n=this.tail.prev,t=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var s=this.length-1;n!==null;s--)t=r(t,n.value,s),n=n.prev;return t};Z.prototype.toArray=function(){for(var r=new Array(this.length),e=0,t=this.head;t!==null;e++)r[e]=t.value,t=t.next;return r};Z.prototype.toArrayReverse=function(){for(var r=new Array(this.length),e=0,t=this.tail;t!==null;e++)r[e]=t.value,t=t.prev;return r};Z.prototype.slice=function(r,e){e=e||this.length,e<0&&(e+=this.length),r=r||0,r<0&&(r+=this.length);var t=new Z;if(e<r||e<0)return t;r<0&&(r=0),e>this.length&&(e=this.length);for(var n=0,s=this.head;s!==null&&n<r;n++)s=s.next;for(;s!==null&&n<e;n++,s=s.next)t.push(s.value);return t};Z.prototype.sliceReverse=function(r,e){e=e||this.length,e<0&&(e+=this.length),r=r||0,r<0&&(r+=this.length);var t=new Z;if(e<r||e<0)return t;r<0&&(r=0),e>this.length&&(e=this.length);for(var n=this.length,s=this.tail;s!==null&&n>e;n--)s=s.prev;for(;s!==null&&n>r;n--,s=s.prev)t.push(s.value);return t};Z.prototype.splice=function(r,e,...t){r>this.length&&(r=this.length-1),r<0&&(r=this.length+r);for(var n=0,s=this.head;s!==null&&n<r;n++)s=s.next;for(var i=[],n=0;s&&n<e;n++)i.push(s.value),s=this.removeNode(s);s===null&&(s=this.tail),s!==this.head&&s!==this.tail&&(s=s.prev);for(var n=0;n<t.length;n++)s=V7(this,s,t[n]);return i};Z.prototype.reverse=function(){for(var r=this.head,e=this.tail,t=r;t!==null;t=t.prev){var n=t.prev;t.prev=t.next,t.next=n}return this.head=e,this.tail=r,this};function V7(r,e,t){var n=e===r.head?new qs(t,null,e,r):new qs(t,e,e.next,r);return n.next===null&&(r.tail=n),n.prev===null&&(r.head=n),r.length++,n}function H7(r,e){r.tail=new qs(e,r.tail,null,r),r.head||(r.head=r.tail),r.length++}function X7(r,e){r.head=new qs(e,null,r.head,r),r.tail||(r.tail=r.head),r.length++}function qs(r,e,t,n){if(!(this instanceof qs))return new qs(r,e,t,n);this.list=n,this.value=r,e?(e.next=this,this.prev=e):this.prev=null,t?(t.prev=this,this.next=t):this.next=null}try{dw()(Z)}catch{}});var Tw=c((Rhe,mw)=>{"use strict";var W7=pw(),xs=Symbol("max"),Br=Symbol("length"),Ro=Symbol("lengthCalculator"),Mu=Symbol("allowStale"),Ds=Symbol("maxAge"),Fr=Symbol("dispose"),_w=Symbol("noDisposeOnSet"),$e=Symbol("lruList"),ar=Symbol("cache"),gw=Symbol("updateAgeOnGet"),CT=()=>1,wT=class{constructor(e){if(typeof e=="number"&&(e={max:e}),e||(e={}),e.max&&(typeof e.max!="number"||e.max<0))throw new TypeError("max must be a non-negative number");let t=this[xs]=e.max||1/0,n=e.length||CT;if(this[Ro]=typeof n!="function"?CT:n,this[Mu]=e.stale||!1,e.maxAge&&typeof e.maxAge!="number")throw new TypeError("maxAge must be a number");this[Ds]=e.maxAge||0,this[Fr]=e.dispose,this[_w]=e.noDisposeOnSet||!1,this[gw]=e.updateAgeOnGet||!1,this.reset()}set max(e){if(typeof e!="number"||e<0)throw new TypeError("max must be a non-negative number");this[xs]=e||1/0,Cu(this)}get max(){return this[xs]}set allowStale(e){this[Mu]=!!e}get allowStale(){return this[Mu]}set maxAge(e){if(typeof e!="number")throw new TypeError("maxAge must be a non-negative number");this[Ds]=e,Cu(this)}get maxAge(){return this[Ds]}set lengthCalculator(e){typeof e!="function"&&(e=CT),e!==this[Ro]&&(this[Ro]=e,this[Br]=0,this[$e].forEach(t=>{t.length=this[Ro](t.value,t.key),this[Br]+=t.length})),Cu(this)}get lengthCalculator(){return this[Ro]}get length(){return this[Br]}get itemCount(){return this[$e].length}rforEach(e,t){t=t||this;for(let n=this[$e].tail;n!==null;){let s=n.prev;Ew(this,e,n,t),n=s}}forEach(e,t){t=t||this;for(let n=this[$e].head;n!==null;){let s=n.next;Ew(this,e,n,t),n=s}}keys(){return this[$e].toArray().map(e=>e.key)}values(){return this[$e].toArray().map(e=>e.value)}reset(){this[Fr]&&this[$e]&&this[$e].length&&this[$e].forEach(e=>this[Fr](e.key,e.value)),this[ar]=new Map,this[$e]=new W7,this[Br]=0}dump(){return this[$e].map(e=>Pf(this,e)?!1:{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[$e]}set(e,t,n){if(n=n||this[Ds],n&&typeof n!="number")throw new TypeError("maxAge must be a number");let s=n?Date.now():0,i=this[Ro](t,e);if(this[ar].has(e)){if(i>this[xs])return Io(this,this[ar].get(e)),!1;let u=this[ar].get(e).value;return this[Fr]&&(this[_w]||this[Fr](e,u.value)),u.now=s,u.maxAge=n,u.value=t,this[Br]+=i-u.length,u.length=i,this.get(e),Cu(this),!0}let o=new qT(e,t,i,s,n);return o.length>this[xs]?(this[Fr]&&this[Fr](e,t),!1):(this[Br]+=o.length,this[$e].unshift(o),this[ar].set(e,this[$e].head),Cu(this),!0)}has(e){if(!this[ar].has(e))return!1;let t=this[ar].get(e).value;return!Pf(this,t)}get(e){return MT(this,e,!0)}peek(e){return MT(this,e,!1)}pop(){let e=this[$e].tail;return e?(Io(this,e),e.value):null}del(e){Io(this,this[ar].get(e))}load(e){this.reset();let t=Date.now();for(let n=e.length-1;n>=0;n--){let s=e[n],i=s.e||0;if(i===0)this.set(s.k,s.v);else{let o=i-t;o>0&&this.set(s.k,s.v,o)}}}prune(){this[ar].forEach((e,t)=>MT(this,t,!1))}},MT=(r,e,t)=>{let n=r[ar].get(e);if(n){let s=n.value;if(Pf(r,s)){if(Io(r,n),!r[Mu])return}else t&&(r[gw]&&(n.value.now=Date.now()),r[$e].unshiftNode(n));return s.value}},Pf=(r,e)=>{if(!e||!e.maxAge&&!r[Ds])return!1;let t=Date.now()-e.now;return e.maxAge?t>e.maxAge:r[Ds]&&t>r[Ds]},Cu=r=>{if(r[Br]>r[xs])for(let e=r[$e].tail;r[Br]>r[xs]&&e!==null;){let t=e.prev;Io(r,e),e=t}},Io=(r,e)=>{if(e){let t=e.value;r[Fr]&&r[Fr](t.key,t.value),r[Br]-=t.length,r[ar].delete(t.key),r[$e].removeNode(e)}},qT=class{constructor(e,t,n,s,i){this.key=e,this.value=t,this.length=n,this.now=s,this.maxAge=i||0}},Ew=(r,e,t,n)=>{let s=t.value;Pf(r,s)&&(Io(r,t),r[Mu]||(s=void 0)),s&&e.call(n,s.value,s.key,r)};mw.exports=wT});var Yt=c((Ihe,Ow)=>{var $s=class{constructor(e,t){if(t=Y7(t),e instanceof $s)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new $s(e.raw,t);if(e instanceof xT)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split("||").map(n=>this.parseRange(n.trim())).filter(n=>n.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${e}`);if(this.set.length>1){let n=this.set[0];if(this.set=this.set.filter(s=>!vw(s[0])),this.set.length===0)this.set=[n];else if(this.set.length>1){for(let s of this.set)if(s.length===1&&tQ(s[0])){this.set=[s];break}}}this.format()}format(){return this.range=this.set.map(e=>e.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(e){e=e.trim();let n=((this.options.includePrerelease&&J7)|(this.options.loose&&eQ))+":"+e,s=Sw.get(n);if(s)return s;let i=this.options.loose,o=i?Rt[ft.HYPHENRANGELOOSE]:Rt[ft.HYPHENRANGE];e=e.replace(o,hQ(this.options.includePrerelease)),Se("hyphen replace",e),e=e.replace(Rt[ft.COMPARATORTRIM],z7),Se("comparator trim",e),e=e.replace(Rt[ft.TILDETRIM],Q7),e=e.replace(Rt[ft.CARETTRIM],Z7),e=e.split(/\s+/).join(" ");let a=e.split(" ").map(d=>rQ(d,this.options)).join(" ").split(/\s+/).map(d=>lQ(d,this.options));i&&(a=a.filter(d=>(Se("loose invalid filter",d,this.options),!!d.match(Rt[ft.COMPARATORLOOSE])))),Se("range list",a);let u=new Map,l=a.map(d=>new xT(d,this.options));for(let d of l){if(vw(d))return[d];u.set(d.value,d)}u.size>1&&u.has("")&&u.delete("");let h=[...u.values()];return Sw.set(n,h),h}intersects(e,t){if(!(e instanceof $s))throw new TypeError("a Range is required");return this.set.some(n=>Aw(n,t)&&e.set.some(s=>Aw(s,t)&&n.every(i=>s.every(o=>i.intersects(o,t)))))}test(e){if(!e)return!1;if(typeof e=="string")try{e=new k7(e,this.options)}catch{return!1}for(let t=0;t<this.set.length;t++)if(dQ(this.set[t],e,this.options))return!0;return!1}};Ow.exports=$s;var K7=Tw(),Sw=new K7({max:1e3}),Y7=Sf(),xT=wu(),Se=Pu(),k7=rt(),{re:Rt,t:ft,comparatorTrimReplace:z7,tildeTrimReplace:Q7,caretTrimReplace:Z7}=Ao(),{FLAG_INCLUDE_PRERELEASE:J7,FLAG_LOOSE:eQ}=yu(),vw=r=>r.value==="<0.0.0-0",tQ=r=>r.value==="",Aw=(r,e)=>{let t=!0,n=r.slice(),s=n.pop();for(;t&&n.length;)t=n.every(i=>s.intersects(i,e)),s=n.pop();return t},rQ=(r,e)=>(Se("comp",r,e),r=iQ(r,e),Se("caret",r),r=nQ(r,e),Se("tildes",r),r=aQ(r,e),Se("xrange",r),r=cQ(r,e),Se("stars",r),r),pt=r=>!r||r.toLowerCase()==="x"||r==="*",nQ=(r,e)=>r.trim().split(/\s+/).map(t=>sQ(t,e)).join(" "),sQ=(r,e)=>{let t=e.loose?Rt[ft.TILDELOOSE]:Rt[ft.TILDE];return r.replace(t,(n,s,i,o,a)=>{Se("tilde",r,n,s,i,o,a);let u;return pt(s)?u="":pt(i)?u=`>=${s}.0.0 <${+s+1}.0.0-0`:pt(o)?u=`>=${s}.${i}.0 <${s}.${+i+1}.0-0`:a?(Se("replaceTilde pr",a),u=`>=${s}.${i}.${o}-${a} <${s}.${+i+1}.0-0`):u=`>=${s}.${i}.${o} <${s}.${+i+1}.0-0`,Se("tilde return",u),u})},iQ=(r,e)=>r.trim().split(/\s+/).map(t=>oQ(t,e)).join(" "),oQ=(r,e)=>{Se("caret",r,e);let t=e.loose?Rt[ft.CARETLOOSE]:Rt[ft.CARET],n=e.includePrerelease?"-0":"";return r.replace(t,(s,i,o,a,u)=>{Se("caret",r,s,i,o,a,u);let l;return pt(i)?l="":pt(o)?l=`>=${i}.0.0${n} <${+i+1}.0.0-0`:pt(a)?i==="0"?l=`>=${i}.${o}.0${n} <${i}.${+o+1}.0-0`:l=`>=${i}.${o}.0${n} <${+i+1}.0.0-0`:u?(Se("replaceCaret pr",u),i==="0"?o==="0"?l=`>=${i}.${o}.${a}-${u} <${i}.${o}.${+a+1}-0`:l=`>=${i}.${o}.${a}-${u} <${i}.${+o+1}.0-0`:l=`>=${i}.${o}.${a}-${u} <${+i+1}.0.0-0`):(Se("no pr"),i==="0"?o==="0"?l=`>=${i}.${o}.${a}${n} <${i}.${o}.${+a+1}-0`:l=`>=${i}.${o}.${a}${n} <${i}.${+o+1}.0-0`:l=`>=${i}.${o}.${a} <${+i+1}.0.0-0`),Se("caret return",l),l})},aQ=(r,e)=>(Se("replaceXRanges",r,e),r.split(/\s+/).map(t=>uQ(t,e)).join(" ")),uQ=(r,e)=>{r=r.trim();let t=e.loose?Rt[ft.XRANGELOOSE]:Rt[ft.XRANGE];return r.replace(t,(n,s,i,o,a,u)=>{Se("xRange",r,n,s,i,o,a,u);let l=pt(i),h=l||pt(o),d=h||pt(a),p=d;return s==="="&&p&&(s=""),u=e.includePrerelease?"-0":"",l?s===">"||s==="<"?n="<0.0.0-0":n="*":s&&p?(h&&(o=0),a=0,s===">"?(s=">=",h?(i=+i+1,o=0,a=0):(o=+o+1,a=0)):s==="<="&&(s="<",h?i=+i+1:o=+o+1),s==="<"&&(u="-0"),n=`${s+i}.${o}.${a}${u}`):h?n=`>=${i}.0.0${u} <${+i+1}.0.0-0`:d&&(n=`>=${i}.${o}.0${u} <${i}.${+o+1}.0-0`),Se("xRange return",n),n})},cQ=(r,e)=>(Se("replaceStars",r,e),r.trim().replace(Rt[ft.STAR],"")),lQ=(r,e)=>(Se("replaceGTE0",r,e),r.trim().replace(Rt[e.includePrerelease?ft.GTE0PRE:ft.GTE0],"")),hQ=r=>(e,t,n,s,i,o,a,u,l,h,d,p,f)=>(pt(n)?t="":pt(s)?t=`>=${n}.0.0${r?"-0":""}`:pt(i)?t=`>=${n}.${s}.0${r?"-0":""}`:o?t=`>=${t}`:t=`>=${t}${r?"-0":""}`,pt(l)?u="":pt(h)?u=`<${+l+1}.0.0-0`:pt(d)?u=`<${l}.${+h+1}.0-0`:p?u=`<=${l}.${h}.${d}-${p}`:r?u=`<${l}.${h}.${+d+1}-0`:u=`<=${u}`,`${t} ${u}`.trim()),dQ=(r,e,t)=>{for(let n=0;n<r.length;n++)if(!r[n].test(e))return!1;if(e.prerelease.length&&!t.includePrerelease){for(let n=0;n<r.length;n++)if(Se(r[n].semver),r[n].semver!==xT.ANY&&r[n].semver.prerelease.length>0){let s=r[n].semver;if(s.major===e.major&&s.minor===e.minor&&s.patch===e.patch)return!0}return!1}return!0}});var wu=c((bhe,Pw)=>{var qu=Symbol("SemVer ANY"),bo=class{static get ANY(){return qu}constructor(e,t){if(t=Rw(t),e instanceof bo){if(e.loose===!!t.loose)return e;e=e.value}$T("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===qu?this.value="":this.value=this.operator+this.semver.version,$T("comp",this)}parse(e){let t=this.options.loose?Iw[bw.COMPARATORLOOSE]:Iw[bw.COMPARATOR],n=e.match(t);if(!n)throw new TypeError(`Invalid comparator: ${e}`);this.operator=n[1]!==void 0?n[1]:"",this.operator==="="&&(this.operator=""),n[2]?this.semver=new Nw(n[2],this.options.loose):this.semver=qu}toString(){return this.value}test(e){if($T("Comparator.test",e,this.options.loose),this.semver===qu||e===qu)return!0;if(typeof e=="string")try{e=new Nw(e,this.options)}catch{return!1}return DT(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof bo))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new yw(e.value,t).test(this.value):e.operator===""?e.value===""?!0:new yw(this.value,t).test(e.semver):(t=Rw(t),t.includePrerelease&&(this.value==="<0.0.0-0"||e.value==="<0.0.0-0")||!t.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&e.operator.startsWith(">")||this.operator.startsWith("<")&&e.operator.startsWith("<")||this.semver.version===e.semver.version&&this.operator.includes("=")&&e.operator.includes("=")||DT(this.semver,"<",e.semver,t)&&this.operator.startsWith(">")&&e.operator.startsWith("<")||DT(this.semver,">",e.semver,t)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))}};Pw.exports=bo;var Rw=Sf(),{re:Iw,t:bw}=Ao(),DT=LT(),$T=Pu(),Nw=rt(),yw=Yt()});var xu=c((Nhe,Lw)=>{var fQ=Yt(),pQ=(r,e,t)=>{try{e=new fQ(e,t)}catch{return!1}return e.test(r)};Lw.exports=pQ});var Mw=c((yhe,Cw)=>{var _Q=Yt(),EQ=(r,e)=>new _Q(r,e).set.map(t=>t.map(n=>n.value).join(" ").trim().split(" "));Cw.exports=EQ});var qw=c((Phe,ww)=>{var gQ=rt(),mQ=Yt(),TQ=(r,e,t)=>{let n=null,s=null,i=null;try{i=new mQ(e,t)}catch{return null}return r.forEach(o=>{i.test(o)&&(!n||s.compare(o)===-1)&&(n=o,s=new gQ(n,t))}),n};ww.exports=TQ});var Dw=c((Lhe,xw)=>{var SQ=rt(),vQ=Yt(),AQ=(r,e,t)=>{let n=null,s=null,i=null;try{i=new vQ(e,t)}catch{return null}return r.forEach(o=>{i.test(o)&&(!n||s.compare(o)===1)&&(n=o,s=new SQ(n,t))}),n};xw.exports=AQ});var Uw=c((Che,jw)=>{var jT=rt(),OQ=Yt(),$w=Lu(),RQ=(r,e)=>{r=new OQ(r,e);let t=new jT("0.0.0");if(r.test(t)||(t=new jT("0.0.0-0"),r.test(t)))return t;t=null;for(let n=0;n<r.set.length;++n){let s=r.set[n],i=null;s.forEach(o=>{let a=new jT(o.semver.version);switch(o.operator){case">":a.prerelease.length===0?a.patch++:a.prerelease.push(0),a.raw=a.format();case"":case">=":(!i||$w(a,i))&&(i=a);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${o.operator}`)}}),i&&(!t||$w(t,i))&&(t=i)}return t&&r.test(t)?t:null};jw.exports=RQ});var Fw=c((Mhe,Gw)=>{var IQ=Yt(),bQ=(r,e)=>{try{return new IQ(r,e).range||"*"}catch{return null}};Gw.exports=bQ});var Lf=c((whe,Xw)=>{var NQ=rt(),Hw=wu(),{ANY:yQ}=Hw,PQ=Yt(),LQ=xu(),Bw=Lu(),Vw=Rf(),CQ=bf(),MQ=If(),wQ=(r,e,t,n)=>{r=new NQ(r,n),e=new PQ(e,n);let s,i,o,a,u;switch(t){case">":s=Bw,i=CQ,o=Vw,a=">",u=">=";break;case"<":s=Vw,i=MQ,o=Bw,a="<",u="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(LQ(r,e,n))return!1;for(let l=0;l<e.set.length;++l){let h=e.set[l],d=null,p=null;if(h.forEach(f=>{f.semver===yQ&&(f=new Hw(">=0.0.0")),d=d||f,p=p||f,s(f.semver,d.semver,n)?d=f:o(f.semver,p.semver,n)&&(p=f)}),d.operator===a||d.operator===u||(!p.operator||p.operator===a)&&i(r,p.semver))return!1;if(p.operator===u&&o(r,p.semver))return!1}return!0};Xw.exports=wQ});var Kw=c((qhe,Ww)=>{var qQ=Lf(),xQ=(r,e,t)=>qQ(r,e,">",t);Ww.exports=xQ});var kw=c((xhe,Yw)=>{var DQ=Lf(),$Q=(r,e,t)=>DQ(r,e,"<",t);Yw.exports=$Q});var Zw=c((Dhe,Qw)=>{var zw=Yt(),jQ=(r,e,t)=>(r=new zw(r,t),e=new zw(e,t),r.intersects(e,t));Qw.exports=jQ});var eq=c(($he,Jw)=>{var UQ=xu(),GQ=Kt();Jw.exports=(r,e,t)=>{let n=[],s=null,i=null,o=r.sort((h,d)=>GQ(h,d,t));for(let h of o)UQ(h,e,t)?(i=h,s||(s=h)):(i&&n.push([s,i]),i=null,s=null);s&&n.push([s,null]);let a=[];for(let[h,d]of n)h===d?a.push(h):!d&&h===o[0]?a.push("*"):d?h===o[0]?a.push(`<=${d}`):a.push(`${h} - ${d}`):a.push(`>=${h}`);let u=a.join(" || "),l=typeof e.raw=="string"?e.raw:String(e);return u.length<l.length?u:e}});var oq=c((jhe,iq)=>{var tq=Yt(),GT=wu(),{ANY:UT}=GT,Du=xu(),FT=Kt(),FQ=(r,e,t={})=>{if(r===e)return!0;r=new tq(r,t),e=new tq(e,t);let n=!1;e:for(let s of r.set){for(let i of e.set){let o=VQ(s,i,t);if(n=n||o!==null,o)continue e}if(n)return!1}return!0},BQ=[new GT(">=0.0.0-0")],rq=[new GT(">=0.0.0")],VQ=(r,e,t)=>{if(r===e)return!0;if(r.length===1&&r[0].semver===UT){if(e.length===1&&e[0].semver===UT)return!0;t.includePrerelease?r=BQ:r=rq}if(e.length===1&&e[0].semver===UT){if(t.includePrerelease)return!0;e=rq}let n=new Set,s,i;for(let f of r)f.operator===">"||f.operator===">="?s=nq(s,f,t):f.operator==="<"||f.operator==="<="?i=sq(i,f,t):n.add(f.semver);if(n.size>1)return null;let o;if(s&&i){if(o=FT(s.semver,i.semver,t),o>0)return null;if(o===0&&(s.operator!==">="||i.operator!=="<="))return null}for(let f of n){if(s&&!Du(f,String(s),t)||i&&!Du(f,String(i),t))return null;for(let E of e)if(!Du(f,String(E),t))return!1;return!0}let a,u,l,h,d=i&&!t.includePrerelease&&i.semver.prerelease.length?i.semver:!1,p=s&&!t.includePrerelease&&s.semver.prerelease.length?s.semver:!1;d&&d.prerelease.length===1&&i.operator==="<"&&d.prerelease[0]===0&&(d=!1);for(let f of e){if(h=h||f.operator===">"||f.operator===">=",l=l||f.operator==="<"||f.operator==="<=",s){if(p&&f.semver.prerelease&&f.semver.prerelease.length&&f.semver.major===p.major&&f.semver.minor===p.minor&&f.semver.patch===p.patch&&(p=!1),f.operator===">"||f.operator===">="){if(a=nq(s,f,t),a===f&&a!==s)return!1}else if(s.operator===">="&&!Du(s.semver,String(f),t))return!1}if(i){if(d&&f.semver.prerelease&&f.semver.prerelease.length&&f.semver.major===d.major&&f.semver.minor===d.minor&&f.semver.patch===d.patch&&(d=!1),f.operator==="<"||f.operator==="<="){if(u=sq(i,f,t),u===f&&u!==i)return!1}else if(i.operator==="<="&&!Du(i.semver,String(f),t))return!1}if(!f.operator&&(i||s)&&o!==0)return!1}return!(s&&l&&!i&&o!==0||i&&h&&!s&&o!==0||p||d)},nq=(r,e,t)=>{if(!r)return e;let n=FT(r.semver,e.semver,t);return n>0?r:n<0||e.operator===">"&&r.operator===">="?e:r},sq=(r,e,t)=>{if(!r)return e;let n=FT(r.semver,e.semver,t);return n<0?r:n>0||e.operator==="<"&&r.operator==="<="?e:r};iq.exports=FQ});var lq=c((Uhe,cq)=>{var BT=Ao(),aq=yu(),HQ=rt(),uq=NT(),XQ=ws(),WQ=N1(),KQ=P1(),YQ=M1(),kQ=x1(),zQ=$1(),QQ=U1(),ZQ=F1(),JQ=V1(),eZ=Kt(),tZ=K1(),rZ=k1(),nZ=Of(),sZ=J1(),iZ=tw(),oZ=Lu(),aZ=Rf(),uZ=yT(),cZ=PT(),lZ=If(),hZ=bf(),dZ=LT(),fZ=lw(),pZ=wu(),_Z=Yt(),EZ=xu(),gZ=Mw(),mZ=qw(),TZ=Dw(),SZ=Uw(),vZ=Fw(),AZ=Lf(),OZ=Kw(),RZ=kw(),IZ=Zw(),bZ=eq(),NZ=oq();cq.exports={parse:XQ,valid:WQ,clean:KQ,inc:YQ,diff:kQ,major:zQ,minor:QQ,patch:ZQ,prerelease:JQ,compare:eZ,rcompare:tZ,compareLoose:rZ,compareBuild:nZ,sort:sZ,rsort:iZ,gt:oZ,lt:aZ,eq:uZ,neq:cZ,gte:lZ,lte:hZ,cmp:dZ,coerce:fZ,Comparator:pZ,Range:_Z,satisfies:EZ,toComparators:gZ,maxSatisfying:mZ,minSatisfying:TZ,minVersion:SZ,validRange:vZ,outside:AZ,gtr:OZ,ltr:RZ,intersects:IZ,simplifyRange:bZ,subset:NZ,SemVer:HQ,re:BT.re,src:BT.src,tokens:BT.t,SEMVER_SPEC_VERSION:aq.SEMVER_SPEC_VERSION,RELEASE_TYPES:aq.RELEASE_TYPES,compareIdentifiers:uq.compareIdentifiers,rcompareIdentifiers:uq.rcompareIdentifiers}});var hq=c(Mf=>{"use strict";Object.defineProperty(Mf,"__esModule",{value:!0});Mf.InstrumentationAbstract=void 0;var VT=_(),Cf=Ma(),HT=class{constructor(e,t,n={}){this.instrumentationName=e,this.instrumentationVersion=t,this._wrap=Cf.wrap,this._unwrap=Cf.unwrap,this._massWrap=Cf.massWrap,this._massUnwrap=Cf.massUnwrap,this._config=Object.assign({enabled:!0},n),this._diag=VT.diag.createComponentLogger({namespace:e}),this._tracer=VT.trace.getTracer(e,t),this._meter=VT.metrics.getMeter(e,t),this._updateMetricInstruments()}get meter(){return this._meter}setMeterProvider(e){this._meter=e.getMeter(this.instrumentationName,this.instrumentationVersion),this._updateMetricInstruments()}_updateMetricInstruments(){}getConfig(){return this._config}setConfig(e={}){this._config=Object.assign({},e)}setTracerProvider(e){this._tracer=e.getTracer(this.instrumentationName,this.instrumentationVersion)}get tracer(){return this._tracer}};Mf.InstrumentationAbstract=HT});var dq=c(On=>{"use strict";Object.defineProperty(On,"__esModule",{value:!0});On.ModuleNameTrie=On.ModuleNameSeparator=void 0;On.ModuleNameSeparator="/";var wf=class{constructor(){this.hooks=[],this.children=new Map}},XT=class{constructor(){this._trie=new wf,this._counter=0}insert(e){let t=this._trie;for(let n of e.moduleName.split(On.ModuleNameSeparator)){let s=t.children.get(n);s||(s=new wf,t.children.set(n,s)),t=s}t.hooks.push({hook:e,insertedId:this._counter++})}search(e,{maintainInsertionOrder:t,fullOnly:n}={}){let s=this._trie,i=[],o=!0;for(let a of e.split(On.ModuleNameSeparator)){let u=s.children.get(a);if(!u){o=!1;break}n||i.push(...u.hooks),s=u}return n&&o&&i.push(...s.hooks),i.length===0?[]:i.length===1?[i[0].hook]:(t&&i.sort((a,u)=>a.insertedId-u.insertedId),i.map(({hook:a})=>a))}};On.ModuleNameTrie=XT});var pq=c(qf=>{"use strict";Object.defineProperty(qf,"__esModule",{value:!0});qf.RequireInTheMiddleSingleton=void 0;var yZ=ss(),fq=require("path"),WT=dq(),PZ=["afterEach","after","beforeEach","before","describe","it"].every(r=>typeof global[r]=="function"),No=class{constructor(){this._moduleNameTrie=new WT.ModuleNameTrie,this._initialize()}_initialize(){new yZ.Hook(null,{internals:!0},(e,t,n)=>{let s=LZ(t),i=this._moduleNameTrie.search(s,{maintainInsertionOrder:!0,fullOnly:n===void 0});for(let{onRequire:o}of i)e=o(e,t,n);return e})}register(e,t){let n={moduleName:e,onRequire:t};return this._moduleNameTrie.insert(n),n}static getInstance(){var e;return PZ?new No:this._instance=(e=this._instance)!==null&&e!==void 0?e:new No}};qf.RequireInTheMiddleSingleton=No;function LZ(r){return fq.sep!==WT.ModuleNameSeparator?r.split(fq.sep).join(WT.ModuleNameSeparator):r}});var mq=c(xf=>{"use strict";Object.defineProperty(xf,"__esModule",{value:!0});xf.InstrumentationBase=void 0;var _q=require("path"),CZ=lq(),MZ=hq(),wZ=pq(),Eq=_(),qZ=ss(),KT=class extends MZ.InstrumentationAbstract{constructor(e,t,n={}){super(e,t,n),this._hooks=[],this._requireInTheMiddleSingleton=wZ.RequireInTheMiddleSingleton.getInstance(),this._enabled=!1;let s=this.init();s&&!Array.isArray(s)&&(s=[s]),this._modules=s||[],this._modules.length===0&&Eq.diag.debug(`No modules instrumentation has been defined for '${this.instrumentationName}@${this.instrumentationVersion}', nothing will be patched`),this._config.enabled&&this.enable()}_warnOnPreloadedModules(){this._modules.forEach(e=>{let{name:t}=e;try{let n=require.resolve(t);require.cache[n]&&this._diag.warn(`Module ${t} has been loaded before ${this.instrumentationName} so it might not work, please initialize it before requiring ${t}`)}catch{}})}_extractPackageVersion(e){try{let t=require(_q.join(e,"package.json")).version;return typeof t=="string"?t:void 0}catch{Eq.diag.warn("Failed extracting version",e)}}_onRequire(e,t,n,s){var i;if(!s)return typeof e.patch=="function"&&(e.moduleExports=t,this._enabled)?e.patch(t):t;let o=this._extractPackageVersion(s);return e.moduleVersion=o,e.name===n?gq(e.supportedVersions,o,e.includePrerelease)&&typeof e.patch=="function"&&(e.moduleExports=t,this._enabled)?e.patch(t,e.moduleVersion):t:((i=e.files)!==null&&i!==void 0?i:[]).filter(l=>l.name===n).filter(l=>gq(l.supportedVersions,o,e.includePrerelease)).reduce((l,h)=>(h.moduleExports=l,this._enabled?h.patch(l,e.moduleVersion):l),t)}enable(){if(!this._enabled){if(this._enabled=!0,this._hooks.length>0){for(let e of this._modules){typeof e.patch=="function"&&e.moduleExports&&e.patch(e.moduleExports,e.moduleVersion);for(let t of e.files)t.moduleExports&&t.patch(t.moduleExports,e.moduleVersion)}return}this._warnOnPreloadedModules();for(let e of this._modules){let t=(s,i,o)=>this._onRequire(e,s,i,o),n=_q.isAbsolute(e.name)?new qZ.Hook([e.name],{internals:!0},t):this._requireInTheMiddleSingleton.register(e.name,t);this._hooks.push(n)}}}disable(){if(this._enabled){this._enabled=!1;for(let e of this._modules){typeof e.unpatch=="function"&&e.moduleExports&&e.unpatch(e.moduleExports,e.moduleVersion);for(let t of e.files)t.moduleExports&&t.unpatch(t.moduleExports,e.moduleVersion)}}}isEnabled(){return this._enabled}};xf.InstrumentationBase=KT;function gq(r,e,t){return typeof e>"u"?r.includes("*"):r.some(n=>(0,CZ.satisfies)(e,n,{includePrerelease:t}))}});var Tq=c(Df=>{"use strict";Object.defineProperty(Df,"__esModule",{value:!0});Df.InstrumentationNodeModuleDefinition=void 0;var YT=class{constructor(e,t,n,s,i){this.name=e,this.supportedVersions=t,this.patch=n,this.unpatch=s,this.files=i||[]}};Df.InstrumentationNodeModuleDefinition=YT});var Sq=c($f=>{"use strict";Object.defineProperty($f,"__esModule",{value:!0});$f.InstrumentationNodeModuleFile=void 0;var xZ=require("path"),kT=class{constructor(e,t,n,s){this.supportedVersions=t,this.patch=n,this.unpatch=s,this.name=(0,xZ.normalize)(e)}};$f.InstrumentationNodeModuleFile=kT});var Aq=c(vq=>{"use strict";Object.defineProperty(vq,"__esModule",{value:!0})});var Oq=c(Or=>{"use strict";var DZ=Or&&Or.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),jf=Or&&Or.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&DZ(e,r,t)};Object.defineProperty(Or,"__esModule",{value:!0});jf(mq(),Or);jf(Tq(),Or);jf(Sq(),Or);jf(Aq(),Or)});var Rq=c(js=>{"use strict";var $Z=js&&js.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),jZ=js&&js.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&$Z(e,r,t)};Object.defineProperty(js,"__esModule",{value:!0});jZ(Oq(),js)});var bq=c(Iq=>{"use strict";Object.defineProperty(Iq,"__esModule",{value:!0})});var yq=c(Nq=>{"use strict";Object.defineProperty(Nq,"__esModule",{value:!0})});var Pq=c(Rn=>{"use strict";Object.defineProperty(Rn,"__esModule",{value:!0});Rn.isWrapped=Rn.safeExecuteInTheMiddleAsync=Rn.safeExecuteInTheMiddle=void 0;function UZ(r,e,t){let n,s;try{s=r()}catch(i){n=i}finally{if(e(n,s),n&&!t)throw n;return s}}Rn.safeExecuteInTheMiddle=UZ;async function GZ(r,e,t){let n,s;try{s=await r()}catch(i){n=i}finally{if(e(n,s),n&&!t)throw n;return s}}Rn.safeExecuteInTheMiddleAsync=GZ;function FZ(r){return typeof r=="function"&&typeof r.__original=="function"&&typeof r.__unwrap=="function"&&r.__wrapped===!0}Rn.isWrapped=FZ});var Lq=c(ur=>{"use strict";var BZ=ur&&ur.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),$u=ur&&ur.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&BZ(e,r,t)};Object.defineProperty(ur,"__esModule",{value:!0});$u(d1(),ur);$u(Rq(),ur);$u(bq(),ur);$u(yq(),ur);$u(Pq(),ur)});var $q=c(Vr=>{"use strict";Object.defineProperty(Vr,"__esModule",{value:!0});Vr.AWSXRayPropagator=Vr.AWSXRAY_TRACE_ID_HEADER=void 0;var ve=_();Vr.AWSXRAY_TRACE_ID_HEADER="x-amzn-trace-id";var VZ=";",HZ="=",XZ="Root",Cq=35,WZ="1",Mq="-",wq=1,zT=10,qq=8,KZ="Parent",YZ="Sampled",xq="1",Dq="0",Us=class{inject(e,t,n){var s;let i=(s=ve.trace.getSpan(e))===null||s===void 0?void 0:s.spanContext();if(!i||!(0,ve.isSpanContextValid)(i))return;let o=i.traceId,a=o.substring(0,qq),u=o.substring(qq),l=i.spanId,h=(ve.TraceFlags.SAMPLED&i.traceFlags)===ve.TraceFlags.SAMPLED?xq:Dq,d=`Root=1-${a}-${u};Parent=${l};Sampled=${h}`;n.set(t,Vr.AWSXRAY_TRACE_ID_HEADER,d)}extract(e,t,n){let s=this.getSpanContextFromHeader(t,n);return(0,ve.isSpanContextValid)(s)?ve.trace.setSpan(e,ve.trace.wrapSpanContext(s)):e}fields(){return[Vr.AWSXRAY_TRACE_ID_HEADER]}getSpanContextFromHeader(e,t){let s=t.keys(e).find(p=>p.toLowerCase()===Vr.AWSXRAY_TRACE_ID_HEADER);if(!s)return ve.INVALID_SPAN_CONTEXT;let i=t.get(e,s);if(!i||typeof i!="string")return ve.INVALID_SPAN_CONTEXT;let o=0,a,u=ve.INVALID_TRACEID,l=ve.INVALID_SPANID,h=null;for(;o<i.length;){let p=i.indexOf(VZ,o);p>=0?(a=i.substring(o,p).trim(),o=p+1):(a=i.substring(o).trim(),o=i.length);let f=a.indexOf(HZ),E=a.substring(f+1);a.startsWith(XZ)?u=Us._parseTraceId(E):a.startsWith(KZ)?l=Us._parseSpanId(E):a.startsWith(YZ)&&(h=Us._parseTraceFlag(E))}if(h===null)return ve.INVALID_SPAN_CONTEXT;let d={traceId:u,spanId:l,traceFlags:h,isRemote:!0};return(0,ve.isSpanContextValid)(d)?d:ve.INVALID_SPAN_CONTEXT}static _parseTraceId(e){if(e.length!==Cq||!e.startsWith(WZ)||e.charAt(wq)!==Mq||e.charAt(zT)!==Mq)return ve.INVALID_TRACEID;let t=e.substring(wq+1,zT),n=e.substring(zT+1,Cq),s=t+n;return(0,ve.isValidTraceId)(s)?s:ve.INVALID_TRACEID}static _parseSpanId(e){return(0,ve.isValidSpanId)(e)?e:ve.INVALID_SPANID}static _parseTraceFlag(e){return e===Dq?ve.TraceFlags.NONE:e===xq?ve.TraceFlags.SAMPLED:null}};Vr.AWSXRayPropagator=Us});var jq=c(Gs=>{"use strict";var kZ=Gs&&Gs.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),zZ=Gs&&Gs.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&kZ(e,r,t)};Object.defineProperty(Gs,"__esModule",{value:!0});zZ($q(),Gs)});var Uq=c(Uf=>{"use strict";Object.defineProperty(Uf,"__esModule",{value:!0});Uf.VERSION=void 0;Uf.VERSION="0.35.2"});var Vq=c(Bs=>{"use strict";Object.defineProperty(Bs,"__esModule",{value:!0});Bs.AwsLambdaInstrumentation=Bs.traceContextEnvironmentKey=void 0;var Gq=require("path"),QZ=require("fs"),In=Lq(),Ie=_(),Bq=jq(),QT=Le(),ZZ=Uq(),JZ=new Bq.AWSXRayPropagator,Fq={keys(r){return Object.keys(r)},get(r,e){return r[e]}};Bs.traceContextEnvironmentKey="_X_AMZN_TRACE_ID";var Fs=class extends In.InstrumentationBase{constructor(e={}){super("@opentelemetry/instrumentation-aws-lambda",ZZ.VERSION,e),this._config=e}setConfig(e={}){this._config=e}init(){let e=process.env.LAMBDA_TASK_ROOT,t=process.env._HANDLER;if(!e||!t)return[];let n=Gq.basename(t),s=t.substr(0,t.length-n.length),[i,o]=n.split(".",2),a=Gq.resolve(e,s,i);if(!a.endsWith(".js"))try{QZ.statSync(`${a}.js`),a+=".js"}catch{a+=".cjs"}return[new In.InstrumentationNodeModuleDefinition(a,["*"],void 0,void 0,[new In.InstrumentationNodeModuleFile(i,["*"],u=>(Ie.diag.debug("Applying patch for lambda handler"),(0,In.isWrapped)(u[o])&&this._unwrap(u,o),this._wrap(u,o,this._getHandler()),u),u=>{u!=null&&(Ie.diag.debug("Removing patch for lambda handler"),this._unwrap(u,o))})])]}_getHandler(){return e=>this._getPatchHandler(e)}_getPatchHandler(e){Ie.diag.debug("patch handler function");let t=this;return function(s,i,o){let a=t._config,u=Fs._determineParent(s,i,a.disableAwsContextPropagation===!0,a.eventContextExtractor||Fs._defaultEventContextExtractor),l=i.functionName,h=t.tracer.startSpan(l,{kind:Ie.SpanKind.SERVER,attributes:{[QT.SemanticAttributes.FAAS_EXECUTION]:i.awsRequestId,[QT.SemanticResourceAttributes.FAAS_ID]:i.invokedFunctionArn,[QT.SemanticResourceAttributes.CLOUD_ACCOUNT_ID]:Fs._extractAccountId(i.invokedFunctionArn)}},u);return a.requestHook&&(0,In.safeExecuteInTheMiddle)(()=>a.requestHook(h,{event:s,context:i}),d=>{d&&Ie.diag.error("aws-lambda instrumentation: requestHook error",d)},!0),Ie.context.with(Ie.trace.setSpan(u,h),()=>{let d=t._wrapCallback(o,h),p=(0,In.safeExecuteInTheMiddle)(()=>e.apply(this,[s,i,d]),f=>{f!=null&&(t._applyResponseHook(h,f),t._endSpan(h,f,()=>{}))});return typeof(p==null?void 0:p.then)=="function"?p.then(f=>(t._applyResponseHook(h,null,f),new Promise(E=>t._endSpan(h,void 0,()=>E(f)))),f=>(t._applyResponseHook(h,f),new Promise((E,y)=>t._endSpan(h,f,()=>y(f))))):p})}}setTracerProvider(e){super.setTracerProvider(e),this._traceForceFlusher=this._traceForceFlush(e)}_traceForceFlush(e){if(!e)return;let t=e;if(typeof t.getDelegate=="function"&&(t=t.getDelegate()),typeof t.forceFlush=="function")return t.forceFlush.bind(t)}setMeterProvider(e){super.setMeterProvider(e),this._metricForceFlusher=this._metricForceFlush(e)}_metricForceFlush(e){if(!e)return;let t=e;if(typeof t.forceFlush=="function")return t.forceFlush.bind(t)}_wrapCallback(e,t){let n=this;return function(i,o){Ie.diag.debug("executing wrapped lookup callback function"),n._applyResponseHook(t,i,o),n._endSpan(t,i,()=>(Ie.diag.debug("executing original lookup callback function"),e.apply(this,[i,o])))}}_endSpan(e,t,n){t&&e.recordException(t);let s;typeof t=="string"?s=t:t&&(s=t.message),s&&e.setStatus({code:Ie.SpanStatusCode.ERROR,message:s}),e.end();let i=[];this._traceForceFlusher?i.push(this._traceForceFlusher()):Ie.diag.error("Spans may not be exported for the lambda function because we are not force flushing before callback."),this._metricForceFlusher?i.push(this._metricForceFlusher()):Ie.diag.error("Metrics may not be exported for the lambda function because we are not force flushing before callback."),Promise.all(i).then(n,n)}_applyResponseHook(e,t,n){var s;!((s=this._config)===null||s===void 0)&&s.responseHook&&(0,In.safeExecuteInTheMiddle)(()=>this._config.responseHook(e,{err:t,res:n}),i=>{i&&Ie.diag.error("aws-lambda instrumentation: responseHook error",i)},!0)}static _extractAccountId(e){let t=e.split(":");if(t.length>=5)return t[4]}static _defaultEventContextExtractor(e){let t=e.headers||{};return Ie.propagation.extract(Ie.context.active(),t,Fq)}static _determineParent(e,t,n,s){var i,o;let a;if(!n){let l=process.env[Bs.traceContextEnvironmentKey];if(l&&(a=JZ.extract(Ie.context.active(),{[Bq.AWSXRAY_TRACE_ID_HEADER]:l},Fq)),a){let h=(i=Ie.trace.getSpan(a))===null||i===void 0?void 0:i.spanContext();if(h&&(h.traceFlags&Ie.TraceFlags.SAMPLED)===Ie.TraceFlags.SAMPLED)return a}}let u=(0,In.safeExecuteInTheMiddle)(()=>s(e,t),l=>{l&&Ie.diag.error("aws-lambda instrumentation: eventContextExtractor error",l)},!0);return!((o=Ie.trace.getSpan(u))===null||o===void 0)&&o.spanContext()?u:a||Ie.ROOT_CONTEXT}};Bs.AwsLambdaInstrumentation=Fs});var Xq=c(Hq=>{"use strict";Object.defineProperty(Hq,"__esModule",{value:!0})});var Kq=c(bn=>{"use strict";var eJ=bn&&bn.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Wq=bn&&bn.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&eJ(e,r,t)};Object.defineProperty(bn,"__esModule",{value:!0});Wq(Vq(),bn);Wq(Xq(),bn)});var ZT=c(ju=>{"use strict";Object.defineProperty(ju,"__esModule",{value:!0});ju.AttributeNames=void 0;var tJ;(function(r){r.AWS_OPERATION="aws.operation",r.AWS_REGION="aws.region",r.AWS_SERVICE_API="aws.service.api",r.AWS_SERVICE_NAME="aws.service.name",r.AWS_SERVICE_IDENTIFIER="aws.service.identifier",r.AWS_REQUEST_ID="aws.request.id",r.AWS_REQUEST_EXTENDED_ID="aws.request.extended_id",r.AWS_SIGNATURE_VERSION="aws.signature.version"})(tJ=ju.AttributeNames||(ju.AttributeNames={}))});var zq=c(eS=>{"use strict";Object.defineProperty(eS,"__esModule",{value:!0});var Po=_(),Uu=Symbol("opentelemetry.pubsub-propagation.start_span"),yo=Symbol("opentelemetry.pubsub-propagation.end_span"),rJ=(r,e,t)=>{let n=r.filter;Object.defineProperty(r,"filter",{enumerable:!1,value:function(...i){let o=n.apply(this,i);return JT(o,e,t),o}})};function Yq(r){var e;return typeof((e=r)===null||e===void 0?void 0:e.then)=="function"}var kq=(r,e,t,n)=>{let s=r[e];Object.defineProperty(r,e,{enumerable:!1,value:function(...o){let a=o[0],u=function(...h){var d;let p=h[0],f=(d=p==null?void 0:p[Uu])===null||d===void 0?void 0:d.call(p);if(!f)return a.apply(this,h);let E=Po.context.with(Po.trace.setSpan(n,f),()=>{var y;let q;try{if(q=a.apply(this,h),Yq(q)){let N=()=>{var Y;return(Y=p[yo])===null||Y===void 0?void 0:Y.call(p)};q.then(N,N)}return q}finally{Yq(q)||(y=p[yo])===null||y===void 0||y.call(p)}});if(typeof E=="object"){let y=Object.getOwnPropertyDescriptor(p,Uu);y&&Object.defineProperty(E,Uu,y);let q=Object.getOwnPropertyDescriptor(p,yo);q&&Object.defineProperty(E,yo,q)}return E};o[0]=u;let l=s.apply(this,o);return Array.isArray(l)&&JT(l,t,n),l}})},JT=(r,e,t=Po.context.active())=>{kq(r,"forEach",e,t),kq(r,"map",e,t),rJ(r,e,t)},nJ=(r,e,t,n,s,i,o)=>{let a=[],u=Po.trace.getSpanContext(s);u&&a.push({context:u});let l=`${e} process`,h=i.startSpan(l,{kind:Po.SpanKind.CONSUMER,attributes:Object.assign(Object.assign({},t),{["messaging.operation"]:"process"}),links:a},n);Object.defineProperty(r,Uu,{enumerable:!1,writable:!0,value:()=>h}),Object.defineProperty(r,yo,{enumerable:!1,writable:!0,value:()=>{h.end(),Object.defineProperty(r,yo,{enumerable:!1,writable:!0,value:()=>{}})}});try{o==null||o(h,r)}catch(d){Po.diag.error("opentelemetry-pubsub-propagation: process hook error",d)}return h},sJ=({messages:r,tracer:e,parentContext:t,messageToSpanDetails:n,processHook:s})=>{r.forEach(i=>{let{attributes:o,name:a,parentContext:u}=n(i);Object.defineProperty(i,Uu,{enumerable:!1,writable:!0,value:()=>nJ(i,a,o,t,u,e,s)})})};eS.default={patchMessagesArrayToStartProcessSpans:sJ,patchArrayForProcessSpans:JT}});var Qq=c(Gf=>{"use strict";Object.defineProperty(Gf,"__esModule",{value:!0});Gf.pubsubPropagation=void 0;var iJ=zq();Object.defineProperty(Gf,"pubsubPropagation",{enumerable:!0,get:function(){return iJ.default}})});var nS=c(nt=>{"use strict";Object.defineProperty(nt,"__esModule",{value:!0});nt.addPropagationFieldsToAttributeNames=nt.extractPropagationContext=nt.injectPropagationContext=nt.contextGetter=nt.contextSetter=nt.MAX_MESSAGE_ATTRIBUTES=void 0;var Lo=_();nt.MAX_MESSAGE_ATTRIBUTES=10;var tS=class{set(e,t,n){e[t]={DataType:"String",StringValue:n}}};nt.contextSetter=new tS;var rS=class{keys(e){return Object.keys(e)}get(e,t){var n,s;return((n=e==null?void 0:e[t])===null||n===void 0?void 0:n.StringValue)||((s=e==null?void 0:e[t])===null||s===void 0?void 0:s.Value)}};nt.contextGetter=new rS;var oJ=r=>{let e=r??{};return Object.keys(e).length+Lo.propagation.fields().length<=nt.MAX_MESSAGE_ATTRIBUTES?Lo.propagation.inject(Lo.context.active(),e,nt.contextSetter):Lo.diag.warn("aws-sdk instrumentation: cannot set context propagation on SQS/SNS message due to maximum amount of MessageAttributes"),e};nt.injectPropagationContext=oJ;var aJ=(r,e)=>{let t=Lo.propagation.fields();if(Object.keys(r.MessageAttributes||[]).some(s=>t.includes(s)))return r.MessageAttributes;if(e&&r.Body)try{return JSON.parse(r.Body).MessageAttributes}catch{Lo.diag.debug("failed to parse SQS payload to extract context propagation, trace might be incomplete.")}};nt.extractPropagationContext=aJ;var uJ=(r=[],e)=>r.length?Array.from(new Set([...r,...e])):e;nt.addPropagationFieldsToAttributeNames=uJ});var Jq=c(Ff=>{"use strict";Object.defineProperty(Ff,"__esModule",{value:!0});Ff.SqsServiceExtension=void 0;var Hr=_(),Zq=Qq(),st=Le(),Gu=nS(),sS=class{constructor(){this.requestPostSpanHook=e=>{var t,n,s;switch(e.commandName){case"SendMessage":{let i=(t=e.commandInput.MessageAttributes)!==null&&t!==void 0?t:{};i&&(e.commandInput.MessageAttributes=Gu.injectPropagationContext(i))}break;case"SendMessageBatch":(s=(n=e.commandInput)===null||n===void 0?void 0:n.Entries)===null||s===void 0||s.forEach(i=>{var o;i.MessageAttributes=Gu.injectPropagationContext((o=i.MessageAttributes)!==null&&o!==void 0?o:{})});break}},this.responseHook=(e,t,n,s)=>{var i,o;switch(e.request.commandName){case"SendMessage":t.setAttribute(st.SemanticAttributes.MESSAGING_MESSAGE_ID,(i=e==null?void 0:e.data)===null||i===void 0?void 0:i.MessageId);break;case"SendMessageBatch":break;case"ReceiveMessage":{let a=(o=e==null?void 0:e.data)===null||o===void 0?void 0:o.Messages;if(a){let u=this.extractQueueUrl(e.request.commandInput),l=this.extractQueueNameFromUrl(u);Zq.pubsubPropagation.patchMessagesArrayToStartProcessSpans({messages:a,parentContext:Hr.trace.setSpan(Hr.context.active(),t),tracer:n,messageToSpanDetails:h=>({name:l??"unknown",parentContext:Hr.propagation.extract(Hr.ROOT_CONTEXT,Gu.extractPropagationContext(h,s.sqsExtractContextPropagationFromPayload),Gu.contextGetter),attributes:{[st.SemanticAttributes.MESSAGING_SYSTEM]:"aws.sqs",[st.SemanticAttributes.MESSAGING_DESTINATION]:l,[st.SemanticAttributes.MESSAGING_DESTINATION_KIND]:st.MessagingDestinationKindValues.QUEUE,[st.SemanticAttributes.MESSAGING_MESSAGE_ID]:h.MessageId,[st.SemanticAttributes.MESSAGING_URL]:u,[st.SemanticAttributes.MESSAGING_OPERATION]:st.MessagingOperationValues.PROCESS}}),processHook:(h,d)=>{var p;return(p=s.sqsProcessHook)===null||p===void 0?void 0:p.call(s,h,{message:d})}}),Zq.pubsubPropagation.patchArrayForProcessSpans(a,n,Hr.context.active())}break}}},this.extractQueueUrl=e=>e==null?void 0:e.QueueUrl,this.extractQueueNameFromUrl=e=>{if(!e)return;let t=e.split("/");if(t.length!==0)return t[t.length-1]}}requestPreSpanHook(e){let t=this.extractQueueUrl(e.commandInput),n=this.extractQueueNameFromUrl(t),s=Hr.SpanKind.CLIENT,i,o={[st.SemanticAttributes.MESSAGING_SYSTEM]:"aws.sqs",[st.SemanticAttributes.MESSAGING_DESTINATION_KIND]:st.MessagingDestinationKindValues.QUEUE,[st.SemanticAttributes.MESSAGING_DESTINATION]:n,[st.SemanticAttributes.MESSAGING_URL]:t},a=!1;switch(e.commandName){case"ReceiveMessage":a=!0,s=Hr.SpanKind.CONSUMER,i=`${n} receive`,o[st.SemanticAttributes.MESSAGING_OPERATION]=st.MessagingOperationValues.RECEIVE,e.commandInput.MessageAttributeNames=Gu.addPropagationFieldsToAttributeNames(e.commandInput.MessageAttributeNames,Hr.propagation.fields());break;case"SendMessage":case"SendMessageBatch":s=Hr.SpanKind.PRODUCER,i=`${n} send`;break}return{isIncoming:a,spanAttributes:o,spanKind:s,spanName:i}}};Ff.SqsServiceExtension=sS});var ex=c(Bf=>{"use strict";Object.defineProperty(Bf,"__esModule",{value:!0});Bf.DynamodbServiceExtension=void 0;var cJ=_(),Vs=Le(),iS=class{requestPreSpanHook(e){var t;let n=cJ.SpanKind.CLIENT,s,i=!1,o=e.commandName,a={[Vs.SemanticAttributes.DB_SYSTEM]:Vs.DbSystemValues.DYNAMODB,[Vs.SemanticAttributes.DB_NAME]:(t=e.commandInput)===null||t===void 0?void 0:t.TableName,[Vs.SemanticAttributes.DB_OPERATION]:o,[Vs.SemanticAttributes.DB_STATEMENT]:JSON.stringify(e.commandInput)};return o==="BatchGetItem"&&(a[Vs.SemanticAttributes.AWS_DYNAMODB_TABLE_NAMES]=Object.keys(e.commandInput.RequestItems)),{isIncoming:i,spanAttributes:a,spanKind:n,spanName:s}}responseHook(e,t,n,s){var i;e.request.commandName==="BatchGetItem"&&Array.isArray((i=e.data)===null||i===void 0?void 0:i.ConsumedCapacity)&&t.setAttribute(Vs.SemanticAttributes.AWS_DYNAMODB_CONSUMED_CAPACITY,e.data.ConsumedCapacity.map(a=>JSON.stringify(a)))}};Bf.DynamodbServiceExtension=iS});var rx=c(Vf=>{"use strict";Object.defineProperty(Vf,"__esModule",{value:!0});Vf.SnsServiceExtension=void 0;var tx=_(),Fu=Le(),lJ=nS(),oS=class{requestPreSpanHook(e){let t=tx.SpanKind.CLIENT,n=`SNS ${e.commandName}`,s={[Fu.SemanticAttributes.MESSAGING_SYSTEM]:"aws.sns"};if(e.commandName==="Publish"){t=tx.SpanKind.PRODUCER,s[Fu.SemanticAttributes.MESSAGING_DESTINATION_KIND]=Fu.MessagingDestinationKindValues.TOPIC;let{TopicArn:i,TargetArn:o,PhoneNumber:a}=e.commandInput;s[Fu.SemanticAttributes.MESSAGING_DESTINATION]=this.extractDestinationName(i,o,a),n=`${a?"phone_number":s[Fu.SemanticAttributes.MESSAGING_DESTINATION]} send`}return{isIncoming:!1,spanAttributes:s,spanKind:t,spanName:n}}requestPostSpanHook(e){var t;if(e.commandName==="Publish"){let n=(t=e.commandInput.MessageAttributes)!==null&&t!==void 0?t:{};n&&(e.commandInput.MessageAttributes=lJ.injectPropagationContext(n))}}responseHook(e,t,n,s){}extractDestinationName(e,t,n){if(e||t){let s=e??t;try{return s.substr(s.lastIndexOf(":")+1)}catch{return s}}else return n||"unknown"}};Vf.SnsServiceExtension=oS});var sx=c(Xf=>{"use strict";Object.defineProperty(Xf,"__esModule",{value:!0});Xf.LambdaServiceExtension=void 0;var aS=_(),Hf=Le(),nx=_(),Co=class{};Co.Invoke="Invoke";var uS=class{constructor(){this.requestPostSpanHook=e=>{switch(e.commandName){case Co.Invoke:e.commandInput&&(e.commandInput.ClientContext=hJ(e.commandInput.ClientContext));break}},this.extractFunctionName=e=>e==null?void 0:e.FunctionName}requestPreSpanHook(e){let t=this.extractFunctionName(e.commandInput),n={},s;switch(e.commandName){case"Invoke":n={[Hf.SemanticAttributes.FAAS_INVOKED_NAME]:t,[Hf.SemanticAttributes.FAAS_INVOKED_PROVIDER]:"aws"},e.region&&(n[Hf.SemanticAttributes.FAAS_INVOKED_REGION]=e.region),s=`${t} ${Co.Invoke}`;break}return{isIncoming:!1,spanAttributes:n,spanKind:aS.SpanKind.CLIENT,spanName:s}}responseHook(e,t,n,s){switch(e.request.commandName){case Co.Invoke:t.setAttribute(Hf.SemanticAttributes.FAAS_EXECUTION,e.requestId);break}}};Xf.LambdaServiceExtension=uS;var hJ=r=>{try{let e={};nx.propagation.inject(nx.context.active(),e);let t=r?JSON.parse(Buffer.from(r,"base64").toString("utf8")):{},n=Object.assign(Object.assign({},t),{Custom:Object.assign(Object.assign({},t.Custom),e)}),s=Buffer.from(JSON.stringify(n)).toString("base64");return s.length>3583?(aS.diag.warn("lambda instrumentation: cannot set context propagation on lambda invoke parameters due to ClientContext length limitations."),r):s}catch(e){return aS.diag.debug("lambda instrumentation: failed to set context propagation on ClientContext",e),r}}});var ix=c(Wf=>{"use strict";Object.defineProperty(Wf,"__esModule",{value:!0});Wf.ServicesExtensions=void 0;var dJ=Jq(),fJ=ex(),pJ=rx(),_J=sx(),cS=class{constructor(){this.services=new Map,this.services.set("SQS",new dJ.SqsServiceExtension),this.services.set("SNS",new pJ.SnsServiceExtension),this.services.set("DynamoDB",new fJ.DynamodbServiceExtension),this.services.set("Lambda",new _J.LambdaServiceExtension)}requestPreSpanHook(e){let t=this.services.get(e.serviceName);return t?t.requestPreSpanHook(e):{isIncoming:!1}}requestPostSpanHook(e){let t=this.services.get(e.serviceName);if(t!=null&&t.requestPostSpanHook)return t.requestPostSpanHook(e)}responseHook(e,t,n,s){var i;let o=this.services.get(e.request.serviceName);(i=o==null?void 0:o.responseHook)===null||i===void 0||i.call(o,e,t,n,s)}};Wf.ServicesExtensions=cS});var ox=c(Kf=>{"use strict";Object.defineProperty(Kf,"__esModule",{value:!0});Kf.ServicesExtensions=void 0;var EJ=ix();Object.defineProperty(Kf,"ServicesExtensions",{enumerable:!0,get:function(){return EJ.ServicesExtensions}})});var ax=c(Yf=>{"use strict";Object.defineProperty(Yf,"__esModule",{value:!0});Yf.VERSION=void 0;Yf.VERSION="0.34.2"});var cx=c(Nn=>{"use strict";Object.defineProperty(Nn,"__esModule",{value:!0});Nn.disableInstrumentations=Nn.enableInstrumentations=Nn.parseInstrumentationOptions=void 0;function ux(r=[]){let e=[];for(let t=0,n=r.length;t<n;t++){let s=r[t];if(Array.isArray(s)){let i=ux(s);e=e.concat(i.instrumentations)}else typeof s=="function"?e.push(new s):s.instrumentationName&&e.push(s)}return{instrumentations:e}}Nn.parseInstrumentationOptions=ux;function gJ(r,e,t){for(let n=0,s=r.length;n<s;n++){let i=r[n];e&&i.setTracerProvider(e),t&&i.setMeterProvider(t),i.getConfig().enabled||i.enable()}}Nn.enableInstrumentations=gJ;function mJ(r){r.forEach(e=>e.disable())}Nn.disableInstrumentations=mJ});var hx=c(kf=>{"use strict";Object.defineProperty(kf,"__esModule",{value:!0});kf.registerInstrumentations=void 0;var lx=_(),lS=cx();function TJ(r){let{instrumentations:e}=(0,lS.parseInstrumentationOptions)(r.instrumentations),t=r.tracerProvider||lx.trace.getTracerProvider(),n=r.meterProvider||lx.metrics.getMeterProvider();return(0,lS.enableInstrumentations)(e,t,n),()=>{(0,lS.disableInstrumentations)(e)}}kf.registerInstrumentations=TJ});var Bu=c((mde,dx)=>{var SJ="2.0.0",vJ=Number.MAX_SAFE_INTEGER||9007199254740991,AJ=16,OJ=["major","premajor","minor","preminor","patch","prepatch","prerelease"];dx.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:AJ,MAX_SAFE_INTEGER:vJ,RELEASE_TYPES:OJ,SEMVER_SPEC_VERSION:SJ,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var Vu=c((Tde,fx)=>{var RJ=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...r)=>console.error("SEMVER",...r):()=>{};fx.exports=RJ});var Mo=c((yn,px)=>{var{MAX_SAFE_COMPONENT_LENGTH:hS}=Bu(),IJ=Vu();yn=px.exports={};var bJ=yn.re=[],I=yn.src=[],b=yn.t={},NJ=0,B=(r,e,t)=>{let n=NJ++;IJ(r,n,e),b[r]=n,I[n]=e,bJ[n]=new RegExp(e,t?"g":void 0)};B("NUMERICIDENTIFIER","0|[1-9]\\d*");B("NUMERICIDENTIFIERLOOSE","[0-9]+");B("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*");B("MAINVERSION",`(${I[b.NUMERICIDENTIFIER]})\\.(${I[b.NUMERICIDENTIFIER]})\\.(${I[b.NUMERICIDENTIFIER]})`);B("MAINVERSIONLOOSE",`(${I[b.NUMERICIDENTIFIERLOOSE]})\\.(${I[b.NUMERICIDENTIFIERLOOSE]})\\.(${I[b.NUMERICIDENTIFIERLOOSE]})`);B("PRERELEASEIDENTIFIER",`(?:${I[b.NUMERICIDENTIFIER]}|${I[b.NONNUMERICIDENTIFIER]})`);B("PRERELEASEIDENTIFIERLOOSE",`(?:${I[b.NUMERICIDENTIFIERLOOSE]}|${I[b.NONNUMERICIDENTIFIER]})`);B("PRERELEASE",`(?:-(${I[b.PRERELEASEIDENTIFIER]}(?:\\.${I[b.PRERELEASEIDENTIFIER]})*))`);B("PRERELEASELOOSE",`(?:-?(${I[b.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${I[b.PRERELEASEIDENTIFIERLOOSE]})*))`);B("BUILDIDENTIFIER","[0-9A-Za-z-]+");B("BUILD",`(?:\\+(${I[b.BUILDIDENTIFIER]}(?:\\.${I[b.BUILDIDENTIFIER]})*))`);B("FULLPLAIN",`v?${I[b.MAINVERSION]}${I[b.PRERELEASE]}?${I[b.BUILD]}?`);B("FULL",`^${I[b.FULLPLAIN]}$`);B("LOOSEPLAIN",`[v=\\s]*${I[b.MAINVERSIONLOOSE]}${I[b.PRERELEASELOOSE]}?${I[b.BUILD]}?`);B("LOOSE",`^${I[b.LOOSEPLAIN]}$`);B("GTLT","((?:<|>)?=?)");B("XRANGEIDENTIFIERLOOSE",`${I[b.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);B("XRANGEIDENTIFIER",`${I[b.NUMERICIDENTIFIER]}|x|X|\\*`);B("XRANGEPLAIN",`[v=\\s]*(${I[b.XRANGEIDENTIFIER]})(?:\\.(${I[b.XRANGEIDENTIFIER]})(?:\\.(${I[b.XRANGEIDENTIFIER]})(?:${I[b.PRERELEASE]})?${I[b.BUILD]}?)?)?`);B("XRANGEPLAINLOOSE",`[v=\\s]*(${I[b.XRANGEIDENTIFIERLOOSE]})(?:\\.(${I[b.XRANGEIDENTIFIERLOOSE]})(?:\\.(${I[b.XRANGEIDENTIFIERLOOSE]})(?:${I[b.PRERELEASELOOSE]})?${I[b.BUILD]}?)?)?`);B("XRANGE",`^${I[b.GTLT]}\\s*${I[b.XRANGEPLAIN]}$`);B("XRANGELOOSE",`^${I[b.GTLT]}\\s*${I[b.XRANGEPLAINLOOSE]}$`);B("COERCE",`(^|[^\\d])(\\d{1,${hS}})(?:\\.(\\d{1,${hS}}))?(?:\\.(\\d{1,${hS}}))?(?:$|[^\\d])`);B("COERCERTL",I[b.COERCE],!0);B("LONETILDE","(?:~>?)");B("TILDETRIM",`(\\s*)${I[b.LONETILDE]}\\s+`,!0);yn.tildeTrimReplace="$1~";B("TILDE",`^${I[b.LONETILDE]}${I[b.XRANGEPLAIN]}$`);B("TILDELOOSE",`^${I[b.LONETILDE]}${I[b.XRANGEPLAINLOOSE]}$`);B("LONECARET","(?:\\^)");B("CARETTRIM",`(\\s*)${I[b.LONECARET]}\\s+`,!0);yn.caretTrimReplace="$1^";B("CARET",`^${I[b.LONECARET]}${I[b.XRANGEPLAIN]}$`);B("CARETLOOSE",`^${I[b.LONECARET]}${I[b.XRANGEPLAINLOOSE]}$`);B("COMPARATORLOOSE",`^${I[b.GTLT]}\\s*(${I[b.LOOSEPLAIN]})$|^$`);B("COMPARATOR",`^${I[b.GTLT]}\\s*(${I[b.FULLPLAIN]})$|^$`);B("COMPARATORTRIM",`(\\s*)${I[b.GTLT]}\\s*(${I[b.LOOSEPLAIN]}|${I[b.XRANGEPLAIN]})`,!0);yn.comparatorTrimReplace="$1$2$3";B("HYPHENRANGE",`^\\s*(${I[b.XRANGEPLAIN]})\\s+-\\s+(${I[b.XRANGEPLAIN]})\\s*$`);B("HYPHENRANGELOOSE",`^\\s*(${I[b.XRANGEPLAINLOOSE]})\\s+-\\s+(${I[b.XRANGEPLAINLOOSE]})\\s*$`);B("STAR","(<|>)?=?\\s*\\*");B("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");B("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var zf=c((Sde,_x)=>{var yJ=Object.freeze({loose:!0}),PJ=Object.freeze({}),LJ=r=>r?typeof r!="object"?yJ:r:PJ;_x.exports=LJ});var dS=c((vde,mx)=>{var Ex=/^[0-9]+$/,gx=(r,e)=>{let t=Ex.test(r),n=Ex.test(e);return t&&n&&(r=+r,e=+e),r===e?0:t&&!n?-1:n&&!t?1:r<e?-1:1},CJ=(r,e)=>gx(e,r);mx.exports={compareIdentifiers:gx,rcompareIdentifiers:CJ}});var it=c((Ade,Ax)=>{var Qf=Vu(),{MAX_LENGTH:Tx,MAX_SAFE_INTEGER:Zf}=Bu(),{re:Sx,t:vx}=Mo(),MJ=zf(),{compareIdentifiers:wo}=dS(),Dt=class{constructor(e,t){if(t=MJ(t),e instanceof Dt){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>Tx)throw new TypeError(`version is longer than ${Tx} characters`);Qf("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;let n=e.trim().match(t.loose?Sx[vx.LOOSE]:Sx[vx.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>Zf||this.major<0)throw new TypeError("Invalid major version");if(this.minor>Zf||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>Zf||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(s=>{if(/^[0-9]+$/.test(s)){let i=+s;if(i>=0&&i<Zf)return i}return s}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(Qf("SemVer.compare",this.version,this.options,e),!(e instanceof Dt)){if(typeof e=="string"&&e===this.version)return 0;e=new Dt(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof Dt||(e=new Dt(e,this.options)),wo(this.major,e.major)||wo(this.minor,e.minor)||wo(this.patch,e.patch)}comparePre(e){if(e instanceof Dt||(e=new Dt(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{let n=this.prerelease[t],s=e.prerelease[t];if(Qf("prerelease compare",t,n,s),n===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(n===void 0)return-1;if(n===s)continue;return wo(n,s)}while(++t)}compareBuild(e){e instanceof Dt||(e=new Dt(e,this.options));let t=0;do{let n=this.build[t],s=e.build[t];if(Qf("prerelease compare",t,n,s),n===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(n===void 0)return-1;if(n===s)continue;return wo(n,s)}while(++t)}inc(e,t,n){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,n),this.inc("pre",t,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",t,n),this.inc("pre",t,n);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let s=Number(n)?1:0;if(!t&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[s];else{let i=this.prerelease.length;for(;--i>=0;)typeof this.prerelease[i]=="number"&&(this.prerelease[i]++,i=-2);if(i===-1){if(t===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(s)}}if(t){let i=[t,s];n===!1&&(i=[t]),wo(this.prerelease[0],t)===0?isNaN(this.prerelease[1])&&(this.prerelease=i):this.prerelease=i}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.format(),this.raw=this.version,this}};Ax.exports=Dt});var Hs=c((Ode,Rx)=>{var Ox=it(),wJ=(r,e,t=!1)=>{if(r instanceof Ox)return r;try{return new Ox(r,e)}catch(n){if(!t)return null;throw n}};Rx.exports=wJ});var bx=c((Rde,Ix)=>{var qJ=Hs(),xJ=(r,e)=>{let t=qJ(r,e);return t?t.version:null};Ix.exports=xJ});var yx=c((Ide,Nx)=>{var DJ=Hs(),$J=(r,e)=>{let t=DJ(r.trim().replace(/^[=v]+/,""),e);return t?t.version:null};Nx.exports=$J});var Cx=c((bde,Lx)=>{var Px=it(),jJ=(r,e,t,n,s)=>{typeof t=="string"&&(s=n,n=t,t=void 0);try{return new Px(r instanceof Px?r.version:r,t).inc(e,n,s).version}catch{return null}};Lx.exports=jJ});var qx=c((Nde,wx)=>{var Mx=Hs(),UJ=(r,e)=>{let t=Mx(r,null,!0),n=Mx(e,null,!0),s=t.compare(n);if(s===0)return null;let i=s>0,o=i?t:n,a=i?n:t,u=!!o.prerelease.length,l=u?"pre":"";return t.major!==n.major?l+"major":t.minor!==n.minor?l+"minor":t.patch!==n.patch?l+"patch":u?"prerelease":a.patch?"patch":a.minor?"minor":"major"};wx.exports=UJ});var Dx=c((yde,xx)=>{var GJ=it(),FJ=(r,e)=>new GJ(r,e).major;xx.exports=FJ});var jx=c((Pde,$x)=>{var BJ=it(),VJ=(r,e)=>new BJ(r,e).minor;$x.exports=VJ});var Gx=c((Lde,Ux)=>{var HJ=it(),XJ=(r,e)=>new HJ(r,e).patch;Ux.exports=XJ});var Bx=c((Cde,Fx)=>{var WJ=Hs(),KJ=(r,e)=>{let t=WJ(r,e);return t&&t.prerelease.length?t.prerelease:null};Fx.exports=KJ});var kt=c((Mde,Hx)=>{var Vx=it(),YJ=(r,e,t)=>new Vx(r,t).compare(new Vx(e,t));Hx.exports=YJ});var Wx=c((wde,Xx)=>{var kJ=kt(),zJ=(r,e,t)=>kJ(e,r,t);Xx.exports=zJ});var Yx=c((qde,Kx)=>{var QJ=kt(),ZJ=(r,e)=>QJ(r,e,!0);Kx.exports=ZJ});var Jf=c((xde,zx)=>{var kx=it(),JJ=(r,e,t)=>{let n=new kx(r,t),s=new kx(e,t);return n.compare(s)||n.compareBuild(s)};zx.exports=JJ});var Zx=c((Dde,Qx)=>{var eee=Jf(),tee=(r,e)=>r.sort((t,n)=>eee(t,n,e));Qx.exports=tee});var eD=c(($de,Jx)=>{var ree=Jf(),nee=(r,e)=>r.sort((t,n)=>ree(n,t,e));Jx.exports=nee});var Hu=c((jde,tD)=>{var see=kt(),iee=(r,e,t)=>see(r,e,t)>0;tD.exports=iee});var ep=c((Ude,rD)=>{var oee=kt(),aee=(r,e,t)=>oee(r,e,t)<0;rD.exports=aee});var fS=c((Gde,nD)=>{var uee=kt(),cee=(r,e,t)=>uee(r,e,t)===0;nD.exports=cee});var pS=c((Fde,sD)=>{var lee=kt(),hee=(r,e,t)=>lee(r,e,t)!==0;sD.exports=hee});var tp=c((Bde,iD)=>{var dee=kt(),fee=(r,e,t)=>dee(r,e,t)>=0;iD.exports=fee});var rp=c((Vde,oD)=>{var pee=kt(),_ee=(r,e,t)=>pee(r,e,t)<=0;oD.exports=_ee});var _S=c((Hde,aD)=>{var Eee=fS(),gee=pS(),mee=Hu(),Tee=tp(),See=ep(),vee=rp(),Aee=(r,e,t,n)=>{switch(e){case"===":return typeof r=="object"&&(r=r.version),typeof t=="object"&&(t=t.version),r===t;case"!==":return typeof r=="object"&&(r=r.version),typeof t=="object"&&(t=t.version),r!==t;case"":case"=":case"==":return Eee(r,t,n);case"!=":return gee(r,t,n);case">":return mee(r,t,n);case">=":return Tee(r,t,n);case"<":return See(r,t,n);case"<=":return vee(r,t,n);default:throw new TypeError(`Invalid operator: ${e}`)}};aD.exports=Aee});var cD=c((Xde,uD)=>{var Oee=it(),Ree=Hs(),{re:np,t:sp}=Mo(),Iee=(r,e)=>{if(r instanceof Oee)return r;if(typeof r=="number"&&(r=String(r)),typeof r!="string")return null;e=e||{};let t=null;if(!e.rtl)t=r.match(np[sp.COERCE]);else{let n;for(;(n=np[sp.COERCERTL].exec(r))&&(!t||t.index+t[0].length!==r.length);)(!t||n.index+n[0].length!==t.index+t[0].length)&&(t=n),np[sp.COERCERTL].lastIndex=n.index+n[1].length+n[2].length;np[sp.COERCERTL].lastIndex=-1}return t===null?null:Ree(`${t[2]}.${t[3]||"0"}.${t[4]||"0"}`,e)};uD.exports=Iee});var hD=c((Wde,lD)=>{"use strict";lD.exports=function(r){r.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}});var fD=c((Kde,dD)=>{"use strict";dD.exports=J;J.Node=Xs;J.create=J;function J(r){var e=this;if(e instanceof J||(e=new J),e.tail=null,e.head=null,e.length=0,r&&typeof r.forEach=="function")r.forEach(function(s){e.push(s)});else if(arguments.length>0)for(var t=0,n=arguments.length;t<n;t++)e.push(arguments[t]);return e}J.prototype.removeNode=function(r){if(r.list!==this)throw new Error("removing node which does not belong to this list");var e=r.next,t=r.prev;return e&&(e.prev=t),t&&(t.next=e),r===this.head&&(this.head=e),r===this.tail&&(this.tail=t),r.list.length--,r.next=null,r.prev=null,r.list=null,e};J.prototype.unshiftNode=function(r){if(r!==this.head){r.list&&r.list.removeNode(r);var e=this.head;r.list=this,r.next=e,e&&(e.prev=r),this.head=r,this.tail||(this.tail=r),this.length++}};J.prototype.pushNode=function(r){if(r!==this.tail){r.list&&r.list.removeNode(r);var e=this.tail;r.list=this,r.prev=e,e&&(e.next=r),this.tail=r,this.head||(this.head=r),this.length++}};J.prototype.push=function(){for(var r=0,e=arguments.length;r<e;r++)Nee(this,arguments[r]);return this.length};J.prototype.unshift=function(){for(var r=0,e=arguments.length;r<e;r++)yee(this,arguments[r]);return this.length};J.prototype.pop=function(){if(this.tail){var r=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,r}};J.prototype.shift=function(){if(this.head){var r=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,r}};J.prototype.forEach=function(r,e){e=e||this;for(var t=this.head,n=0;t!==null;n++)r.call(e,t.value,n,this),t=t.next};J.prototype.forEachReverse=function(r,e){e=e||this;for(var t=this.tail,n=this.length-1;t!==null;n--)r.call(e,t.value,n,this),t=t.prev};J.prototype.get=function(r){for(var e=0,t=this.head;t!==null&&e<r;e++)t=t.next;if(e===r&&t!==null)return t.value};J.prototype.getReverse=function(r){for(var e=0,t=this.tail;t!==null&&e<r;e++)t=t.prev;if(e===r&&t!==null)return t.value};J.prototype.map=function(r,e){e=e||this;for(var t=new J,n=this.head;n!==null;)t.push(r.call(e,n.value,this)),n=n.next;return t};J.prototype.mapReverse=function(r,e){e=e||this;for(var t=new J,n=this.tail;n!==null;)t.push(r.call(e,n.value,this)),n=n.prev;return t};J.prototype.reduce=function(r,e){var t,n=this.head;if(arguments.length>1)t=e;else if(this.head)n=this.head.next,t=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var s=0;n!==null;s++)t=r(t,n.value,s),n=n.next;return t};J.prototype.reduceReverse=function(r,e){var t,n=this.tail;if(arguments.length>1)t=e;else if(this.tail)n=this.tail.prev,t=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var s=this.length-1;n!==null;s--)t=r(t,n.value,s),n=n.prev;return t};J.prototype.toArray=function(){for(var r=new Array(this.length),e=0,t=this.head;t!==null;e++)r[e]=t.value,t=t.next;return r};J.prototype.toArrayReverse=function(){for(var r=new Array(this.length),e=0,t=this.tail;t!==null;e++)r[e]=t.value,t=t.prev;return r};J.prototype.slice=function(r,e){e=e||this.length,e<0&&(e+=this.length),r=r||0,r<0&&(r+=this.length);var t=new J;if(e<r||e<0)return t;r<0&&(r=0),e>this.length&&(e=this.length);for(var n=0,s=this.head;s!==null&&n<r;n++)s=s.next;for(;s!==null&&n<e;n++,s=s.next)t.push(s.value);return t};J.prototype.sliceReverse=function(r,e){e=e||this.length,e<0&&(e+=this.length),r=r||0,r<0&&(r+=this.length);var t=new J;if(e<r||e<0)return t;r<0&&(r=0),e>this.length&&(e=this.length);for(var n=this.length,s=this.tail;s!==null&&n>e;n--)s=s.prev;for(;s!==null&&n>r;n--,s=s.prev)t.push(s.value);return t};J.prototype.splice=function(r,e,...t){r>this.length&&(r=this.length-1),r<0&&(r=this.length+r);for(var n=0,s=this.head;s!==null&&n<r;n++)s=s.next;for(var i=[],n=0;s&&n<e;n++)i.push(s.value),s=this.removeNode(s);s===null&&(s=this.tail),s!==this.head&&s!==this.tail&&(s=s.prev);for(var n=0;n<t.length;n++)s=bee(this,s,t[n]);return i};J.prototype.reverse=function(){for(var r=this.head,e=this.tail,t=r;t!==null;t=t.prev){var n=t.prev;t.prev=t.next,t.next=n}return this.head=e,this.tail=r,this};function bee(r,e,t){var n=e===r.head?new Xs(t,null,e,r):new Xs(t,e,e.next,r);return n.next===null&&(r.tail=n),n.prev===null&&(r.head=n),r.length++,n}function Nee(r,e){r.tail=new Xs(e,r.tail,null,r),r.head||(r.head=r.tail),r.length++}function yee(r,e){r.head=new Xs(e,null,r.head,r),r.tail||(r.tail=r.head),r.length++}function Xs(r,e,t,n){if(!(this instanceof Xs))return new Xs(r,e,t,n);this.list=n,this.value=r,e?(e.next=this,this.prev=e):this.prev=null,t?(t.prev=this,this.next=t):this.next=null}try{hD()(J)}catch{}});var mD=c((Yde,gD)=>{"use strict";var Pee=fD(),Ws=Symbol("max"),Wr=Symbol("length"),qo=Symbol("lengthCalculator"),Wu=Symbol("allowStale"),Ks=Symbol("maxAge"),Xr=Symbol("dispose"),pD=Symbol("noDisposeOnSet"),je=Symbol("lruList"),cr=Symbol("cache"),ED=Symbol("updateAgeOnGet"),ES=()=>1,mS=class{constructor(e){if(typeof e=="number"&&(e={max:e}),e||(e={}),e.max&&(typeof e.max!="number"||e.max<0))throw new TypeError("max must be a non-negative number");let t=this[Ws]=e.max||1/0,n=e.length||ES;if(this[qo]=typeof n!="function"?ES:n,this[Wu]=e.stale||!1,e.maxAge&&typeof e.maxAge!="number")throw new TypeError("maxAge must be a number");this[Ks]=e.maxAge||0,this[Xr]=e.dispose,this[pD]=e.noDisposeOnSet||!1,this[ED]=e.updateAgeOnGet||!1,this.reset()}set max(e){if(typeof e!="number"||e<0)throw new TypeError("max must be a non-negative number");this[Ws]=e||1/0,Xu(this)}get max(){return this[Ws]}set allowStale(e){this[Wu]=!!e}get allowStale(){return this[Wu]}set maxAge(e){if(typeof e!="number")throw new TypeError("maxAge must be a non-negative number");this[Ks]=e,Xu(this)}get maxAge(){return this[Ks]}set lengthCalculator(e){typeof e!="function"&&(e=ES),e!==this[qo]&&(this[qo]=e,this[Wr]=0,this[je].forEach(t=>{t.length=this[qo](t.value,t.key),this[Wr]+=t.length})),Xu(this)}get lengthCalculator(){return this[qo]}get length(){return this[Wr]}get itemCount(){return this[je].length}rforEach(e,t){t=t||this;for(let n=this[je].tail;n!==null;){let s=n.prev;_D(this,e,n,t),n=s}}forEach(e,t){t=t||this;for(let n=this[je].head;n!==null;){let s=n.next;_D(this,e,n,t),n=s}}keys(){return this[je].toArray().map(e=>e.key)}values(){return this[je].toArray().map(e=>e.value)}reset(){this[Xr]&&this[je]&&this[je].length&&this[je].forEach(e=>this[Xr](e.key,e.value)),this[cr]=new Map,this[je]=new Pee,this[Wr]=0}dump(){return this[je].map(e=>ip(this,e)?!1:{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[je]}set(e,t,n){if(n=n||this[Ks],n&&typeof n!="number")throw new TypeError("maxAge must be a number");let s=n?Date.now():0,i=this[qo](t,e);if(this[cr].has(e)){if(i>this[Ws])return xo(this,this[cr].get(e)),!1;let u=this[cr].get(e).value;return this[Xr]&&(this[pD]||this[Xr](e,u.value)),u.now=s,u.maxAge=n,u.value=t,this[Wr]+=i-u.length,u.length=i,this.get(e),Xu(this),!0}let o=new TS(e,t,i,s,n);return o.length>this[Ws]?(this[Xr]&&this[Xr](e,t),!1):(this[Wr]+=o.length,this[je].unshift(o),this[cr].set(e,this[je].head),Xu(this),!0)}has(e){if(!this[cr].has(e))return!1;let t=this[cr].get(e).value;return!ip(this,t)}get(e){return gS(this,e,!0)}peek(e){return gS(this,e,!1)}pop(){let e=this[je].tail;return e?(xo(this,e),e.value):null}del(e){xo(this,this[cr].get(e))}load(e){this.reset();let t=Date.now();for(let n=e.length-1;n>=0;n--){let s=e[n],i=s.e||0;if(i===0)this.set(s.k,s.v);else{let o=i-t;o>0&&this.set(s.k,s.v,o)}}}prune(){this[cr].forEach((e,t)=>gS(this,t,!1))}},gS=(r,e,t)=>{let n=r[cr].get(e);if(n){let s=n.value;if(ip(r,s)){if(xo(r,n),!r[Wu])return}else t&&(r[ED]&&(n.value.now=Date.now()),r[je].unshiftNode(n));return s.value}},ip=(r,e)=>{if(!e||!e.maxAge&&!r[Ks])return!1;let t=Date.now()-e.now;return e.maxAge?t>e.maxAge:r[Ks]&&t>r[Ks]},Xu=r=>{if(r[Wr]>r[Ws])for(let e=r[je].tail;r[Wr]>r[Ws]&&e!==null;){let t=e.prev;xo(r,e),e=t}},xo=(r,e)=>{if(e){let t=e.value;r[Xr]&&r[Xr](t.key,t.value),r[Wr]-=t.length,r[cr].delete(t.key),r[je].removeNode(e)}},TS=class{constructor(e,t,n,s,i){this.key=e,this.value=t,this.length=n,this.now=s,this.maxAge=i||0}},_D=(r,e,t,n)=>{let s=t.value;ip(r,s)&&(xo(r,t),r[Wu]||(s=void 0)),s&&e.call(n,s.value,s.key,r)};gD.exports=mS});var zt=c((kde,AD)=>{var Ys=class{constructor(e,t){if(t=Cee(t),e instanceof Ys)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new Ys(e.raw,t);if(e instanceof SS)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split("||").map(n=>this.parseRange(n.trim())).filter(n=>n.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${e}`);if(this.set.length>1){let n=this.set[0];if(this.set=this.set.filter(s=>!SD(s[0])),this.set.length===0)this.set=[n];else if(this.set.length>1){for(let s of this.set)if(s.length===1&&jee(s[0])){this.set=[s];break}}}this.format()}format(){return this.range=this.set.map(e=>e.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(e){e=e.trim();let n=((this.options.includePrerelease&&Dee)|(this.options.loose&&$ee))+":"+e,s=TD.get(n);if(s)return s;let i=this.options.loose,o=i?It[_t.HYPHENRANGELOOSE]:It[_t.HYPHENRANGE];e=e.replace(o,Yee(this.options.includePrerelease)),Ae("hyphen replace",e),e=e.replace(It[_t.COMPARATORTRIM],wee),Ae("comparator trim",e),e=e.replace(It[_t.TILDETRIM],qee),e=e.replace(It[_t.CARETTRIM],xee),e=e.split(/\s+/).join(" ");let a=e.split(" ").map(d=>Uee(d,this.options)).join(" ").split(/\s+/).map(d=>Kee(d,this.options));i&&(a=a.filter(d=>(Ae("loose invalid filter",d,this.options),!!d.match(It[_t.COMPARATORLOOSE])))),Ae("range list",a);let u=new Map,l=a.map(d=>new SS(d,this.options));for(let d of l){if(SD(d))return[d];u.set(d.value,d)}u.size>1&&u.has("")&&u.delete("");let h=[...u.values()];return TD.set(n,h),h}intersects(e,t){if(!(e instanceof Ys))throw new TypeError("a Range is required");return this.set.some(n=>vD(n,t)&&e.set.some(s=>vD(s,t)&&n.every(i=>s.every(o=>i.intersects(o,t)))))}test(e){if(!e)return!1;if(typeof e=="string")try{e=new Mee(e,this.options)}catch{return!1}for(let t=0;t<this.set.length;t++)if(kee(this.set[t],e,this.options))return!0;return!1}};AD.exports=Ys;var Lee=mD(),TD=new Lee({max:1e3}),Cee=zf(),SS=Ku(),Ae=Vu(),Mee=it(),{re:It,t:_t,comparatorTrimReplace:wee,tildeTrimReplace:qee,caretTrimReplace:xee}=Mo(),{FLAG_INCLUDE_PRERELEASE:Dee,FLAG_LOOSE:$ee}=Bu(),SD=r=>r.value==="<0.0.0-0",jee=r=>r.value==="",vD=(r,e)=>{let t=!0,n=r.slice(),s=n.pop();for(;t&&n.length;)t=n.every(i=>s.intersects(i,e)),s=n.pop();return t},Uee=(r,e)=>(Ae("comp",r,e),r=Bee(r,e),Ae("caret",r),r=Gee(r,e),Ae("tildes",r),r=Hee(r,e),Ae("xrange",r),r=Wee(r,e),Ae("stars",r),r),Et=r=>!r||r.toLowerCase()==="x"||r==="*",Gee=(r,e)=>r.trim().split(/\s+/).map(t=>Fee(t,e)).join(" "),Fee=(r,e)=>{let t=e.loose?It[_t.TILDELOOSE]:It[_t.TILDE];return r.replace(t,(n,s,i,o,a)=>{Ae("tilde",r,n,s,i,o,a);let u;return Et(s)?u="":Et(i)?u=`>=${s}.0.0 <${+s+1}.0.0-0`:Et(o)?u=`>=${s}.${i}.0 <${s}.${+i+1}.0-0`:a?(Ae("replaceTilde pr",a),u=`>=${s}.${i}.${o}-${a} <${s}.${+i+1}.0-0`):u=`>=${s}.${i}.${o} <${s}.${+i+1}.0-0`,Ae("tilde return",u),u})},Bee=(r,e)=>r.trim().split(/\s+/).map(t=>Vee(t,e)).join(" "),Vee=(r,e)=>{Ae("caret",r,e);let t=e.loose?It[_t.CARETLOOSE]:It[_t.CARET],n=e.includePrerelease?"-0":"";return r.replace(t,(s,i,o,a,u)=>{Ae("caret",r,s,i,o,a,u);let l;return Et(i)?l="":Et(o)?l=`>=${i}.0.0${n} <${+i+1}.0.0-0`:Et(a)?i==="0"?l=`>=${i}.${o}.0${n} <${i}.${+o+1}.0-0`:l=`>=${i}.${o}.0${n} <${+i+1}.0.0-0`:u?(Ae("replaceCaret pr",u),i==="0"?o==="0"?l=`>=${i}.${o}.${a}-${u} <${i}.${o}.${+a+1}-0`:l=`>=${i}.${o}.${a}-${u} <${i}.${+o+1}.0-0`:l=`>=${i}.${o}.${a}-${u} <${+i+1}.0.0-0`):(Ae("no pr"),i==="0"?o==="0"?l=`>=${i}.${o}.${a}${n} <${i}.${o}.${+a+1}-0`:l=`>=${i}.${o}.${a}${n} <${i}.${+o+1}.0-0`:l=`>=${i}.${o}.${a} <${+i+1}.0.0-0`),Ae("caret return",l),l})},Hee=(r,e)=>(Ae("replaceXRanges",r,e),r.split(/\s+/).map(t=>Xee(t,e)).join(" ")),Xee=(r,e)=>{r=r.trim();let t=e.loose?It[_t.XRANGELOOSE]:It[_t.XRANGE];return r.replace(t,(n,s,i,o,a,u)=>{Ae("xRange",r,n,s,i,o,a,u);let l=Et(i),h=l||Et(o),d=h||Et(a),p=d;return s==="="&&p&&(s=""),u=e.includePrerelease?"-0":"",l?s===">"||s==="<"?n="<0.0.0-0":n="*":s&&p?(h&&(o=0),a=0,s===">"?(s=">=",h?(i=+i+1,o=0,a=0):(o=+o+1,a=0)):s==="<="&&(s="<",h?i=+i+1:o=+o+1),s==="<"&&(u="-0"),n=`${s+i}.${o}.${a}${u}`):h?n=`>=${i}.0.0${u} <${+i+1}.0.0-0`:d&&(n=`>=${i}.${o}.0${u} <${i}.${+o+1}.0-0`),Ae("xRange return",n),n})},Wee=(r,e)=>(Ae("replaceStars",r,e),r.trim().replace(It[_t.STAR],"")),Kee=(r,e)=>(Ae("replaceGTE0",r,e),r.trim().replace(It[e.includePrerelease?_t.GTE0PRE:_t.GTE0],"")),Yee=r=>(e,t,n,s,i,o,a,u,l,h,d,p,f)=>(Et(n)?t="":Et(s)?t=`>=${n}.0.0${r?"-0":""}`:Et(i)?t=`>=${n}.${s}.0${r?"-0":""}`:o?t=`>=${t}`:t=`>=${t}${r?"-0":""}`,Et(l)?u="":Et(h)?u=`<${+l+1}.0.0-0`:Et(d)?u=`<${l}.${+h+1}.0-0`:p?u=`<=${l}.${h}.${d}-${p}`:r?u=`<${l}.${h}.${+d+1}-0`:u=`<=${u}`,`${t} ${u}`.trim()),kee=(r,e,t)=>{for(let n=0;n<r.length;n++)if(!r[n].test(e))return!1;if(e.prerelease.length&&!t.includePrerelease){for(let n=0;n<r.length;n++)if(Ae(r[n].semver),r[n].semver!==SS.ANY&&r[n].semver.prerelease.length>0){let s=r[n].semver;if(s.major===e.major&&s.minor===e.minor&&s.patch===e.patch)return!0}return!1}return!0}});var Ku=c((zde,yD)=>{var Yu=Symbol("SemVer ANY"),Do=class{static get ANY(){return Yu}constructor(e,t){if(t=OD(t),e instanceof Do){if(e.loose===!!t.loose)return e;e=e.value}AS("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===Yu?this.value="":this.value=this.operator+this.semver.version,AS("comp",this)}parse(e){let t=this.options.loose?RD[ID.COMPARATORLOOSE]:RD[ID.COMPARATOR],n=e.match(t);if(!n)throw new TypeError(`Invalid comparator: ${e}`);this.operator=n[1]!==void 0?n[1]:"",this.operator==="="&&(this.operator=""),n[2]?this.semver=new bD(n[2],this.options.loose):this.semver=Yu}toString(){return this.value}test(e){if(AS("Comparator.test",e,this.options.loose),this.semver===Yu||e===Yu)return!0;if(typeof e=="string")try{e=new bD(e,this.options)}catch{return!1}return vS(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof Do))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new ND(e.value,t).test(this.value):e.operator===""?e.value===""?!0:new ND(this.value,t).test(e.semver):(t=OD(t),t.includePrerelease&&(this.value==="<0.0.0-0"||e.value==="<0.0.0-0")||!t.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&e.operator.startsWith(">")||this.operator.startsWith("<")&&e.operator.startsWith("<")||this.semver.version===e.semver.version&&this.operator.includes("=")&&e.operator.includes("=")||vS(this.semver,"<",e.semver,t)&&this.operator.startsWith(">")&&e.operator.startsWith("<")||vS(this.semver,">",e.semver,t)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))}};yD.exports=Do;var OD=zf(),{re:RD,t:ID}=Mo(),vS=_S(),AS=Vu(),bD=it(),ND=zt()});var ku=c((Qde,PD)=>{var zee=zt(),Qee=(r,e,t)=>{try{e=new zee(e,t)}catch{return!1}return e.test(r)};PD.exports=Qee});var CD=c((Zde,LD)=>{var Zee=zt(),Jee=(r,e)=>new Zee(r,e).set.map(t=>t.map(n=>n.value).join(" ").trim().split(" "));LD.exports=Jee});var wD=c((Jde,MD)=>{var ete=it(),tte=zt(),rte=(r,e,t)=>{let n=null,s=null,i=null;try{i=new tte(e,t)}catch{return null}return r.forEach(o=>{i.test(o)&&(!n||s.compare(o)===-1)&&(n=o,s=new ete(n,t))}),n};MD.exports=rte});var xD=c((efe,qD)=>{var nte=it(),ste=zt(),ite=(r,e,t)=>{let n=null,s=null,i=null;try{i=new ste(e,t)}catch{return null}return r.forEach(o=>{i.test(o)&&(!n||s.compare(o)===1)&&(n=o,s=new nte(n,t))}),n};qD.exports=ite});var jD=c((tfe,$D)=>{var OS=it(),ote=zt(),DD=Hu(),ate=(r,e)=>{r=new ote(r,e);let t=new OS("0.0.0");if(r.test(t)||(t=new OS("0.0.0-0"),r.test(t)))return t;t=null;for(let n=0;n<r.set.length;++n){let s=r.set[n],i=null;s.forEach(o=>{let a=new OS(o.semver.version);switch(o.operator){case">":a.prerelease.length===0?a.patch++:a.prerelease.push(0),a.raw=a.format();case"":case">=":(!i||DD(a,i))&&(i=a);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${o.operator}`)}}),i&&(!t||DD(t,i))&&(t=i)}return t&&r.test(t)?t:null};$D.exports=ate});var GD=c((rfe,UD)=>{var ute=zt(),cte=(r,e)=>{try{return new ute(r,e).range||"*"}catch{return null}};UD.exports=cte});var op=c((nfe,HD)=>{var lte=it(),VD=Ku(),{ANY:hte}=VD,dte=zt(),fte=ku(),FD=Hu(),BD=ep(),pte=rp(),_te=tp(),Ete=(r,e,t,n)=>{r=new lte(r,n),e=new dte(e,n);let s,i,o,a,u;switch(t){case">":s=FD,i=pte,o=BD,a=">",u=">=";break;case"<":s=BD,i=_te,o=FD,a="<",u="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(fte(r,e,n))return!1;for(let l=0;l<e.set.length;++l){let h=e.set[l],d=null,p=null;if(h.forEach(f=>{f.semver===hte&&(f=new VD(">=0.0.0")),d=d||f,p=p||f,s(f.semver,d.semver,n)?d=f:o(f.semver,p.semver,n)&&(p=f)}),d.operator===a||d.operator===u||(!p.operator||p.operator===a)&&i(r,p.semver))return!1;if(p.operator===u&&o(r,p.semver))return!1}return!0};HD.exports=Ete});var WD=c((sfe,XD)=>{var gte=op(),mte=(r,e,t)=>gte(r,e,">",t);XD.exports=mte});var YD=c((ife,KD)=>{var Tte=op(),Ste=(r,e,t)=>Tte(r,e,"<",t);KD.exports=Ste});var QD=c((ofe,zD)=>{var kD=zt(),vte=(r,e,t)=>(r=new kD(r,t),e=new kD(e,t),r.intersects(e,t));zD.exports=vte});var JD=c((afe,ZD)=>{var Ate=ku(),Ote=kt();ZD.exports=(r,e,t)=>{let n=[],s=null,i=null,o=r.sort((h,d)=>Ote(h,d,t));for(let h of o)Ate(h,e,t)?(i=h,s||(s=h)):(i&&n.push([s,i]),i=null,s=null);s&&n.push([s,null]);let a=[];for(let[h,d]of n)h===d?a.push(h):!d&&h===o[0]?a.push("*"):d?h===o[0]?a.push(`<=${d}`):a.push(`${h} - ${d}`):a.push(`>=${h}`);let u=a.join(" || "),l=typeof e.raw=="string"?e.raw:String(e);return u.length<l.length?u:e}});var i$=c((ufe,s$)=>{var e$=zt(),IS=Ku(),{ANY:RS}=IS,zu=ku(),bS=kt(),Rte=(r,e,t={})=>{if(r===e)return!0;r=new e$(r,t),e=new e$(e,t);let n=!1;e:for(let s of r.set){for(let i of e.set){let o=bte(s,i,t);if(n=n||o!==null,o)continue e}if(n)return!1}return!0},Ite=[new IS(">=0.0.0-0")],t$=[new IS(">=0.0.0")],bte=(r,e,t)=>{if(r===e)return!0;if(r.length===1&&r[0].semver===RS){if(e.length===1&&e[0].semver===RS)return!0;t.includePrerelease?r=Ite:r=t$}if(e.length===1&&e[0].semver===RS){if(t.includePrerelease)return!0;e=t$}let n=new Set,s,i;for(let f of r)f.operator===">"||f.operator===">="?s=r$(s,f,t):f.operator==="<"||f.operator==="<="?i=n$(i,f,t):n.add(f.semver);if(n.size>1)return null;let o;if(s&&i){if(o=bS(s.semver,i.semver,t),o>0)return null;if(o===0&&(s.operator!==">="||i.operator!=="<="))return null}for(let f of n){if(s&&!zu(f,String(s),t)||i&&!zu(f,String(i),t))return null;for(let E of e)if(!zu(f,String(E),t))return!1;return!0}let a,u,l,h,d=i&&!t.includePrerelease&&i.semver.prerelease.length?i.semver:!1,p=s&&!t.includePrerelease&&s.semver.prerelease.length?s.semver:!1;d&&d.prerelease.length===1&&i.operator==="<"&&d.prerelease[0]===0&&(d=!1);for(let f of e){if(h=h||f.operator===">"||f.operator===">=",l=l||f.operator==="<"||f.operator==="<=",s){if(p&&f.semver.prerelease&&f.semver.prerelease.length&&f.semver.major===p.major&&f.semver.minor===p.minor&&f.semver.patch===p.patch&&(p=!1),f.operator===">"||f.operator===">="){if(a=r$(s,f,t),a===f&&a!==s)return!1}else if(s.operator===">="&&!zu(s.semver,String(f),t))return!1}if(i){if(d&&f.semver.prerelease&&f.semver.prerelease.length&&f.semver.major===d.major&&f.semver.minor===d.minor&&f.semver.patch===d.patch&&(d=!1),f.operator==="<"||f.operator==="<="){if(u=n$(i,f,t),u===f&&u!==i)return!1}else if(i.operator==="<="&&!zu(i.semver,String(f),t))return!1}if(!f.operator&&(i||s)&&o!==0)return!1}return!(s&&l&&!i&&o!==0||i&&h&&!s&&o!==0||p||d)},r$=(r,e,t)=>{if(!r)return e;let n=bS(r.semver,e.semver,t);return n>0?r:n<0||e.operator===">"&&r.operator===">="?e:r},n$=(r,e,t)=>{if(!r)return e;let n=bS(r.semver,e.semver,t);return n<0?r:n>0||e.operator==="<"&&r.operator==="<="?e:r};s$.exports=Rte});var c$=c((cfe,u$)=>{var NS=Mo(),o$=Bu(),Nte=it(),a$=dS(),yte=Hs(),Pte=bx(),Lte=yx(),Cte=Cx(),Mte=qx(),wte=Dx(),qte=jx(),xte=Gx(),Dte=Bx(),$te=kt(),jte=Wx(),Ute=Yx(),Gte=Jf(),Fte=Zx(),Bte=eD(),Vte=Hu(),Hte=ep(),Xte=fS(),Wte=pS(),Kte=tp(),Yte=rp(),kte=_S(),zte=cD(),Qte=Ku(),Zte=zt(),Jte=ku(),ere=CD(),tre=wD(),rre=xD(),nre=jD(),sre=GD(),ire=op(),ore=WD(),are=YD(),ure=QD(),cre=JD(),lre=i$();u$.exports={parse:yte,valid:Pte,clean:Lte,inc:Cte,diff:Mte,major:wte,minor:qte,patch:xte,prerelease:Dte,compare:$te,rcompare:jte,compareLoose:Ute,compareBuild:Gte,sort:Fte,rsort:Bte,gt:Vte,lt:Hte,eq:Xte,neq:Wte,gte:Kte,lte:Yte,cmp:kte,coerce:zte,Comparator:Qte,Range:Zte,satisfies:Jte,toComparators:ere,maxSatisfying:tre,minSatisfying:rre,minVersion:nre,validRange:sre,outside:ire,gtr:ore,ltr:are,intersects:ure,simplifyRange:cre,subset:lre,SemVer:Nte,re:NS.re,src:NS.src,tokens:NS.t,SEMVER_SPEC_VERSION:o$.SEMVER_SPEC_VERSION,RELEASE_TYPES:o$.RELEASE_TYPES,compareIdentifiers:a$.compareIdentifiers,rcompareIdentifiers:a$.rcompareIdentifiers}});var l$=c(up=>{"use strict";Object.defineProperty(up,"__esModule",{value:!0});up.InstrumentationAbstract=void 0;var yS=_(),ap=Ma(),PS=class{constructor(e,t,n={}){this.instrumentationName=e,this.instrumentationVersion=t,this._wrap=ap.wrap,this._unwrap=ap.unwrap,this._massWrap=ap.massWrap,this._massUnwrap=ap.massUnwrap,this._config=Object.assign({enabled:!0},n),this._diag=yS.diag.createComponentLogger({namespace:e}),this._tracer=yS.trace.getTracer(e,t),this._meter=yS.metrics.getMeter(e,t),this._updateMetricInstruments()}get meter(){return this._meter}setMeterProvider(e){this._meter=e.getMeter(this.instrumentationName,this.instrumentationVersion),this._updateMetricInstruments()}_updateMetricInstruments(){}getConfig(){return this._config}setConfig(e={}){this._config=Object.assign({},e)}setTracerProvider(e){this._tracer=e.getTracer(this.instrumentationName,this.instrumentationVersion)}get tracer(){return this._tracer}};up.InstrumentationAbstract=PS});var h$=c(Pn=>{"use strict";Object.defineProperty(Pn,"__esModule",{value:!0});Pn.ModuleNameTrie=Pn.ModuleNameSeparator=void 0;Pn.ModuleNameSeparator="/";var cp=class{constructor(){this.hooks=[],this.children=new Map}},LS=class{constructor(){this._trie=new cp,this._counter=0}insert(e){let t=this._trie;for(let n of e.moduleName.split(Pn.ModuleNameSeparator)){let s=t.children.get(n);s||(s=new cp,t.children.set(n,s)),t=s}t.hooks.push({hook:e,insertedId:this._counter++})}search(e,{maintainInsertionOrder:t,fullOnly:n}={}){let s=this._trie,i=[],o=!0;for(let a of e.split(Pn.ModuleNameSeparator)){let u=s.children.get(a);if(!u){o=!1;break}n||i.push(...u.hooks),s=u}return n&&o&&i.push(...s.hooks),i.length===0?[]:i.length===1?[i[0].hook]:(t&&i.sort((a,u)=>a.insertedId-u.insertedId),i.map(({hook:a})=>a))}};Pn.ModuleNameTrie=LS});var f$=c(lp=>{"use strict";Object.defineProperty(lp,"__esModule",{value:!0});lp.RequireInTheMiddleSingleton=void 0;var hre=ss(),d$=require("path"),CS=h$(),dre=["afterEach","after","beforeEach","before","describe","it"].every(r=>typeof global[r]=="function"),$o=class{constructor(){this._moduleNameTrie=new CS.ModuleNameTrie,this._initialize()}_initialize(){new hre.Hook(null,{internals:!0},(e,t,n)=>{let s=fre(t),i=this._moduleNameTrie.search(s,{maintainInsertionOrder:!0,fullOnly:n===void 0});for(let{onRequire:o}of i)e=o(e,t,n);return e})}register(e,t){let n={moduleName:e,onRequire:t};return this._moduleNameTrie.insert(n),n}static getInstance(){var e;return dre?new $o:this._instance=(e=this._instance)!==null&&e!==void 0?e:new $o}};lp.RequireInTheMiddleSingleton=$o;function fre(r){return d$.sep!==CS.ModuleNameSeparator?r.split(d$.sep).join(CS.ModuleNameSeparator):r}});var g$=c(hp=>{"use strict";Object.defineProperty(hp,"__esModule",{value:!0});hp.InstrumentationBase=void 0;var p$=require("path"),pre=c$(),_re=l$(),Ere=f$(),_$=_(),gre=ss(),MS=class extends _re.InstrumentationAbstract{constructor(e,t,n={}){super(e,t,n),this._hooks=[],this._requireInTheMiddleSingleton=Ere.RequireInTheMiddleSingleton.getInstance(),this._enabled=!1;let s=this.init();s&&!Array.isArray(s)&&(s=[s]),this._modules=s||[],this._modules.length===0&&_$.diag.debug(`No modules instrumentation has been defined for '${this.instrumentationName}@${this.instrumentationVersion}', nothing will be patched`),this._config.enabled&&this.enable()}_warnOnPreloadedModules(){this._modules.forEach(e=>{let{name:t}=e;try{let n=require.resolve(t);require.cache[n]&&this._diag.warn(`Module ${t} has been loaded before ${this.instrumentationName} so it might not work, please initialize it before requiring ${t}`)}catch{}})}_extractPackageVersion(e){try{let t=require(p$.join(e,"package.json")).version;return typeof t=="string"?t:void 0}catch{_$.diag.warn("Failed extracting version",e)}}_onRequire(e,t,n,s){var i;if(!s)return typeof e.patch=="function"&&(e.moduleExports=t,this._enabled)?e.patch(t):t;let o=this._extractPackageVersion(s);return e.moduleVersion=o,e.name===n?E$(e.supportedVersions,o,e.includePrerelease)&&typeof e.patch=="function"&&(e.moduleExports=t,this._enabled)?e.patch(t,e.moduleVersion):t:((i=e.files)!==null&&i!==void 0?i:[]).filter(l=>l.name===n).filter(l=>E$(l.supportedVersions,o,e.includePrerelease)).reduce((l,h)=>(h.moduleExports=l,this._enabled?h.patch(l,e.moduleVersion):l),t)}enable(){if(!this._enabled){if(this._enabled=!0,this._hooks.length>0){for(let e of this._modules){typeof e.patch=="function"&&e.moduleExports&&e.patch(e.moduleExports,e.moduleVersion);for(let t of e.files)t.moduleExports&&t.patch(t.moduleExports,e.moduleVersion)}return}this._warnOnPreloadedModules();for(let e of this._modules){let t=(s,i,o)=>this._onRequire(e,s,i,o),n=p$.isAbsolute(e.name)?new gre.Hook([e.name],{internals:!0},t):this._requireInTheMiddleSingleton.register(e.name,t);this._hooks.push(n)}}}disable(){if(this._enabled){this._enabled=!1;for(let e of this._modules){typeof e.unpatch=="function"&&e.moduleExports&&e.unpatch(e.moduleExports,e.moduleVersion);for(let t of e.files)t.moduleExports&&t.unpatch(t.moduleExports,e.moduleVersion)}}}isEnabled(){return this._enabled}};hp.InstrumentationBase=MS;function E$(r,e,t){return typeof e>"u"?r.includes("*"):r.some(n=>(0,pre.satisfies)(e,n,{includePrerelease:t}))}});var m$=c(dp=>{"use strict";Object.defineProperty(dp,"__esModule",{value:!0});dp.InstrumentationNodeModuleDefinition=void 0;var wS=class{constructor(e,t,n,s,i){this.name=e,this.supportedVersions=t,this.patch=n,this.unpatch=s,this.files=i||[]}};dp.InstrumentationNodeModuleDefinition=wS});var T$=c(fp=>{"use strict";Object.defineProperty(fp,"__esModule",{value:!0});fp.InstrumentationNodeModuleFile=void 0;var mre=require("path"),qS=class{constructor(e,t,n,s){this.supportedVersions=t,this.patch=n,this.unpatch=s,this.name=(0,mre.normalize)(e)}};fp.InstrumentationNodeModuleFile=qS});var v$=c(S$=>{"use strict";Object.defineProperty(S$,"__esModule",{value:!0})});var A$=c(Rr=>{"use strict";var Tre=Rr&&Rr.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),pp=Rr&&Rr.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Tre(e,r,t)};Object.defineProperty(Rr,"__esModule",{value:!0});pp(g$(),Rr);pp(m$(),Rr);pp(T$(),Rr);pp(v$(),Rr)});var O$=c(ks=>{"use strict";var Sre=ks&&ks.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),vre=ks&&ks.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Sre(e,r,t)};Object.defineProperty(ks,"__esModule",{value:!0});vre(A$(),ks)});var I$=c(R$=>{"use strict";Object.defineProperty(R$,"__esModule",{value:!0})});var N$=c(b$=>{"use strict";Object.defineProperty(b$,"__esModule",{value:!0})});var y$=c(Ln=>{"use strict";Object.defineProperty(Ln,"__esModule",{value:!0});Ln.isWrapped=Ln.safeExecuteInTheMiddleAsync=Ln.safeExecuteInTheMiddle=void 0;function Are(r,e,t){let n,s;try{s=r()}catch(i){n=i}finally{if(e(n,s),n&&!t)throw n;return s}}Ln.safeExecuteInTheMiddle=Are;async function Ore(r,e,t){let n,s;try{s=await r()}catch(i){n=i}finally{if(e(n,s),n&&!t)throw n;return s}}Ln.safeExecuteInTheMiddleAsync=Ore;function Rre(r){return typeof r=="function"&&typeof r.__original=="function"&&typeof r.__unwrap=="function"&&r.__wrapped===!0}Ln.isWrapped=Rre});var P$=c(lr=>{"use strict";var Ire=lr&&lr.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Qu=lr&&lr.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Ire(e,r,t)};Object.defineProperty(lr,"__esModule",{value:!0});Qu(hx(),lr);Qu(O$(),lr);Qu(I$(),lr);Qu(N$(),lr);Qu(y$(),lr)});var C$=c(bt=>{"use strict";Object.defineProperty(bt,"__esModule",{value:!0});bt.bindPromise=bt.extractAttributesFromNormalizedRequest=bt.normalizeV3Request=bt.normalizeV2Request=bt.removeSuffixFromStringIfExists=void 0;var L$=_(),xS=Le(),bre=ZT(),Nre=r=>typeof r=="string"?r.charAt(0).toUpperCase()+r.slice(1):r,yre=(r,e)=>{let t=e.length;return(r==null?void 0:r.slice(-t))===e?r.slice(0,r.length-t):r};bt.removeSuffixFromStringIfExists=yre;var Pre=r=>{var e,t,n;let s=r==null?void 0:r.service;return{serviceName:(t=(e=s==null?void 0:s.api)===null||e===void 0?void 0:e.serviceId)===null||t===void 0?void 0:t.replace(/\s+/g,""),commandName:Nre(r==null?void 0:r.operation),commandInput:r.params,region:(n=s==null?void 0:s.config)===null||n===void 0?void 0:n.region}};bt.normalizeV2Request=Pre;var Lre=(r,e,t,n)=>({serviceName:r==null?void 0:r.replace(/\s+/g,""),commandName:bt.removeSuffixFromStringIfExists(e,"Command"),commandInput:t,region:n});bt.normalizeV3Request=Lre;var Cre=r=>({[xS.SemanticAttributes.RPC_SYSTEM]:"aws-api",[xS.SemanticAttributes.RPC_METHOD]:r.commandName,[xS.SemanticAttributes.RPC_SERVICE]:r.serviceName,[bre.AttributeNames.AWS_REGION]:r.region});bt.extractAttributesFromNormalizedRequest=Cre;var Mre=(r,e,t=1)=>{let n=r.then;return r.then=function(s,i){let o=L$.context.bind(e,s),a=L$.context.bind(e,i),u=n.call(this,o,a);return t>1?bt.bindPromise(u,e,t-1):u},r};bt.bindPromise=Mre});var q$=c(_p=>{"use strict";Object.defineProperty(_p,"__esModule",{value:!0});_p.AwsInstrumentation=void 0;var Ee=_(),wre=H(),hr=ZT(),qre=ox(),xre=ax(),Qt=P$(),Cn=C$(),M$=Le(),w$=Symbol("opentelemetry.instrumentation.aws-sdk.client.config"),jo=Symbol("opentelemetry.instrumentation.aws-sdk.span"),Kr=class extends Qt.InstrumentationBase{constructor(e={}){super("@opentelemetry/instrumentation-aws-sdk",xre.VERSION,Object.assign({},e)),this.servicesExtensions=new qre.ServicesExtensions}setConfig(e={}){this._config=Object.assign({},e)}init(){let e=new Qt.InstrumentationNodeModuleFile("@aws-sdk/middleware-stack/dist/cjs/MiddlewareStack.js",[">=3.1.0 <3.35.0"],this.patchV3ConstructStack.bind(this),this.unpatchV3ConstructStack.bind(this)),t=new Qt.InstrumentationNodeModuleFile("@aws-sdk/middleware-stack/dist-cjs/MiddlewareStack.js",[">=3.35.0"],this.patchV3ConstructStack.bind(this),this.unpatchV3ConstructStack.bind(this)),n=new Qt.InstrumentationNodeModuleDefinition("@aws-sdk/middleware-stack",["^3.1.0"],void 0,void 0,[e,t]),s=new Qt.InstrumentationNodeModuleDefinition("@aws-sdk/smithy-client",["^3.1.0"],this.patchV3SmithyClient.bind(this),this.unpatchV3SmithyClient.bind(this)),i=new Qt.InstrumentationNodeModuleFile("aws-sdk/lib/core.js",["^2.308.0"],this.patchV2.bind(this),this.unpatchV2.bind(this));return[new Qt.InstrumentationNodeModuleDefinition("aws-sdk",["^2.308.0"],void 0,void 0,[i]),n,s]}patchV3ConstructStack(e,t){return Ee.diag.debug("aws-sdk instrumentation: applying patch to aws-sdk v3 constructStack"),this._wrap(e,"constructStack",this._getV3ConstructStackPatch.bind(this,t)),e}unpatchV3ConstructStack(e){return Ee.diag.debug("aws-sdk instrumentation: applying unpatch to aws-sdk v3 constructStack"),this._unwrap(e,"constructStack"),e}patchV3SmithyClient(e){return Ee.diag.debug("aws-sdk instrumentation: applying patch to aws-sdk v3 client send"),this._wrap(e.Client.prototype,"send",this._getV3SmithyClientSendPatch.bind(this)),e}unpatchV3SmithyClient(e){return Ee.diag.debug("aws-sdk instrumentation: applying patch to aws-sdk v3 constructStack"),this._unwrap(e.Client.prototype,"send"),e}patchV2(e,t){return Ee.diag.debug(`aws-sdk instrumentation: applying patch to ${Kr.component}`),this.unpatchV2(e),this._wrap(e==null?void 0:e.Request.prototype,"send",this._getRequestSendPatch.bind(this,t)),this._wrap(e==null?void 0:e.Request.prototype,"promise",this._getRequestPromisePatch.bind(this,t)),e}unpatchV2(e){Qt.isWrapped(e==null?void 0:e.Request.prototype.send)&&this._unwrap(e.Request.prototype,"send"),Qt.isWrapped(e==null?void 0:e.Request.prototype.promise)&&this._unwrap(e.Request.prototype,"promise")}_startAwsV3Span(e,t){var n,s;let i=(n=t.spanName)!==null&&n!==void 0?n:`${e.serviceName}.${e.commandName}`;return this.tracer.startSpan(i,{kind:(s=t.spanKind)!==null&&s!==void 0?s:Ee.SpanKind.CLIENT,attributes:Object.assign(Object.assign({},Cn.extractAttributesFromNormalizedRequest(e)),t.spanAttributes)})}_startAwsV2Span(e,t,n){var s,i,o,a,u;let l=e.operation,h=e.service,d=h==null?void 0:h.serviceIdentifier,p=(s=t.spanName)!==null&&s!==void 0?s:`${n.serviceName}.${n.commandName}`;return this.tracer.startSpan(p,{kind:(i=t.spanKind)!==null&&i!==void 0?i:Ee.SpanKind.CLIENT,attributes:Object.assign(Object.assign({[hr.AttributeNames.AWS_OPERATION]:l,[hr.AttributeNames.AWS_SIGNATURE_VERSION]:(o=h==null?void 0:h.config)===null||o===void 0?void 0:o.signatureVersion,[hr.AttributeNames.AWS_SERVICE_API]:(a=h==null?void 0:h.api)===null||a===void 0?void 0:a.className,[hr.AttributeNames.AWS_SERVICE_IDENTIFIER]:d,[hr.AttributeNames.AWS_SERVICE_NAME]:(u=h==null?void 0:h.api)===null||u===void 0?void 0:u.abbreviation},Cn.extractAttributesFromNormalizedRequest(n)),t.spanAttributes)})}_callUserPreRequestHook(e,t,n){var s;if(!((s=this._config)===null||s===void 0)&&s.preRequestHook){let i={moduleVersion:n,request:t};Qt.safeExecuteInTheMiddle(()=>this._config.preRequestHook(e,i),o=>{o&&Ee.diag.error(`${Kr.component} instrumentation: preRequestHook error`,o)},!0)}}_callUserResponseHook(e,t){var n;let s=(n=this._config)===null||n===void 0?void 0:n.responseHook;if(!s)return;let i={response:t};Qt.safeExecuteInTheMiddle(()=>s(e,i),o=>{o&&Ee.diag.error(`${Kr.component} instrumentation: responseHook error`,o)},!0)}_registerV2CompletedEvent(e,t,n,s){let i=this;t.on("complete",o=>{Ee.context.with(s,()=>{var a;if(!t[jo])return;delete t[jo];let u=o.requestId,l={data:o.data,request:n,requestId:u};i._callUserResponseHook(e,l),o.error?e.recordException(o.error):this.servicesExtensions.responseHook(l,e,i.tracer,i._config),e.setAttribute(hr.AttributeNames.AWS_REQUEST_ID,u);let h=(a=o.httpResponse)===null||a===void 0?void 0:a.statusCode;h&&e.setAttribute(M$.SemanticAttributes.HTTP_STATUS_CODE,h),e.end()})})}_getV3ConstructStackPatch(e,t){let n=this;return function(...i){let o=t.apply(this,i);return n.patchV3MiddlewareStack(e,o),o}}_getV3SmithyClientSendPatch(e){return function(n,...s){return n[w$]=this.config,e.apply(this,[n,...s])}}patchV3MiddlewareStack(e,t){Qt.isWrapped(t.resolve)||this._wrap(t,"resolve",this._getV3MiddlewareStackResolvePatch.bind(this,e)),this._wrap(t,"clone",this._getV3MiddlewareStackClonePatch.bind(this,e)),this._wrap(t,"concat",this._getV3MiddlewareStackClonePatch.bind(this,e))}_getV3MiddlewareStackClonePatch(e,t){let n=this;return function(...s){let i=t.apply(this,s);return n.patchV3MiddlewareStack(e,i),i}}_getV3MiddlewareStackResolvePatch(e,t){let n=this;return function(s,i){let o=t.call(this,s,i);return function(u){var l,h,d,p;let f=u[w$],E=(l=f==null?void 0:f.region)===null||l===void 0?void 0:l.call(f),y=(h=f==null?void 0:f.serviceId)!==null&&h!==void 0?h:Cn.removeSuffixFromStringIfExists(i.clientName,"Client"),q=(d=i.commandName)!==null&&d!==void 0?d:(p=u.constructor)===null||p===void 0?void 0:p.name,N=Cn.normalizeV3Request(y,q,u.input,void 0),Y=n.servicesExtensions.requestPreSpanHook(N),M=n._startAwsV3Span(N,Y),re=Ee.trace.setSpan(Ee.context.active(),M),oe=new Promise((Oe,W)=>{Promise.resolve(E).then(ne=>{N.region=ne,M.setAttribute(hr.AttributeNames.AWS_REGION,ne)}).catch(ne=>{Ee.diag.debug(`${Kr.component} instrumentation: failed to extract region from async function`,ne)}).finally(()=>{n._callUserPreRequestHook(M,N,e),Ee.context.with(re,()=>(n.servicesExtensions.requestPostSpanHook(N),n._callOriginalFunction(()=>o.call(this,u)))).then(ee=>{var P,D,ce,K,ae,Xe;let le=(D=(P=ee.output)===null||P===void 0?void 0:P.$metadata)===null||D===void 0?void 0:D.requestId;le&&M.setAttribute(hr.AttributeNames.AWS_REQUEST_ID,le);let he=(K=(ce=ee.output)===null||ce===void 0?void 0:ce.$metadata)===null||K===void 0?void 0:K.httpStatusCode;he&&M.setAttribute(M$.SemanticAttributes.HTTP_STATUS_CODE,he);let Ue=(Xe=(ae=ee.output)===null||ae===void 0?void 0:ae.$metadata)===null||Xe===void 0?void 0:Xe.extendedRequestId;Ue&&M.setAttribute(hr.AttributeNames.AWS_REQUEST_EXTENDED_ID,Ue);let $t={data:ee.output,request:N,requestId:le};return n.servicesExtensions.responseHook($t,M,n.tracer,n._config),n._callUserResponseHook(M,$t),ee}).catch(ee=>{let P=ee==null?void 0:ee.RequestId;P&&M.setAttribute(hr.AttributeNames.AWS_REQUEST_ID,P);let D=ee==null?void 0:ee.extendedRequestId;throw D&&M.setAttribute(hr.AttributeNames.AWS_REQUEST_EXTENDED_ID,D),M.setStatus({code:Ee.SpanStatusCode.ERROR,message:ee.message}),M.recordException(ee),ee}).finally(()=>{M.end()}).then(ee=>{Oe(ee)}).catch(ee=>W(ee))})});return Y.isIncoming?Cn.bindPromise(oe,re,2):oe}}}_getRequestSendPatch(e,t){let n=this;return function(s){if(this[jo])return t.call(this,s);let i=Cn.normalizeV2Request(this),o=n.servicesExtensions.requestPreSpanHook(i),a=n._startAwsV2Span(this,o,i);this[jo]=a;let u=Ee.trace.setSpan(Ee.context.active(),a),l=Ee.context.bind(u,s);return n._callUserPreRequestHook(a,i,e),n._registerV2CompletedEvent(a,this,i,u),Ee.context.with(u,()=>(n.servicesExtensions.requestPostSpanHook(i),n._callOriginalFunction(()=>t.call(this,l))))}}_getRequestPromisePatch(e,t){let n=this;return function(...s){if(this[jo])return t.apply(this,s);let i=Cn.normalizeV2Request(this),o=n.servicesExtensions.requestPreSpanHook(i),a=n._startAwsV2Span(this,o,i);this[jo]=a;let u=Ee.trace.setSpan(Ee.context.active(),a);n._callUserPreRequestHook(a,i,e),n._registerV2CompletedEvent(a,this,i,u);let l=Ee.context.with(u,()=>(n.servicesExtensions.requestPostSpanHook(i),n._callOriginalFunction(()=>t.call(this,arguments))));return o.isIncoming?Cn.bindPromise(l,u):l}}_callOriginalFunction(e){var t;return!((t=this._config)===null||t===void 0)&&t.suppressInternalInstrumentation?Ee.context.with(wre.suppressTracing(Ee.context.active()),e):e()}};_p.AwsInstrumentation=Kr;Kr.component="aws-sdk"});var D$=c(x$=>{"use strict";Object.defineProperty(x$,"__esModule",{value:!0})});var j$=c(Mn=>{"use strict";var Dre=Mn&&Mn.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),$$=Mn&&Mn.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Dre(e,r,t)};Object.defineProperty(Mn,"__esModule",{value:!0});$$(q$(),Mn);$$(D$(),Mn)});var G$=jS(xN()),F$=jS(Mi());function Ba(r,e="",t={}){if(e&&typeof r=="object"&&r!==null&&Object.keys(r).length===0)return t[e]=Array.isArray(r)?[]:{},t;e=e?`${e}.`:"";for(let n in r)Object.prototype.hasOwnProperty.call(r,n)&&(typeof r[n]=="object"&&r[n]!==null?Ba(r[n],e+n,t):t[e+n]=r[n]);return t}var Yr=_(),{BatchSpanProcessor:$re}=Wa(),{OTLPTraceExporter:jre}=WL(),{NodeTracerProvider:Ure}=u1(),{registerInstrumentations:Gre}=UE(),{AwsLambdaInstrumentation:Fre}=Kq(),{AwsInstrumentation:Bre}=j$();process.env.OTEL_LOG_LEVEL==="debug"&&(console.log("debug logging enabled"),Yr.diag.setLogger(new Yr.DiagConsoleLogger,Yr.DiagLogLevel.ALL));var B$=new Ure({resource:new F$.Resource({"service.name":process.env.BASELIME_SERVICE,"faas.name":process.env.AWS_LAMBDA_FUNCTION_NAME,"aws.region":process.env.AWS_REGION||"unknown"})}),Vre=new $re(new jre({url:process.env.COLLECTOR_URL||"https://otel.baselime.io/v1",headers:{"x-api-key":process.env.BASELIME_KEY||process.env.BASELIME_OTEL_KEY}}));B$.addSpanProcessor(Vre);B$.register();function Hre(r){var e,t;return(e=r.requestContext)!=null&&e.apiId?"api":r.Records&&((t=r.Records[0])==null?void 0:t.EventSource)==="aws:sns"?"sns":"unknown"}var U$={keys(r){return Object.keys(r)},get(r,e){return r[e]}},Xre={keys(r){return Object.keys(r)},get(r,e){var t;return console.log(r,e),(t=r[e])==null?void 0:t.Value}};Gre({instrumentations:[new Bre({suppressInternalInstrumentation:!0,responseHook:(r,{response:e})=>{e&&r.setAttributes(Ba({request:e.request,response:e.data}))}}),new G$.HttpInstrumentation({}),new Fre({disableAwsContextPropagation:!0,requestHook:(r,{event:e,context:t})=>{r.setAttribute("name",t.functionName),r.setAttributes(Ba(e,"event"))},responseHook:(r,{err:e,res:t})=>{e instanceof Error&&(r.setAttribute("error.message",e.message),r.setAttribute("error.name",e.name),r.setAttribute("error.stack",e.stack)),t&&r.setAttributes(Ba(t,"response"))},eventContextExtractor:r=>{switch(Hre(r)){case"api":let e=r.headers||{};return Yr.propagation.extract(Yr.context.active(),e,U$);case"sns":return Yr.propagation.extract(Yr.context.active(),r.Records[0].Sns.MessageAttributes,Xre)}return Yr.propagation.extract(Yr.context.active(),{},U$)}})]});
