var P0=Object.create;var Sg=Object.defineProperty;var N0=Object.getOwnPropertyDescriptor;var I0=Object.getOwnPropertyNames;var b0=Object.getPrototypeOf,v0=Object.prototype.hasOwnProperty;var a=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports);var C0=(r,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of I0(e))!v0.call(r,i)&&i!==t&&Sg(r,i,{get:()=>e[i],enumerable:!(n=N0(e,i))||n.enumerable});return r};var Ag=(r,e,t)=>(t=r!=null?P0(b0(r)):{},C0(e||!r||!r.__esModule?Sg(t,"default",{value:r,enumerable:!0}):t,r));var hg=a(Ua=>{"use strict";Object.defineProperty(Ua,"__esModule",{value:!0});Ua._globalThis=void 0;Ua._globalThis=typeof globalThis=="object"?globalThis:global});var gg=a(un=>{"use strict";var M0=un&&un.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),y0=un&&un.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&M0(e,r,t)};Object.defineProperty(un,"__esModule",{value:!0});y0(hg(),un)});var Og=a(cn=>{"use strict";var L0=cn&&cn.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),D0=cn&&cn.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&L0(e,r,t)};Object.defineProperty(cn,"__esModule",{value:!0});D0(gg(),cn)});var HE=a(Ba=>{"use strict";Object.defineProperty(Ba,"__esModule",{value:!0});Ba.VERSION=void 0;Ba.VERSION="1.3.0"});var Pg=a(bi=>{"use strict";Object.defineProperty(bi,"__esModule",{value:!0});bi.isCompatible=bi._makeCompatibilityCheck=void 0;var w0=HE(),mg=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;function Rg(r){let e=new Set([r]),t=new Set,n=r.match(mg);if(!n)return()=>!1;let i={major:+n[1],minor:+n[2],patch:+n[3],prerelease:n[4]};if(i.prerelease!=null)return function(c){return c===r};function s(u){return t.add(u),!1}function o(u){return e.add(u),!0}return function(c){if(e.has(c))return!0;if(t.has(c))return!1;let _=c.match(mg);if(!_)return s(c);let l={major:+_[1],minor:+_[2],patch:+_[3],prerelease:_[4]};return l.prerelease!=null||i.major!==l.major?s(c):i.major===0?i.minor===l.minor&&i.patch<=l.patch?o(c):s(c):i.minor<=l.minor?o(c):s(c)}}bi._makeCompatibilityCheck=Rg;bi.isCompatible=Rg(w0.VERSION)});var _n=a(mr=>{"use strict";Object.defineProperty(mr,"__esModule",{value:!0});mr.unregisterGlobal=mr.getGlobal=mr.registerGlobal=void 0;var U0=Og(),qs=HE(),B0=Pg(),G0=qs.VERSION.split(".")[0],js=Symbol.for(`opentelemetry.js.api.${G0}`),Vs=U0._globalThis;function q0(r,e,t,n=!1){var i;let s=Vs[js]=(i=Vs[js])!==null&&i!==void 0?i:{version:qs.VERSION};if(!n&&s[r]){let o=new Error(`@opentelemetry/api: Attempted duplicate registration of API: ${r}`);return t.error(o.stack||o.message),!1}if(s.version!==qs.VERSION){let o=new Error("@opentelemetry/api: All API registration versions must match");return t.error(o.stack||o.message),!1}return s[r]=e,t.debug(`@opentelemetry/api: Registered a global for ${r} v${qs.VERSION}.`),!0}mr.registerGlobal=q0;function j0(r){var e,t;let n=(e=Vs[js])===null||e===void 0?void 0:e.version;if(!(!n||!(0,B0.isCompatible)(n)))return(t=Vs[js])===null||t===void 0?void 0:t[r]}mr.getGlobal=j0;function V0(r,e){e.debug(`@opentelemetry/api: Unregistering a global for ${r} v${qs.VERSION}.`);let t=Vs[js];t&&delete t[r]}mr.unregisterGlobal=V0});var Ng=a(Ga=>{"use strict";Object.defineProperty(Ga,"__esModule",{value:!0});Ga.DiagComponentLogger=void 0;var H0=_n(),FE=class{constructor(e){this._namespace=e.namespace||"DiagComponentLogger"}debug(...e){return Hs("debug",this._namespace,e)}error(...e){return Hs("error",this._namespace,e)}info(...e){return Hs("info",this._namespace,e)}warn(...e){return Hs("warn",this._namespace,e)}verbose(...e){return Hs("verbose",this._namespace,e)}};Ga.DiagComponentLogger=FE;function Hs(r,e,t){let n=(0,H0.getGlobal)("diag");if(n)return t.unshift(e),n[r](...t)}});var qa=a(Fs=>{"use strict";Object.defineProperty(Fs,"__esModule",{value:!0});Fs.DiagLogLevel=void 0;var F0;(function(r){r[r.NONE=0]="NONE",r[r.ERROR=30]="ERROR",r[r.WARN=50]="WARN",r[r.INFO=60]="INFO",r[r.DEBUG=70]="DEBUG",r[r.VERBOSE=80]="VERBOSE",r[r.ALL=9999]="ALL"})(F0=Fs.DiagLogLevel||(Fs.DiagLogLevel={}))});var Ig=a(ja=>{"use strict";Object.defineProperty(ja,"__esModule",{value:!0});ja.createLogLevelDiagLogger=void 0;var tr=qa();function x0(r,e){r<tr.DiagLogLevel.NONE?r=tr.DiagLogLevel.NONE:r>tr.DiagLogLevel.ALL&&(r=tr.DiagLogLevel.ALL),e=e||{};function t(n,i){let s=e[n];return typeof s=="function"&&r>=i?s.bind(e):function(){}}return{error:t("error",tr.DiagLogLevel.ERROR),warn:t("warn",tr.DiagLogLevel.WARN),info:t("info",tr.DiagLogLevel.INFO),debug:t("debug",tr.DiagLogLevel.DEBUG),verbose:t("verbose",tr.DiagLogLevel.VERBOSE)}}ja.createLogLevelDiagLogger=x0});var ln=a(Ha=>{"use strict";Object.defineProperty(Ha,"__esModule",{value:!0});Ha.DiagAPI=void 0;var K0=Ng(),$0=Ig(),bg=qa(),Va=_n(),X0="diag",xs=class{constructor(){function e(i){return function(...s){let o=(0,Va.getGlobal)("diag");if(o)return o[i](...s)}}let t=this,n=(i,s={logLevel:bg.DiagLogLevel.INFO})=>{var o,u,c;if(i===t){let d=new Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return t.error((o=d.stack)!==null&&o!==void 0?o:d.message),!1}typeof s=="number"&&(s={logLevel:s});let _=(0,Va.getGlobal)("diag"),l=(0,$0.createLogLevelDiagLogger)((u=s.logLevel)!==null&&u!==void 0?u:bg.DiagLogLevel.INFO,i);if(_&&!s.suppressOverrideMessage){let d=(c=new Error().stack)!==null&&c!==void 0?c:"<failed to generate stacktrace>";_.warn(`Current logger will be overwritten from ${d}`),l.warn(`Current logger will overwrite one already registered from ${d}`)}return(0,Va.registerGlobal)("diag",l,t,!0)};t.setLogger=n,t.disable=()=>{(0,Va.unregisterGlobal)(X0,t)},t.createComponentLogger=i=>new K0.DiagComponentLogger(i),t.verbose=e("verbose"),t.debug=e("debug"),t.info=e("info"),t.warn=e("warn"),t.error=e("error")}static instance(){return this._instance||(this._instance=new xs),this._instance}};Ha.DiagAPI=xs});var vg=a(Fa=>{"use strict";Object.defineProperty(Fa,"__esModule",{value:!0});Fa.BaggageImpl=void 0;var Rr=class{constructor(e){this._entries=e?new Map(e):new Map}getEntry(e){let t=this._entries.get(e);if(t)return Object.assign({},t)}getAllEntries(){return Array.from(this._entries.entries()).map(([e,t])=>[e,t])}setEntry(e,t){let n=new Rr(this._entries);return n._entries.set(e,t),n}removeEntry(e){let t=new Rr(this._entries);return t._entries.delete(e),t}removeEntries(...e){let t=new Rr(this._entries);for(let n of e)t._entries.delete(n);return t}clear(){return new Rr}};Fa.BaggageImpl=Rr});var Cg=a(xa=>{"use strict";Object.defineProperty(xa,"__esModule",{value:!0});xa.baggageEntryMetadataSymbol=void 0;xa.baggageEntryMetadataSymbol=Symbol("BaggageEntryMetadata")});var xE=a(vi=>{"use strict";Object.defineProperty(vi,"__esModule",{value:!0});vi.baggageEntryMetadataFromString=vi.createBaggage=void 0;var Y0=ln(),W0=vg(),k0=Cg(),z0=Y0.DiagAPI.instance();function Q0(r={}){return new W0.BaggageImpl(new Map(Object.entries(r)))}vi.createBaggage=Q0;function Z0(r){return typeof r!="string"&&(z0.error(`Cannot create baggage metadata from unknown type: ${typeof r}`),r=""),{__TYPE__:k0.baggageEntryMetadataSymbol,toString(){return r}}}vi.baggageEntryMetadataFromString=Z0});var Ks=a(Mi=>{"use strict";Object.defineProperty(Mi,"__esModule",{value:!0});Mi.ROOT_CONTEXT=Mi.createContextKey=void 0;function J0(r){return Symbol.for(r)}Mi.createContextKey=J0;var Ci=class{constructor(e){let t=this;t._currentContext=e?new Map(e):new Map,t.getValue=n=>t._currentContext.get(n),t.setValue=(n,i)=>{let s=new Ci(t._currentContext);return s._currentContext.set(n,i),s},t.deleteValue=n=>{let i=new Ci(t._currentContext);return i._currentContext.delete(n),i}}};Mi.ROOT_CONTEXT=new Ci});var Mg=a(Ka=>{"use strict";Object.defineProperty(Ka,"__esModule",{value:!0});Ka.DiagConsoleLogger=void 0;var KE=[{n:"error",c:"error"},{n:"warn",c:"warn"},{n:"info",c:"info"},{n:"debug",c:"debug"},{n:"verbose",c:"trace"}],$E=class{constructor(){function e(t){return function(...n){if(console){let i=console[t];if(typeof i!="function"&&(i=console.log),typeof i=="function")return i.apply(console,n)}}}for(let t=0;t<KE.length;t++)this[KE[t].n]=e(KE[t].c)}};Ka.DiagConsoleLogger=$E});var XE=a(M=>{"use strict";Object.defineProperty(M,"__esModule",{value:!0});M.createNoopMeter=M.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=M.NOOP_OBSERVABLE_GAUGE_METRIC=M.NOOP_OBSERVABLE_COUNTER_METRIC=M.NOOP_UP_DOWN_COUNTER_METRIC=M.NOOP_HISTOGRAM_METRIC=M.NOOP_COUNTER_METRIC=M.NOOP_METER=M.NoopObservableUpDownCounterMetric=M.NoopObservableGaugeMetric=M.NoopObservableCounterMetric=M.NoopObservableMetric=M.NoopHistogramMetric=M.NoopUpDownCounterMetric=M.NoopCounterMetric=M.NoopMetric=M.NoopMeter=void 0;var $a=class{constructor(){}createHistogram(e,t){return M.NOOP_HISTOGRAM_METRIC}createCounter(e,t){return M.NOOP_COUNTER_METRIC}createUpDownCounter(e,t){return M.NOOP_UP_DOWN_COUNTER_METRIC}createObservableGauge(e,t){return M.NOOP_OBSERVABLE_GAUGE_METRIC}createObservableCounter(e,t){return M.NOOP_OBSERVABLE_COUNTER_METRIC}createObservableUpDownCounter(e,t){return M.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC}addBatchObservableCallback(e,t){}removeBatchObservableCallback(e){}};M.NoopMeter=$a;var yi=class{};M.NoopMetric=yi;var Xa=class extends yi{add(e,t){}};M.NoopCounterMetric=Xa;var Ya=class extends yi{add(e,t){}};M.NoopUpDownCounterMetric=Ya;var Wa=class extends yi{record(e,t){}};M.NoopHistogramMetric=Wa;var Li=class{addCallback(e){}removeCallback(e){}};M.NoopObservableMetric=Li;var ka=class extends Li{};M.NoopObservableCounterMetric=ka;var za=class extends Li{};M.NoopObservableGaugeMetric=za;var Qa=class extends Li{};M.NoopObservableUpDownCounterMetric=Qa;M.NOOP_METER=new $a;M.NOOP_COUNTER_METRIC=new Xa;M.NOOP_HISTOGRAM_METRIC=new Wa;M.NOOP_UP_DOWN_COUNTER_METRIC=new Ya;M.NOOP_OBSERVABLE_COUNTER_METRIC=new ka;M.NOOP_OBSERVABLE_GAUGE_METRIC=new za;M.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=new Qa;function e1(){return M.NOOP_METER}M.createNoopMeter=e1});var yg=a($s=>{"use strict";Object.defineProperty($s,"__esModule",{value:!0});$s.ValueType=void 0;var t1;(function(r){r[r.INT=0]="INT",r[r.DOUBLE=1]="DOUBLE"})(t1=$s.ValueType||($s.ValueType={}))});var YE=a(Di=>{"use strict";Object.defineProperty(Di,"__esModule",{value:!0});Di.defaultTextMapSetter=Di.defaultTextMapGetter=void 0;Di.defaultTextMapGetter={get(r,e){if(r!=null)return r[e]},keys(r){return r==null?[]:Object.keys(r)}};Di.defaultTextMapSetter={set(r,e,t){r!=null&&(r[e]=t)}}});var Lg=a(Za=>{"use strict";Object.defineProperty(Za,"__esModule",{value:!0});Za.NoopContextManager=void 0;var r1=Ks(),WE=class{active(){return r1.ROOT_CONTEXT}with(e,t,n,...i){return t.call(n,...i)}bind(e,t){return t}enable(){return this}disable(){return this}};Za.NoopContextManager=WE});var eu=a(Ja=>{"use strict";Object.defineProperty(Ja,"__esModule",{value:!0});Ja.ContextAPI=void 0;var n1=Lg(),kE=_n(),Dg=ln(),zE="context",i1=new n1.NoopContextManager,Xs=class{constructor(){}static getInstance(){return this._instance||(this._instance=new Xs),this._instance}setGlobalContextManager(e){return(0,kE.registerGlobal)(zE,e,Dg.DiagAPI.instance())}active(){return this._getContextManager().active()}with(e,t,n,...i){return this._getContextManager().with(e,t,n,...i)}bind(e,t){return this._getContextManager().bind(e,t)}_getContextManager(){return(0,kE.getGlobal)(zE)||i1}disable(){this._getContextManager().disable(),(0,kE.unregisterGlobal)(zE,Dg.DiagAPI.instance())}};Ja.ContextAPI=Xs});var QE=a(Ys=>{"use strict";Object.defineProperty(Ys,"__esModule",{value:!0});Ys.TraceFlags=void 0;var s1;(function(r){r[r.NONE=0]="NONE",r[r.SAMPLED=1]="SAMPLED"})(s1=Ys.TraceFlags||(Ys.TraceFlags={}))});var tu=a(Vt=>{"use strict";Object.defineProperty(Vt,"__esModule",{value:!0});Vt.INVALID_SPAN_CONTEXT=Vt.INVALID_TRACEID=Vt.INVALID_SPANID=void 0;var o1=QE();Vt.INVALID_SPANID="0000000000000000";Vt.INVALID_TRACEID="00000000000000000000000000000000";Vt.INVALID_SPAN_CONTEXT={traceId:Vt.INVALID_TRACEID,spanId:Vt.INVALID_SPANID,traceFlags:o1.TraceFlags.NONE}});var nu=a(ru=>{"use strict";Object.defineProperty(ru,"__esModule",{value:!0});ru.NonRecordingSpan=void 0;var a1=tu(),ZE=class{constructor(e=a1.INVALID_SPAN_CONTEXT){this._spanContext=e}spanContext(){return this._spanContext}setAttribute(e,t){return this}setAttributes(e){return this}addEvent(e,t){return this}setStatus(e){return this}updateName(e){return this}end(e){}isRecording(){return!1}recordException(e,t){}};ru.NonRecordingSpan=ZE});var tp=a(tt=>{"use strict";Object.defineProperty(tt,"__esModule",{value:!0});tt.getSpanContext=tt.setSpanContext=tt.deleteSpan=tt.setSpan=tt.getActiveSpan=tt.getSpan=void 0;var u1=Ks(),c1=nu(),_1=eu(),JE=(0,u1.createContextKey)("OpenTelemetry Context Key SPAN");function ep(r){return r.getValue(JE)||void 0}tt.getSpan=ep;function l1(){return ep(_1.ContextAPI.getInstance().active())}tt.getActiveSpan=l1;function wg(r,e){return r.setValue(JE,e)}tt.setSpan=wg;function d1(r){return r.deleteValue(JE)}tt.deleteSpan=d1;function E1(r,e){return wg(r,new c1.NonRecordingSpan(e))}tt.setSpanContext=E1;function p1(r){var e;return(e=ep(r))===null||e===void 0?void 0:e.spanContext()}tt.getSpanContext=p1});var iu=a(Ht=>{"use strict";Object.defineProperty(Ht,"__esModule",{value:!0});Ht.wrapSpanContext=Ht.isSpanContextValid=Ht.isValidSpanId=Ht.isValidTraceId=void 0;var Ug=tu(),f1=nu(),T1=/^([0-9a-f]{32})$/i,S1=/^[0-9a-f]{16}$/i;function Bg(r){return T1.test(r)&&r!==Ug.INVALID_TRACEID}Ht.isValidTraceId=Bg;function Gg(r){return S1.test(r)&&r!==Ug.INVALID_SPANID}Ht.isValidSpanId=Gg;function A1(r){return Bg(r.traceId)&&Gg(r.spanId)}Ht.isSpanContextValid=A1;function h1(r){return new f1.NonRecordingSpan(r)}Ht.wrapSpanContext=h1});var ip=a(su=>{"use strict";Object.defineProperty(su,"__esModule",{value:!0});su.NoopTracer=void 0;var g1=eu(),qg=tp(),rp=nu(),O1=iu(),jg=g1.ContextAPI.getInstance(),np=class{startSpan(e,t,n){if(Boolean(t==null?void 0:t.root))return new rp.NonRecordingSpan;let s=n&&(0,qg.getSpanContext)(n);return m1(s)&&(0,O1.isSpanContextValid)(s)?new rp.NonRecordingSpan(s):new rp.NonRecordingSpan}startActiveSpan(e,t,n,i){let s,o,u;if(arguments.length<2)return;arguments.length===2?u=t:arguments.length===3?(s=t,u=n):(s=t,o=n,u=i);let c=o??jg.active(),_=this.startSpan(e,s,c),l=(0,qg.setSpan)(c,_);return jg.with(l,u,void 0,_)}};su.NoopTracer=np;function m1(r){return typeof r=="object"&&typeof r.spanId=="string"&&typeof r.traceId=="string"&&typeof r.traceFlags=="number"}});var op=a(ou=>{"use strict";Object.defineProperty(ou,"__esModule",{value:!0});ou.ProxyTracer=void 0;var R1=ip(),P1=new R1.NoopTracer,sp=class{constructor(e,t,n,i){this._provider=e,this.name=t,this.version=n,this.options=i}startSpan(e,t,n){return this._getTracer().startSpan(e,t,n)}startActiveSpan(e,t,n,i){let s=this._getTracer();return Reflect.apply(s.startActiveSpan,s,arguments)}_getTracer(){if(this._delegate)return this._delegate;let e=this._provider.getDelegateTracer(this.name,this.version,this.options);return e?(this._delegate=e,this._delegate):P1}};ou.ProxyTracer=sp});var Vg=a(au=>{"use strict";Object.defineProperty(au,"__esModule",{value:!0});au.NoopTracerProvider=void 0;var N1=ip(),ap=class{getTracer(e,t,n){return new N1.NoopTracer}};au.NoopTracerProvider=ap});var cp=a(uu=>{"use strict";Object.defineProperty(uu,"__esModule",{value:!0});uu.ProxyTracerProvider=void 0;var I1=op(),b1=Vg(),v1=new b1.NoopTracerProvider,up=class{getTracer(e,t,n){var i;return(i=this.getDelegateTracer(e,t,n))!==null&&i!==void 0?i:new I1.ProxyTracer(this,e,t,n)}getDelegate(){var e;return(e=this._delegate)!==null&&e!==void 0?e:v1}setDelegate(e){this._delegate=e}getDelegateTracer(e,t,n){var i;return(i=this._delegate)===null||i===void 0?void 0:i.getTracer(e,t,n)}};uu.ProxyTracerProvider=up});var Hg=a(Ws=>{"use strict";Object.defineProperty(Ws,"__esModule",{value:!0});Ws.SamplingDecision=void 0;var C1;(function(r){r[r.NOT_RECORD=0]="NOT_RECORD",r[r.RECORD=1]="RECORD",r[r.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"})(C1=Ws.SamplingDecision||(Ws.SamplingDecision={}))});var Fg=a(ks=>{"use strict";Object.defineProperty(ks,"__esModule",{value:!0});ks.SpanKind=void 0;var M1;(function(r){r[r.INTERNAL=0]="INTERNAL",r[r.SERVER=1]="SERVER",r[r.CLIENT=2]="CLIENT",r[r.PRODUCER=3]="PRODUCER",r[r.CONSUMER=4]="CONSUMER"})(M1=ks.SpanKind||(ks.SpanKind={}))});var xg=a(zs=>{"use strict";Object.defineProperty(zs,"__esModule",{value:!0});zs.SpanStatusCode=void 0;var y1;(function(r){r[r.UNSET=0]="UNSET",r[r.OK=1]="OK",r[r.ERROR=2]="ERROR"})(y1=zs.SpanStatusCode||(zs.SpanStatusCode={}))});var Kg=a(wi=>{"use strict";Object.defineProperty(wi,"__esModule",{value:!0});wi.validateValue=wi.validateKey=void 0;var _p="[_0-9a-z-*/]",L1=`[a-z]${_p}{0,255}`,D1=`[a-z0-9]${_p}{0,240}@[a-z]${_p}{0,13}`,w1=new RegExp(`^(?:${L1}|${D1})$`),U1=/^[ -~]{0,255}[!-~]$/,B1=/,|=/;function G1(r){return w1.test(r)}wi.validateKey=G1;function q1(r){return U1.test(r)&&!B1.test(r)}wi.validateValue=q1});var kg=a(cu=>{"use strict";Object.defineProperty(cu,"__esModule",{value:!0});cu.TraceStateImpl=void 0;var $g=Kg(),Xg=32,j1=512,Yg=",",Wg="=",Qs=class{constructor(e){this._internalState=new Map,e&&this._parse(e)}set(e,t){let n=this._clone();return n._internalState.has(e)&&n._internalState.delete(e),n._internalState.set(e,t),n}unset(e){let t=this._clone();return t._internalState.delete(e),t}get(e){return this._internalState.get(e)}serialize(){return this._keys().reduce((e,t)=>(e.push(t+Wg+this.get(t)),e),[]).join(Yg)}_parse(e){e.length>j1||(this._internalState=e.split(Yg).reverse().reduce((t,n)=>{let i=n.trim(),s=i.indexOf(Wg);if(s!==-1){let o=i.slice(0,s),u=i.slice(s+1,n.length);(0,$g.validateKey)(o)&&(0,$g.validateValue)(u)&&t.set(o,u)}return t},new Map),this._internalState.size>Xg&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,Xg))))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let e=new Qs;return e._internalState=new Map(this._internalState),e}};cu.TraceStateImpl=Qs});var zg=a(_u=>{"use strict";Object.defineProperty(_u,"__esModule",{value:!0});_u.createTraceState=void 0;var V1=kg();function H1(r){return new V1.TraceStateImpl(r)}_u.createTraceState=H1});var Qg=a(lu=>{"use strict";Object.defineProperty(lu,"__esModule",{value:!0});lu.context=void 0;var F1=eu();lu.context=F1.ContextAPI.getInstance()});var Zg=a(du=>{"use strict";Object.defineProperty(du,"__esModule",{value:!0});du.diag=void 0;var x1=ln();du.diag=x1.DiagAPI.instance()});var Jg=a(Ui=>{"use strict";Object.defineProperty(Ui,"__esModule",{value:!0});Ui.NOOP_METER_PROVIDER=Ui.NoopMeterProvider=void 0;var K1=XE(),Eu=class{getMeter(e,t,n){return K1.NOOP_METER}};Ui.NoopMeterProvider=Eu;Ui.NOOP_METER_PROVIDER=new Eu});var tO=a(pu=>{"use strict";Object.defineProperty(pu,"__esModule",{value:!0});pu.MetricsAPI=void 0;var $1=Jg(),lp=_n(),eO=ln(),dp="metrics",Zs=class{constructor(){}static getInstance(){return this._instance||(this._instance=new Zs),this._instance}setGlobalMeterProvider(e){return(0,lp.registerGlobal)(dp,e,eO.DiagAPI.instance())}getMeterProvider(){return(0,lp.getGlobal)(dp)||$1.NOOP_METER_PROVIDER}getMeter(e,t,n){return this.getMeterProvider().getMeter(e,t,n)}disable(){(0,lp.unregisterGlobal)(dp,eO.DiagAPI.instance())}};pu.MetricsAPI=Zs});var rO=a(fu=>{"use strict";Object.defineProperty(fu,"__esModule",{value:!0});fu.metrics=void 0;var X1=tO();fu.metrics=X1.MetricsAPI.getInstance()});var nO=a(Tu=>{"use strict";Object.defineProperty(Tu,"__esModule",{value:!0});Tu.NoopTextMapPropagator=void 0;var Ep=class{inject(e,t){}extract(e,t){return e}fields(){return[]}};Tu.NoopTextMapPropagator=Ep});var iO=a(Pr=>{"use strict";Object.defineProperty(Pr,"__esModule",{value:!0});Pr.deleteBaggage=Pr.setBaggage=Pr.getBaggage=void 0;var Y1=Ks(),pp=(0,Y1.createContextKey)("OpenTelemetry Baggage Key");function W1(r){return r.getValue(pp)||void 0}Pr.getBaggage=W1;function k1(r,e){return r.setValue(pp,e)}Pr.setBaggage=k1;function z1(r){return r.deleteValue(pp)}Pr.deleteBaggage=z1});var aO=a(Su=>{"use strict";Object.defineProperty(Su,"__esModule",{value:!0});Su.PropagationAPI=void 0;var fp=_n(),Q1=nO(),sO=YE(),Tp=iO(),Z1=xE(),oO=ln(),Sp="propagation",J1=new Q1.NoopTextMapPropagator,Js=class{constructor(){this.createBaggage=Z1.createBaggage,this.getBaggage=Tp.getBaggage,this.setBaggage=Tp.setBaggage,this.deleteBaggage=Tp.deleteBaggage}static getInstance(){return this._instance||(this._instance=new Js),this._instance}setGlobalPropagator(e){return(0,fp.registerGlobal)(Sp,e,oO.DiagAPI.instance())}inject(e,t,n=sO.defaultTextMapSetter){return this._getGlobalPropagator().inject(e,t,n)}extract(e,t,n=sO.defaultTextMapGetter){return this._getGlobalPropagator().extract(e,t,n)}fields(){return this._getGlobalPropagator().fields()}disable(){(0,fp.unregisterGlobal)(Sp,oO.DiagAPI.instance())}_getGlobalPropagator(){return(0,fp.getGlobal)(Sp)||J1}};Su.PropagationAPI=Js});var uO=a(Au=>{"use strict";Object.defineProperty(Au,"__esModule",{value:!0});Au.propagation=void 0;var ew=aO();Au.propagation=ew.PropagationAPI.getInstance()});var dO=a(hu=>{"use strict";Object.defineProperty(hu,"__esModule",{value:!0});hu.TraceAPI=void 0;var Ap=_n(),cO=cp(),_O=iu(),Bi=tp(),lO=ln(),hp="trace",eo=class{constructor(){this._proxyTracerProvider=new cO.ProxyTracerProvider,this.wrapSpanContext=_O.wrapSpanContext,this.isSpanContextValid=_O.isSpanContextValid,this.deleteSpan=Bi.deleteSpan,this.getSpan=Bi.getSpan,this.getActiveSpan=Bi.getActiveSpan,this.getSpanContext=Bi.getSpanContext,this.setSpan=Bi.setSpan,this.setSpanContext=Bi.setSpanContext}static getInstance(){return this._instance||(this._instance=new eo),this._instance}setGlobalTracerProvider(e){let t=(0,Ap.registerGlobal)(hp,this._proxyTracerProvider,lO.DiagAPI.instance());return t&&this._proxyTracerProvider.setDelegate(e),t}getTracerProvider(){return(0,Ap.getGlobal)(hp)||this._proxyTracerProvider}getTracer(e,t){return this.getTracerProvider().getTracer(e,t)}disable(){(0,Ap.unregisterGlobal)(hp,lO.DiagAPI.instance()),this._proxyTracerProvider=new cO.ProxyTracerProvider}};hu.TraceAPI=eo});var EO=a(gu=>{"use strict";Object.defineProperty(gu,"__esModule",{value:!0});gu.trace=void 0;var tw=dO();gu.trace=tw.TraceAPI.getInstance()});var f=a(h=>{"use strict";Object.defineProperty(h,"__esModule",{value:!0});h.trace=h.propagation=h.metrics=h.diag=h.context=h.INVALID_SPAN_CONTEXT=h.INVALID_TRACEID=h.INVALID_SPANID=h.isValidSpanId=h.isValidTraceId=h.isSpanContextValid=h.createTraceState=h.TraceFlags=h.SpanStatusCode=h.SpanKind=h.SamplingDecision=h.ProxyTracerProvider=h.ProxyTracer=h.defaultTextMapSetter=h.defaultTextMapGetter=h.ValueType=h.createNoopMeter=h.DiagLogLevel=h.DiagConsoleLogger=h.ROOT_CONTEXT=h.createContextKey=h.baggageEntryMetadataFromString=void 0;var rw=xE();Object.defineProperty(h,"baggageEntryMetadataFromString",{enumerable:!0,get:function(){return rw.baggageEntryMetadataFromString}});var pO=Ks();Object.defineProperty(h,"createContextKey",{enumerable:!0,get:function(){return pO.createContextKey}});Object.defineProperty(h,"ROOT_CONTEXT",{enumerable:!0,get:function(){return pO.ROOT_CONTEXT}});var nw=Mg();Object.defineProperty(h,"DiagConsoleLogger",{enumerable:!0,get:function(){return nw.DiagConsoleLogger}});var iw=qa();Object.defineProperty(h,"DiagLogLevel",{enumerable:!0,get:function(){return iw.DiagLogLevel}});var sw=XE();Object.defineProperty(h,"createNoopMeter",{enumerable:!0,get:function(){return sw.createNoopMeter}});var ow=yg();Object.defineProperty(h,"ValueType",{enumerable:!0,get:function(){return ow.ValueType}});var fO=YE();Object.defineProperty(h,"defaultTextMapGetter",{enumerable:!0,get:function(){return fO.defaultTextMapGetter}});Object.defineProperty(h,"defaultTextMapSetter",{enumerable:!0,get:function(){return fO.defaultTextMapSetter}});var aw=op();Object.defineProperty(h,"ProxyTracer",{enumerable:!0,get:function(){return aw.ProxyTracer}});var uw=cp();Object.defineProperty(h,"ProxyTracerProvider",{enumerable:!0,get:function(){return uw.ProxyTracerProvider}});var cw=Hg();Object.defineProperty(h,"SamplingDecision",{enumerable:!0,get:function(){return cw.SamplingDecision}});var _w=Fg();Object.defineProperty(h,"SpanKind",{enumerable:!0,get:function(){return _w.SpanKind}});var lw=xg();Object.defineProperty(h,"SpanStatusCode",{enumerable:!0,get:function(){return lw.SpanStatusCode}});var dw=QE();Object.defineProperty(h,"TraceFlags",{enumerable:!0,get:function(){return dw.TraceFlags}});var Ew=zg();Object.defineProperty(h,"createTraceState",{enumerable:!0,get:function(){return Ew.createTraceState}});var gp=iu();Object.defineProperty(h,"isSpanContextValid",{enumerable:!0,get:function(){return gp.isSpanContextValid}});Object.defineProperty(h,"isValidTraceId",{enumerable:!0,get:function(){return gp.isValidTraceId}});Object.defineProperty(h,"isValidSpanId",{enumerable:!0,get:function(){return gp.isValidSpanId}});var Op=tu();Object.defineProperty(h,"INVALID_SPANID",{enumerable:!0,get:function(){return Op.INVALID_SPANID}});Object.defineProperty(h,"INVALID_TRACEID",{enumerable:!0,get:function(){return Op.INVALID_TRACEID}});Object.defineProperty(h,"INVALID_SPAN_CONTEXT",{enumerable:!0,get:function(){return Op.INVALID_SPAN_CONTEXT}});var TO=Qg();Object.defineProperty(h,"context",{enumerable:!0,get:function(){return TO.context}});var SO=Zg();Object.defineProperty(h,"diag",{enumerable:!0,get:function(){return SO.diag}});var AO=rO();Object.defineProperty(h,"metrics",{enumerable:!0,get:function(){return AO.metrics}});var hO=uO();Object.defineProperty(h,"propagation",{enumerable:!0,get:function(){return hO.propagation}});var gO=EO();Object.defineProperty(h,"trace",{enumerable:!0,get:function(){return gO.trace}});h.default={context:TO.context,diag:SO.diag,metrics:AO.metrics,propagation:hO.propagation,trace:gO.trace}});var to=a(Nr=>{"use strict";Object.defineProperty(Nr,"__esModule",{value:!0});Nr.isTracingSuppressed=Nr.unsuppressTracing=Nr.suppressTracing=void 0;var pw=f(),mp=(0,pw.createContextKey)("OpenTelemetry SDK Context Key SUPPRESS_TRACING");function fw(r){return r.setValue(mp,!0)}Nr.suppressTracing=fw;function Tw(r){return r.deleteValue(mp)}Nr.unsuppressTracing=Tw;function Sw(r){return r.getValue(mp)===!0}Nr.isTracingSuppressed=Sw});var Rp=a(Me=>{"use strict";Object.defineProperty(Me,"__esModule",{value:!0});Me.BAGGAGE_MAX_TOTAL_LENGTH=Me.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=Me.BAGGAGE_MAX_NAME_VALUE_PAIRS=Me.BAGGAGE_HEADER=Me.BAGGAGE_ITEMS_SEPARATOR=Me.BAGGAGE_PROPERTIES_SEPARATOR=Me.BAGGAGE_KEY_PAIR_SEPARATOR=void 0;Me.BAGGAGE_KEY_PAIR_SEPARATOR="=";Me.BAGGAGE_PROPERTIES_SEPARATOR=";";Me.BAGGAGE_ITEMS_SEPARATOR=",";Me.BAGGAGE_HEADER="baggage";Me.BAGGAGE_MAX_NAME_VALUE_PAIRS=180;Me.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=4096;Me.BAGGAGE_MAX_TOTAL_LENGTH=8192});var Pp=a(Ft=>{"use strict";Object.defineProperty(Ft,"__esModule",{value:!0});Ft.parseKeyPairsIntoRecord=Ft.parsePairKeyValue=Ft.getKeyPairs=Ft.serializeKeyPairs=void 0;var Aw=f(),dn=Rp();function hw(r){return r.reduce((e,t)=>{let n=`${e}${e!==""?dn.BAGGAGE_ITEMS_SEPARATOR:""}${t}`;return n.length>dn.BAGGAGE_MAX_TOTAL_LENGTH?e:n},"")}Ft.serializeKeyPairs=hw;function gw(r){return r.getAllEntries().map(([e,t])=>{let n=`${encodeURIComponent(e)}=${encodeURIComponent(t.value)}`;return t.metadata!==void 0&&(n+=dn.BAGGAGE_PROPERTIES_SEPARATOR+t.metadata.toString()),n})}Ft.getKeyPairs=gw;function OO(r){let e=r.split(dn.BAGGAGE_PROPERTIES_SEPARATOR);if(e.length<=0)return;let t=e.shift();if(!t)return;let n=t.split(dn.BAGGAGE_KEY_PAIR_SEPARATOR);if(n.length!==2)return;let i=decodeURIComponent(n[0].trim()),s=decodeURIComponent(n[1].trim()),o;return e.length>0&&(o=(0,Aw.baggageEntryMetadataFromString)(e.join(dn.BAGGAGE_PROPERTIES_SEPARATOR))),{key:i,value:s,metadata:o}}Ft.parsePairKeyValue=OO;function Ow(r){return typeof r!="string"||r.length===0?{}:r.split(dn.BAGGAGE_ITEMS_SEPARATOR).map(e=>OO(e)).filter(e=>e!==void 0&&e.value.length>0).reduce((e,t)=>(e[t.key]=t.value,e),{})}Ft.parseKeyPairsIntoRecord=Ow});var mO=a(Ou=>{"use strict";Object.defineProperty(Ou,"__esModule",{value:!0});Ou.W3CBaggagePropagator=void 0;var Np=f(),mw=to(),En=Rp(),Ip=Pp(),bp=class{inject(e,t,n){let i=Np.propagation.getBaggage(e);if(!i||(0,mw.isTracingSuppressed)(e))return;let s=(0,Ip.getKeyPairs)(i).filter(u=>u.length<=En.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS).slice(0,En.BAGGAGE_MAX_NAME_VALUE_PAIRS),o=(0,Ip.serializeKeyPairs)(s);o.length>0&&n.set(t,En.BAGGAGE_HEADER,o)}extract(e,t,n){let i=n.get(t,En.BAGGAGE_HEADER),s=Array.isArray(i)?i.join(En.BAGGAGE_ITEMS_SEPARATOR):i;if(!s)return e;let o={};return s.length===0||(s.split(En.BAGGAGE_ITEMS_SEPARATOR).forEach(c=>{let _=(0,Ip.parsePairKeyValue)(c);if(_){let l={value:_.value};_.metadata&&(l.metadata=_.metadata),o[_.key]=l}}),Object.entries(o).length===0)?e:Np.propagation.setBaggage(e,Np.propagation.createBaggage(o))}fields(){return[En.BAGGAGE_HEADER]}};Ou.W3CBaggagePropagator=bp});var RO=a(mu=>{"use strict";Object.defineProperty(mu,"__esModule",{value:!0});mu.AnchoredClock=void 0;var vp=class{constructor(e,t){this._monotonicClock=t,this._epochMillis=e.now(),this._performanceMillis=t.now()}now(){let e=this._monotonicClock.now()-this._performanceMillis;return this._epochMillis+e}};mu.AnchoredClock=vp});var vO=a(Ir=>{"use strict";Object.defineProperty(Ir,"__esModule",{value:!0});Ir.isAttributeValue=Ir.isAttributeKey=Ir.sanitizeAttributes=void 0;var PO=f();function Rw(r){let e={};if(typeof r!="object"||r==null)return e;for(let[t,n]of Object.entries(r)){if(!NO(t)){PO.diag.warn(`Invalid attribute key: ${t}`);continue}if(!IO(n)){PO.diag.warn(`Invalid attribute value set for key: ${t}`);continue}Array.isArray(n)?e[t]=n.slice():e[t]=n}return e}Ir.sanitizeAttributes=Rw;function NO(r){return typeof r=="string"&&r.length>0}Ir.isAttributeKey=NO;function IO(r){return r==null?!0:Array.isArray(r)?Pw(r):bO(r)}Ir.isAttributeValue=IO;function Pw(r){let e;for(let t of r)if(t!=null){if(!e){if(bO(t)){e=typeof t;continue}return!1}if(typeof t!==e)return!1}return!0}function bO(r){switch(typeof r){case"number":case"boolean":case"string":return!0}return!1}});var Cp=a(Ru=>{"use strict";Object.defineProperty(Ru,"__esModule",{value:!0});Ru.loggingErrorHandler=void 0;var Nw=f();function Iw(){return r=>{Nw.diag.error(bw(r))}}Ru.loggingErrorHandler=Iw;function bw(r){return typeof r=="string"?r:JSON.stringify(vw(r))}function vw(r){let e={},t=r;for(;t!==null;)Object.getOwnPropertyNames(t).forEach(n=>{if(e[n])return;let i=t[n];i&&(e[n]=String(i))}),t=Object.getPrototypeOf(t);return e}});var Mp=a(Gi=>{"use strict";Object.defineProperty(Gi,"__esModule",{value:!0});Gi.globalErrorHandler=Gi.setGlobalErrorHandler=void 0;var Cw=Cp(),CO=(0,Cw.loggingErrorHandler)();function Mw(r){CO=r}Gi.setGlobalErrorHandler=Mw;function yw(r){try{CO(r)}catch{}}Gi.globalErrorHandler=yw});var yp=a(ro=>{"use strict";Object.defineProperty(ro,"__esModule",{value:!0});ro.TracesSamplerValues=void 0;var Lw;(function(r){r.AlwaysOff="always_off",r.AlwaysOn="always_on",r.ParentBasedAlwaysOff="parentbased_always_off",r.ParentBasedAlwaysOn="parentbased_always_on",r.ParentBasedTraceIdRatio="parentbased_traceidratio",r.TraceIdRatio="traceidratio"})(Lw=ro.TracesSamplerValues||(ro.TracesSamplerValues={}))});var MO=a(Pu=>{"use strict";Object.defineProperty(Pu,"__esModule",{value:!0});Pu._globalThis=void 0;Pu._globalThis=typeof globalThis=="object"?globalThis:typeof self=="object"?self:typeof window=="object"?window:typeof global=="object"?global:{}});var Dp=a(me=>{"use strict";Object.defineProperty(me,"__esModule",{value:!0});me.getEnvWithoutDefaults=me.parseEnvironment=me.DEFAULT_ENVIRONMENT=me.DEFAULT_ATTRIBUTE_COUNT_LIMIT=me.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT=void 0;var br=f(),Dw=yp(),ww=MO(),Uw=",",Bw=["OTEL_BSP_EXPORT_TIMEOUT","OTEL_BSP_MAX_EXPORT_BATCH_SIZE","OTEL_BSP_MAX_QUEUE_SIZE","OTEL_BSP_SCHEDULE_DELAY","OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_EVENT_COUNT_LIMIT","OTEL_SPAN_LINK_COUNT_LIMIT","OTEL_EXPORTER_OTLP_TIMEOUT","OTEL_EXPORTER_OTLP_TRACES_TIMEOUT","OTEL_EXPORTER_OTLP_METRICS_TIMEOUT","OTEL_EXPORTER_JAEGER_AGENT_PORT"];function Gw(r){return Bw.indexOf(r)>-1}var qw=["OTEL_NO_PATCH_MODULES","OTEL_PROPAGATORS"];function jw(r){return qw.indexOf(r)>-1}me.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT=1/0;me.DEFAULT_ATTRIBUTE_COUNT_LIMIT=128;me.DEFAULT_ENVIRONMENT={CONTAINER_NAME:"",ECS_CONTAINER_METADATA_URI_V4:"",ECS_CONTAINER_METADATA_URI:"",HOSTNAME:"",KUBERNETES_SERVICE_HOST:"",NAMESPACE:"",OTEL_BSP_EXPORT_TIMEOUT:3e4,OTEL_BSP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BSP_MAX_QUEUE_SIZE:2048,OTEL_BSP_SCHEDULE_DELAY:5e3,OTEL_EXPORTER_JAEGER_AGENT_HOST:"",OTEL_EXPORTER_JAEGER_AGENT_PORT:6832,OTEL_EXPORTER_JAEGER_ENDPOINT:"",OTEL_EXPORTER_JAEGER_PASSWORD:"",OTEL_EXPORTER_JAEGER_USER:"",OTEL_EXPORTER_OTLP_ENDPOINT:"",OTEL_EXPORTER_OTLP_TRACES_ENDPOINT:"",OTEL_EXPORTER_OTLP_METRICS_ENDPOINT:"",OTEL_EXPORTER_OTLP_HEADERS:"",OTEL_EXPORTER_OTLP_TRACES_HEADERS:"",OTEL_EXPORTER_OTLP_METRICS_HEADERS:"",OTEL_EXPORTER_OTLP_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_TRACES_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_METRICS_TIMEOUT:1e4,OTEL_EXPORTER_ZIPKIN_ENDPOINT:"http://localhost:9411/api/v2/spans",OTEL_LOG_LEVEL:br.DiagLogLevel.INFO,OTEL_NO_PATCH_MODULES:[],OTEL_PROPAGATORS:["tracecontext","baggage"],OTEL_RESOURCE_ATTRIBUTES:"",OTEL_SERVICE_NAME:"",OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT:me.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT,OTEL_ATTRIBUTE_COUNT_LIMIT:me.DEFAULT_ATTRIBUTE_COUNT_LIMIT,OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT:me.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT,OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT:me.DEFAULT_ATTRIBUTE_COUNT_LIMIT,OTEL_SPAN_EVENT_COUNT_LIMIT:128,OTEL_SPAN_LINK_COUNT_LIMIT:128,OTEL_TRACES_EXPORTER:"otlp",OTEL_TRACES_SAMPLER:Dw.TracesSamplerValues.ParentBasedAlwaysOn,OTEL_TRACES_SAMPLER_ARG:"",OTEL_EXPORTER_OTLP_INSECURE:"",OTEL_EXPORTER_OTLP_TRACES_INSECURE:"",OTEL_EXPORTER_OTLP_METRICS_INSECURE:"",OTEL_EXPORTER_OTLP_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_COMPRESSION:"",OTEL_EXPORTER_OTLP_TRACES_COMPRESSION:"",OTEL_EXPORTER_OTLP_METRICS_COMPRESSION:"",OTEL_EXPORTER_OTLP_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_TRACES_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_TEMPORALITY_PREFERENCE:"cumulative"};function Vw(r,e,t,n=-1/0,i=1/0){if(typeof t[r]<"u"){let s=Number(t[r]);isNaN(s)||(s<n?e[r]=n:s>i?e[r]=i:e[r]=s)}}function Hw(r,e,t,n=Uw){let i=t[r];typeof i=="string"&&(e[r]=i.split(n).map(s=>s.trim()))}var Fw={ALL:br.DiagLogLevel.ALL,VERBOSE:br.DiagLogLevel.VERBOSE,DEBUG:br.DiagLogLevel.DEBUG,INFO:br.DiagLogLevel.INFO,WARN:br.DiagLogLevel.WARN,ERROR:br.DiagLogLevel.ERROR,NONE:br.DiagLogLevel.NONE};function xw(r,e,t){let n=t[r];if(typeof n=="string"){let i=Fw[n.toUpperCase()];i!=null&&(e[r]=i)}}function Lp(r){let e={};for(let t in me.DEFAULT_ENVIRONMENT){let n=t;switch(n){case"OTEL_LOG_LEVEL":xw(n,e,r);break;default:if(Gw(n))Vw(n,e,r);else if(jw(n))Hw(n,e,r);else{let i=r[n];typeof i<"u"&&i!==null&&(e[n]=String(i))}}}return e}me.parseEnvironment=Lp;function Kw(){return Lp(typeof process<"u"?process.env:ww._globalThis)}me.getEnvWithoutDefaults=Kw});var LO=a(Nu=>{"use strict";Object.defineProperty(Nu,"__esModule",{value:!0});Nu.getEnv=void 0;var $w=require("os"),yO=Dp();function Xw(){let r=(0,yO.parseEnvironment)(process.env);return Object.assign({HOSTNAME:$w.hostname()},yO.DEFAULT_ENVIRONMENT,r)}Nu.getEnv=Xw});var DO=a(Iu=>{"use strict";Object.defineProperty(Iu,"__esModule",{value:!0});Iu._globalThis=void 0;Iu._globalThis=typeof globalThis=="object"?globalThis:global});var UO=a(bu=>{"use strict";Object.defineProperty(bu,"__esModule",{value:!0});bu.hexToBase64=void 0;function wO(r){return r>=48&&r<=57?r-48:r>=97&&r<=102?r-87:r-55}var Yw=Buffer.alloc(8),Ww=Buffer.alloc(16);function kw(r){let e;r.length===16?e=Yw:r.length===32?e=Ww:e=Buffer.alloc(r.length/2);let t=0;for(let n=0;n<r.length;n+=2){let i=wO(r.charCodeAt(n)),s=wO(r.charCodeAt(n+1));e.writeUInt8(i<<4|s,t++)}return e.toString("base64")}bu.hexToBase64=kw});var qO=a(Cu=>{"use strict";Object.defineProperty(Cu,"__esModule",{value:!0});Cu.RandomIdGenerator=void 0;var zw=8,GO=16,wp=class{constructor(){this.generateTraceId=BO(GO),this.generateSpanId=BO(zw)}};Cu.RandomIdGenerator=wp;var vu=Buffer.allocUnsafe(GO);function BO(r){return function(){for(let t=0;t<r/4;t++)vu.writeUInt32BE(Math.random()*2**32>>>0,t*4);for(let t=0;t<r&&!(vu[t]>0);t++)t===r-1&&(vu[r-1]=1);return vu.toString("hex",0,r)}}});var jO=a(Mu=>{"use strict";Object.defineProperty(Mu,"__esModule",{value:!0});Mu.otperformance=void 0;var Qw=require("perf_hooks");Mu.otperformance=Qw.performance});var Lu=a(yu=>{"use strict";Object.defineProperty(yu,"__esModule",{value:!0});yu.VERSION=void 0;yu.VERSION="1.8.0"});var VO=a(x=>{"use strict";Object.defineProperty(x,"__esModule",{value:!0});x.MessageTypeValues=x.RpcGrpcStatusCodeValues=x.MessagingOperationValues=x.MessagingDestinationKindValues=x.HttpFlavorValues=x.NetHostConnectionSubtypeValues=x.NetHostConnectionTypeValues=x.NetTransportValues=x.FaasInvokedProviderValues=x.FaasDocumentOperationValues=x.FaasTriggerValues=x.DbCassandraConsistencyLevelValues=x.DbSystemValues=x.SemanticAttributes=void 0;x.SemanticAttributes={AWS_LAMBDA_INVOKED_ARN:"aws.lambda.invoked_arn",DB_SYSTEM:"db.system",DB_CONNECTION_STRING:"db.connection_string",DB_USER:"db.user",DB_JDBC_DRIVER_CLASSNAME:"db.jdbc.driver_classname",DB_NAME:"db.name",DB_STATEMENT:"db.statement",DB_OPERATION:"db.operation",DB_MSSQL_INSTANCE_NAME:"db.mssql.instance_name",DB_CASSANDRA_KEYSPACE:"db.cassandra.keyspace",DB_CASSANDRA_PAGE_SIZE:"db.cassandra.page_size",DB_CASSANDRA_CONSISTENCY_LEVEL:"db.cassandra.consistency_level",DB_CASSANDRA_TABLE:"db.cassandra.table",DB_CASSANDRA_IDEMPOTENCE:"db.cassandra.idempotence",DB_CASSANDRA_SPECULATIVE_EXECUTION_COUNT:"db.cassandra.speculative_execution_count",DB_CASSANDRA_COORDINATOR_ID:"db.cassandra.coordinator.id",DB_CASSANDRA_COORDINATOR_DC:"db.cassandra.coordinator.dc",DB_HBASE_NAMESPACE:"db.hbase.namespace",DB_REDIS_DATABASE_INDEX:"db.redis.database_index",DB_MONGODB_COLLECTION:"db.mongodb.collection",DB_SQL_TABLE:"db.sql.table",EXCEPTION_TYPE:"exception.type",EXCEPTION_MESSAGE:"exception.message",EXCEPTION_STACKTRACE:"exception.stacktrace",EXCEPTION_ESCAPED:"exception.escaped",FAAS_TRIGGER:"faas.trigger",FAAS_EXECUTION:"faas.execution",FAAS_DOCUMENT_COLLECTION:"faas.document.collection",FAAS_DOCUMENT_OPERATION:"faas.document.operation",FAAS_DOCUMENT_TIME:"faas.document.time",FAAS_DOCUMENT_NAME:"faas.document.name",FAAS_TIME:"faas.time",FAAS_CRON:"faas.cron",FAAS_COLDSTART:"faas.coldstart",FAAS_INVOKED_NAME:"faas.invoked_name",FAAS_INVOKED_PROVIDER:"faas.invoked_provider",FAAS_INVOKED_REGION:"faas.invoked_region",NET_TRANSPORT:"net.transport",NET_PEER_IP:"net.peer.ip",NET_PEER_PORT:"net.peer.port",NET_PEER_NAME:"net.peer.name",NET_HOST_IP:"net.host.ip",NET_HOST_PORT:"net.host.port",NET_HOST_NAME:"net.host.name",NET_HOST_CONNECTION_TYPE:"net.host.connection.type",NET_HOST_CONNECTION_SUBTYPE:"net.host.connection.subtype",NET_HOST_CARRIER_NAME:"net.host.carrier.name",NET_HOST_CARRIER_MCC:"net.host.carrier.mcc",NET_HOST_CARRIER_MNC:"net.host.carrier.mnc",NET_HOST_CARRIER_ICC:"net.host.carrier.icc",PEER_SERVICE:"peer.service",ENDUSER_ID:"enduser.id",ENDUSER_ROLE:"enduser.role",ENDUSER_SCOPE:"enduser.scope",THREAD_ID:"thread.id",THREAD_NAME:"thread.name",CODE_FUNCTION:"code.function",CODE_NAMESPACE:"code.namespace",CODE_FILEPATH:"code.filepath",CODE_LINENO:"code.lineno",HTTP_METHOD:"http.method",HTTP_URL:"http.url",HTTP_TARGET:"http.target",HTTP_HOST:"http.host",HTTP_SCHEME:"http.scheme",HTTP_STATUS_CODE:"http.status_code",HTTP_FLAVOR:"http.flavor",HTTP_USER_AGENT:"http.user_agent",HTTP_REQUEST_CONTENT_LENGTH:"http.request_content_length",HTTP_REQUEST_CONTENT_LENGTH_UNCOMPRESSED:"http.request_content_length_uncompressed",HTTP_RESPONSE_CONTENT_LENGTH:"http.response_content_length",HTTP_RESPONSE_CONTENT_LENGTH_UNCOMPRESSED:"http.response_content_length_uncompressed",HTTP_SERVER_NAME:"http.server_name",HTTP_ROUTE:"http.route",HTTP_CLIENT_IP:"http.client_ip",AWS_DYNAMODB_TABLE_NAMES:"aws.dynamodb.table_names",AWS_DYNAMODB_CONSUMED_CAPACITY:"aws.dynamodb.consumed_capacity",AWS_DYNAMODB_ITEM_COLLECTION_METRICS:"aws.dynamodb.item_collection_metrics",AWS_DYNAMODB_PROVISIONED_READ_CAPACITY:"aws.dynamodb.provisioned_read_capacity",AWS_DYNAMODB_PROVISIONED_WRITE_CAPACITY:"aws.dynamodb.provisioned_write_capacity",AWS_DYNAMODB_CONSISTENT_READ:"aws.dynamodb.consistent_read",AWS_DYNAMODB_PROJECTION:"aws.dynamodb.projection",AWS_DYNAMODB_LIMIT:"aws.dynamodb.limit",AWS_DYNAMODB_ATTRIBUTES_TO_GET:"aws.dynamodb.attributes_to_get",AWS_DYNAMODB_INDEX_NAME:"aws.dynamodb.index_name",AWS_DYNAMODB_SELECT:"aws.dynamodb.select",AWS_DYNAMODB_GLOBAL_SECONDARY_INDEXES:"aws.dynamodb.global_secondary_indexes",AWS_DYNAMODB_LOCAL_SECONDARY_INDEXES:"aws.dynamodb.local_secondary_indexes",AWS_DYNAMODB_EXCLUSIVE_START_TABLE:"aws.dynamodb.exclusive_start_table",AWS_DYNAMODB_TABLE_COUNT:"aws.dynamodb.table_count",AWS_DYNAMODB_SCAN_FORWARD:"aws.dynamodb.scan_forward",AWS_DYNAMODB_SEGMENT:"aws.dynamodb.segment",AWS_DYNAMODB_TOTAL_SEGMENTS:"aws.dynamodb.total_segments",AWS_DYNAMODB_COUNT:"aws.dynamodb.count",AWS_DYNAMODB_SCANNED_COUNT:"aws.dynamodb.scanned_count",AWS_DYNAMODB_ATTRIBUTE_DEFINITIONS:"aws.dynamodb.attribute_definitions",AWS_DYNAMODB_GLOBAL_SECONDARY_INDEX_UPDATES:"aws.dynamodb.global_secondary_index_updates",MESSAGING_SYSTEM:"messaging.system",MESSAGING_DESTINATION:"messaging.destination",MESSAGING_DESTINATION_KIND:"messaging.destination_kind",MESSAGING_TEMP_DESTINATION:"messaging.temp_destination",MESSAGING_PROTOCOL:"messaging.protocol",MESSAGING_PROTOCOL_VERSION:"messaging.protocol_version",MESSAGING_URL:"messaging.url",MESSAGING_MESSAGE_ID:"messaging.message_id",MESSAGING_CONVERSATION_ID:"messaging.conversation_id",MESSAGING_MESSAGE_PAYLOAD_SIZE_BYTES:"messaging.message_payload_size_bytes",MESSAGING_MESSAGE_PAYLOAD_COMPRESSED_SIZE_BYTES:"messaging.message_payload_compressed_size_bytes",MESSAGING_OPERATION:"messaging.operation",MESSAGING_CONSUMER_ID:"messaging.consumer_id",MESSAGING_RABBITMQ_ROUTING_KEY:"messaging.rabbitmq.routing_key",MESSAGING_KAFKA_MESSAGE_KEY:"messaging.kafka.message_key",MESSAGING_KAFKA_CONSUMER_GROUP:"messaging.kafka.consumer_group",MESSAGING_KAFKA_CLIENT_ID:"messaging.kafka.client_id",MESSAGING_KAFKA_PARTITION:"messaging.kafka.partition",MESSAGING_KAFKA_TOMBSTONE:"messaging.kafka.tombstone",RPC_SYSTEM:"rpc.system",RPC_SERVICE:"rpc.service",RPC_METHOD:"rpc.method",RPC_GRPC_STATUS_CODE:"rpc.grpc.status_code",RPC_JSONRPC_VERSION:"rpc.jsonrpc.version",RPC_JSONRPC_REQUEST_ID:"rpc.jsonrpc.request_id",RPC_JSONRPC_ERROR_CODE:"rpc.jsonrpc.error_code",RPC_JSONRPC_ERROR_MESSAGE:"rpc.jsonrpc.error_message",MESSAGE_TYPE:"message.type",MESSAGE_ID:"message.id",MESSAGE_COMPRESSED_SIZE:"message.compressed_size",MESSAGE_UNCOMPRESSED_SIZE:"message.uncompressed_size"};x.DbSystemValues={OTHER_SQL:"other_sql",MSSQL:"mssql",MYSQL:"mysql",ORACLE:"oracle",DB2:"db2",POSTGRESQL:"postgresql",REDSHIFT:"redshift",HIVE:"hive",CLOUDSCAPE:"cloudscape",HSQLDB:"hsqldb",PROGRESS:"progress",MAXDB:"maxdb",HANADB:"hanadb",INGRES:"ingres",FIRSTSQL:"firstsql",EDB:"edb",CACHE:"cache",ADABAS:"adabas",FIREBIRD:"firebird",DERBY:"derby",FILEMAKER:"filemaker",INFORMIX:"informix",INSTANTDB:"instantdb",INTERBASE:"interbase",MARIADB:"mariadb",NETEZZA:"netezza",PERVASIVE:"pervasive",POINTBASE:"pointbase",SQLITE:"sqlite",SYBASE:"sybase",TERADATA:"teradata",VERTICA:"vertica",H2:"h2",COLDFUSION:"coldfusion",CASSANDRA:"cassandra",HBASE:"hbase",MONGODB:"mongodb",REDIS:"redis",COUCHBASE:"couchbase",COUCHDB:"couchdb",COSMOSDB:"cosmosdb",DYNAMODB:"dynamodb",NEO4J:"neo4j",GEODE:"geode",ELASTICSEARCH:"elasticsearch",MEMCACHED:"memcached",COCKROACHDB:"cockroachdb"};x.DbCassandraConsistencyLevelValues={ALL:"all",EACH_QUORUM:"each_quorum",QUORUM:"quorum",LOCAL_QUORUM:"local_quorum",ONE:"one",TWO:"two",THREE:"three",LOCAL_ONE:"local_one",ANY:"any",SERIAL:"serial",LOCAL_SERIAL:"local_serial"};x.FaasTriggerValues={DATASOURCE:"datasource",HTTP:"http",PUBSUB:"pubsub",TIMER:"timer",OTHER:"other"};x.FaasDocumentOperationValues={INSERT:"insert",EDIT:"edit",DELETE:"delete"};x.FaasInvokedProviderValues={ALIBABA_CLOUD:"alibaba_cloud",AWS:"aws",AZURE:"azure",GCP:"gcp"};x.NetTransportValues={IP_TCP:"ip_tcp",IP_UDP:"ip_udp",IP:"ip",UNIX:"unix",PIPE:"pipe",INPROC:"inproc",OTHER:"other"};x.NetHostConnectionTypeValues={WIFI:"wifi",WIRED:"wired",CELL:"cell",UNAVAILABLE:"unavailable",UNKNOWN:"unknown"};x.NetHostConnectionSubtypeValues={GPRS:"gprs",EDGE:"edge",UMTS:"umts",CDMA:"cdma",EVDO_0:"evdo_0",EVDO_A:"evdo_a",CDMA2000_1XRTT:"cdma2000_1xrtt",HSDPA:"hsdpa",HSUPA:"hsupa",HSPA:"hspa",IDEN:"iden",EVDO_B:"evdo_b",LTE:"lte",EHRPD:"ehrpd",HSPAP:"hspap",GSM:"gsm",TD_SCDMA:"td_scdma",IWLAN:"iwlan",NR:"nr",NRNSA:"nrnsa",LTE_CA:"lte_ca"};x.HttpFlavorValues={HTTP_1_0:"1.0",HTTP_1_1:"1.1",HTTP_2_0:"2.0",SPDY:"SPDY",QUIC:"QUIC"};x.MessagingDestinationKindValues={QUEUE:"queue",TOPIC:"topic"};x.MessagingOperationValues={RECEIVE:"receive",PROCESS:"process"};x.RpcGrpcStatusCodeValues={OK:0,CANCELLED:1,UNKNOWN:2,INVALID_ARGUMENT:3,DEADLINE_EXCEEDED:4,NOT_FOUND:5,ALREADY_EXISTS:6,PERMISSION_DENIED:7,RESOURCE_EXHAUSTED:8,FAILED_PRECONDITION:9,ABORTED:10,OUT_OF_RANGE:11,UNIMPLEMENTED:12,INTERNAL:13,UNAVAILABLE:14,DATA_LOSS:15,UNAUTHENTICATED:16};x.MessageTypeValues={SENT:"SENT",RECEIVED:"RECEIVED"}});var HO=a(pn=>{"use strict";var Zw=pn&&pn.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Jw=pn&&pn.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Zw(e,r,t)};Object.defineProperty(pn,"__esModule",{value:!0});Jw(VO(),pn)});var FO=a(ye=>{"use strict";Object.defineProperty(ye,"__esModule",{value:!0});ye.TelemetrySdkLanguageValues=ye.OsTypeValues=ye.HostArchValues=ye.AwsEcsLaunchtypeValues=ye.CloudPlatformValues=ye.CloudProviderValues=ye.SemanticResourceAttributes=void 0;ye.SemanticResourceAttributes={CLOUD_PROVIDER:"cloud.provider",CLOUD_ACCOUNT_ID:"cloud.account.id",CLOUD_REGION:"cloud.region",CLOUD_AVAILABILITY_ZONE:"cloud.availability_zone",CLOUD_PLATFORM:"cloud.platform",AWS_ECS_CONTAINER_ARN:"aws.ecs.container.arn",AWS_ECS_CLUSTER_ARN:"aws.ecs.cluster.arn",AWS_ECS_LAUNCHTYPE:"aws.ecs.launchtype",AWS_ECS_TASK_ARN:"aws.ecs.task.arn",AWS_ECS_TASK_FAMILY:"aws.ecs.task.family",AWS_ECS_TASK_REVISION:"aws.ecs.task.revision",AWS_EKS_CLUSTER_ARN:"aws.eks.cluster.arn",AWS_LOG_GROUP_NAMES:"aws.log.group.names",AWS_LOG_GROUP_ARNS:"aws.log.group.arns",AWS_LOG_STREAM_NAMES:"aws.log.stream.names",AWS_LOG_STREAM_ARNS:"aws.log.stream.arns",CONTAINER_NAME:"container.name",CONTAINER_ID:"container.id",CONTAINER_RUNTIME:"container.runtime",CONTAINER_IMAGE_NAME:"container.image.name",CONTAINER_IMAGE_TAG:"container.image.tag",DEPLOYMENT_ENVIRONMENT:"deployment.environment",DEVICE_ID:"device.id",DEVICE_MODEL_IDENTIFIER:"device.model.identifier",DEVICE_MODEL_NAME:"device.model.name",FAAS_NAME:"faas.name",FAAS_ID:"faas.id",FAAS_VERSION:"faas.version",FAAS_INSTANCE:"faas.instance",FAAS_MAX_MEMORY:"faas.max_memory",HOST_ID:"host.id",HOST_NAME:"host.name",HOST_TYPE:"host.type",HOST_ARCH:"host.arch",HOST_IMAGE_NAME:"host.image.name",HOST_IMAGE_ID:"host.image.id",HOST_IMAGE_VERSION:"host.image.version",K8S_CLUSTER_NAME:"k8s.cluster.name",K8S_NODE_NAME:"k8s.node.name",K8S_NODE_UID:"k8s.node.uid",K8S_NAMESPACE_NAME:"k8s.namespace.name",K8S_POD_UID:"k8s.pod.uid",K8S_POD_NAME:"k8s.pod.name",K8S_CONTAINER_NAME:"k8s.container.name",K8S_REPLICASET_UID:"k8s.replicaset.uid",K8S_REPLICASET_NAME:"k8s.replicaset.name",K8S_DEPLOYMENT_UID:"k8s.deployment.uid",K8S_DEPLOYMENT_NAME:"k8s.deployment.name",K8S_STATEFULSET_UID:"k8s.statefulset.uid",K8S_STATEFULSET_NAME:"k8s.statefulset.name",K8S_DAEMONSET_UID:"k8s.daemonset.uid",K8S_DAEMONSET_NAME:"k8s.daemonset.name",K8S_JOB_UID:"k8s.job.uid",K8S_JOB_NAME:"k8s.job.name",K8S_CRONJOB_UID:"k8s.cronjob.uid",K8S_CRONJOB_NAME:"k8s.cronjob.name",OS_TYPE:"os.type",OS_DESCRIPTION:"os.description",OS_NAME:"os.name",OS_VERSION:"os.version",PROCESS_PID:"process.pid",PROCESS_EXECUTABLE_NAME:"process.executable.name",PROCESS_EXECUTABLE_PATH:"process.executable.path",PROCESS_COMMAND:"process.command",PROCESS_COMMAND_LINE:"process.command_line",PROCESS_COMMAND_ARGS:"process.command_args",PROCESS_OWNER:"process.owner",PROCESS_RUNTIME_NAME:"process.runtime.name",PROCESS_RUNTIME_VERSION:"process.runtime.version",PROCESS_RUNTIME_DESCRIPTION:"process.runtime.description",SERVICE_NAME:"service.name",SERVICE_NAMESPACE:"service.namespace",SERVICE_INSTANCE_ID:"service.instance.id",SERVICE_VERSION:"service.version",TELEMETRY_SDK_NAME:"telemetry.sdk.name",TELEMETRY_SDK_LANGUAGE:"telemetry.sdk.language",TELEMETRY_SDK_VERSION:"telemetry.sdk.version",TELEMETRY_AUTO_VERSION:"telemetry.auto.version",WEBENGINE_NAME:"webengine.name",WEBENGINE_VERSION:"webengine.version",WEBENGINE_DESCRIPTION:"webengine.description"};ye.CloudProviderValues={ALIBABA_CLOUD:"alibaba_cloud",AWS:"aws",AZURE:"azure",GCP:"gcp"};ye.CloudPlatformValues={ALIBABA_CLOUD_ECS:"alibaba_cloud_ecs",ALIBABA_CLOUD_FC:"alibaba_cloud_fc",AWS_EC2:"aws_ec2",AWS_ECS:"aws_ecs",AWS_EKS:"aws_eks",AWS_LAMBDA:"aws_lambda",AWS_ELASTIC_BEANSTALK:"aws_elastic_beanstalk",AZURE_VM:"azure_vm",AZURE_CONTAINER_INSTANCES:"azure_container_instances",AZURE_AKS:"azure_aks",AZURE_FUNCTIONS:"azure_functions",AZURE_APP_SERVICE:"azure_app_service",GCP_COMPUTE_ENGINE:"gcp_compute_engine",GCP_CLOUD_RUN:"gcp_cloud_run",GCP_KUBERNETES_ENGINE:"gcp_kubernetes_engine",GCP_CLOUD_FUNCTIONS:"gcp_cloud_functions",GCP_APP_ENGINE:"gcp_app_engine"};ye.AwsEcsLaunchtypeValues={EC2:"ec2",FARGATE:"fargate"};ye.HostArchValues={AMD64:"amd64",ARM32:"arm32",ARM64:"arm64",IA64:"ia64",PPC32:"ppc32",PPC64:"ppc64",X86:"x86"};ye.OsTypeValues={WINDOWS:"windows",LINUX:"linux",DARWIN:"darwin",FREEBSD:"freebsd",NETBSD:"netbsd",OPENBSD:"openbsd",DRAGONFLYBSD:"dragonflybsd",HPUX:"hpux",AIX:"aix",SOLARIS:"solaris",Z_OS:"z_os"};ye.TelemetrySdkLanguageValues={CPP:"cpp",DOTNET:"dotnet",ERLANG:"erlang",GO:"go",JAVA:"java",NODEJS:"nodejs",PHP:"php",PYTHON:"python",RUBY:"ruby",WEBJS:"webjs"}});var xO=a(fn=>{"use strict";var eU=fn&&fn.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),tU=fn&&fn.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&eU(e,r,t)};Object.defineProperty(fn,"__esModule",{value:!0});tU(FO(),fn)});var Le=a(vr=>{"use strict";var rU=vr&&vr.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),KO=vr&&vr.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&rU(e,r,t)};Object.defineProperty(vr,"__esModule",{value:!0});KO(HO(),vr);KO(xO(),vr)});var $O=a(Du=>{"use strict";Object.defineProperty(Du,"__esModule",{value:!0});Du.SDK_INFO=void 0;var nU=Lu(),no=Le();Du.SDK_INFO={[no.SemanticResourceAttributes.TELEMETRY_SDK_NAME]:"opentelemetry",[no.SemanticResourceAttributes.PROCESS_RUNTIME_NAME]:"node",[no.SemanticResourceAttributes.TELEMETRY_SDK_LANGUAGE]:no.TelemetrySdkLanguageValues.NODEJS,[no.SemanticResourceAttributes.TELEMETRY_SDK_VERSION]:nU.VERSION}});var XO=a(wu=>{"use strict";Object.defineProperty(wu,"__esModule",{value:!0});wu.unrefTimer=void 0;function iU(r){r.unref()}wu.unrefTimer=iU});var YO=a(ct=>{"use strict";var sU=ct&&ct.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Tn=ct&&ct.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&sU(e,r,t)};Object.defineProperty(ct,"__esModule",{value:!0});Tn(LO(),ct);Tn(DO(),ct);Tn(UO(),ct);Tn(qO(),ct);Tn(jO(),ct);Tn($O(),ct);Tn(XO(),ct)});var Up=a(Sn=>{"use strict";var oU=Sn&&Sn.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),aU=Sn&&Sn.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&oU(e,r,t)};Object.defineProperty(Sn,"__esModule",{value:!0});aU(YO(),Sn)});var zO=a(pe=>{"use strict";Object.defineProperty(pe,"__esModule",{value:!0});pe.isTimeInput=pe.isTimeInputHrTime=pe.hrTimeToMicroseconds=pe.hrTimeToMilliseconds=pe.hrTimeToNanoseconds=pe.hrTimeToTimeStamp=pe.hrTimeDuration=pe.timeInputToHrTime=pe.hrTime=void 0;var Bp=Up(),Gp=9,io=Math.pow(10,Gp);function Uu(r){let e=r/1e3,t=Math.trunc(e),n=Number((e-t).toFixed(Gp))*io;return[t,n]}function WO(){let r=Bp.otperformance.timeOrigin;if(typeof r!="number"){let e=Bp.otperformance;r=e.timing&&e.timing.fetchStart}return r}function kO(r){let e=Uu(WO()),t=Uu(typeof r=="number"?r:Bp.otperformance.now()),n=e[0]+t[0],i=e[1]+t[1];return i>io&&(i-=io,n+=1),[n,i]}pe.hrTime=kO;function uU(r){if(qp(r))return r;if(typeof r=="number")return r<WO()?kO(r):Uu(r);if(r instanceof Date)return Uu(r.getTime());throw TypeError("Invalid input type")}pe.timeInputToHrTime=uU;function cU(r,e){let t=e[0]-r[0],n=e[1]-r[1];return n<0&&(t-=1,n+=io),[t,n]}pe.hrTimeDuration=cU;function _U(r){let e=Gp,t=`${"0".repeat(e)}${r[1]}Z`,n=t.substr(t.length-e-1);return new Date(r[0]*1e3).toISOString().replace("000Z",n)}pe.hrTimeToTimeStamp=_U;function lU(r){return r[0]*io+r[1]}pe.hrTimeToNanoseconds=lU;function dU(r){return Math.round(r[0]*1e3+r[1]/1e6)}pe.hrTimeToMilliseconds=dU;function EU(r){return Math.round(r[0]*1e6+r[1]/1e3)}pe.hrTimeToMicroseconds=EU;function qp(r){return Array.isArray(r)&&r.length===2&&typeof r[0]=="number"&&typeof r[1]=="number"}pe.isTimeInputHrTime=qp;function pU(r){return qp(r)||typeof r=="number"||r instanceof Date}pe.isTimeInput=pU});var ZO=a(QO=>{"use strict";Object.defineProperty(QO,"__esModule",{value:!0})});var JO=a(so=>{"use strict";Object.defineProperty(so,"__esModule",{value:!0});so.ExportResultCode=void 0;var fU;(function(r){r[r.SUCCESS=0]="SUCCESS",r[r.FAILED=1]="FAILED"})(fU=so.ExportResultCode||(so.ExportResultCode={}))});var tm=a(Bu=>{"use strict";Object.defineProperty(Bu,"__esModule",{value:!0});Bu.CompositePropagator=void 0;var em=f(),jp=class{constructor(e={}){var t;this._propagators=(t=e.propagators)!==null&&t!==void 0?t:[],this._fields=Array.from(new Set(this._propagators.map(n=>typeof n.fields=="function"?n.fields():[]).reduce((n,i)=>n.concat(i),[])))}inject(e,t,n){for(let i of this._propagators)try{i.inject(e,t,n)}catch(s){em.diag.warn(`Failed to inject with ${i.constructor.name}. Err: ${s.message}`)}}extract(e,t,n){return this._propagators.reduce((i,s)=>{try{return s.extract(i,t,n)}catch(o){em.diag.warn(`Failed to inject with ${s.constructor.name}. Err: ${o.message}`)}return i},e)}fields(){return this._fields.slice()}};Bu.CompositePropagator=jp});var rm=a(qi=>{"use strict";Object.defineProperty(qi,"__esModule",{value:!0});qi.validateValue=qi.validateKey=void 0;var Vp="[_0-9a-z-*/]",TU=`[a-z]${Vp}{0,255}`,SU=`[a-z0-9]${Vp}{0,240}@[a-z]${Vp}{0,13}`,AU=new RegExp(`^(?:${TU}|${SU})$`),hU=/^[ -~]{0,255}[!-~]$/,gU=/,|=/;function OU(r){return AU.test(r)}qi.validateKey=OU;function mU(r){return hU.test(r)&&!gU.test(r)}qi.validateValue=mU});var Hp=a(Gu=>{"use strict";Object.defineProperty(Gu,"__esModule",{value:!0});Gu.TraceState=void 0;var nm=rm(),im=32,RU=512,sm=",",om="=",oo=class{constructor(e){this._internalState=new Map,e&&this._parse(e)}set(e,t){let n=this._clone();return n._internalState.has(e)&&n._internalState.delete(e),n._internalState.set(e,t),n}unset(e){let t=this._clone();return t._internalState.delete(e),t}get(e){return this._internalState.get(e)}serialize(){return this._keys().reduce((e,t)=>(e.push(t+om+this.get(t)),e),[]).join(sm)}_parse(e){e.length>RU||(this._internalState=e.split(sm).reverse().reduce((t,n)=>{let i=n.trim(),s=i.indexOf(om);if(s!==-1){let o=i.slice(0,s),u=i.slice(s+1,n.length);(0,nm.validateKey)(o)&&(0,nm.validateValue)(u)&&t.set(o,u)}return t},new Map),this._internalState.size>im&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,im))))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let e=new oo;return e._internalState=new Map(this._internalState),e}};Gu.TraceState=oo});var um=a(De=>{"use strict";Object.defineProperty(De,"__esModule",{value:!0});De.W3CTraceContextPropagator=De.parseTraceParent=De.TRACE_STATE_HEADER=De.TRACE_PARENT_HEADER=void 0;var qu=f(),PU=to(),NU=Hp();De.TRACE_PARENT_HEADER="traceparent";De.TRACE_STATE_HEADER="tracestate";var IU="00",bU="(?!ff)[\\da-f]{2}",vU="(?![0]{32})[\\da-f]{32}",CU="(?![0]{16})[\\da-f]{16}",MU="[\\da-f]{2}",yU=new RegExp(`^\\s?(${bU})-(${vU})-(${CU})-(${MU})(-.*)?\\s?$`);function am(r){let e=yU.exec(r);return!e||e[1]==="00"&&e[5]?null:{traceId:e[2],spanId:e[3],traceFlags:parseInt(e[4],16)}}De.parseTraceParent=am;var Fp=class{inject(e,t,n){let i=qu.trace.getSpanContext(e);if(!i||(0,PU.isTracingSuppressed)(e)||!(0,qu.isSpanContextValid)(i))return;let s=`${IU}-${i.traceId}-${i.spanId}-0${Number(i.traceFlags||qu.TraceFlags.NONE).toString(16)}`;n.set(t,De.TRACE_PARENT_HEADER,s),i.traceState&&n.set(t,De.TRACE_STATE_HEADER,i.traceState.serialize())}extract(e,t,n){let i=n.get(t,De.TRACE_PARENT_HEADER);if(!i)return e;let s=Array.isArray(i)?i[0]:i;if(typeof s!="string")return e;let o=am(s);if(!o)return e;o.isRemote=!0;let u=n.get(t,De.TRACE_STATE_HEADER);if(u){let c=Array.isArray(u)?u.join(","):u;o.traceState=new NU.TraceState(typeof c=="string"?c:void 0)}return qu.trace.setSpanContext(e,o)}fields(){return[De.TRACE_PARENT_HEADER,De.TRACE_STATE_HEADER]}};De.W3CTraceContextPropagator=Fp});var _m=a(cm=>{"use strict";Object.defineProperty(cm,"__esModule",{value:!0})});var lm=a(bt=>{"use strict";Object.defineProperty(bt,"__esModule",{value:!0});bt.getRPCMetadata=bt.deleteRPCMetadata=bt.setRPCMetadata=bt.RPCType=void 0;var LU=f(),xp=(0,LU.createContextKey)("OpenTelemetry SDK Context Key RPC_METADATA"),DU;(function(r){r.HTTP="http"})(DU=bt.RPCType||(bt.RPCType={}));function wU(r,e){return r.setValue(xp,e)}bt.setRPCMetadata=wU;function UU(r){return r.deleteValue(xp)}bt.deleteRPCMetadata=UU;function BU(r){return r.getValue(xp)}bt.getRPCMetadata=BU});var $p=a(ju=>{"use strict";Object.defineProperty(ju,"__esModule",{value:!0});ju.AlwaysOffSampler=void 0;var GU=f(),Kp=class{shouldSample(){return{decision:GU.SamplingDecision.NOT_RECORD}}toString(){return"AlwaysOffSampler"}};ju.AlwaysOffSampler=Kp});var Yp=a(Vu=>{"use strict";Object.defineProperty(Vu,"__esModule",{value:!0});Vu.AlwaysOnSampler=void 0;var qU=f(),Xp=class{shouldSample(){return{decision:qU.SamplingDecision.RECORD_AND_SAMPLED}}toString(){return"AlwaysOnSampler"}};Vu.AlwaysOnSampler=Xp});var Em=a(Fu=>{"use strict";Object.defineProperty(Fu,"__esModule",{value:!0});Fu.ParentBasedSampler=void 0;var Hu=f(),jU=Mp(),dm=$p(),Wp=Yp(),kp=class{constructor(e){var t,n,i,s;this._root=e.root,this._root||((0,jU.globalErrorHandler)(new Error("ParentBasedSampler must have a root sampler configured")),this._root=new Wp.AlwaysOnSampler),this._remoteParentSampled=(t=e.remoteParentSampled)!==null&&t!==void 0?t:new Wp.AlwaysOnSampler,this._remoteParentNotSampled=(n=e.remoteParentNotSampled)!==null&&n!==void 0?n:new dm.AlwaysOffSampler,this._localParentSampled=(i=e.localParentSampled)!==null&&i!==void 0?i:new Wp.AlwaysOnSampler,this._localParentNotSampled=(s=e.localParentNotSampled)!==null&&s!==void 0?s:new dm.AlwaysOffSampler}shouldSample(e,t,n,i,s,o){let u=Hu.trace.getSpanContext(e);return!u||!(0,Hu.isSpanContextValid)(u)?this._root.shouldSample(e,t,n,i,s,o):u.isRemote?u.traceFlags&Hu.TraceFlags.SAMPLED?this._remoteParentSampled.shouldSample(e,t,n,i,s,o):this._remoteParentNotSampled.shouldSample(e,t,n,i,s,o):u.traceFlags&Hu.TraceFlags.SAMPLED?this._localParentSampled.shouldSample(e,t,n,i,s,o):this._localParentNotSampled.shouldSample(e,t,n,i,s,o)}toString(){return`ParentBased{root=${this._root.toString()}, remoteParentSampled=${this._remoteParentSampled.toString()}, remoteParentNotSampled=${this._remoteParentNotSampled.toString()}, localParentSampled=${this._localParentSampled.toString()}, localParentNotSampled=${this._localParentNotSampled.toString()}}`}};Fu.ParentBasedSampler=kp});var pm=a(xu=>{"use strict";Object.defineProperty(xu,"__esModule",{value:!0});xu.TraceIdRatioBasedSampler=void 0;var zp=f(),Qp=class{constructor(e=0){this._ratio=e,this._ratio=this._normalize(e),this._upperBound=Math.floor(this._ratio*4294967295)}shouldSample(e,t){return{decision:(0,zp.isValidTraceId)(t)&&this._accumulate(t)<this._upperBound?zp.SamplingDecision.RECORD_AND_SAMPLED:zp.SamplingDecision.NOT_RECORD}}toString(){return`TraceIdRatioBased{${this._ratio}}`}_normalize(e){return typeof e!="number"||isNaN(e)?0:e>=1?1:e<=0?0:e}_accumulate(e){let t=0;for(let n=0;n<e.length/8;n++){let i=n*8,s=parseInt(e.slice(i,i+8),16);t=(t^s)>>>0}return t}};xu.TraceIdRatioBasedSampler=Qp});var hm=a(Ku=>{"use strict";Object.defineProperty(Ku,"__esModule",{value:!0});Ku.isPlainObject=void 0;var VU="[object Object]",HU="[object Null]",FU="[object Undefined]",xU=Function.prototype,fm=xU.toString,KU=fm.call(Object),$U=XU(Object.getPrototypeOf,Object),Tm=Object.prototype,Sm=Tm.hasOwnProperty,An=Symbol?Symbol.toStringTag:void 0,Am=Tm.toString;function XU(r,e){return function(t){return r(e(t))}}function YU(r){if(!WU(r)||kU(r)!==VU)return!1;let e=$U(r);if(e===null)return!0;let t=Sm.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t instanceof t&&fm.call(t)===KU}Ku.isPlainObject=YU;function WU(r){return r!=null&&typeof r=="object"}function kU(r){return r==null?r===void 0?FU:HU:An&&An in Object(r)?zU(r):QU(r)}function zU(r){let e=Sm.call(r,An),t=r[An],n=!1;try{r[An]=void 0,n=!0}catch{}let i=Am.call(r);return n&&(e?r[An]=t:delete r[An]),i}function QU(r){return Am.call(r)}});var Pm=a(Yu=>{"use strict";Object.defineProperty(Yu,"__esModule",{value:!0});Yu.merge=void 0;var gm=hm(),ZU=20;function JU(...r){let e=r.shift(),t=new WeakMap;for(;r.length>0;)e=mm(e,r.shift(),0,t);return e}Yu.merge=JU;function Zp(r){return Xu(r)?r.slice():r}function mm(r,e,t=0,n){let i;if(!(t>ZU)){if(t++,$u(r)||$u(e)||Rm(e))i=Zp(e);else if(Xu(r)){if(i=r.slice(),Xu(e))for(let s=0,o=e.length;s<o;s++)i.push(Zp(e[s]));else if(ao(e)){let s=Object.keys(e);for(let o=0,u=s.length;o<u;o++){let c=s[o];i[c]=Zp(e[c])}}}else if(ao(r))if(ao(e)){if(!eB(r,e))return e;i=Object.assign({},r);let s=Object.keys(e);for(let o=0,u=s.length;o<u;o++){let c=s[o],_=e[c];if($u(_))typeof _>"u"?delete i[c]:i[c]=_;else{let l=i[c],d=_;if(Om(r,c,n)||Om(e,c,n))delete i[c];else{if(ao(l)&&ao(d)){let p=n.get(l)||[],E=n.get(d)||[];p.push({obj:r,key:c}),E.push({obj:e,key:c}),n.set(l,p),n.set(d,E)}i[c]=mm(i[c],_,t,n)}}}}else i=e;return i}}function Om(r,e,t){let n=t.get(r[e])||[];for(let i=0,s=n.length;i<s;i++){let o=n[i];if(o.key===e&&o.obj===r)return!0}return!1}function Xu(r){return Array.isArray(r)}function Rm(r){return typeof r=="function"}function ao(r){return!$u(r)&&!Xu(r)&&!Rm(r)&&typeof r=="object"}function $u(r){return typeof r=="string"||typeof r=="number"||typeof r=="boolean"||typeof r>"u"||r instanceof Date||r instanceof RegExp||r===null}function eB(r,e){return!(!(0,gm.isPlainObject)(r)||!(0,gm.isPlainObject)(e))}});var Im=a(ji=>{"use strict";Object.defineProperty(ji,"__esModule",{value:!0});ji.isUrlIgnored=ji.urlMatches=void 0;function Nm(r,e){return typeof e=="string"?r===e:!!r.match(e)}ji.urlMatches=Nm;function tB(r,e){if(!e)return!1;for(let t of e)if(Nm(r,t))return!0;return!1}ji.isUrlIgnored=tB});var bm=a(Wu=>{"use strict";Object.defineProperty(Wu,"__esModule",{value:!0});Wu.isWrapped=void 0;function rB(r){return typeof r=="function"&&typeof r.__original=="function"&&typeof r.__unwrap=="function"&&r.__wrapped===!0}Wu.isWrapped=rB});var vm=a(ku=>{"use strict";Object.defineProperty(ku,"__esModule",{value:!0});ku.Deferred=void 0;var Jp=class{constructor(){this._promise=new Promise((e,t)=>{this._resolve=e,this._reject=t})}get promise(){return this._promise}resolve(e){this._resolve(e)}reject(e){this._reject(e)}};ku.Deferred=Jp});var Cm=a(zu=>{"use strict";Object.defineProperty(zu,"__esModule",{value:!0});zu.BindOnceFuture=void 0;var nB=vm(),ef=class{constructor(e,t){this._callback=e,this._that=t,this._isCalled=!1,this._deferred=new nB.Deferred}get isCalled(){return this._isCalled}get promise(){return this._deferred.promise}call(...e){if(!this._isCalled){this._isCalled=!0;try{Promise.resolve(this._callback.call(this._that,...e)).then(t=>this._deferred.resolve(t),t=>this._deferred.reject(t))}catch(t){this._deferred.reject(t)}}return this._deferred.promise}};zu.BindOnceFuture=ef});var ym=a(Qu=>{"use strict";Object.defineProperty(Qu,"__esModule",{value:!0});Qu._export=void 0;var Mm=f(),iB=to();function sB(r,e){return new Promise(t=>{Mm.context.with((0,iB.suppressTracing)(Mm.context.active()),()=>{r.export(e,n=>{t(n)})})})}Qu._export=sB});var le=a(w=>{"use strict";var oB=w&&w.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),k=w&&w.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&oB(e,r,t)};Object.defineProperty(w,"__esModule",{value:!0});w.internal=w.baggageUtils=void 0;k(mO(),w);k(RO(),w);k(vO(),w);k(Mp(),w);k(Cp(),w);k(zO(),w);k(ZO(),w);k(JO(),w);k(Lu(),w);w.baggageUtils=Pp();k(Up(),w);k(tm(),w);k(um(),w);k(_m(),w);k(lm(),w);k($p(),w);k(Yp(),w);k(Em(),w);k(pm(),w);k(to(),w);k(Hp(),w);k(Dp(),w);k(Pm(),w);k(yp(),w);k(Im(),w);k(bm(),w);k(Cm(),w);k(Lu(),w);var aB=ym();w.internal={_export:aB._export}});var uo=a((q5,Lm)=>{var uB="2.0.0",cB=Number.MAX_SAFE_INTEGER||9007199254740991,_B=16;Lm.exports={SEMVER_SPEC_VERSION:uB,MAX_LENGTH:256,MAX_SAFE_INTEGER:cB,MAX_SAFE_COMPONENT_LENGTH:_B}});var co=a((j5,Dm)=>{var lB=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...r)=>console.error("SEMVER",...r):()=>{};Dm.exports=lB});var hn=a((Cr,wm)=>{var{MAX_SAFE_COMPONENT_LENGTH:tf}=uo(),dB=co();Cr=wm.exports={};var EB=Cr.re=[],T=Cr.src=[],S=Cr.t={},pB=0,y=(r,e,t)=>{let n=pB++;dB(r,n,e),S[r]=n,T[n]=e,EB[n]=new RegExp(e,t?"g":void 0)};y("NUMERICIDENTIFIER","0|[1-9]\\d*");y("NUMERICIDENTIFIERLOOSE","[0-9]+");y("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*");y("MAINVERSION",`(${T[S.NUMERICIDENTIFIER]})\\.(${T[S.NUMERICIDENTIFIER]})\\.(${T[S.NUMERICIDENTIFIER]})`);y("MAINVERSIONLOOSE",`(${T[S.NUMERICIDENTIFIERLOOSE]})\\.(${T[S.NUMERICIDENTIFIERLOOSE]})\\.(${T[S.NUMERICIDENTIFIERLOOSE]})`);y("PRERELEASEIDENTIFIER",`(?:${T[S.NUMERICIDENTIFIER]}|${T[S.NONNUMERICIDENTIFIER]})`);y("PRERELEASEIDENTIFIERLOOSE",`(?:${T[S.NUMERICIDENTIFIERLOOSE]}|${T[S.NONNUMERICIDENTIFIER]})`);y("PRERELEASE",`(?:-(${T[S.PRERELEASEIDENTIFIER]}(?:\\.${T[S.PRERELEASEIDENTIFIER]})*))`);y("PRERELEASELOOSE",`(?:-?(${T[S.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${T[S.PRERELEASEIDENTIFIERLOOSE]})*))`);y("BUILDIDENTIFIER","[0-9A-Za-z-]+");y("BUILD",`(?:\\+(${T[S.BUILDIDENTIFIER]}(?:\\.${T[S.BUILDIDENTIFIER]})*))`);y("FULLPLAIN",`v?${T[S.MAINVERSION]}${T[S.PRERELEASE]}?${T[S.BUILD]}?`);y("FULL",`^${T[S.FULLPLAIN]}$`);y("LOOSEPLAIN",`[v=\\s]*${T[S.MAINVERSIONLOOSE]}${T[S.PRERELEASELOOSE]}?${T[S.BUILD]}?`);y("LOOSE",`^${T[S.LOOSEPLAIN]}$`);y("GTLT","((?:<|>)?=?)");y("XRANGEIDENTIFIERLOOSE",`${T[S.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);y("XRANGEIDENTIFIER",`${T[S.NUMERICIDENTIFIER]}|x|X|\\*`);y("XRANGEPLAIN",`[v=\\s]*(${T[S.XRANGEIDENTIFIER]})(?:\\.(${T[S.XRANGEIDENTIFIER]})(?:\\.(${T[S.XRANGEIDENTIFIER]})(?:${T[S.PRERELEASE]})?${T[S.BUILD]}?)?)?`);y("XRANGEPLAINLOOSE",`[v=\\s]*(${T[S.XRANGEIDENTIFIERLOOSE]})(?:\\.(${T[S.XRANGEIDENTIFIERLOOSE]})(?:\\.(${T[S.XRANGEIDENTIFIERLOOSE]})(?:${T[S.PRERELEASELOOSE]})?${T[S.BUILD]}?)?)?`);y("XRANGE",`^${T[S.GTLT]}\\s*${T[S.XRANGEPLAIN]}$`);y("XRANGELOOSE",`^${T[S.GTLT]}\\s*${T[S.XRANGEPLAINLOOSE]}$`);y("COERCE",`(^|[^\\d])(\\d{1,${tf}})(?:\\.(\\d{1,${tf}}))?(?:\\.(\\d{1,${tf}}))?(?:$|[^\\d])`);y("COERCERTL",T[S.COERCE],!0);y("LONETILDE","(?:~>?)");y("TILDETRIM",`(\\s*)${T[S.LONETILDE]}\\s+`,!0);Cr.tildeTrimReplace="$1~";y("TILDE",`^${T[S.LONETILDE]}${T[S.XRANGEPLAIN]}$`);y("TILDELOOSE",`^${T[S.LONETILDE]}${T[S.XRANGEPLAINLOOSE]}$`);y("LONECARET","(?:\\^)");y("CARETTRIM",`(\\s*)${T[S.LONECARET]}\\s+`,!0);Cr.caretTrimReplace="$1^";y("CARET",`^${T[S.LONECARET]}${T[S.XRANGEPLAIN]}$`);y("CARETLOOSE",`^${T[S.LONECARET]}${T[S.XRANGEPLAINLOOSE]}$`);y("COMPARATORLOOSE",`^${T[S.GTLT]}\\s*(${T[S.LOOSEPLAIN]})$|^$`);y("COMPARATOR",`^${T[S.GTLT]}\\s*(${T[S.FULLPLAIN]})$|^$`);y("COMPARATORTRIM",`(\\s*)${T[S.GTLT]}\\s*(${T[S.LOOSEPLAIN]}|${T[S.XRANGEPLAIN]})`,!0);Cr.comparatorTrimReplace="$1$2$3";y("HYPHENRANGE",`^\\s*(${T[S.XRANGEPLAIN]})\\s+-\\s+(${T[S.XRANGEPLAIN]})\\s*$`);y("HYPHENRANGELOOSE",`^\\s*(${T[S.XRANGEPLAINLOOSE]})\\s+-\\s+(${T[S.XRANGEPLAINLOOSE]})\\s*$`);y("STAR","(<|>)?=?\\s*\\*");y("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");y("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var _o=a((V5,Um)=>{var fB=["includePrerelease","loose","rtl"],TB=r=>r?typeof r!="object"?{loose:!0}:fB.filter(e=>r[e]).reduce((e,t)=>(e[t]=!0,e),{}):{};Um.exports=TB});var rf=a((H5,qm)=>{var Bm=/^[0-9]+$/,Gm=(r,e)=>{let t=Bm.test(r),n=Bm.test(e);return t&&n&&(r=+r,e=+e),r===e?0:t&&!n?-1:n&&!t?1:r<e?-1:1},SB=(r,e)=>Gm(e,r);qm.exports={compareIdentifiers:Gm,rcompareIdentifiers:SB}});var we=a((F5,Fm)=>{var Zu=co(),{MAX_LENGTH:jm,MAX_SAFE_INTEGER:Ju}=uo(),{re:Vm,t:Hm}=hn(),AB=_o(),{compareIdentifiers:Vi}=rf(),_t=class{constructor(e,t){if(t=AB(t),e instanceof _t){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid Version: ${e}`);if(e.length>jm)throw new TypeError(`version is longer than ${jm} characters`);Zu("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;let n=e.trim().match(t.loose?Vm[Hm.LOOSE]:Vm[Hm.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>Ju||this.major<0)throw new TypeError("Invalid major version");if(this.minor>Ju||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>Ju||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){let s=+i;if(s>=0&&s<Ju)return s}return i}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(Zu("SemVer.compare",this.version,this.options,e),!(e instanceof _t)){if(typeof e=="string"&&e===this.version)return 0;e=new _t(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof _t||(e=new _t(e,this.options)),Vi(this.major,e.major)||Vi(this.minor,e.minor)||Vi(this.patch,e.patch)}comparePre(e){if(e instanceof _t||(e=new _t(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{let n=this.prerelease[t],i=e.prerelease[t];if(Zu("prerelease compare",t,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return Vi(n,i)}while(++t)}compareBuild(e){e instanceof _t||(e=new _t(e,this.options));let t=0;do{let n=this.build[t],i=e.build[t];if(Zu("prerelease compare",t,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return Vi(n,i)}while(++t)}inc(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",t),this.inc("pre",t);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{let n=this.prerelease.length;for(;--n>=0;)typeof this.prerelease[n]=="number"&&(this.prerelease[n]++,n=-2);n===-1&&this.prerelease.push(0)}t&&(Vi(this.prerelease[0],t)===0?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error(`invalid increment argument: ${e}`)}return this.format(),this.raw=this.version,this}};Fm.exports=_t});var gn=a((x5,Xm)=>{var{MAX_LENGTH:hB}=uo(),{re:xm,t:Km}=hn(),$m=we(),gB=_o(),OB=(r,e)=>{if(e=gB(e),r instanceof $m)return r;if(typeof r!="string"||r.length>hB||!(e.loose?xm[Km.LOOSE]:xm[Km.FULL]).test(r))return null;try{return new $m(r,e)}catch{return null}};Xm.exports=OB});var Wm=a((K5,Ym)=>{var mB=gn(),RB=(r,e)=>{let t=mB(r,e);return t?t.version:null};Ym.exports=RB});var zm=a(($5,km)=>{var PB=gn(),NB=(r,e)=>{let t=PB(r.trim().replace(/^[=v]+/,""),e);return t?t.version:null};km.exports=NB});var Jm=a((X5,Zm)=>{var Qm=we(),IB=(r,e,t,n)=>{typeof t=="string"&&(n=t,t=void 0);try{return new Qm(r instanceof Qm?r.version:r,t).inc(e,n).version}catch{return null}};Zm.exports=IB});var St=a((Y5,tR)=>{var eR=we(),bB=(r,e,t)=>new eR(r,t).compare(new eR(e,t));tR.exports=bB});var ec=a((W5,rR)=>{var vB=St(),CB=(r,e,t)=>vB(r,e,t)===0;rR.exports=CB});var sR=a((k5,iR)=>{var nR=gn(),MB=ec(),yB=(r,e)=>{if(MB(r,e))return null;{let t=nR(r),n=nR(e),i=t.prerelease.length||n.prerelease.length,s=i?"pre":"",o=i?"prerelease":"";for(let u in t)if((u==="major"||u==="minor"||u==="patch")&&t[u]!==n[u])return s+u;return o}};iR.exports=yB});var aR=a((z5,oR)=>{var LB=we(),DB=(r,e)=>new LB(r,e).major;oR.exports=DB});var cR=a((Q5,uR)=>{var wB=we(),UB=(r,e)=>new wB(r,e).minor;uR.exports=UB});var lR=a((Z5,_R)=>{var BB=we(),GB=(r,e)=>new BB(r,e).patch;_R.exports=GB});var ER=a((J5,dR)=>{var qB=gn(),jB=(r,e)=>{let t=qB(r,e);return t&&t.prerelease.length?t.prerelease:null};dR.exports=jB});var fR=a((ez,pR)=>{var VB=St(),HB=(r,e,t)=>VB(e,r,t);pR.exports=HB});var SR=a((tz,TR)=>{var FB=St(),xB=(r,e)=>FB(r,e,!0);TR.exports=xB});var tc=a((rz,hR)=>{var AR=we(),KB=(r,e,t)=>{let n=new AR(r,t),i=new AR(e,t);return n.compare(i)||n.compareBuild(i)};hR.exports=KB});var OR=a((nz,gR)=>{var $B=tc(),XB=(r,e)=>r.sort((t,n)=>$B(t,n,e));gR.exports=XB});var RR=a((iz,mR)=>{var YB=tc(),WB=(r,e)=>r.sort((t,n)=>YB(n,t,e));mR.exports=WB});var lo=a((sz,PR)=>{var kB=St(),zB=(r,e,t)=>kB(r,e,t)>0;PR.exports=zB});var rc=a((oz,NR)=>{var QB=St(),ZB=(r,e,t)=>QB(r,e,t)<0;NR.exports=ZB});var nf=a((az,IR)=>{var JB=St(),eG=(r,e,t)=>JB(r,e,t)!==0;IR.exports=eG});var nc=a((uz,bR)=>{var tG=St(),rG=(r,e,t)=>tG(r,e,t)>=0;bR.exports=rG});var ic=a((cz,vR)=>{var nG=St(),iG=(r,e,t)=>nG(r,e,t)<=0;vR.exports=iG});var sf=a((_z,CR)=>{var sG=ec(),oG=nf(),aG=lo(),uG=nc(),cG=rc(),_G=ic(),lG=(r,e,t,n)=>{switch(e){case"===":return typeof r=="object"&&(r=r.version),typeof t=="object"&&(t=t.version),r===t;case"!==":return typeof r=="object"&&(r=r.version),typeof t=="object"&&(t=t.version),r!==t;case"":case"=":case"==":return sG(r,t,n);case"!=":return oG(r,t,n);case">":return aG(r,t,n);case">=":return uG(r,t,n);case"<":return cG(r,t,n);case"<=":return _G(r,t,n);default:throw new TypeError(`Invalid operator: ${e}`)}};CR.exports=lG});var yR=a((lz,MR)=>{var dG=we(),EG=gn(),{re:sc,t:oc}=hn(),pG=(r,e)=>{if(r instanceof dG)return r;if(typeof r=="number"&&(r=String(r)),typeof r!="string")return null;e=e||{};let t=null;if(!e.rtl)t=r.match(sc[oc.COERCE]);else{let n;for(;(n=sc[oc.COERCERTL].exec(r))&&(!t||t.index+t[0].length!==r.length);)(!t||n.index+n[0].length!==t.index+t[0].length)&&(t=n),sc[oc.COERCERTL].lastIndex=n.index+n[1].length+n[2].length;sc[oc.COERCERTL].lastIndex=-1}return t===null?null:EG(`${t[2]}.${t[3]||"0"}.${t[4]||"0"}`,e)};MR.exports=pG});var DR=a((dz,LR)=>{"use strict";LR.exports=function(r){r.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}});var UR=a((Ez,wR)=>{"use strict";wR.exports=F;F.Node=On;F.create=F;function F(r){var e=this;if(e instanceof F||(e=new F),e.tail=null,e.head=null,e.length=0,r&&typeof r.forEach=="function")r.forEach(function(i){e.push(i)});else if(arguments.length>0)for(var t=0,n=arguments.length;t<n;t++)e.push(arguments[t]);return e}F.prototype.removeNode=function(r){if(r.list!==this)throw new Error("removing node which does not belong to this list");var e=r.next,t=r.prev;return e&&(e.prev=t),t&&(t.next=e),r===this.head&&(this.head=e),r===this.tail&&(this.tail=t),r.list.length--,r.next=null,r.prev=null,r.list=null,e};F.prototype.unshiftNode=function(r){if(r!==this.head){r.list&&r.list.removeNode(r);var e=this.head;r.list=this,r.next=e,e&&(e.prev=r),this.head=r,this.tail||(this.tail=r),this.length++}};F.prototype.pushNode=function(r){if(r!==this.tail){r.list&&r.list.removeNode(r);var e=this.tail;r.list=this,r.prev=e,e&&(e.next=r),this.tail=r,this.head||(this.head=r),this.length++}};F.prototype.push=function(){for(var r=0,e=arguments.length;r<e;r++)TG(this,arguments[r]);return this.length};F.prototype.unshift=function(){for(var r=0,e=arguments.length;r<e;r++)SG(this,arguments[r]);return this.length};F.prototype.pop=function(){if(this.tail){var r=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,r}};F.prototype.shift=function(){if(this.head){var r=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,r}};F.prototype.forEach=function(r,e){e=e||this;for(var t=this.head,n=0;t!==null;n++)r.call(e,t.value,n,this),t=t.next};F.prototype.forEachReverse=function(r,e){e=e||this;for(var t=this.tail,n=this.length-1;t!==null;n--)r.call(e,t.value,n,this),t=t.prev};F.prototype.get=function(r){for(var e=0,t=this.head;t!==null&&e<r;e++)t=t.next;if(e===r&&t!==null)return t.value};F.prototype.getReverse=function(r){for(var e=0,t=this.tail;t!==null&&e<r;e++)t=t.prev;if(e===r&&t!==null)return t.value};F.prototype.map=function(r,e){e=e||this;for(var t=new F,n=this.head;n!==null;)t.push(r.call(e,n.value,this)),n=n.next;return t};F.prototype.mapReverse=function(r,e){e=e||this;for(var t=new F,n=this.tail;n!==null;)t.push(r.call(e,n.value,this)),n=n.prev;return t};F.prototype.reduce=function(r,e){var t,n=this.head;if(arguments.length>1)t=e;else if(this.head)n=this.head.next,t=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=0;n!==null;i++)t=r(t,n.value,i),n=n.next;return t};F.prototype.reduceReverse=function(r,e){var t,n=this.tail;if(arguments.length>1)t=e;else if(this.tail)n=this.tail.prev,t=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=this.length-1;n!==null;i--)t=r(t,n.value,i),n=n.prev;return t};F.prototype.toArray=function(){for(var r=new Array(this.length),e=0,t=this.head;t!==null;e++)r[e]=t.value,t=t.next;return r};F.prototype.toArrayReverse=function(){for(var r=new Array(this.length),e=0,t=this.tail;t!==null;e++)r[e]=t.value,t=t.prev;return r};F.prototype.slice=function(r,e){e=e||this.length,e<0&&(e+=this.length),r=r||0,r<0&&(r+=this.length);var t=new F;if(e<r||e<0)return t;r<0&&(r=0),e>this.length&&(e=this.length);for(var n=0,i=this.head;i!==null&&n<r;n++)i=i.next;for(;i!==null&&n<e;n++,i=i.next)t.push(i.value);return t};F.prototype.sliceReverse=function(r,e){e=e||this.length,e<0&&(e+=this.length),r=r||0,r<0&&(r+=this.length);var t=new F;if(e<r||e<0)return t;r<0&&(r=0),e>this.length&&(e=this.length);for(var n=this.length,i=this.tail;i!==null&&n>e;n--)i=i.prev;for(;i!==null&&n>r;n--,i=i.prev)t.push(i.value);return t};F.prototype.splice=function(r,e,...t){r>this.length&&(r=this.length-1),r<0&&(r=this.length+r);for(var n=0,i=this.head;i!==null&&n<r;n++)i=i.next;for(var s=[],n=0;i&&n<e;n++)s.push(i.value),i=this.removeNode(i);i===null&&(i=this.tail),i!==this.head&&i!==this.tail&&(i=i.prev);for(var n=0;n<t.length;n++)i=fG(this,i,t[n]);return s};F.prototype.reverse=function(){for(var r=this.head,e=this.tail,t=r;t!==null;t=t.prev){var n=t.prev;t.prev=t.next,t.next=n}return this.head=e,this.tail=r,this};function fG(r,e,t){var n=e===r.head?new On(t,null,e,r):new On(t,e,e.next,r);return n.next===null&&(r.tail=n),n.prev===null&&(r.head=n),r.length++,n}function TG(r,e){r.tail=new On(e,r.tail,null,r),r.head||(r.head=r.tail),r.length++}function SG(r,e){r.head=new On(e,null,r.head,r),r.tail||(r.tail=r.head),r.length++}function On(r,e,t,n){if(!(this instanceof On))return new On(r,e,t,n);this.list=n,this.value=r,e?(e.next=this,this.prev=e):this.prev=null,t?(t.prev=this,this.next=t):this.next=null}try{DR()(F)}catch{}});var VR=a((pz,jR)=>{"use strict";var AG=UR(),mn=Symbol("max"),nr=Symbol("length"),Hi=Symbol("lengthCalculator"),po=Symbol("allowStale"),Rn=Symbol("maxAge"),rr=Symbol("dispose"),BR=Symbol("noDisposeOnSet"),ge=Symbol("lruList"),vt=Symbol("cache"),qR=Symbol("updateAgeOnGet"),of=()=>1,uf=class{constructor(e){if(typeof e=="number"&&(e={max:e}),e||(e={}),e.max&&(typeof e.max!="number"||e.max<0))throw new TypeError("max must be a non-negative number");let t=this[mn]=e.max||1/0,n=e.length||of;if(this[Hi]=typeof n!="function"?of:n,this[po]=e.stale||!1,e.maxAge&&typeof e.maxAge!="number")throw new TypeError("maxAge must be a number");this[Rn]=e.maxAge||0,this[rr]=e.dispose,this[BR]=e.noDisposeOnSet||!1,this[qR]=e.updateAgeOnGet||!1,this.reset()}set max(e){if(typeof e!="number"||e<0)throw new TypeError("max must be a non-negative number");this[mn]=e||1/0,Eo(this)}get max(){return this[mn]}set allowStale(e){this[po]=!!e}get allowStale(){return this[po]}set maxAge(e){if(typeof e!="number")throw new TypeError("maxAge must be a non-negative number");this[Rn]=e,Eo(this)}get maxAge(){return this[Rn]}set lengthCalculator(e){typeof e!="function"&&(e=of),e!==this[Hi]&&(this[Hi]=e,this[nr]=0,this[ge].forEach(t=>{t.length=this[Hi](t.value,t.key),this[nr]+=t.length})),Eo(this)}get lengthCalculator(){return this[Hi]}get length(){return this[nr]}get itemCount(){return this[ge].length}rforEach(e,t){t=t||this;for(let n=this[ge].tail;n!==null;){let i=n.prev;GR(this,e,n,t),n=i}}forEach(e,t){t=t||this;for(let n=this[ge].head;n!==null;){let i=n.next;GR(this,e,n,t),n=i}}keys(){return this[ge].toArray().map(e=>e.key)}values(){return this[ge].toArray().map(e=>e.value)}reset(){this[rr]&&this[ge]&&this[ge].length&&this[ge].forEach(e=>this[rr](e.key,e.value)),this[vt]=new Map,this[ge]=new AG,this[nr]=0}dump(){return this[ge].map(e=>ac(this,e)?!1:{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[ge]}set(e,t,n){if(n=n||this[Rn],n&&typeof n!="number")throw new TypeError("maxAge must be a number");let i=n?Date.now():0,s=this[Hi](t,e);if(this[vt].has(e)){if(s>this[mn])return Fi(this,this[vt].get(e)),!1;let c=this[vt].get(e).value;return this[rr]&&(this[BR]||this[rr](e,c.value)),c.now=i,c.maxAge=n,c.value=t,this[nr]+=s-c.length,c.length=s,this.get(e),Eo(this),!0}let o=new cf(e,t,s,i,n);return o.length>this[mn]?(this[rr]&&this[rr](e,t),!1):(this[nr]+=o.length,this[ge].unshift(o),this[vt].set(e,this[ge].head),Eo(this),!0)}has(e){if(!this[vt].has(e))return!1;let t=this[vt].get(e).value;return!ac(this,t)}get(e){return af(this,e,!0)}peek(e){return af(this,e,!1)}pop(){let e=this[ge].tail;return e?(Fi(this,e),e.value):null}del(e){Fi(this,this[vt].get(e))}load(e){this.reset();let t=Date.now();for(let n=e.length-1;n>=0;n--){let i=e[n],s=i.e||0;if(s===0)this.set(i.k,i.v);else{let o=s-t;o>0&&this.set(i.k,i.v,o)}}}prune(){this[vt].forEach((e,t)=>af(this,t,!1))}},af=(r,e,t)=>{let n=r[vt].get(e);if(n){let i=n.value;if(ac(r,i)){if(Fi(r,n),!r[po])return}else t&&(r[qR]&&(n.value.now=Date.now()),r[ge].unshiftNode(n));return i.value}},ac=(r,e)=>{if(!e||!e.maxAge&&!r[Rn])return!1;let t=Date.now()-e.now;return e.maxAge?t>e.maxAge:r[Rn]&&t>r[Rn]},Eo=r=>{if(r[nr]>r[mn])for(let e=r[ge].tail;r[nr]>r[mn]&&e!==null;){let t=e.prev;Fi(r,e),e=t}},Fi=(r,e)=>{if(e){let t=e.value;r[rr]&&r[rr](t.key,t.value),r[nr]-=t.length,r[vt].delete(t.key),r[ge].removeNode(e)}},cf=class{constructor(e,t,n,i,s){this.key=e,this.value=t,this.length=n,this.now=i,this.maxAge=s||0}},GR=(r,e,t,n)=>{let i=t.value;ac(r,i)&&(Fi(r,t),r[po]||(i=void 0)),i&&e.call(n,i.value,i.key,r)};jR.exports=uf});var At=a((fz,KR)=>{var Pn=class{constructor(e,t){if(t=gG(t),e instanceof Pn)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new Pn(e.raw,t);if(e instanceof _f)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split("||").map(n=>this.parseRange(n.trim())).filter(n=>n.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${e}`);if(this.set.length>1){let n=this.set[0];if(this.set=this.set.filter(i=>!FR(i[0])),this.set.length===0)this.set=[n];else if(this.set.length>1){for(let i of this.set)if(i.length===1&&NG(i[0])){this.set=[i];break}}}this.format()}format(){return this.range=this.set.map(e=>e.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(e){e=e.trim();let n=`parseRange:${Object.keys(this.options).join(",")}:${e}`,i=HR.get(n);if(i)return i;let s=this.options.loose,o=s?rt[ze.HYPHENRANGELOOSE]:rt[ze.HYPHENRANGE];e=e.replace(o,UG(this.options.includePrerelease)),_e("hyphen replace",e),e=e.replace(rt[ze.COMPARATORTRIM],mG),_e("comparator trim",e),e=e.replace(rt[ze.TILDETRIM],RG),e=e.replace(rt[ze.CARETTRIM],PG),e=e.split(/\s+/).join(" ");let u=e.split(" ").map(d=>IG(d,this.options)).join(" ").split(/\s+/).map(d=>wG(d,this.options));s&&(u=u.filter(d=>(_e("loose invalid filter",d,this.options),!!d.match(rt[ze.COMPARATORLOOSE])))),_e("range list",u);let c=new Map,_=u.map(d=>new _f(d,this.options));for(let d of _){if(FR(d))return[d];c.set(d.value,d)}c.size>1&&c.has("")&&c.delete("");let l=[...c.values()];return HR.set(n,l),l}intersects(e,t){if(!(e instanceof Pn))throw new TypeError("a Range is required");return this.set.some(n=>xR(n,t)&&e.set.some(i=>xR(i,t)&&n.every(s=>i.every(o=>s.intersects(o,t)))))}test(e){if(!e)return!1;if(typeof e=="string")try{e=new OG(e,this.options)}catch{return!1}for(let t=0;t<this.set.length;t++)if(BG(this.set[t],e,this.options))return!0;return!1}};KR.exports=Pn;var hG=VR(),HR=new hG({max:1e3}),gG=_o(),_f=fo(),_e=co(),OG=we(),{re:rt,t:ze,comparatorTrimReplace:mG,tildeTrimReplace:RG,caretTrimReplace:PG}=hn(),FR=r=>r.value==="<0.0.0-0",NG=r=>r.value==="",xR=(r,e)=>{let t=!0,n=r.slice(),i=n.pop();for(;t&&n.length;)t=n.every(s=>i.intersects(s,e)),i=n.pop();return t},IG=(r,e)=>(_e("comp",r,e),r=CG(r,e),_e("caret",r),r=bG(r,e),_e("tildes",r),r=yG(r,e),_e("xrange",r),r=DG(r,e),_e("stars",r),r),Qe=r=>!r||r.toLowerCase()==="x"||r==="*",bG=(r,e)=>r.trim().split(/\s+/).map(t=>vG(t,e)).join(" "),vG=(r,e)=>{let t=e.loose?rt[ze.TILDELOOSE]:rt[ze.TILDE];return r.replace(t,(n,i,s,o,u)=>{_e("tilde",r,n,i,s,o,u);let c;return Qe(i)?c="":Qe(s)?c=`>=${i}.0.0 <${+i+1}.0.0-0`:Qe(o)?c=`>=${i}.${s}.0 <${i}.${+s+1}.0-0`:u?(_e("replaceTilde pr",u),c=`>=${i}.${s}.${o}-${u} <${i}.${+s+1}.0-0`):c=`>=${i}.${s}.${o} <${i}.${+s+1}.0-0`,_e("tilde return",c),c})},CG=(r,e)=>r.trim().split(/\s+/).map(t=>MG(t,e)).join(" "),MG=(r,e)=>{_e("caret",r,e);let t=e.loose?rt[ze.CARETLOOSE]:rt[ze.CARET],n=e.includePrerelease?"-0":"";return r.replace(t,(i,s,o,u,c)=>{_e("caret",r,i,s,o,u,c);let _;return Qe(s)?_="":Qe(o)?_=`>=${s}.0.0${n} <${+s+1}.0.0-0`:Qe(u)?s==="0"?_=`>=${s}.${o}.0${n} <${s}.${+o+1}.0-0`:_=`>=${s}.${o}.0${n} <${+s+1}.0.0-0`:c?(_e("replaceCaret pr",c),s==="0"?o==="0"?_=`>=${s}.${o}.${u}-${c} <${s}.${o}.${+u+1}-0`:_=`>=${s}.${o}.${u}-${c} <${s}.${+o+1}.0-0`:_=`>=${s}.${o}.${u}-${c} <${+s+1}.0.0-0`):(_e("no pr"),s==="0"?o==="0"?_=`>=${s}.${o}.${u}${n} <${s}.${o}.${+u+1}-0`:_=`>=${s}.${o}.${u}${n} <${s}.${+o+1}.0-0`:_=`>=${s}.${o}.${u} <${+s+1}.0.0-0`),_e("caret return",_),_})},yG=(r,e)=>(_e("replaceXRanges",r,e),r.split(/\s+/).map(t=>LG(t,e)).join(" ")),LG=(r,e)=>{r=r.trim();let t=e.loose?rt[ze.XRANGELOOSE]:rt[ze.XRANGE];return r.replace(t,(n,i,s,o,u,c)=>{_e("xRange",r,n,i,s,o,u,c);let _=Qe(s),l=_||Qe(o),d=l||Qe(u),p=d;return i==="="&&p&&(i=""),c=e.includePrerelease?"-0":"",_?i===">"||i==="<"?n="<0.0.0-0":n="*":i&&p?(l&&(o=0),u=0,i===">"?(i=">=",l?(s=+s+1,o=0,u=0):(o=+o+1,u=0)):i==="<="&&(i="<",l?s=+s+1:o=+o+1),i==="<"&&(c="-0"),n=`${i+s}.${o}.${u}${c}`):l?n=`>=${s}.0.0${c} <${+s+1}.0.0-0`:d&&(n=`>=${s}.${o}.0${c} <${s}.${+o+1}.0-0`),_e("xRange return",n),n})},DG=(r,e)=>(_e("replaceStars",r,e),r.trim().replace(rt[ze.STAR],"")),wG=(r,e)=>(_e("replaceGTE0",r,e),r.trim().replace(rt[e.includePrerelease?ze.GTE0PRE:ze.GTE0],"")),UG=r=>(e,t,n,i,s,o,u,c,_,l,d,p,E)=>(Qe(n)?t="":Qe(i)?t=`>=${n}.0.0${r?"-0":""}`:Qe(s)?t=`>=${n}.${i}.0${r?"-0":""}`:o?t=`>=${t}`:t=`>=${t}${r?"-0":""}`,Qe(_)?c="":Qe(l)?c=`<${+_+1}.0.0-0`:Qe(d)?c=`<${_}.${+l+1}.0-0`:p?c=`<=${_}.${l}.${d}-${p}`:r?c=`<${_}.${l}.${+d+1}-0`:c=`<=${c}`,`${t} ${c}`.trim()),BG=(r,e,t)=>{for(let n=0;n<r.length;n++)if(!r[n].test(e))return!1;if(e.prerelease.length&&!t.includePrerelease){for(let n=0;n<r.length;n++)if(_e(r[n].semver),r[n].semver!==_f.ANY&&r[n].semver.prerelease.length>0){let i=r[n].semver;if(i.major===e.major&&i.minor===e.minor&&i.patch===e.patch)return!0}return!1}return!0}});var fo=a((Tz,kR)=>{var To=Symbol("SemVer ANY"),xi=class{static get ANY(){return To}constructor(e,t){if(t=GG(t),e instanceof xi){if(e.loose===!!t.loose)return e;e=e.value}df("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===To?this.value="":this.value=this.operator+this.semver.version,df("comp",this)}parse(e){let t=this.options.loose?$R[XR.COMPARATORLOOSE]:$R[XR.COMPARATOR],n=e.match(t);if(!n)throw new TypeError(`Invalid comparator: ${e}`);this.operator=n[1]!==void 0?n[1]:"",this.operator==="="&&(this.operator=""),n[2]?this.semver=new YR(n[2],this.options.loose):this.semver=To}toString(){return this.value}test(e){if(df("Comparator.test",e,this.options.loose),this.semver===To||e===To)return!0;if(typeof e=="string")try{e=new YR(e,this.options)}catch{return!1}return lf(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof xi))throw new TypeError("a Comparator is required");if((!t||typeof t!="object")&&(t={loose:!!t,includePrerelease:!1}),this.operator==="")return this.value===""?!0:new WR(e.value,t).test(this.value);if(e.operator==="")return e.value===""?!0:new WR(this.value,t).test(e.semver);let n=(this.operator===">="||this.operator===">")&&(e.operator===">="||e.operator===">"),i=(this.operator==="<="||this.operator==="<")&&(e.operator==="<="||e.operator==="<"),s=this.semver.version===e.semver.version,o=(this.operator===">="||this.operator==="<=")&&(e.operator===">="||e.operator==="<="),u=lf(this.semver,"<",e.semver,t)&&(this.operator===">="||this.operator===">")&&(e.operator==="<="||e.operator==="<"),c=lf(this.semver,">",e.semver,t)&&(this.operator==="<="||this.operator==="<")&&(e.operator===">="||e.operator===">");return n||i||s&&o||u||c}};kR.exports=xi;var GG=_o(),{re:$R,t:XR}=hn(),lf=sf(),df=co(),YR=we(),WR=At()});var So=a((Sz,zR)=>{var qG=At(),jG=(r,e,t)=>{try{e=new qG(e,t)}catch{return!1}return e.test(r)};zR.exports=jG});var ZR=a((Az,QR)=>{var VG=At(),HG=(r,e)=>new VG(r,e).set.map(t=>t.map(n=>n.value).join(" ").trim().split(" "));QR.exports=HG});var eP=a((hz,JR)=>{var FG=we(),xG=At(),KG=(r,e,t)=>{let n=null,i=null,s=null;try{s=new xG(e,t)}catch{return null}return r.forEach(o=>{s.test(o)&&(!n||i.compare(o)===-1)&&(n=o,i=new FG(n,t))}),n};JR.exports=KG});var rP=a((gz,tP)=>{var $G=we(),XG=At(),YG=(r,e,t)=>{let n=null,i=null,s=null;try{s=new XG(e,t)}catch{return null}return r.forEach(o=>{s.test(o)&&(!n||i.compare(o)===1)&&(n=o,i=new $G(n,t))}),n};tP.exports=YG});var sP=a((Oz,iP)=>{var Ef=we(),WG=At(),nP=lo(),kG=(r,e)=>{r=new WG(r,e);let t=new Ef("0.0.0");if(r.test(t)||(t=new Ef("0.0.0-0"),r.test(t)))return t;t=null;for(let n=0;n<r.set.length;++n){let i=r.set[n],s=null;i.forEach(o=>{let u=new Ef(o.semver.version);switch(o.operator){case">":u.prerelease.length===0?u.patch++:u.prerelease.push(0),u.raw=u.format();case"":case">=":(!s||nP(u,s))&&(s=u);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${o.operator}`)}}),s&&(!t||nP(t,s))&&(t=s)}return t&&r.test(t)?t:null};iP.exports=kG});var aP=a((mz,oP)=>{var zG=At(),QG=(r,e)=>{try{return new zG(r,e).range||"*"}catch{return null}};oP.exports=QG});var uc=a((Rz,lP)=>{var ZG=we(),_P=fo(),{ANY:JG}=_P,eq=At(),tq=So(),uP=lo(),cP=rc(),rq=ic(),nq=nc(),iq=(r,e,t,n)=>{r=new ZG(r,n),e=new eq(e,n);let i,s,o,u,c;switch(t){case">":i=uP,s=rq,o=cP,u=">",c=">=";break;case"<":i=cP,s=nq,o=uP,u="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(tq(r,e,n))return!1;for(let _=0;_<e.set.length;++_){let l=e.set[_],d=null,p=null;if(l.forEach(E=>{E.semver===JG&&(E=new _P(">=0.0.0")),d=d||E,p=p||E,i(E.semver,d.semver,n)?d=E:o(E.semver,p.semver,n)&&(p=E)}),d.operator===u||d.operator===c||(!p.operator||p.operator===u)&&s(r,p.semver))return!1;if(p.operator===c&&o(r,p.semver))return!1}return!0};lP.exports=iq});var EP=a((Pz,dP)=>{var sq=uc(),oq=(r,e,t)=>sq(r,e,">",t);dP.exports=oq});var fP=a((Nz,pP)=>{var aq=uc(),uq=(r,e,t)=>aq(r,e,"<",t);pP.exports=uq});var AP=a((Iz,SP)=>{var TP=At(),cq=(r,e,t)=>(r=new TP(r,t),e=new TP(e,t),r.intersects(e));SP.exports=cq});var gP=a((bz,hP)=>{var _q=So(),lq=St();hP.exports=(r,e,t)=>{let n=[],i=null,s=null,o=r.sort((l,d)=>lq(l,d,t));for(let l of o)_q(l,e,t)?(s=l,i||(i=l)):(s&&n.push([i,s]),s=null,i=null);i&&n.push([i,null]);let u=[];for(let[l,d]of n)l===d?u.push(l):!d&&l===o[0]?u.push("*"):d?l===o[0]?u.push(`<=${d}`):u.push(`${l} - ${d}`):u.push(`>=${l}`);let c=u.join(" || "),_=typeof e.raw=="string"?e.raw:String(e);return c.length<_.length?c:e}});var NP=a((vz,PP)=>{var OP=At(),cc=fo(),{ANY:pf}=cc,Ao=So(),ff=St(),dq=(r,e,t={})=>{if(r===e)return!0;r=new OP(r,t),e=new OP(e,t);let n=!1;e:for(let i of r.set){for(let s of e.set){let o=Eq(i,s,t);if(n=n||o!==null,o)continue e}if(n)return!1}return!0},Eq=(r,e,t)=>{if(r===e)return!0;if(r.length===1&&r[0].semver===pf){if(e.length===1&&e[0].semver===pf)return!0;t.includePrerelease?r=[new cc(">=0.0.0-0")]:r=[new cc(">=0.0.0")]}if(e.length===1&&e[0].semver===pf){if(t.includePrerelease)return!0;e=[new cc(">=0.0.0")]}let n=new Set,i,s;for(let E of r)E.operator===">"||E.operator===">="?i=mP(i,E,t):E.operator==="<"||E.operator==="<="?s=RP(s,E,t):n.add(E.semver);if(n.size>1)return null;let o;if(i&&s){if(o=ff(i.semver,s.semver,t),o>0)return null;if(o===0&&(i.operator!==">="||s.operator!=="<="))return null}for(let E of n){if(i&&!Ao(E,String(i),t)||s&&!Ao(E,String(s),t))return null;for(let O of e)if(!Ao(E,String(O),t))return!1;return!0}let u,c,_,l,d=s&&!t.includePrerelease&&s.semver.prerelease.length?s.semver:!1,p=i&&!t.includePrerelease&&i.semver.prerelease.length?i.semver:!1;d&&d.prerelease.length===1&&s.operator==="<"&&d.prerelease[0]===0&&(d=!1);for(let E of e){if(l=l||E.operator===">"||E.operator===">=",_=_||E.operator==="<"||E.operator==="<=",i){if(p&&E.semver.prerelease&&E.semver.prerelease.length&&E.semver.major===p.major&&E.semver.minor===p.minor&&E.semver.patch===p.patch&&(p=!1),E.operator===">"||E.operator===">="){if(u=mP(i,E,t),u===E&&u!==i)return!1}else if(i.operator===">="&&!Ao(i.semver,String(E),t))return!1}if(s){if(d&&E.semver.prerelease&&E.semver.prerelease.length&&E.semver.major===d.major&&E.semver.minor===d.minor&&E.semver.patch===d.patch&&(d=!1),E.operator==="<"||E.operator==="<="){if(c=RP(s,E,t),c===E&&c!==s)return!1}else if(s.operator==="<="&&!Ao(s.semver,String(E),t))return!1}if(!E.operator&&(s||i)&&o!==0)return!1}return!(i&&_&&!s&&o!==0||s&&l&&!i&&o!==0||p||d)},mP=(r,e,t)=>{if(!r)return e;let n=ff(r.semver,e.semver,t);return n>0?r:n<0||e.operator===">"&&r.operator===">="?e:r},RP=(r,e,t)=>{if(!r)return e;let n=ff(r.semver,e.semver,t);return n<0?r:n>0||e.operator==="<"&&r.operator==="<="?e:r};PP.exports=dq});var ho=a((Cz,bP)=>{var Tf=hn(),pq=uo(),fq=we(),IP=rf(),Tq=gn(),Sq=Wm(),Aq=zm(),hq=Jm(),gq=sR(),Oq=aR(),mq=cR(),Rq=lR(),Pq=ER(),Nq=St(),Iq=fR(),bq=SR(),vq=tc(),Cq=OR(),Mq=RR(),yq=lo(),Lq=rc(),Dq=ec(),wq=nf(),Uq=nc(),Bq=ic(),Gq=sf(),qq=yR(),jq=fo(),Vq=At(),Hq=So(),Fq=ZR(),xq=eP(),Kq=rP(),$q=sP(),Xq=aP(),Yq=uc(),Wq=EP(),kq=fP(),zq=AP(),Qq=gP(),Zq=NP();bP.exports={parse:Tq,valid:Sq,clean:Aq,inc:hq,diff:gq,major:Oq,minor:mq,patch:Rq,prerelease:Pq,compare:Nq,rcompare:Iq,compareLoose:bq,compareBuild:vq,sort:Cq,rsort:Mq,gt:yq,lt:Lq,eq:Dq,neq:wq,gte:Uq,lte:Bq,cmp:Gq,coerce:qq,Comparator:jq,Range:Vq,satisfies:Hq,toComparators:Fq,maxSatisfying:xq,minSatisfying:Kq,minVersion:$q,validRange:Xq,outside:Yq,gtr:Wq,ltr:kq,intersects:zq,simplifyRange:Qq,subset:Zq,SemVer:fq,re:Tf.re,src:Tf.src,tokens:Tf.t,SEMVER_SPEC_VERSION:pq.SEMVER_SPEC_VERSION,compareIdentifiers:IP.compareIdentifiers,rcompareIdentifiers:IP.rcompareIdentifiers}});var vP=a(go=>{"use strict";Object.defineProperty(go,"__esModule",{value:!0});go.AttributeNames=void 0;var Jq;(function(r){r.HTTP_ERROR_NAME="http.error_name",r.HTTP_ERROR_MESSAGE="http.error_message",r.HTTP_STATUS_TEXT="http.status_text"})(Jq=go.AttributeNames||(go.AttributeNames={}))});var Sf=a(m=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0});m.headerCapture=m.getIncomingRequestMetricAttributesOnResponse=m.getIncomingRequestAttributesOnResponse=m.getIncomingRequestMetricAttributes=m.getIncomingRequestAttributes=m.getOutgoingRequestMetricAttributesOnResponse=m.getOutgoingRequestAttributesOnResponse=m.getAttributesFromHttpKind=m.getOutgoingRequestMetricAttributes=m.getOutgoingRequestAttributes=m.extractHostnameAndPort=m.isValidOptionsType=m.getRequestInfo=m.isCompressed=m.setResponseContentLengthAttribute=m.setRequestContentLengthAttribute=m.setSpanWithError=m.isIgnored=m.satisfiesPattern=m.parseResponseStatus=m.getAbsoluteUrl=void 0;var Oo=f(),g=Le(),CP=le(),_c=require("url"),lc=vP(),ej=(r,e,t="http:")=>{let n=r||{},i=n.protocol||t,s=(n.port||"").toString(),o=n.path||"/",u=n.host||n.hostname||e.host||"localhost";return u.indexOf(":")===-1&&s&&s!=="80"&&s!=="443"&&(u+=`:${s}`),`${i}//${u}${o}`};m.getAbsoluteUrl=ej;var tj=(r,e)=>{let t=r===Oo.SpanKind.CLIENT?400:500;return e&&e>=100&&e<t?Oo.SpanStatusCode.UNSET:Oo.SpanStatusCode.ERROR};m.parseResponseStatus=tj;var rj=(r,e)=>{if(typeof e=="string")return e===r;if(e instanceof RegExp)return e.test(r);if(typeof e=="function")return e(r);throw new TypeError("Pattern is in unsupported datatype")};m.satisfiesPattern=rj;var nj=(r,e,t)=>{if(!e)return!1;try{for(let n of e)if((0,m.satisfiesPattern)(r,n))return!0}catch(n){t&&t(n)}return!1};m.isIgnored=nj;var ij=(r,e)=>{let t=e.message;r.setAttributes({[lc.AttributeNames.HTTP_ERROR_NAME]:e.name,[lc.AttributeNames.HTTP_ERROR_MESSAGE]:t}),r.setStatus({code:Oo.SpanStatusCode.ERROR,message:t}),r.recordException(e)};m.setSpanWithError=ij;var sj=(r,e)=>{let t=MP(r.headers);t!==null&&((0,m.isCompressed)(r.headers)?e[g.SemanticAttributes.HTTP_REQUEST_CONTENT_LENGTH]=t:e[g.SemanticAttributes.HTTP_REQUEST_CONTENT_LENGTH_UNCOMPRESSED]=t)};m.setRequestContentLengthAttribute=sj;var oj=(r,e)=>{let t=MP(r.headers);t!==null&&((0,m.isCompressed)(r.headers)?e[g.SemanticAttributes.HTTP_RESPONSE_CONTENT_LENGTH]=t:e[g.SemanticAttributes.HTTP_RESPONSE_CONTENT_LENGTH_UNCOMPRESSED]=t)};m.setResponseContentLengthAttribute=oj;function MP(r){let e=r["content-length"];if(e===void 0)return null;let t=parseInt(e,10);return isNaN(t)?null:t}var aj=r=>{let e=r["content-encoding"];return!!e&&e!=="identity"};m.isCompressed=aj;var uj=(r,e)=>{var t;let n="/",i="",s;if(typeof r=="string")s=_c.parse(r),n=s.pathname||"/",i=`${s.protocol||"http:"}//${s.host}`,e!==void 0&&Object.assign(s,e);else if(r instanceof _c.URL)s={protocol:r.protocol,hostname:typeof r.hostname=="string"&&r.hostname.startsWith("[")?r.hostname.slice(1,-1):r.hostname,path:`${r.pathname||""}${r.search||""}`},r.port!==""&&(s.port=Number(r.port)),(r.username||r.password)&&(s.auth=`${r.username}:${r.password}`),n=r.pathname,i=r.origin,e!==void 0&&Object.assign(s,e);else{s=Object.assign({protocol:r.host?"http:":void 0},r),n=r.pathname,!n&&s.path&&(n=_c.parse(s.path).pathname||"/");let c=s.host||(s.port!=null?`${s.hostname}${s.port}`:s.hostname);i=`${s.protocol||"http:"}//${c}`}let o=(t=s.headers)!==null&&t!==void 0?t:{};s.headers=Object.keys(o).reduce((c,_)=>(c[_.toLowerCase()]=o[_],c),{});let u=s.method?s.method.toUpperCase():"GET";return{origin:i,pathname:n,method:u,optionsParsed:s}};m.getRequestInfo=uj;var cj=r=>{if(!r)return!1;let e=typeof r;return e==="string"||e==="object"&&!Array.isArray(r)};m.isValidOptionsType=cj;var _j=r=>{var e;if(r.hostname&&r.port)return{hostname:r.hostname,port:r.port};let t=((e=r.host)===null||e===void 0?void 0:e.match(/^([^:/ ]+)(:\d{1,5})?/))||null,n=r.hostname||(t===null?"localhost":t[1]),i=r.port;return i||(t&&t[2]?i=t[2].substring(1):i=r.protocol==="https:"?"443":"80"),{hostname:n,port:i}};m.extractHostnameAndPort=_j;var lj=(r,e)=>{var t,n;let i=e.hostname,s=e.port,o=r.method,u=o?o.toUpperCase():"GET",c=r.headers||{},_=c["user-agent"],l={[g.SemanticAttributes.HTTP_URL]:(0,m.getAbsoluteUrl)(r,c,`${e.component}:`),[g.SemanticAttributes.HTTP_METHOD]:u,[g.SemanticAttributes.HTTP_TARGET]:r.path||"/",[g.SemanticAttributes.NET_PEER_NAME]:i,[g.SemanticAttributes.HTTP_HOST]:(n=(t=r.headers)===null||t===void 0?void 0:t.host)!==null&&n!==void 0?n:`${i}:${s}`};return _!==void 0&&(l[g.SemanticAttributes.HTTP_USER_AGENT]=_),Object.assign(l,e.hookAttributes)};m.getOutgoingRequestAttributes=lj;var dj=r=>{let e={};return e[g.SemanticAttributes.HTTP_METHOD]=r[g.SemanticAttributes.HTTP_METHOD],e[g.SemanticAttributes.NET_PEER_NAME]=r[g.SemanticAttributes.NET_PEER_NAME],e};m.getOutgoingRequestMetricAttributes=dj;var Ej=r=>{let e={};return r&&(e[g.SemanticAttributes.HTTP_FLAVOR]=r,r.toUpperCase()!=="QUIC"?e[g.SemanticAttributes.NET_TRANSPORT]=g.NetTransportValues.IP_TCP:e[g.SemanticAttributes.NET_TRANSPORT]=g.NetTransportValues.IP_UDP),e};m.getAttributesFromHttpKind=Ej;var pj=r=>{let{statusCode:e,statusMessage:t,httpVersion:n,socket:i}=r,{remoteAddress:s,remotePort:o}=i,u={[g.SemanticAttributes.NET_PEER_IP]:s,[g.SemanticAttributes.NET_PEER_PORT]:o};(0,m.setResponseContentLengthAttribute)(r,u),e&&(u[g.SemanticAttributes.HTTP_STATUS_CODE]=e,u[lc.AttributeNames.HTTP_STATUS_TEXT]=(t||"").toUpperCase());let c=(0,m.getAttributesFromHttpKind)(n);return Object.assign(u,c)};m.getOutgoingRequestAttributesOnResponse=pj;var fj=r=>{let e={};return e[g.SemanticAttributes.NET_PEER_PORT]=r[g.SemanticAttributes.NET_PEER_PORT],e[g.SemanticAttributes.HTTP_STATUS_CODE]=r[g.SemanticAttributes.HTTP_STATUS_CODE],e[g.SemanticAttributes.HTTP_FLAVOR]=r[g.SemanticAttributes.HTTP_FLAVOR],e};m.getOutgoingRequestMetricAttributesOnResponse=fj;var Tj=(r,e)=>{let t=r.headers,n=t["user-agent"],i=t["x-forwarded-for"],s=r.method||"GET",o=r.httpVersion,u=r.url?_c.parse(r.url):null,c=(u==null?void 0:u.host)||t.host,_=(u==null?void 0:u.hostname)||(c==null?void 0:c.replace(/^(.*)(:[0-9]{1,5})/,"$1"))||"localhost",l=e.serverName,d={[g.SemanticAttributes.HTTP_URL]:(0,m.getAbsoluteUrl)(u,t,`${e.component}:`),[g.SemanticAttributes.HTTP_HOST]:c,[g.SemanticAttributes.NET_HOST_NAME]:_,[g.SemanticAttributes.HTTP_METHOD]:s,[g.SemanticAttributes.HTTP_SCHEME]:e.component};typeof i=="string"&&(d[g.SemanticAttributes.HTTP_CLIENT_IP]=i.split(",")[0]),typeof l=="string"&&(d[g.SemanticAttributes.HTTP_SERVER_NAME]=l),u&&(d[g.SemanticAttributes.HTTP_TARGET]=u.pathname||"/"),n!==void 0&&(d[g.SemanticAttributes.HTTP_USER_AGENT]=n),(0,m.setRequestContentLengthAttribute)(r,d);let p=(0,m.getAttributesFromHttpKind)(o);return Object.assign(d,p,e.hookAttributes)};m.getIncomingRequestAttributes=Tj;var Sj=r=>{let e={};return e[g.SemanticAttributes.HTTP_SCHEME]=r[g.SemanticAttributes.HTTP_SCHEME],e[g.SemanticAttributes.HTTP_METHOD]=r[g.SemanticAttributes.HTTP_METHOD],e[g.SemanticAttributes.NET_HOST_NAME]=r[g.SemanticAttributes.NET_HOST_NAME],e[g.SemanticAttributes.HTTP_FLAVOR]=r[g.SemanticAttributes.HTTP_FLAVOR],e};m.getIncomingRequestMetricAttributes=Sj;var Aj=(r,e)=>{let{socket:t}=r,{statusCode:n,statusMessage:i}=e,{localAddress:s,localPort:o,remoteAddress:u,remotePort:c}=t,_=(0,CP.getRPCMetadata)(Oo.context.active()),l={[g.SemanticAttributes.NET_HOST_IP]:s,[g.SemanticAttributes.NET_HOST_PORT]:o,[g.SemanticAttributes.NET_PEER_IP]:u,[g.SemanticAttributes.NET_PEER_PORT]:c,[g.SemanticAttributes.HTTP_STATUS_CODE]:n,[lc.AttributeNames.HTTP_STATUS_TEXT]:(i||"").toUpperCase()};return(_==null?void 0:_.type)===CP.RPCType.HTTP&&_.route!==void 0&&(l[g.SemanticAttributes.HTTP_ROUTE]=_.route),l};m.getIncomingRequestAttributesOnResponse=Aj;var hj=r=>{let e={};return e[g.SemanticAttributes.HTTP_STATUS_CODE]=r[g.SemanticAttributes.HTTP_STATUS_CODE],e[g.SemanticAttributes.NET_HOST_PORT]=r[g.SemanticAttributes.NET_HOST_PORT],e};m.getIncomingRequestMetricAttributesOnResponse=hj;function gj(r,e){let t=new Map(e.map(n=>[n.toLowerCase(),n.toLowerCase().replace(/-/g,"_")]));return(n,i)=>{for(let[s,o]of t){let u=i(s);if(u===void 0)continue;let c=`http.${r}.header.${o}`;typeof u=="string"?n.setAttribute(c,[u]):Array.isArray(u)?n.setAttribute(c,u):n.setAttribute(c,[u])}}}m.headerCapture=gj});var yP=a(dc=>{"use strict";Object.defineProperty(dc,"__esModule",{value:!0});dc.VERSION=void 0;dc.VERSION="0.34.0"});var DP=a(Mr=>{"use strict";Object.defineProperty(Mr,"__esModule",{value:!0});Mr.disableInstrumentations=Mr.enableInstrumentations=Mr.parseInstrumentationOptions=void 0;function LP(r=[]){let e=[];for(let t=0,n=r.length;t<n;t++){let i=r[t];if(Array.isArray(i)){let s=LP(i);e=e.concat(s.instrumentations)}else typeof i=="function"?e.push(new i):i.instrumentationName&&e.push(i)}return{instrumentations:e}}Mr.parseInstrumentationOptions=LP;function Oj(r,e,t){for(let n=0,i=r.length;n<i;n++){let s=r[n];e&&s.setTracerProvider(e),t&&s.setMeterProvider(t),s.getConfig().enabled||s.enable()}}Mr.enableInstrumentations=Oj;function mj(r){r.forEach(e=>e.disable())}Mr.disableInstrumentations=mj});var UP=a(Ec=>{"use strict";Object.defineProperty(Ec,"__esModule",{value:!0});Ec.registerInstrumentations=void 0;var wP=f(),Af=DP();function Rj(r){let{instrumentations:e}=(0,Af.parseInstrumentationOptions)(r.instrumentations),t=r.tracerProvider||wP.trace.getTracerProvider(),n=r.meterProvider||wP.metrics.getMeterProvider();return(0,Af.enableInstrumentations)(e,t,n),()=>{(0,Af.disableInstrumentations)(e)}}Ec.registerInstrumentations=Rj});var gf=a((Uz,qP)=>{"use strict";function hf(r){return typeof r=="function"}var Ze=console.error.bind(console);function mo(r,e,t){var n=!!r[e]&&r.propertyIsEnumerable(e);if(r.hasOwnProperty(e)){r[e]=t;return}Object.defineProperty(r,e,{configurable:!0,enumerable:n,writable:!0,value:t})}function Ro(r){r&&r.logger&&(hf(r.logger)?Ze=r.logger:Ze("new logger isn't a function, not replacing"))}function BP(r,e,t){if(!r||!r[e]){Ze("no original function "+e+" to wrap");return}if(!t){Ze("no wrapper function"),Ze(new Error().stack);return}if(!hf(r[e])||!hf(t)){Ze("original object and wrapper must be functions");return}var n=r[e],i=t(n,e);return mo(i,"__original",n),mo(i,"__unwrap",function(){r[e]===i&&mo(r,e,n)}),mo(i,"__wrapped",!0),mo(r,e,i),i}function Pj(r,e,t){if(r)Array.isArray(r)||(r=[r]);else{Ze("must provide one or more modules to patch"),Ze(new Error().stack);return}if(!(e&&Array.isArray(e))){Ze("must provide one or more functions to wrap on modules");return}r.forEach(function(n){e.forEach(function(i){BP(n,i,t)})})}function GP(r,e){if(!r||!r[e]){Ze("no function to unwrap."),Ze(new Error().stack);return}if(!r[e].__unwrap)Ze("no original to unwrap to -- has "+e+" already been unwrapped?");else return r[e].__unwrap()}function Nj(r,e){if(r)Array.isArray(r)||(r=[r]);else{Ze("must provide one or more modules to patch"),Ze(new Error().stack);return}if(!(e&&Array.isArray(e))){Ze("must provide one or more functions to unwrap on modules");return}r.forEach(function(t){e.forEach(function(n){GP(t,n)})})}Ro.wrap=BP;Ro.massWrap=Pj;Ro.unwrap=GP;Ro.massUnwrap=Nj;qP.exports=Ro});var jP=a(fc=>{"use strict";Object.defineProperty(fc,"__esModule",{value:!0});fc.InstrumentationAbstract=void 0;var Of=f(),pc=gf(),mf=class{constructor(e,t,n={}){this.instrumentationName=e,this.instrumentationVersion=t,this._wrap=pc.wrap,this._unwrap=pc.unwrap,this._massWrap=pc.massWrap,this._massUnwrap=pc.massUnwrap,this._config=Object.assign({enabled:!0},n),this._diag=Of.diag.createComponentLogger({namespace:e}),this._tracer=Of.trace.getTracer(e,t),this._meter=Of.metrics.getMeter(e,t)}get meter(){return this._meter}setMeterProvider(e){this._meter=e.getMeter(this.instrumentationName,this.instrumentationVersion)}getConfig(){return this._config}setConfig(e={}){this._config=Object.assign({},e)}setTracerProvider(e){this._tracer=e.getTracer(this.instrumentationName,this.instrumentationVersion)}get tracer(){return this._tracer}};fc.InstrumentationAbstract=mf});var Rf=a((Gz,VP)=>{"use strict";var Ij=require("os");VP.exports=Ij.homedir||function(){var e=process.env.HOME,t=process.env.LOGNAME||process.env.USER||process.env.LNAME||process.env.USERNAME;return process.platform==="win32"?process.env.USERPROFILE||process.env.HOMEDRIVE+process.env.HOMEPATH||e||null:process.platform==="darwin"?e||(t?"/Users/"+t:null):process.platform==="linux"?e||(process.getuid()===0?"/root":t?"/home/"+t:null):e||null}});var Pf=a((qz,HP)=>{HP.exports=function(){var r=Error.prepareStackTrace;Error.prepareStackTrace=function(t,n){return n};var e=new Error().stack;return Error.prepareStackTrace=r,e[2].getFileName()}});var FP=a((jz,Po)=>{"use strict";var bj=process.platform==="win32",vj=/^(((?:[a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?[\\\/]?)(?:[^\\\/]*[\\\/])*)((\.{1,2}|[^\\\/]+?|)(\.[^.\/\\]*|))[\\\/]*$/,Nf={};function Cj(r){return vj.exec(r).slice(1)}Nf.parse=function(r){if(typeof r!="string")throw new TypeError("Parameter 'pathString' must be a string, not "+typeof r);var e=Cj(r);if(!e||e.length!==5)throw new TypeError("Invalid path '"+r+"'");return{root:e[1],dir:e[0]===e[1]?e[0]:e[0].slice(0,-1),base:e[2],ext:e[4],name:e[3]}};var Mj=/^((\/?)(?:[^\/]*\/)*)((\.{1,2}|[^\/]+?|)(\.[^.\/]*|))[\/]*$/,If={};function yj(r){return Mj.exec(r).slice(1)}If.parse=function(r){if(typeof r!="string")throw new TypeError("Parameter 'pathString' must be a string, not "+typeof r);var e=yj(r);if(!e||e.length!==5)throw new TypeError("Invalid path '"+r+"'");return{root:e[1],dir:e[0].slice(0,-1),base:e[2],ext:e[4],name:e[3]}};bj?Po.exports=Nf.parse:Po.exports=If.parse;Po.exports.posix=If.parse;Po.exports.win32=Nf.parse});var bf=a((Vz,XP)=>{var $P=require("path"),xP=$P.parse||FP(),KP=function(e,t){var n="/";/^([A-Za-z]:)/.test(e)?n="":/^\\\\/.test(e)&&(n="\\\\");for(var i=[e],s=xP(e);s.dir!==i[i.length-1];)i.push(s.dir),s=xP(s.dir);return i.reduce(function(o,u){return o.concat(t.map(function(c){return $P.resolve(n,u,c)}))},[])};XP.exports=function(e,t,n){var i=t&&t.moduleDirectory?[].concat(t.moduleDirectory):["node_modules"];if(t&&typeof t.paths=="function")return t.paths(n,e,function(){return KP(e,i)},t);var s=KP(e,i);return t&&t.paths?s.concat(t.paths):s}});var vf=a((Hz,YP)=>{YP.exports=function(r,e){return e||{}}});var kP=a((Fz,WP)=>{"use strict";var Lj="Function.prototype.bind called on incompatible ",Cf=Array.prototype.slice,Dj=Object.prototype.toString,wj="[object Function]";WP.exports=function(e){var t=this;if(typeof t!="function"||Dj.call(t)!==wj)throw new TypeError(Lj+t);for(var n=Cf.call(arguments,1),i,s=function(){if(this instanceof i){var l=t.apply(this,n.concat(Cf.call(arguments)));return Object(l)===l?l:this}else return t.apply(e,n.concat(Cf.call(arguments)))},o=Math.max(0,t.length-n.length),u=[],c=0;c<o;c++)u.push("$"+c);if(i=Function("binder","return function ("+u.join(",")+"){ return binder.apply(this,arguments); }")(s),t.prototype){var _=function(){};_.prototype=t.prototype,i.prototype=new _,_.prototype=null}return i}});var QP=a((xz,zP)=>{"use strict";var Uj=kP();zP.exports=Function.prototype.bind||Uj});var JP=a((Kz,ZP)=>{"use strict";var Bj=QP();ZP.exports=Bj.call(Function.call,Object.prototype.hasOwnProperty)});var eN=a(($z,Gj)=>{Gj.exports={assert:!0,"node:assert":[">= 14.18 && < 15",">= 16"],"assert/strict":">= 15","node:assert/strict":">= 16",async_hooks:">= 8","node:async_hooks":[">= 14.18 && < 15",">= 16"],buffer_ieee754:">= 0.5 && < 0.9.7",buffer:!0,"node:buffer":[">= 14.18 && < 15",">= 16"],child_process:!0,"node:child_process":[">= 14.18 && < 15",">= 16"],cluster:">= 0.5","node:cluster":[">= 14.18 && < 15",">= 16"],console:!0,"node:console":[">= 14.18 && < 15",">= 16"],constants:!0,"node:constants":[">= 14.18 && < 15",">= 16"],crypto:!0,"node:crypto":[">= 14.18 && < 15",">= 16"],_debug_agent:">= 1 && < 8",_debugger:"< 8",dgram:!0,"node:dgram":[">= 14.18 && < 15",">= 16"],diagnostics_channel:[">= 14.17 && < 15",">= 15.1"],"node:diagnostics_channel":[">= 14.18 && < 15",">= 16"],dns:!0,"node:dns":[">= 14.18 && < 15",">= 16"],"dns/promises":">= 15","node:dns/promises":">= 16",domain:">= 0.7.12","node:domain":[">= 14.18 && < 15",">= 16"],events:!0,"node:events":[">= 14.18 && < 15",">= 16"],freelist:"< 6",fs:!0,"node:fs":[">= 14.18 && < 15",">= 16"],"fs/promises":[">= 10 && < 10.1",">= 14"],"node:fs/promises":[">= 14.18 && < 15",">= 16"],_http_agent:">= 0.11.1","node:_http_agent":[">= 14.18 && < 15",">= 16"],_http_client:">= 0.11.1","node:_http_client":[">= 14.18 && < 15",">= 16"],_http_common:">= 0.11.1","node:_http_common":[">= 14.18 && < 15",">= 16"],_http_incoming:">= 0.11.1","node:_http_incoming":[">= 14.18 && < 15",">= 16"],_http_outgoing:">= 0.11.1","node:_http_outgoing":[">= 14.18 && < 15",">= 16"],_http_server:">= 0.11.1","node:_http_server":[">= 14.18 && < 15",">= 16"],http:!0,"node:http":[">= 14.18 && < 15",">= 16"],http2:">= 8.8","node:http2":[">= 14.18 && < 15",">= 16"],https:!0,"node:https":[">= 14.18 && < 15",">= 16"],inspector:">= 8","node:inspector":[">= 14.18 && < 15",">= 16"],"inspector/promises":[">= 19"],"node:inspector/promises":[">= 19"],_linklist:"< 8",module:!0,"node:module":[">= 14.18 && < 15",">= 16"],net:!0,"node:net":[">= 14.18 && < 15",">= 16"],"node-inspect/lib/_inspect":">= 7.6 && < 12","node-inspect/lib/internal/inspect_client":">= 7.6 && < 12","node-inspect/lib/internal/inspect_repl":">= 7.6 && < 12",os:!0,"node:os":[">= 14.18 && < 15",">= 16"],path:!0,"node:path":[">= 14.18 && < 15",">= 16"],"path/posix":">= 15.3","node:path/posix":">= 16","path/win32":">= 15.3","node:path/win32":">= 16",perf_hooks:">= 8.5","node:perf_hooks":[">= 14.18 && < 15",">= 16"],process:">= 1","node:process":[">= 14.18 && < 15",">= 16"],punycode:">= 0.5","node:punycode":[">= 14.18 && < 15",">= 16"],querystring:!0,"node:querystring":[">= 14.18 && < 15",">= 16"],readline:!0,"node:readline":[">= 14.18 && < 15",">= 16"],"readline/promises":">= 17","node:readline/promises":">= 17",repl:!0,"node:repl":[">= 14.18 && < 15",">= 16"],smalloc:">= 0.11.5 && < 3",_stream_duplex:">= 0.9.4","node:_stream_duplex":[">= 14.18 && < 15",">= 16"],_stream_transform:">= 0.9.4","node:_stream_transform":[">= 14.18 && < 15",">= 16"],_stream_wrap:">= 1.4.1","node:_stream_wrap":[">= 14.18 && < 15",">= 16"],_stream_passthrough:">= 0.9.4","node:_stream_passthrough":[">= 14.18 && < 15",">= 16"],_stream_readable:">= 0.9.4","node:_stream_readable":[">= 14.18 && < 15",">= 16"],_stream_writable:">= 0.9.4","node:_stream_writable":[">= 14.18 && < 15",">= 16"],stream:!0,"node:stream":[">= 14.18 && < 15",">= 16"],"stream/consumers":">= 16.7","node:stream/consumers":">= 16.7","stream/promises":">= 15","node:stream/promises":">= 16","stream/web":">= 16.5","node:stream/web":">= 16.5",string_decoder:!0,"node:string_decoder":[">= 14.18 && < 15",">= 16"],sys:[">= 0.4 && < 0.7",">= 0.8"],"node:sys":[">= 14.18 && < 15",">= 16"],"node:test":[">= 16.17 && < 17",">= 18"],timers:!0,"node:timers":[">= 14.18 && < 15",">= 16"],"timers/promises":">= 15","node:timers/promises":">= 16",_tls_common:">= 0.11.13","node:_tls_common":[">= 14.18 && < 15",">= 16"],_tls_legacy:">= 0.11.3 && < 10",_tls_wrap:">= 0.11.3","node:_tls_wrap":[">= 14.18 && < 15",">= 16"],tls:!0,"node:tls":[">= 14.18 && < 15",">= 16"],trace_events:">= 10","node:trace_events":[">= 14.18 && < 15",">= 16"],tty:!0,"node:tty":[">= 14.18 && < 15",">= 16"],url:!0,"node:url":[">= 14.18 && < 15",">= 16"],util:!0,"node:util":[">= 14.18 && < 15",">= 16"],"util/types":">= 15.3","node:util/types":">= 16","v8/tools/arguments":">= 10 && < 12","v8/tools/codemap":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/consarray":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/csvparser":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/logreader":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/profile_view":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/splaytree":[">= 4.4 && < 5",">= 5.2 && < 12"],v8:">= 1","node:v8":[">= 14.18 && < 15",">= 16"],vm:!0,"node:vm":[">= 14.18 && < 15",">= 16"],wasi:">= 13.4 && < 13.5",worker_threads:">= 11.7","node:worker_threads":[">= 14.18 && < 15",">= 16"],zlib:">= 0.5","node:zlib":[">= 14.18 && < 15",">= 16"]}});var Tc=a((Xz,nN)=>{"use strict";var qj=JP();function jj(r,e){for(var t=r.split("."),n=e.split(" "),i=n.length>1?n[0]:"=",s=(n.length>1?n[1]:n[0]).split("."),o=0;o<3;++o){var u=parseInt(t[o]||0,10),c=parseInt(s[o]||0,10);if(u!==c)return i==="<"?u<c:i===">="?u>=c:!1}return i===">="}function tN(r,e){var t=e.split(/ ?&& ?/);if(t.length===0)return!1;for(var n=0;n<t.length;++n)if(!jj(r,t[n]))return!1;return!0}function Vj(r,e){if(typeof e=="boolean")return e;var t=typeof r>"u"?process.versions&&process.versions.node:r;if(typeof t!="string")throw new TypeError(typeof r>"u"?"Unable to determine current node version":"If provided, a valid node version is required");if(e&&typeof e=="object"){for(var n=0;n<e.length;++n)if(tN(t,e[n]))return!0;return!1}return tN(t,e)}var rN=eN();nN.exports=function(e,t){return qj(rN,e)&&Vj(t,rN[e])}});var oN=a((Yz,sN)=>{var Nn=require("fs"),Hj=Rf(),fe=require("path"),Fj=Pf(),xj=bf(),Kj=vf(),$j=Tc(),Xj=process.platform!=="win32"&&Nn.realpath&&typeof Nn.realpath.native=="function"?Nn.realpath.native:Nn.realpath,iN=Hj(),Yj=function(){return[fe.join(iN,".node_modules"),fe.join(iN,".node_libraries")]},Wj=function(e,t){Nn.stat(e,function(n,i){return n?n.code==="ENOENT"||n.code==="ENOTDIR"?t(null,!1):t(n):t(null,i.isFile()||i.isFIFO())})},kj=function(e,t){Nn.stat(e,function(n,i){return n?n.code==="ENOENT"||n.code==="ENOTDIR"?t(null,!1):t(n):t(null,i.isDirectory())})},zj=function(e,t){Xj(e,function(n,i){n&&n.code!=="ENOENT"?t(n):t(null,n?e:i)})},No=function(e,t,n,i){n&&n.preserveSymlinks===!1?e(t,i):i(null,t)},Qj=function(e,t,n){e(t,function(i,s){if(i)n(i);else try{var o=JSON.parse(s);n(null,o)}catch{n(null)}})},Zj=function(e,t,n){for(var i=xj(t,n,e),s=0;s<i.length;s++)i[s]=fe.join(i[s],e);return i};sN.exports=function(e,t,n){var i=n,s=t;if(typeof t=="function"&&(i=s,s={}),typeof e!="string"){var o=new TypeError("Path must be a string.");return process.nextTick(function(){i(o)})}s=Kj(e,s);var u=s.isFile||Wj,c=s.isDirectory||kj,_=s.readFile||Nn.readFile,l=s.realpath||zj,d=s.readPackage||Qj;if(s.readFile&&s.readPackage){var p=new TypeError("`readFile` and `readPackage` are mutually exclusive.");return process.nextTick(function(){i(p)})}var E=s.packageIterator,O=s.extensions||[".js"],R=s.includeCoreModules!==!1,C=s.basedir||fe.dirname(Fj()),P=s.filename||C;s.paths=s.paths||Yj();var ce=fe.resolve(C);No(l,ce,s,function(A,v){A?i(A):H(v)});var I;function H(A){if(/^(?:\.\.?(?:\/|$)|\/|([A-Za-z]:)?[/\\])/.test(e))I=fe.resolve(A,e),(e==="."||e===".."||e.slice(-1)==="/")&&(I+="/"),/\/$/.test(e)&&I===A?j(I,s.package,ke):Y(I,s.package,ke);else{if(R&&$j(e))return i(null,e);V(e,A,function(v,ne,D){if(v)i(v);else{if(ne)return No(l,ne,s,function(ve,ie){ve?i(ve):i(null,ie,D)});var J=new Error("Cannot find module '"+e+"' from '"+P+"'");J.code="MODULE_NOT_FOUND",i(J)}})}}function ke(A,v,ne){A?i(A):v?i(null,v,ne):j(I,function(D,J,ve){if(D)i(D);else if(J)No(l,J,s,function(se,Oe){se?i(se):i(null,Oe,ve)});else{var ie=new Error("Cannot find module '"+e+"' from '"+P+"'");ie.code="MODULE_NOT_FOUND",i(ie)}})}function Y(A,v,ne){var D=v,J=ne;typeof D=="function"&&(J=D,D=void 0);var ve=[""].concat(O);ie(ve,A,D);function ie(se,Oe,Tt){if(se.length===0)return J(null,void 0,Tt);var an=Oe+se[0],jt=Tt;jt?Ce(null,jt):N(fe.dirname(an),Ce);function Ce(Or,Ii,er){if(jt=Ii,Or)return J(Or);if(er&&jt&&s.pathFilter){var Da=fe.relative(er,an),wa=Da.slice(0,Da.length-se[0].length),Gs=s.pathFilter(jt,Oe,wa);if(Gs)return ie([""].concat(O.slice()),fe.resolve(er,Gs),jt)}u(an,La)}function La(Or,Ii){if(Or)return J(Or);if(Ii)return J(null,an,jt);ie(se.slice(1),Oe,jt)}}}function N(A,v){if(A===""||A==="/"||process.platform==="win32"&&/^\w:[/\\]*$/.test(A)||/[/\\]node_modules[/\\]*$/.test(A))return v(null);No(l,A,s,function(ne,D){if(ne)return N(fe.dirname(A),v);var J=fe.join(D,"package.json");u(J,function(ve,ie){if(!ie)return N(fe.dirname(A),v);d(_,J,function(se,Oe){se&&v(se);var Tt=Oe;Tt&&s.packageFilter&&(Tt=s.packageFilter(Tt,J)),v(null,Tt,A)})})})}function j(A,v,ne){var D=ne,J=v;typeof J=="function"&&(D=J,J=s.package),No(l,A,s,function(ve,ie){if(ve)return D(ve);var se=fe.join(ie,"package.json");u(se,function(Oe,Tt){if(Oe)return D(Oe);if(!Tt)return Y(fe.join(A,"index"),J,D);d(_,se,function(an,jt){if(an)return D(an);var Ce=jt;if(Ce&&s.packageFilter&&(Ce=s.packageFilter(Ce,se)),Ce&&Ce.main){if(typeof Ce.main!="string"){var La=new TypeError("package \u201C"+Ce.name+"\u201D `main` must be a string");return La.code="INVALID_PACKAGE_MAIN",D(La)}(Ce.main==="."||Ce.main==="./")&&(Ce.main="index"),Y(fe.resolve(A,Ce.main),Ce,function(Or,Ii,er){if(Or)return D(Or);if(Ii)return D(null,Ii,er);if(!er)return Y(fe.join(A,"index"),er,D);var Da=fe.resolve(A,er.main);j(Da,er,function(wa,Gs,Tg){if(wa)return D(wa);if(Gs)return D(null,Gs,Tg);Y(fe.join(A,"index"),Tg,D)})});return}Y(fe.join(A,"/index"),Ce,D)})})})}function W(A,v){if(v.length===0)return A(null,void 0);var ne=v[0];c(fe.dirname(ne),D);function D(ie,se){if(ie)return A(ie);if(!se)return W(A,v.slice(1));Y(ne,s.package,J)}function J(ie,se,Oe){if(ie)return A(ie);if(se)return A(null,se,Oe);j(ne,s.package,ve)}function ve(ie,se,Oe){if(ie)return A(ie);if(se)return A(null,se,Oe);W(A,v.slice(1))}}function V(A,v,ne){var D=function(){return Zj(A,v,s)};W(ne,E?E(A,v,D,s):D())}}});var aN=a((Wz,Jj)=>{Jj.exports={assert:!0,"node:assert":[">= 14.18 && < 15",">= 16"],"assert/strict":">= 15","node:assert/strict":">= 16",async_hooks:">= 8","node:async_hooks":[">= 14.18 && < 15",">= 16"],buffer_ieee754:">= 0.5 && < 0.9.7",buffer:!0,"node:buffer":[">= 14.18 && < 15",">= 16"],child_process:!0,"node:child_process":[">= 14.18 && < 15",">= 16"],cluster:">= 0.5","node:cluster":[">= 14.18 && < 15",">= 16"],console:!0,"node:console":[">= 14.18 && < 15",">= 16"],constants:!0,"node:constants":[">= 14.18 && < 15",">= 16"],crypto:!0,"node:crypto":[">= 14.18 && < 15",">= 16"],_debug_agent:">= 1 && < 8",_debugger:"< 8",dgram:!0,"node:dgram":[">= 14.18 && < 15",">= 16"],diagnostics_channel:[">= 14.17 && < 15",">= 15.1"],"node:diagnostics_channel":[">= 14.18 && < 15",">= 16"],dns:!0,"node:dns":[">= 14.18 && < 15",">= 16"],"dns/promises":">= 15","node:dns/promises":">= 16",domain:">= 0.7.12","node:domain":[">= 14.18 && < 15",">= 16"],events:!0,"node:events":[">= 14.18 && < 15",">= 16"],freelist:"< 6",fs:!0,"node:fs":[">= 14.18 && < 15",">= 16"],"fs/promises":[">= 10 && < 10.1",">= 14"],"node:fs/promises":[">= 14.18 && < 15",">= 16"],_http_agent:">= 0.11.1","node:_http_agent":[">= 14.18 && < 15",">= 16"],_http_client:">= 0.11.1","node:_http_client":[">= 14.18 && < 15",">= 16"],_http_common:">= 0.11.1","node:_http_common":[">= 14.18 && < 15",">= 16"],_http_incoming:">= 0.11.1","node:_http_incoming":[">= 14.18 && < 15",">= 16"],_http_outgoing:">= 0.11.1","node:_http_outgoing":[">= 14.18 && < 15",">= 16"],_http_server:">= 0.11.1","node:_http_server":[">= 14.18 && < 15",">= 16"],http:!0,"node:http":[">= 14.18 && < 15",">= 16"],http2:">= 8.8","node:http2":[">= 14.18 && < 15",">= 16"],https:!0,"node:https":[">= 14.18 && < 15",">= 16"],inspector:">= 8","node:inspector":[">= 14.18 && < 15",">= 16"],_linklist:"< 8",module:!0,"node:module":[">= 14.18 && < 15",">= 16"],net:!0,"node:net":[">= 14.18 && < 15",">= 16"],"node-inspect/lib/_inspect":">= 7.6 && < 12","node-inspect/lib/internal/inspect_client":">= 7.6 && < 12","node-inspect/lib/internal/inspect_repl":">= 7.6 && < 12",os:!0,"node:os":[">= 14.18 && < 15",">= 16"],path:!0,"node:path":[">= 14.18 && < 15",">= 16"],"path/posix":">= 15.3","node:path/posix":">= 16","path/win32":">= 15.3","node:path/win32":">= 16",perf_hooks:">= 8.5","node:perf_hooks":[">= 14.18 && < 15",">= 16"],process:">= 1","node:process":[">= 14.18 && < 15",">= 16"],punycode:">= 0.5","node:punycode":[">= 14.18 && < 15",">= 16"],querystring:!0,"node:querystring":[">= 14.18 && < 15",">= 16"],readline:!0,"node:readline":[">= 14.18 && < 15",">= 16"],"readline/promises":">= 17","node:readline/promises":">= 17",repl:!0,"node:repl":[">= 14.18 && < 15",">= 16"],smalloc:">= 0.11.5 && < 3",_stream_duplex:">= 0.9.4","node:_stream_duplex":[">= 14.18 && < 15",">= 16"],_stream_transform:">= 0.9.4","node:_stream_transform":[">= 14.18 && < 15",">= 16"],_stream_wrap:">= 1.4.1","node:_stream_wrap":[">= 14.18 && < 15",">= 16"],_stream_passthrough:">= 0.9.4","node:_stream_passthrough":[">= 14.18 && < 15",">= 16"],_stream_readable:">= 0.9.4","node:_stream_readable":[">= 14.18 && < 15",">= 16"],_stream_writable:">= 0.9.4","node:_stream_writable":[">= 14.18 && < 15",">= 16"],stream:!0,"node:stream":[">= 14.18 && < 15",">= 16"],"stream/consumers":">= 16.7","node:stream/consumers":">= 16.7","stream/promises":">= 15","node:stream/promises":">= 16","stream/web":">= 16.5","node:stream/web":">= 16.5",string_decoder:!0,"node:string_decoder":[">= 14.18 && < 15",">= 16"],sys:[">= 0.4 && < 0.7",">= 0.8"],"node:sys":[">= 14.18 && < 15",">= 16"],"node:test":">= 18",timers:!0,"node:timers":[">= 14.18 && < 15",">= 16"],"timers/promises":">= 15","node:timers/promises":">= 16",_tls_common:">= 0.11.13","node:_tls_common":[">= 14.18 && < 15",">= 16"],_tls_legacy:">= 0.11.3 && < 10",_tls_wrap:">= 0.11.3","node:_tls_wrap":[">= 14.18 && < 15",">= 16"],tls:!0,"node:tls":[">= 14.18 && < 15",">= 16"],trace_events:">= 10","node:trace_events":[">= 14.18 && < 15",">= 16"],tty:!0,"node:tty":[">= 14.18 && < 15",">= 16"],url:!0,"node:url":[">= 14.18 && < 15",">= 16"],util:!0,"node:util":[">= 14.18 && < 15",">= 16"],"util/types":">= 15.3","node:util/types":">= 16","v8/tools/arguments":">= 10 && < 12","v8/tools/codemap":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/consarray":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/csvparser":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/logreader":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/profile_view":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/splaytree":[">= 4.4 && < 5",">= 5.2 && < 12"],v8:">= 1","node:v8":[">= 14.18 && < 15",">= 16"],vm:!0,"node:vm":[">= 14.18 && < 15",">= 16"],wasi:">= 13.4 && < 13.5",worker_threads:">= 11.7","node:worker_threads":[">= 14.18 && < 15",">= 16"],zlib:">= 0.5","node:zlib":[">= 14.18 && < 15",">= 16"]}});var lN=a((kz,_N)=>{var eV=process.versions&&process.versions.node&&process.versions.node.split(".")||[];function tV(r){for(var e=r.split(" "),t=e.length>1?e[0]:"=",n=(e.length>1?e[1]:e[0]).split("."),i=0;i<3;++i){var s=parseInt(eV[i]||0,10),o=parseInt(n[i]||0,10);if(s!==o)return t==="<"?s<o:t===">="?s>=o:!1}return t===">="}function uN(r){var e=r.split(/ ?&& ?/);if(e.length===0)return!1;for(var t=0;t<e.length;++t)if(!tV(e[t]))return!1;return!0}function rV(r){if(typeof r=="boolean")return r;if(r&&typeof r=="object"){for(var e=0;e<r.length;++e)if(uN(r[e]))return!0;return!1}return uN(r)}var Mf=aN(),cN={};for(Sc in Mf)Object.prototype.hasOwnProperty.call(Mf,Sc)&&(cN[Sc]=rV(Mf[Sc]));var Sc;_N.exports=cN});var EN=a((zz,dN)=>{var nV=Tc();dN.exports=function(e){return nV(e)}});var TN=a((Qz,fN)=>{var iV=Tc(),In=require("fs"),Ue=require("path"),sV=Rf(),oV=Pf(),aV=bf(),uV=vf(),cV=process.platform!=="win32"&&In.realpathSync&&typeof In.realpathSync.native=="function"?In.realpathSync.native:In.realpathSync,pN=sV(),_V=function(){return[Ue.join(pN,".node_modules"),Ue.join(pN,".node_libraries")]},lV=function(e){try{var t=In.statSync(e,{throwIfNoEntry:!1})}catch(n){if(n&&(n.code==="ENOENT"||n.code==="ENOTDIR"))return!1;throw n}return!!t&&(t.isFile()||t.isFIFO())},dV=function(e){try{var t=In.statSync(e,{throwIfNoEntry:!1})}catch(n){if(n&&(n.code==="ENOENT"||n.code==="ENOTDIR"))return!1;throw n}return!!t&&t.isDirectory()},EV=function(e){try{return cV(e)}catch(t){if(t.code!=="ENOENT")throw t}return e},Io=function(e,t,n){return n&&n.preserveSymlinks===!1?e(t):t},pV=function(e,t){var n=e(t);try{var i=JSON.parse(n);return i}catch{}},fV=function(e,t,n){for(var i=aV(t,n,e),s=0;s<i.length;s++)i[s]=Ue.join(i[s],e);return i};fN.exports=function(e,t){if(typeof e!="string")throw new TypeError("Path must be a string.");var n=uV(e,t),i=n.isFile||lV,s=n.readFileSync||In.readFileSync,o=n.isDirectory||dV,u=n.realpathSync||EV,c=n.readPackageSync||pV;if(n.readFileSync&&n.readPackageSync)throw new TypeError("`readFileSync` and `readPackageSync` are mutually exclusive.");var _=n.packageIterator,l=n.extensions||[".js"],d=n.includeCoreModules!==!1,p=n.basedir||Ue.dirname(oV()),E=n.filename||p;n.paths=n.paths||_V();var O=Io(u,Ue.resolve(p),n);if(/^(?:\.\.?(?:\/|$)|\/|([A-Za-z]:)?[/\\])/.test(e)){var R=Ue.resolve(O,e);(e==="."||e===".."||e.slice(-1)==="/")&&(R+="/");var C=I(R)||ke(R);if(C)return Io(u,C,n)}else{if(d&&iV(e))return e;var P=Y(e,O);if(P)return Io(u,P,n)}var ce=new Error("Cannot find module '"+e+"' from '"+E+"'");throw ce.code="MODULE_NOT_FOUND",ce;function I(N){var j=H(Ue.dirname(N));if(j&&j.dir&&j.pkg&&n.pathFilter){var W=Ue.relative(j.dir,N),V=n.pathFilter(j.pkg,N,W);V&&(N=Ue.resolve(j.dir,V))}if(i(N))return N;for(var A=0;A<l.length;A++){var v=N+l[A];if(i(v))return v}}function H(N){if(!(N===""||N==="/")&&!(process.platform==="win32"&&/^\w:[/\\]*$/.test(N))&&!/[/\\]node_modules[/\\]*$/.test(N)){var j=Ue.join(Io(u,N,n),"package.json");if(!i(j))return H(Ue.dirname(N));var W=c(s,j);return W&&n.packageFilter&&(W=n.packageFilter(W,N)),{pkg:W,dir:N}}}function ke(N){var j=Ue.join(Io(u,N,n),"/package.json");if(i(j)){try{var W=c(s,j)}catch{}if(W&&n.packageFilter&&(W=n.packageFilter(W,N)),W&&W.main){if(typeof W.main!="string"){var V=new TypeError("package \u201C"+W.name+"\u201D `main` must be a string");throw V.code="INVALID_PACKAGE_MAIN",V}(W.main==="."||W.main==="./")&&(W.main="index");try{var A=I(Ue.resolve(N,W.main));if(A)return A;var v=ke(Ue.resolve(N,W.main));if(v)return v}catch{}}}return I(Ue.join(N,"/index"))}function Y(N,j){for(var W=function(){return fV(N,j,n)},V=_?_(N,j,W,n):W(),A=0;A<V.length;A++){var v=V[A];if(o(Ue.dirname(v))){var ne=I(v);if(ne)return ne;var D=ke(v);if(D)return D}}}}});var AN=a((Zz,SN)=>{var Ac=oN();Ac.core=lN();Ac.isCore=EN();Ac.sync=TN();SN.exports=Ac});var gN=a((Jz,hN)=>{var Ki=1e3,$i=Ki*60,Xi=$i*60,bn=Xi*24,TV=bn*7,SV=bn*365.25;hN.exports=function(r,e){e=e||{};var t=typeof r;if(t==="string"&&r.length>0)return AV(r);if(t==="number"&&isFinite(r))return e.long?gV(r):hV(r);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(r))};function AV(r){if(r=String(r),!(r.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(r);if(e){var t=parseFloat(e[1]),n=(e[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return t*SV;case"weeks":case"week":case"w":return t*TV;case"days":case"day":case"d":return t*bn;case"hours":case"hour":case"hrs":case"hr":case"h":return t*Xi;case"minutes":case"minute":case"mins":case"min":case"m":return t*$i;case"seconds":case"second":case"secs":case"sec":case"s":return t*Ki;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return t;default:return}}}}function hV(r){var e=Math.abs(r);return e>=bn?Math.round(r/bn)+"d":e>=Xi?Math.round(r/Xi)+"h":e>=$i?Math.round(r/$i)+"m":e>=Ki?Math.round(r/Ki)+"s":r+"ms"}function gV(r){var e=Math.abs(r);return e>=bn?hc(r,e,bn,"day"):e>=Xi?hc(r,e,Xi,"hour"):e>=$i?hc(r,e,$i,"minute"):e>=Ki?hc(r,e,Ki,"second"):r+" ms"}function hc(r,e,t,n){var i=e>=t*1.5;return Math.round(r/t)+" "+n+(i?"s":"")}});var yf=a((e9,ON)=>{function OV(r){t.debug=t,t.default=t,t.coerce=c,t.disable=s,t.enable=i,t.enabled=o,t.humanize=gN(),t.destroy=_,Object.keys(r).forEach(l=>{t[l]=r[l]}),t.names=[],t.skips=[],t.formatters={};function e(l){let d=0;for(let p=0;p<l.length;p++)d=(d<<5)-d+l.charCodeAt(p),d|=0;return t.colors[Math.abs(d)%t.colors.length]}t.selectColor=e;function t(l){let d,p=null,E,O;function R(...C){if(!R.enabled)return;let P=R,ce=Number(new Date),I=ce-(d||ce);P.diff=I,P.prev=d,P.curr=ce,d=ce,C[0]=t.coerce(C[0]),typeof C[0]!="string"&&C.unshift("%O");let H=0;C[0]=C[0].replace(/%([a-zA-Z%])/g,(Y,N)=>{if(Y==="%%")return"%";H++;let j=t.formatters[N];if(typeof j=="function"){let W=C[H];Y=j.call(P,W),C.splice(H,1),H--}return Y}),t.formatArgs.call(P,C),(P.log||t.log).apply(P,C)}return R.namespace=l,R.useColors=t.useColors(),R.color=t.selectColor(l),R.extend=n,R.destroy=t.destroy,Object.defineProperty(R,"enabled",{enumerable:!0,configurable:!1,get:()=>p!==null?p:(E!==t.namespaces&&(E=t.namespaces,O=t.enabled(l)),O),set:C=>{p=C}}),typeof t.init=="function"&&t.init(R),R}function n(l,d){let p=t(this.namespace+(typeof d>"u"?":":d)+l);return p.log=this.log,p}function i(l){t.save(l),t.namespaces=l,t.names=[],t.skips=[];let d,p=(typeof l=="string"?l:"").split(/[\s,]+/),E=p.length;for(d=0;d<E;d++)p[d]&&(l=p[d].replace(/\*/g,".*?"),l[0]==="-"?t.skips.push(new RegExp("^"+l.slice(1)+"$")):t.names.push(new RegExp("^"+l+"$")))}function s(){let l=[...t.names.map(u),...t.skips.map(u).map(d=>"-"+d)].join(",");return t.enable(""),l}function o(l){if(l[l.length-1]==="*")return!0;let d,p;for(d=0,p=t.skips.length;d<p;d++)if(t.skips[d].test(l))return!1;for(d=0,p=t.names.length;d<p;d++)if(t.names[d].test(l))return!0;return!1}function u(l){return l.toString().substring(2,l.toString().length-2).replace(/\.\*\?$/,"*")}function c(l){return l instanceof Error?l.stack||l.message:l}function _(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return t.enable(t.load()),t}ON.exports=OV});var mN=a((lt,gc)=>{lt.formatArgs=RV;lt.save=PV;lt.load=NV;lt.useColors=mV;lt.storage=IV();lt.destroy=(()=>{let r=!1;return()=>{r||(r=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();lt.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function mV(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function RV(r){if(r[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+r[0]+(this.useColors?"%c ":" ")+"+"+gc.exports.humanize(this.diff),!this.useColors)return;let e="color: "+this.color;r.splice(1,0,e,"color: inherit");let t=0,n=0;r[0].replace(/%[a-zA-Z%]/g,i=>{i!=="%%"&&(t++,i==="%c"&&(n=t))}),r.splice(n,0,e)}lt.log=console.debug||console.log||(()=>{});function PV(r){try{r?lt.storage.setItem("debug",r):lt.storage.removeItem("debug")}catch{}}function NV(){let r;try{r=lt.storage.getItem("debug")}catch{}return!r&&typeof process<"u"&&"env"in process&&(r=process.env.DEBUG),r}function IV(){try{return localStorage}catch{}}gc.exports=yf()(lt);var{formatters:bV}=gc.exports;bV.j=function(r){try{return JSON.stringify(r)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}});var PN=a((Re,mc)=>{var vV=require("tty"),Oc=require("util");Re.init=UV;Re.log=LV;Re.formatArgs=MV;Re.save=DV;Re.load=wV;Re.useColors=CV;Re.destroy=Oc.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");Re.colors=[6,2,3,4,5,1];try{let r=require("supports-color");r&&(r.stderr||r).level>=2&&(Re.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}Re.inspectOpts=Object.keys(process.env).filter(r=>/^debug_/i.test(r)).reduce((r,e)=>{let t=e.substring(6).toLowerCase().replace(/_([a-z])/g,(i,s)=>s.toUpperCase()),n=process.env[e];return/^(yes|on|true|enabled)$/i.test(n)?n=!0:/^(no|off|false|disabled)$/i.test(n)?n=!1:n==="null"?n=null:n=Number(n),r[t]=n,r},{});function CV(){return"colors"in Re.inspectOpts?Boolean(Re.inspectOpts.colors):vV.isatty(process.stderr.fd)}function MV(r){let{namespace:e,useColors:t}=this;if(t){let n=this.color,i="\x1B[3"+(n<8?n:"8;5;"+n),s=`  ${i};1m${e} \x1B[0m`;r[0]=s+r[0].split(`
`).join(`
`+s),r.push(i+"m+"+mc.exports.humanize(this.diff)+"\x1B[0m")}else r[0]=yV()+e+" "+r[0]}function yV(){return Re.inspectOpts.hideDate?"":new Date().toISOString()+" "}function LV(...r){return process.stderr.write(Oc.format(...r)+`
`)}function DV(r){r?process.env.DEBUG=r:delete process.env.DEBUG}function wV(){return process.env.DEBUG}function UV(r){r.inspectOpts={};let e=Object.keys(Re.inspectOpts);for(let t=0;t<e.length;t++)r.inspectOpts[e[t]]=Re.inspectOpts[e[t]]}mc.exports=yf()(Re);var{formatters:RN}=mc.exports;RN.o=function(r){return this.inspectOpts.colors=this.useColors,Oc.inspect(r,this.inspectOpts).split(`
`).map(e=>e.trim()).join(" ")};RN.O=function(r){return this.inspectOpts.colors=this.useColors,Oc.inspect(r,this.inspectOpts)}});var NN=a((t9,Lf)=>{typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?Lf.exports=mN():Lf.exports=PN()});var bN=a((r9,IN)=>{"use strict";var Df=require("path");IN.exports=function(r){var e=r.split(Df.sep),t=e.lastIndexOf("node_modules");if(t!==-1&&e[t+1]){var n=e[t+1][0]==="@",i=n?e[t+1]+"/"+e[t+2]:e[t+1],s=n?3:2;return{name:i,basedir:e.slice(0,t+s).join(Df.sep),path:e.slice(t+s).join(Df.sep)}}}});var vN=a((n9,BV)=>{BV.exports={name:"require-in-the-middle",version:"5.2.0",description:"Module to hook into the Node.js require function",main:"index.js",dependencies:{debug:"^4.1.1","module-details-from-path":"^1.0.3",resolve:"^1.22.1"},devDependencies:{"@babel/core":"^7.9.0","@babel/preset-env":"^7.9.5","@babel/preset-typescript":"^7.9.0","@babel/register":"^7.9.0","ipp-printer":"^1.0.0",patterns:"^1.0.3",roundround:"^0.2.0",semver:"^6.3.0",standard:"^14.3.1",tape:"^4.11.0"},scripts:{test:"npm run test:lint && npm run test:tape && npm run test:babel","test:lint":"standard","test:tape":"tape test/*.js","test:babel":"node test/babel/babel-register.js"},repository:{type:"git",url:"git+https://github.com/elastic/require-in-the-middle.git"},keywords:["require","hook","shim","shimmer","shimming","patch","monkey","monkeypatch","module","load"],files:[],author:"Thomas Watson Steen <w@tson.dk> (https://twitter.com/wa7son)",license:"MIT",bugs:{url:"https://github.com/elastic/require-in-the-middle/issues"},homepage:"https://github.com/elastic/require-in-the-middle#readme",engines:{node:">=6"}}});var wf=a((i9,MN)=>{"use strict";var Yi=require("path"),ir=require("module"),CN=AN(),Je=NN()("require-in-the-middle"),GV=bN();MN.exports=Pc;var Rc;ir.isBuiltin?Rc=ir.isBuiltin:Rc=r=>!!CN.core[r];var qV=/([/\\]index)?(\.js)?$/;function Pc(r,e,t){if(!(this instanceof Pc))return new Pc(r,e,t);if(typeof r=="function"?(t=r,r=null,e=null):typeof e=="function"&&(t=e,e=null),typeof ir._resolveFilename!="function"){console.error("Error: Expected Module._resolveFilename to be a function (was: %s) - aborting!",typeof ir._resolveFilename),console.error("Please report this error as an issue related to Node.js %s at %s",process.version,vN().bugs.url);return}this.cache=new Map,this._unhooked=!1,this._origRequire=ir.prototype.require;let n=this,i=new Set,s=e?e.internals===!0:!1,o=Array.isArray(r);Je("registering require hook"),this._require=ir.prototype.require=function(u){if(n._unhooked===!0)return Je("ignoring require call - module is soft-unhooked"),n._origRequire.apply(this,arguments);let c=Rc(u),_;if(c){if(_=u,u.startsWith("node:")){let O=u.slice(5);Rc(O)&&(_=O)}}else _=ir._resolveFilename(u,this);let l,d;if(Je("processing %s module require('%s'): %s",c===!0?"core":"non-core",u,_),n.cache.has(_)===!0)return Je("returning already patched cached module: %s",_),n.cache.get(_);let p=i.has(_);p===!1&&i.add(_);let E=n._origRequire.apply(this,arguments);if(p===!0)return Je("module is in the process of being patched already - ignoring: %s",_),E;if(i.delete(_),c===!0){if(o===!0&&r.includes(_)===!1)return Je("ignoring core module not on whitelist: %s",_),E;l=_}else if(o===!0&&r.includes(_)){let O=Yi.parse(_);l=O.name,d=O.dir}else{let O=GV(_);if(O===void 0)return Je("could not parse filename: %s",_),E;l=O.name,d=O.basedir;let R=jV(O);if(Je("resolved filename to module: %s (id: %s, resolved: %s, basedir: %s)",l,u,R,d),o===!0&&r.includes(l)===!1){if(r.includes(R)===!1)return E;l=R}else{let C;try{C=CN.sync(l,{basedir:d})}catch{return Je("could not resolve module: %s",l),E}if(C!==_)if(s===!0)l=l+Yi.sep+Yi.relative(d,_),Je("preparing to process require of internal file: %s",l);else return Je("ignoring require of non-main module file: %s",C),E}}return n.cache.has(_)===!1&&(n.cache.set(_,E),Je("calling require hook: %s",l),n.cache.set(_,t(E,l,d))),Je("returning module: %s",l),n.cache.get(_)}}Pc.prototype.unhook=function(){this._unhooked=!0,this._require===ir.prototype.require?(ir.prototype.require=this._origRequire,Je("unhook successful")):Je("unhook unsuccessful")};function jV(r){let e=Yi.sep!=="/"?r.path.split(Yi.sep).join("/"):r.path;return Yi.posix.join(r.name,e).replace(qV,"")}});var yN=a(yr=>{"use strict";Object.defineProperty(yr,"__esModule",{value:!0});yr.ModuleNameTrie=yr.ModuleNameSeparator=void 0;yr.ModuleNameSeparator="/";var Nc=class{constructor(){this.hooks=[],this.children=new Map}},Uf=class{constructor(){this._trie=new Nc,this._counter=0}insert(e){let t=this._trie;for(let n of e.moduleName.split(yr.ModuleNameSeparator)){let i=t.children.get(n);i||(i=new Nc,t.children.set(n,i)),t=i}t.hooks.push({hook:e,insertedId:this._counter++})}search(e,{maintainInsertionOrder:t}={}){let n=this._trie,i=[];for(let s of e.split(yr.ModuleNameSeparator)){let o=n.children.get(s);if(!o)break;i.push(...o.hooks),n=o}return i.length===0?[]:i.length===1?[i[0].hook]:(t&&i.sort((s,o)=>s.insertedId-o.insertedId),i.map(({hook:s})=>s))}};yr.ModuleNameTrie=Uf});var DN=a(Ic=>{"use strict";Object.defineProperty(Ic,"__esModule",{value:!0});Ic.RequireInTheMiddleSingleton=void 0;var VV=wf(),LN=require("path"),Bf=yN(),HV=["afterEach","after","beforeEach","before","describe","it"].every(r=>typeof global[r]=="function"),Wi=class{constructor(){this._moduleNameTrie=new Bf.ModuleNameTrie,this._initialize()}_initialize(){VV(null,{internals:!0},(e,t,n)=>{let i=FV(t),s=this._moduleNameTrie.search(i,{maintainInsertionOrder:!0});for(let{onRequire:o}of s)e=o(e,t,n);return e})}register(e,t){let n={moduleName:e,onRequire:t};return this._moduleNameTrie.insert(n),n}static getInstance(){var e;return HV?new Wi:this._instance=(e=this._instance)!==null&&e!==void 0?e:new Wi}};Ic.RequireInTheMiddleSingleton=Wi;function FV(r){return LN.sep!==Bf.ModuleNameSeparator?r.split(LN.sep).join(Bf.ModuleNameSeparator):r}});var BN=a(bc=>{"use strict";Object.defineProperty(bc,"__esModule",{value:!0});bc.InstrumentationBase=void 0;var xV=require("path"),KV=ho(),$V=jP(),XV=DN(),wN=f(),Gf=class extends $V.InstrumentationAbstract{constructor(e,t,n={}){super(e,t,n),this._hooks=[],this._requireInTheMiddleSingleton=XV.RequireInTheMiddleSingleton.getInstance(),this._enabled=!1;let i=this.init();i&&!Array.isArray(i)&&(i=[i]),this._modules=i||[],this._modules.length===0&&wN.diag.debug(`No modules instrumentation has been defined for '${this.instrumentationName}@${this.instrumentationVersion}', nothing will be patched`),this._config.enabled&&this.enable()}_warnOnPreloadedModules(){this._modules.forEach(e=>{let{name:t}=e;try{let n=require.resolve(t);require.cache[n]&&this._diag.warn(`Module ${t} has been loaded before ${this.instrumentationName} so it might not work, please initialize it before requiring ${t}`)}catch{}})}_extractPackageVersion(e){try{let t=require(xV.join(e,"package.json")).version;return typeof t=="string"?t:void 0}catch{wN.diag.warn("Failed extracting version",e)}}_onRequire(e,t,n,i){var s;if(!i)return typeof e.patch=="function"&&(e.moduleExports=t,this._enabled)?e.patch(t):t;let o=this._extractPackageVersion(i);return e.moduleVersion=o,e.name===n?UN(e.supportedVersions,o,e.includePrerelease)&&typeof e.patch=="function"&&(e.moduleExports=t,this._enabled)?e.patch(t,e.moduleVersion):t:((s=e.files)!==null&&s!==void 0?s:[]).filter(_=>_.name===n).filter(_=>UN(_.supportedVersions,o,e.includePrerelease)).reduce((_,l)=>(l.moduleExports=_,this._enabled?l.patch(_,e.moduleVersion):_),t)}enable(){if(!this._enabled){if(this._enabled=!0,this._hooks.length>0){for(let e of this._modules){typeof e.patch=="function"&&e.moduleExports&&e.patch(e.moduleExports,e.moduleVersion);for(let t of e.files)t.moduleExports&&t.patch(t.moduleExports,e.moduleVersion)}return}this._warnOnPreloadedModules();for(let e of this._modules)this._hooks.push(this._requireInTheMiddleSingleton.register(e.name,(t,n,i)=>this._onRequire(e,t,n,i)))}}disable(){if(this._enabled){this._enabled=!1;for(let e of this._modules){typeof e.unpatch=="function"&&e.moduleExports&&e.unpatch(e.moduleExports,e.moduleVersion);for(let t of e.files)t.moduleExports&&t.unpatch(t.moduleExports,e.moduleVersion)}}}isEnabled(){return this._enabled}};bc.InstrumentationBase=Gf;function UN(r,e,t){return typeof e>"u"?r.includes("*"):r.some(n=>(0,KV.satisfies)(e,n,{includePrerelease:t}))}});var GN=a(vc=>{"use strict";Object.defineProperty(vc,"__esModule",{value:!0});vc.InstrumentationNodeModuleDefinition=void 0;var qf=class{constructor(e,t,n,i,s){this.name=e,this.supportedVersions=t,this.patch=n,this.unpatch=i,this.files=s||[]}};vc.InstrumentationNodeModuleDefinition=qf});var qN=a(Cc=>{"use strict";Object.defineProperty(Cc,"__esModule",{value:!0});Cc.InstrumentationNodeModuleFile=void 0;var YV=require("path"),jf=class{constructor(e,t,n,i){this.supportedVersions=t,this.patch=n,this.unpatch=i,this.name=(0,YV.normalize)(e)}};Cc.InstrumentationNodeModuleFile=jf});var VN=a(jN=>{"use strict";Object.defineProperty(jN,"__esModule",{value:!0})});var HN=a(xt=>{"use strict";var WV=xt&&xt.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Mc=xt&&xt.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&WV(e,r,t)};Object.defineProperty(xt,"__esModule",{value:!0});Mc(BN(),xt);Mc(GN(),xt);Mc(qN(),xt);Mc(VN(),xt)});var FN=a(vn=>{"use strict";var kV=vn&&vn.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),zV=vn&&vn.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&kV(e,r,t)};Object.defineProperty(vn,"__esModule",{value:!0});zV(HN(),vn)});var KN=a(xN=>{"use strict";Object.defineProperty(xN,"__esModule",{value:!0})});var XN=a($N=>{"use strict";Object.defineProperty($N,"__esModule",{value:!0})});var YN=a(Lr=>{"use strict";Object.defineProperty(Lr,"__esModule",{value:!0});Lr.isWrapped=Lr.safeExecuteInTheMiddleAsync=Lr.safeExecuteInTheMiddle=void 0;function QV(r,e,t){let n,i;try{i=r()}catch(s){n=s}finally{if(e(n,i),n&&!t)throw n;return i}}Lr.safeExecuteInTheMiddle=QV;async function ZV(r,e,t){let n,i;try{i=await r()}catch(s){n=s}finally{if(e(n,i),n&&!t)throw n;return i}}Lr.safeExecuteInTheMiddleAsync=ZV;function JV(r){return typeof r=="function"&&typeof r.__original=="function"&&typeof r.__unwrap=="function"&&r.__wrapped===!0}Lr.isWrapped=JV});var yc=a(Ct=>{"use strict";var eH=Ct&&Ct.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),bo=Ct&&Ct.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&eH(e,r,t)};Object.defineProperty(Ct,"__esModule",{value:!0});bo(UP(),Ct);bo(FN(),Ct);bo(KN(),Ct);bo(XN(),Ct);bo(YN(),Ct)});var zN=a(Lc=>{"use strict";Object.defineProperty(Lc,"__esModule",{value:!0});Lc.HttpInstrumentation=void 0;var b=f(),ki=le(),tH=ho(),WN=require("url"),oe=Sf(),rH=yP(),Ae=yc(),kN=le(),Vf=class extends Ae.InstrumentationBase{constructor(e){super("@opentelemetry/instrumentation-http",rH.VERSION,e),this._spanNotEnded=new WeakSet,this._version=process.versions.node,this._headerCapture=this._createHeaderCapture(),this._updateMetricInstruments()}setMeterProvider(e){super.setMeterProvider(e),this._updateMetricInstruments()}_updateMetricInstruments(){this._httpServerDurationHistogram=this.meter.createHistogram("http.server.duration",{description:"measures the duration of the inbound HTTP requests",unit:"ms",valueType:b.ValueType.DOUBLE}),this._httpClientDurationHistogram=this.meter.createHistogram("http.client.duration",{description:"measures the duration of the outbound HTTP requests",unit:"ms",valueType:b.ValueType.DOUBLE})}_getConfig(){return this._config}setConfig(e){super.setConfig(e),this._headerCapture=this._createHeaderCapture()}init(){return[this._getHttpsInstrumentation(),this._getHttpInstrumentation()]}_getHttpInstrumentation(){return new Ae.InstrumentationNodeModuleDefinition("http",["*"],e=>(this._diag.debug(`Applying patch for http@${this._version}`),(0,Ae.isWrapped)(e.request)&&this._unwrap(e,"request"),this._wrap(e,"request",this._getPatchOutgoingRequestFunction("http")),(0,Ae.isWrapped)(e.get)&&this._unwrap(e,"get"),this._wrap(e,"get",this._getPatchOutgoingGetFunction(e.request)),(0,Ae.isWrapped)(e.Server.prototype.emit)&&this._unwrap(e.Server.prototype,"emit"),this._wrap(e.Server.prototype,"emit",this._getPatchIncomingRequestFunction("http")),e),e=>{e!==void 0&&(this._diag.debug(`Removing patch for http@${this._version}`),this._unwrap(e,"request"),this._unwrap(e,"get"),this._unwrap(e.Server.prototype,"emit"))})}_getHttpsInstrumentation(){return new Ae.InstrumentationNodeModuleDefinition("https",["*"],e=>(this._diag.debug(`Applying patch for https@${this._version}`),(0,Ae.isWrapped)(e.request)&&this._unwrap(e,"request"),this._wrap(e,"request",this._getPatchHttpsOutgoingRequestFunction("https")),(0,Ae.isWrapped)(e.get)&&this._unwrap(e,"get"),this._wrap(e,"get",this._getPatchHttpsOutgoingGetFunction(e.request)),(0,Ae.isWrapped)(e.Server.prototype.emit)&&this._unwrap(e.Server.prototype,"emit"),this._wrap(e.Server.prototype,"emit",this._getPatchIncomingRequestFunction("https")),e),e=>{e!==void 0&&(this._diag.debug(`Removing patch for https@${this._version}`),this._unwrap(e,"request"),this._unwrap(e,"get"),this._unwrap(e.Server.prototype,"emit"))})}_getPatchIncomingRequestFunction(e){return t=>this._incomingRequestFunction(e,t)}_getPatchOutgoingRequestFunction(e){return t=>this._outgoingRequestFunction(e,t)}_getPatchOutgoingGetFunction(e){return t=>function(i,...s){let o=e(i,...s);return o.end(),o}}_getPatchHttpsOutgoingRequestFunction(e){return t=>{let n=this;return function(s,...o){var u;return e==="https"&&typeof s=="object"&&((u=s==null?void 0:s.constructor)===null||u===void 0?void 0:u.name)!=="URL"&&(s=Object.assign({},s),n._setDefaultOptions(s)),n._getPatchOutgoingRequestFunction(e)(t)(s,...o)}}}_setDefaultOptions(e){e.protocol=e.protocol||"https:",e.port=e.port||443}_getPatchHttpsOutgoingGetFunction(e){return t=>{let n=this;return function(s,...o){return n._getPatchOutgoingGetFunction(e)(t)(s,...o)}}}_traceClientRequest(e,t,n,i,s){return this._getConfig().requestHook&&this._callRequestHook(n,e),e.prependListener("response",o=>{let u=oe.getOutgoingRequestAttributesOnResponse(o);n.setAttributes(u),s=Object.assign(s,oe.getOutgoingRequestMetricAttributesOnResponse(u)),this._getConfig().responseHook&&this._callResponseHook(n,o),this._headerCapture.client.captureRequestHeaders(n,c=>e.getHeader(c)),this._headerCapture.client.captureResponseHeaders(n,c=>o.headers[c]),b.context.bind(b.context.active(),o),this._diag.debug("outgoingRequest on response()"),o.on("end",()=>{this._diag.debug("outgoingRequest on end()");let c;o.aborted&&!o.complete?c={code:b.SpanStatusCode.ERROR}:c={code:oe.parseResponseStatus(b.SpanKind.CLIENT,o.statusCode)},n.setStatus(c),this._getConfig().applyCustomAttributesOnSpan&&(0,Ae.safeExecuteInTheMiddle)(()=>this._getConfig().applyCustomAttributesOnSpan(n,e,o),()=>{},!0),this._closeHttpSpan(n,b.SpanKind.CLIENT,i,s)}),o.on("error",c=>{this._diag.debug("outgoingRequest on error()",c),oe.setSpanWithError(n,c);let _=oe.parseResponseStatus(b.SpanKind.CLIENT,o.statusCode);n.setStatus({code:_,message:c.message}),this._closeHttpSpan(n,b.SpanKind.CLIENT,i,s)})}),e.on("close",()=>{this._diag.debug("outgoingRequest on request close()"),e.aborted||this._closeHttpSpan(n,b.SpanKind.CLIENT,i,s)}),e.on("error",o=>{this._diag.debug("outgoingRequest on request error()",o),oe.setSpanWithError(n,o),this._closeHttpSpan(n,b.SpanKind.CLIENT,i,s)}),this._diag.debug("http.ClientRequest return request"),e}_incomingRequestFunction(e,t){let n=this;return function(s,...o){if(s!=="request")return t.apply(this,[s,...o]);let u=o[0],c=o[1],_=u.url&&WN.parse(u.url).pathname||"/",l=u.method||"GET";if(n._diag.debug(`${e} instrumentation incomingRequest`),oe.isIgnored(_,n._getConfig().ignoreIncomingPaths,I=>n._diag.error("caught ignoreIncomingPaths error: ",I))||(0,Ae.safeExecuteInTheMiddle)(()=>{var I,H;return(H=(I=n._getConfig()).ignoreIncomingRequestHook)===null||H===void 0?void 0:H.call(I,u)},I=>{I!=null&&n._diag.error("caught ignoreIncomingRequestHook error: ",I)},!0))return b.context.with((0,ki.suppressTracing)(b.context.active()),()=>(b.context.bind(b.context.active(),u),b.context.bind(b.context.active(),c),t.apply(this,[s,...o])));let d=u.headers,p=oe.getIncomingRequestAttributes(u,{component:e,serverName:n._getConfig().serverName,hookAttributes:n._callStartSpanHook(u,n._getConfig().startIncomingSpanHook)}),E={kind:b.SpanKind.SERVER,attributes:p},O=(0,ki.hrTime)(),R=oe.getIncomingRequestMetricAttributes(p),C=b.propagation.extract(b.ROOT_CONTEXT,d),P=n._startHttpSpan(`${e.toLocaleUpperCase()} ${l}`,E,C),ce={type:kN.RPCType.HTTP,span:P};return b.context.with((0,kN.setRPCMetadata)(b.trace.setSpan(C,P),ce),()=>{b.context.bind(b.context.active(),u),b.context.bind(b.context.active(),c),n._getConfig().requestHook&&n._callRequestHook(P,u),n._getConfig().responseHook&&n._callResponseHook(P,c),n._headerCapture.server.captureRequestHeaders(P,H=>u.headers[H]);let I=c.end;return c.end=function(...H){c.end=I;let ke=(0,Ae.safeExecuteInTheMiddle)(()=>c.end.apply(this,arguments),N=>{if(N)throw oe.setSpanWithError(P,N),n._closeHttpSpan(P,b.SpanKind.SERVER,O,R),N}),Y=oe.getIncomingRequestAttributesOnResponse(u,c);return R=Object.assign(R,oe.getIncomingRequestMetricAttributesOnResponse(Y)),n._headerCapture.server.captureResponseHeaders(P,N=>c.getHeader(N)),P.setAttributes(Y).setStatus({code:oe.parseResponseStatus(b.SpanKind.SERVER,c.statusCode)}),n._getConfig().applyCustomAttributesOnSpan&&(0,Ae.safeExecuteInTheMiddle)(()=>n._getConfig().applyCustomAttributesOnSpan(P,u,c),()=>{},!0),n._closeHttpSpan(P,b.SpanKind.SERVER,O,R),ke},(0,Ae.safeExecuteInTheMiddle)(()=>t.apply(this,[s,...o]),H=>{if(H)throw oe.setSpanWithError(P,H),n._closeHttpSpan(P,b.SpanKind.SERVER,O,R),H})})}}_outgoingRequestFunction(e,t){let n=this;return function(s,...o){if(!oe.isValidOptionsType(s))return t.apply(this,[s,...o]);let u=typeof o[0]=="object"&&(typeof s=="string"||s instanceof WN.URL)?o.shift():void 0,{origin:c,pathname:_,method:l,optionsParsed:d}=oe.getRequestInfo(s,u);if(e==="http"&&tH.lt(process.version,"9.0.0")&&d.protocol==="https:")return t.apply(this,[d,...o]);if(oe.isIgnored(c+_,n._getConfig().ignoreOutgoingUrls,Y=>n._diag.error("caught ignoreOutgoingUrls error: ",Y))||(0,Ae.safeExecuteInTheMiddle)(()=>{var Y,N;return(N=(Y=n._getConfig()).ignoreOutgoingRequestHook)===null||N===void 0?void 0:N.call(Y,d)},Y=>{Y!=null&&n._diag.error("caught ignoreOutgoingRequestHook error: ",Y)},!0))return t.apply(this,[d,...o]);let p=`${e.toUpperCase()} ${l}`,{hostname:E,port:O}=oe.extractHostnameAndPort(d),R=oe.getOutgoingRequestAttributes(d,{component:e,port:O,hostname:E,hookAttributes:n._callStartSpanHook(d,n._getConfig().startOutgoingSpanHook)}),C=(0,ki.hrTime)(),P=oe.getOutgoingRequestMetricAttributes(R),ce={kind:b.SpanKind.CLIENT,attributes:R},I=n._startHttpSpan(p,ce),H=b.context.active(),ke=b.trace.setSpan(H,I);return d.headers||(d.headers={}),b.propagation.inject(ke,d.headers),b.context.with(ke,()=>{let Y=o[o.length-1];typeof Y=="function"&&(o[o.length-1]=b.context.bind(H,Y));let N=(0,Ae.safeExecuteInTheMiddle)(()=>t.apply(this,[d,...o]),j=>{if(j)throw oe.setSpanWithError(I,j),n._closeHttpSpan(I,b.SpanKind.CLIENT,C,P),j});return n._diag.debug(`${e} instrumentation outgoingRequest`),b.context.bind(H,N),n._traceClientRequest(N,E,I,C,P)})}}_startHttpSpan(e,t,n=b.context.active()){let i=t.kind===b.SpanKind.CLIENT?this._getConfig().requireParentforOutgoingSpans:this._getConfig().requireParentforIncomingSpans,s,o=b.trace.getSpan(n);return i===!0&&o===void 0?s=b.trace.wrapSpanContext(b.INVALID_SPAN_CONTEXT):i===!0&&(o!=null&&o.spanContext().isRemote)?s=o:s=this.tracer.startSpan(e,t,n),this._spanNotEnded.add(s),s}_closeHttpSpan(e,t,n,i){if(!this._spanNotEnded.has(e))return;e.end(),this._spanNotEnded.delete(e);let s=(0,ki.hrTimeToMilliseconds)((0,ki.hrTimeDuration)(n,(0,ki.hrTime)()));t===b.SpanKind.SERVER?this._httpServerDurationHistogram.record(s,i):t===b.SpanKind.CLIENT&&this._httpClientDurationHistogram.record(s,i)}_callResponseHook(e,t){(0,Ae.safeExecuteInTheMiddle)(()=>this._getConfig().responseHook(e,t),()=>{},!0)}_callRequestHook(e,t){(0,Ae.safeExecuteInTheMiddle)(()=>this._getConfig().requestHook(e,t),()=>{},!0)}_callStartSpanHook(e,t){if(typeof t=="function")return(0,Ae.safeExecuteInTheMiddle)(()=>t(e),()=>{},!0)}_createHeaderCapture(){var e,t,n,i,s,o,u,c,_,l,d,p;let E=this._getConfig();return{client:{captureRequestHeaders:oe.headerCapture("request",(n=(t=(e=E.headersToSpanAttributes)===null||e===void 0?void 0:e.client)===null||t===void 0?void 0:t.requestHeaders)!==null&&n!==void 0?n:[]),captureResponseHeaders:oe.headerCapture("response",(o=(s=(i=E.headersToSpanAttributes)===null||i===void 0?void 0:i.client)===null||s===void 0?void 0:s.responseHeaders)!==null&&o!==void 0?o:[])},server:{captureRequestHeaders:oe.headerCapture("request",(_=(c=(u=E.headersToSpanAttributes)===null||u===void 0?void 0:u.server)===null||c===void 0?void 0:c.requestHeaders)!==null&&_!==void 0?_:[]),captureResponseHeaders:oe.headerCapture("response",(p=(d=(l=E.headersToSpanAttributes)===null||l===void 0?void 0:l.server)===null||d===void 0?void 0:d.responseHeaders)!==null&&p!==void 0?p:[])}}}};Lc.HttpInstrumentation=Vf});var ZN=a(QN=>{"use strict";Object.defineProperty(QN,"__esModule",{value:!0})});var JN=a(sr=>{"use strict";var nH=sr&&sr.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Hf=sr&&sr.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&nH(e,r,t)};Object.defineProperty(sr,"__esModule",{value:!0});Hf(zN(),sr);Hf(ZN(),sr);Hf(Sf(),sr)});var eI=a(Dc=>{"use strict";Object.defineProperty(Dc,"__esModule",{value:!0});Dc.defaultServiceName=void 0;function iH(){return`unknown_service:${process.argv0}`}Dc.defaultServiceName=iH});var rI=a(wc=>{"use strict";Object.defineProperty(wc,"__esModule",{value:!0});wc.detectResources=void 0;var tI=Cn(),Ff=f(),sH=require("util"),oH=async(r={})=>{let e=Object.assign(r),t=await Promise.all((e.detectors||[]).map(async n=>{try{let i=await n.detect(e);return Ff.diag.debug(`${n.constructor.name} found resource.`,i),i}catch(i){return Ff.diag.debug(`${n.constructor.name} failed: ${i.message}`),tI.Resource.empty()}}));return aH(t),t.reduce((n,i)=>n.merge(i),tI.Resource.empty())};wc.detectResources=oH;var aH=r=>{r.forEach(e=>{if(Object.keys(e.attributes).length>0){let t=sH.inspect(e.attributes,{depth:2,breakLength:1/0,sorted:!0,compact:!1});Ff.diag.verbose(t)}})}});var sI=a(Uc=>{"use strict";Object.defineProperty(Uc,"__esModule",{value:!0});Uc.hostDetector=void 0;var nI=Le(),uH=Cn(),iI=require("os"),xf=class{async detect(e){let t={[nI.SemanticResourceAttributes.HOST_NAME]:(0,iI.hostname)(),[nI.SemanticResourceAttributes.HOST_ARCH]:this._normalizeArch((0,iI.arch)())};return new uH.Resource(t)}_normalizeArch(e){switch(e){case"arm":return"arm32";case"ppc":return"ppc32";case"x64":return"amd64";default:return e}}};Uc.hostDetector=new xf});var uI=a(Bc=>{"use strict";Object.defineProperty(Bc,"__esModule",{value:!0});Bc.osDetector=void 0;var oI=Le(),cH=Cn(),aI=require("os"),Kf=class{async detect(e){let t={[oI.SemanticResourceAttributes.OS_TYPE]:this._normalizeType((0,aI.platform)()),[oI.SemanticResourceAttributes.OS_VERSION]:(0,aI.release)()};return new cH.Resource(t)}_normalizeType(e){switch(e){case"sunos":return"solaris";case"win32":return"windows";default:return e}}};Bc.osDetector=new Kf});var cI=a(Kt=>{"use strict";var _H=Kt&&Kt.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Gc=Kt&&Kt.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&_H(e,r,t)};Object.defineProperty(Kt,"__esModule",{value:!0});Gc(eI(),Kt);Gc(rI(),Kt);Gc(sI(),Kt);Gc(uI(),Kt)});var $f=a(Mn=>{"use strict";var lH=Mn&&Mn.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),dH=Mn&&Mn.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&lH(e,r,t)};Object.defineProperty(Mn,"__esModule",{value:!0});dH(cI(),Mn)});var Cn=a(qc=>{"use strict";Object.defineProperty(qc,"__esModule",{value:!0});qc.Resource=void 0;var yn=Le(),Xf=le(),EH=$f(),or=class{constructor(e){this.attributes=e}static empty(){return or.EMPTY}static default(){return new or({[yn.SemanticResourceAttributes.SERVICE_NAME]:(0,EH.defaultServiceName)(),[yn.SemanticResourceAttributes.TELEMETRY_SDK_LANGUAGE]:Xf.SDK_INFO[yn.SemanticResourceAttributes.TELEMETRY_SDK_LANGUAGE],[yn.SemanticResourceAttributes.TELEMETRY_SDK_NAME]:Xf.SDK_INFO[yn.SemanticResourceAttributes.TELEMETRY_SDK_NAME],[yn.SemanticResourceAttributes.TELEMETRY_SDK_VERSION]:Xf.SDK_INFO[yn.SemanticResourceAttributes.TELEMETRY_SDK_VERSION]})}merge(e){if(!e||!Object.keys(e.attributes).length)return this;let t=Object.assign({},this.attributes,e.attributes);return new or(t)}};qc.Resource=or;or.EMPTY=new or({})});var lI=a(_I=>{"use strict";Object.defineProperty(_I,"__esModule",{value:!0})});var EI=a(dI=>{"use strict";Object.defineProperty(dI,"__esModule",{value:!0})});var pI=a(Vc=>{"use strict";Object.defineProperty(Vc,"__esModule",{value:!0});Vc.browserDetector=void 0;var pH=f(),jc=Le(),Yf=Hc(),Wf=class{async detect(e){if(!(typeof navigator<"u"))return Yf.Resource.empty();let n={[jc.SemanticResourceAttributes.PROCESS_RUNTIME_NAME]:"browser",[jc.SemanticResourceAttributes.PROCESS_RUNTIME_DESCRIPTION]:"Web Browser",[jc.SemanticResourceAttributes.PROCESS_RUNTIME_VERSION]:navigator.userAgent};return this._getResourceAttributes(n,e)}_getResourceAttributes(e,t){return e[jc.SemanticResourceAttributes.PROCESS_RUNTIME_VERSION]===""?(pH.diag.debug("BrowserDetector failed: Unable to find required browser resources. "),Yf.Resource.empty()):new Yf.Resource(Object.assign({},e))}};Vc.browserDetector=new Wf});var fI=a(Fc=>{"use strict";Object.defineProperty(Fc,"__esModule",{value:!0});Fc.envDetector=void 0;var fH=f(),TH=le(),SH=Le(),AH=Cn(),kf=class{constructor(){this._MAX_LENGTH=255,this._COMMA_SEPARATOR=",",this._LABEL_KEY_VALUE_SPLITTER="=",this._ERROR_MESSAGE_INVALID_CHARS="should be a ASCII string with a length greater than 0 and not exceed "+this._MAX_LENGTH+" characters.",this._ERROR_MESSAGE_INVALID_VALUE="should be a ASCII string with a length not exceed "+this._MAX_LENGTH+" characters."}async detect(e){let t={},n=(0,TH.getEnv)(),i=n.OTEL_RESOURCE_ATTRIBUTES,s=n.OTEL_SERVICE_NAME;if(i)try{let o=this._parseResourceAttributes(i);Object.assign(t,o)}catch(o){fH.diag.debug(`EnvDetector failed: ${o.message}`)}return s&&(t[SH.SemanticResourceAttributes.SERVICE_NAME]=s),new AH.Resource(t)}_parseResourceAttributes(e){if(!e)return{};let t={},n=e.split(this._COMMA_SEPARATOR,-1);for(let i of n){let s=i.split(this._LABEL_KEY_VALUE_SPLITTER,-1);if(s.length!==2)continue;let[o,u]=s;if(o=o.trim(),u=u.trim().split(/^"|"$/).join(""),!this._isValidAndNotEmpty(o))throw new Error(`Attribute key ${this._ERROR_MESSAGE_INVALID_CHARS}`);if(!this._isValid(u))throw new Error(`Attribute value ${this._ERROR_MESSAGE_INVALID_VALUE}`);t[o]=decodeURIComponent(u)}return t}_isValid(e){return e.length<=this._MAX_LENGTH&&this._isBaggageOctetString(e)}_isBaggageOctetString(e){for(let t=0;t<e.length;t++){let n=e.charCodeAt(t);if(n<33||n===44||n===59||n===92||n>126)return!1}return!0}_isValidAndNotEmpty(e){return e.length>0&&this._isValid(e)}};Fc.envDetector=new kf});var TI=a(xc=>{"use strict";Object.defineProperty(xc,"__esModule",{value:!0});xc.processDetector=void 0;var hH=f(),ht=Le(),zf=Cn(),Qf=class{async detect(e){if(typeof process!="object")return zf.Resource.empty();let t={[ht.SemanticResourceAttributes.PROCESS_PID]:process.pid,[ht.SemanticResourceAttributes.PROCESS_EXECUTABLE_NAME]:process.title||"",[ht.SemanticResourceAttributes.PROCESS_COMMAND]:process.argv[1]||"",[ht.SemanticResourceAttributes.PROCESS_COMMAND_LINE]:process.argv.join(" ")||"",[ht.SemanticResourceAttributes.PROCESS_RUNTIME_VERSION]:process.versions.node,[ht.SemanticResourceAttributes.PROCESS_RUNTIME_NAME]:"nodejs",[ht.SemanticResourceAttributes.PROCESS_RUNTIME_DESCRIPTION]:"Node.js"};return this._getResourceAttributes(t,e)}_getResourceAttributes(e,t){return e[ht.SemanticResourceAttributes.PROCESS_EXECUTABLE_NAME]===""||e[ht.SemanticResourceAttributes.PROCESS_EXECUTABLE_PATH]===""||e[ht.SemanticResourceAttributes.PROCESS_COMMAND]===""||e[ht.SemanticResourceAttributes.PROCESS_COMMAND_LINE]===""||e[ht.SemanticResourceAttributes.PROCESS_RUNTIME_VERSION]===""?(hH.diag.debug("ProcessDetector failed: Unable to find required process resources. "),zf.Resource.empty()):new zf.Resource(Object.assign({},e))}};xc.processDetector=new Qf});var SI=a(ar=>{"use strict";var gH=ar&&ar.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Zf=ar&&ar.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&gH(e,r,t)};Object.defineProperty(ar,"__esModule",{value:!0});Zf(pI(),ar);Zf(fI(),ar);Zf(TI(),ar)});var Hc=a(Mt=>{"use strict";var OH=Mt&&Mt.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),vo=Mt&&Mt.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&OH(e,r,t)};Object.defineProperty(Mt,"__esModule",{value:!0});vo(Cn(),Mt);vo($f(),Mt);vo(lI(),Mt);vo(EI(),Mt);vo(SI(),Mt)});var Mo=a(Dr=>{"use strict";Object.defineProperty(Dr,"__esModule",{value:!0});Dr.isTracingSuppressed=Dr.unsuppressTracing=Dr.suppressTracing=void 0;var mH=f(),Jf=(0,mH.createContextKey)("OpenTelemetry SDK Context Key SUPPRESS_TRACING");function RH(r){return r.setValue(Jf,!0)}Dr.suppressTracing=RH;function PH(r){return r.deleteValue(Jf)}Dr.unsuppressTracing=PH;function NH(r){return r.getValue(Jf)===!0}Dr.isTracingSuppressed=NH});var eT=a(Be=>{"use strict";Object.defineProperty(Be,"__esModule",{value:!0});Be.BAGGAGE_MAX_TOTAL_LENGTH=Be.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=Be.BAGGAGE_MAX_NAME_VALUE_PAIRS=Be.BAGGAGE_HEADER=Be.BAGGAGE_ITEMS_SEPARATOR=Be.BAGGAGE_PROPERTIES_SEPARATOR=Be.BAGGAGE_KEY_PAIR_SEPARATOR=void 0;Be.BAGGAGE_KEY_PAIR_SEPARATOR="=";Be.BAGGAGE_PROPERTIES_SEPARATOR=";";Be.BAGGAGE_ITEMS_SEPARATOR=",";Be.BAGGAGE_HEADER="baggage";Be.BAGGAGE_MAX_NAME_VALUE_PAIRS=180;Be.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=4096;Be.BAGGAGE_MAX_TOTAL_LENGTH=8192});var tT=a($t=>{"use strict";Object.defineProperty($t,"__esModule",{value:!0});$t.parseKeyPairsIntoRecord=$t.parsePairKeyValue=$t.getKeyPairs=$t.serializeKeyPairs=void 0;var IH=f(),Ln=eT();function bH(r){return r.reduce((e,t)=>{let n=`${e}${e!==""?Ln.BAGGAGE_ITEMS_SEPARATOR:""}${t}`;return n.length>Ln.BAGGAGE_MAX_TOTAL_LENGTH?e:n},"")}$t.serializeKeyPairs=bH;function vH(r){return r.getAllEntries().map(([e,t])=>{let n=`${encodeURIComponent(e)}=${encodeURIComponent(t.value)}`;return t.metadata!==void 0&&(n+=Ln.BAGGAGE_PROPERTIES_SEPARATOR+t.metadata.toString()),n})}$t.getKeyPairs=vH;function AI(r){let e=r.split(Ln.BAGGAGE_PROPERTIES_SEPARATOR);if(e.length<=0)return;let t=e.shift();if(!t)return;let n=t.split(Ln.BAGGAGE_KEY_PAIR_SEPARATOR);if(n.length!==2)return;let i=decodeURIComponent(n[0].trim()),s=decodeURIComponent(n[1].trim()),o;return e.length>0&&(o=(0,IH.baggageEntryMetadataFromString)(e.join(Ln.BAGGAGE_PROPERTIES_SEPARATOR))),{key:i,value:s,metadata:o}}$t.parsePairKeyValue=AI;function CH(r){return typeof r!="string"||r.length===0?{}:r.split(Ln.BAGGAGE_ITEMS_SEPARATOR).map(e=>AI(e)).filter(e=>e!==void 0&&e.value.length>0).reduce((e,t)=>(e[t.key]=t.value,e),{})}$t.parseKeyPairsIntoRecord=CH});var hI=a(Kc=>{"use strict";Object.defineProperty(Kc,"__esModule",{value:!0});Kc.W3CBaggagePropagator=void 0;var rT=f(),MH=Mo(),Dn=eT(),nT=tT(),iT=class{inject(e,t,n){let i=rT.propagation.getBaggage(e);if(!i||(0,MH.isTracingSuppressed)(e))return;let s=(0,nT.getKeyPairs)(i).filter(u=>u.length<=Dn.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS).slice(0,Dn.BAGGAGE_MAX_NAME_VALUE_PAIRS),o=(0,nT.serializeKeyPairs)(s);o.length>0&&n.set(t,Dn.BAGGAGE_HEADER,o)}extract(e,t,n){let i=n.get(t,Dn.BAGGAGE_HEADER),s=Array.isArray(i)?i.join(Dn.BAGGAGE_ITEMS_SEPARATOR):i;if(!s)return e;let o={};return s.length===0||(s.split(Dn.BAGGAGE_ITEMS_SEPARATOR).forEach(c=>{let _=(0,nT.parsePairKeyValue)(c);if(_){let l={value:_.value};_.metadata&&(l.metadata=_.metadata),o[_.key]=l}}),Object.entries(o).length===0)?e:rT.propagation.setBaggage(e,rT.propagation.createBaggage(o))}fields(){return[Dn.BAGGAGE_HEADER]}};Kc.W3CBaggagePropagator=iT});var gI=a($c=>{"use strict";Object.defineProperty($c,"__esModule",{value:!0});$c.AnchoredClock=void 0;var sT=class{constructor(e,t){this._monotonicClock=t,this._epochMillis=e.now(),this._performanceMillis=t.now()}now(){let e=this._monotonicClock.now()-this._performanceMillis;return this._epochMillis+e}};$c.AnchoredClock=sT});var NI=a(wr=>{"use strict";Object.defineProperty(wr,"__esModule",{value:!0});wr.isAttributeValue=wr.isAttributeKey=wr.sanitizeAttributes=void 0;var OI=f();function yH(r){let e={};if(typeof r!="object"||r==null)return e;for(let[t,n]of Object.entries(r)){if(!mI(t)){OI.diag.warn(`Invalid attribute key: ${t}`);continue}if(!RI(n)){OI.diag.warn(`Invalid attribute value set for key: ${t}`);continue}Array.isArray(n)?e[t]=n.slice():e[t]=n}return e}wr.sanitizeAttributes=yH;function mI(r){return typeof r=="string"&&r.length>0}wr.isAttributeKey=mI;function RI(r){return r==null?!0:Array.isArray(r)?LH(r):PI(r)}wr.isAttributeValue=RI;function LH(r){let e;for(let t of r)if(t!=null){if(!e){if(PI(t)){e=typeof t;continue}return!1}if(typeof t!==e)return!1}return!0}function PI(r){switch(typeof r){case"number":case"boolean":case"string":return!0}return!1}});var oT=a(Xc=>{"use strict";Object.defineProperty(Xc,"__esModule",{value:!0});Xc.loggingErrorHandler=void 0;var DH=f();function wH(){return r=>{DH.diag.error(UH(r))}}Xc.loggingErrorHandler=wH;function UH(r){return typeof r=="string"?r:JSON.stringify(BH(r))}function BH(r){let e={},t=r;for(;t!==null;)Object.getOwnPropertyNames(t).forEach(n=>{if(e[n])return;let i=t[n];i&&(e[n]=String(i))}),t=Object.getPrototypeOf(t);return e}});var aT=a(zi=>{"use strict";Object.defineProperty(zi,"__esModule",{value:!0});zi.globalErrorHandler=zi.setGlobalErrorHandler=void 0;var GH=oT(),II=(0,GH.loggingErrorHandler)();function qH(r){II=r}zi.setGlobalErrorHandler=qH;function jH(r){try{II(r)}catch{}}zi.globalErrorHandler=jH});var uT=a(yo=>{"use strict";Object.defineProperty(yo,"__esModule",{value:!0});yo.TracesSamplerValues=void 0;var VH;(function(r){r.AlwaysOff="always_off",r.AlwaysOn="always_on",r.ParentBasedAlwaysOff="parentbased_always_off",r.ParentBasedAlwaysOn="parentbased_always_on",r.ParentBasedTraceIdRatio="parentbased_traceidratio",r.TraceIdRatio="traceidratio"})(VH=yo.TracesSamplerValues||(yo.TracesSamplerValues={}))});var bI=a(Yc=>{"use strict";Object.defineProperty(Yc,"__esModule",{value:!0});Yc._globalThis=void 0;Yc._globalThis=typeof globalThis=="object"?globalThis:typeof self=="object"?self:typeof window=="object"?window:typeof global=="object"?global:{}});var _T=a(Pe=>{"use strict";Object.defineProperty(Pe,"__esModule",{value:!0});Pe.getEnvWithoutDefaults=Pe.parseEnvironment=Pe.DEFAULT_ENVIRONMENT=Pe.DEFAULT_ATTRIBUTE_COUNT_LIMIT=Pe.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT=void 0;var Ur=f(),HH=uT(),FH=bI(),xH=",",KH=["OTEL_SDK_DISABLED"];function $H(r){return KH.indexOf(r)>-1}var XH=["OTEL_BSP_EXPORT_TIMEOUT","OTEL_BSP_MAX_EXPORT_BATCH_SIZE","OTEL_BSP_MAX_QUEUE_SIZE","OTEL_BSP_SCHEDULE_DELAY","OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_EVENT_COUNT_LIMIT","OTEL_SPAN_LINK_COUNT_LIMIT","OTEL_EXPORTER_OTLP_TIMEOUT","OTEL_EXPORTER_OTLP_TRACES_TIMEOUT","OTEL_EXPORTER_OTLP_METRICS_TIMEOUT","OTEL_EXPORTER_JAEGER_AGENT_PORT"];function YH(r){return XH.indexOf(r)>-1}var WH=["OTEL_NO_PATCH_MODULES","OTEL_PROPAGATORS"];function kH(r){return WH.indexOf(r)>-1}Pe.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT=1/0;Pe.DEFAULT_ATTRIBUTE_COUNT_LIMIT=128;Pe.DEFAULT_ENVIRONMENT={OTEL_SDK_DISABLED:!1,CONTAINER_NAME:"",ECS_CONTAINER_METADATA_URI_V4:"",ECS_CONTAINER_METADATA_URI:"",HOSTNAME:"",KUBERNETES_SERVICE_HOST:"",NAMESPACE:"",OTEL_BSP_EXPORT_TIMEOUT:3e4,OTEL_BSP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BSP_MAX_QUEUE_SIZE:2048,OTEL_BSP_SCHEDULE_DELAY:5e3,OTEL_EXPORTER_JAEGER_AGENT_HOST:"",OTEL_EXPORTER_JAEGER_AGENT_PORT:6832,OTEL_EXPORTER_JAEGER_ENDPOINT:"",OTEL_EXPORTER_JAEGER_PASSWORD:"",OTEL_EXPORTER_JAEGER_USER:"",OTEL_EXPORTER_OTLP_ENDPOINT:"",OTEL_EXPORTER_OTLP_TRACES_ENDPOINT:"",OTEL_EXPORTER_OTLP_METRICS_ENDPOINT:"",OTEL_EXPORTER_OTLP_HEADERS:"",OTEL_EXPORTER_OTLP_TRACES_HEADERS:"",OTEL_EXPORTER_OTLP_METRICS_HEADERS:"",OTEL_EXPORTER_OTLP_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_TRACES_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_METRICS_TIMEOUT:1e4,OTEL_EXPORTER_ZIPKIN_ENDPOINT:"http://localhost:9411/api/v2/spans",OTEL_LOG_LEVEL:Ur.DiagLogLevel.INFO,OTEL_NO_PATCH_MODULES:[],OTEL_PROPAGATORS:["tracecontext","baggage"],OTEL_RESOURCE_ATTRIBUTES:"",OTEL_SERVICE_NAME:"",OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT:Pe.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT,OTEL_ATTRIBUTE_COUNT_LIMIT:Pe.DEFAULT_ATTRIBUTE_COUNT_LIMIT,OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT:Pe.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT,OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT:Pe.DEFAULT_ATTRIBUTE_COUNT_LIMIT,OTEL_SPAN_EVENT_COUNT_LIMIT:128,OTEL_SPAN_LINK_COUNT_LIMIT:128,OTEL_TRACES_EXPORTER:"",OTEL_TRACES_SAMPLER:HH.TracesSamplerValues.ParentBasedAlwaysOn,OTEL_TRACES_SAMPLER_ARG:"",OTEL_EXPORTER_OTLP_INSECURE:"",OTEL_EXPORTER_OTLP_TRACES_INSECURE:"",OTEL_EXPORTER_OTLP_METRICS_INSECURE:"",OTEL_EXPORTER_OTLP_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_COMPRESSION:"",OTEL_EXPORTER_OTLP_TRACES_COMPRESSION:"",OTEL_EXPORTER_OTLP_METRICS_COMPRESSION:"",OTEL_EXPORTER_OTLP_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_TRACES_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_TEMPORALITY_PREFERENCE:"cumulative"};function zH(r,e,t){if(typeof t[r]>"u")return;let n=String(t[r]);e[r]=n.toLowerCase()==="true"}function QH(r,e,t,n=-1/0,i=1/0){if(typeof t[r]<"u"){let s=Number(t[r]);isNaN(s)||(s<n?e[r]=n:s>i?e[r]=i:e[r]=s)}}function ZH(r,e,t,n=xH){let i=t[r];typeof i=="string"&&(e[r]=i.split(n).map(s=>s.trim()))}var JH={ALL:Ur.DiagLogLevel.ALL,VERBOSE:Ur.DiagLogLevel.VERBOSE,DEBUG:Ur.DiagLogLevel.DEBUG,INFO:Ur.DiagLogLevel.INFO,WARN:Ur.DiagLogLevel.WARN,ERROR:Ur.DiagLogLevel.ERROR,NONE:Ur.DiagLogLevel.NONE};function eF(r,e,t){let n=t[r];if(typeof n=="string"){let i=JH[n.toUpperCase()];i!=null&&(e[r]=i)}}function cT(r){let e={};for(let t in Pe.DEFAULT_ENVIRONMENT){let n=t;switch(n){case"OTEL_LOG_LEVEL":eF(n,e,r);break;default:if($H(n))zH(n,e,r);else if(YH(n))QH(n,e,r);else if(kH(n))ZH(n,e,r);else{let i=r[n];typeof i<"u"&&i!==null&&(e[n]=String(i))}}}return e}Pe.parseEnvironment=cT;function tF(){return cT(typeof process<"u"?process.env:FH._globalThis)}Pe.getEnvWithoutDefaults=tF});var CI=a(Wc=>{"use strict";Object.defineProperty(Wc,"__esModule",{value:!0});Wc.getEnv=void 0;var rF=require("os"),vI=_T();function nF(){let r=(0,vI.parseEnvironment)(process.env);return Object.assign({HOSTNAME:rF.hostname()},vI.DEFAULT_ENVIRONMENT,r)}Wc.getEnv=nF});var MI=a(kc=>{"use strict";Object.defineProperty(kc,"__esModule",{value:!0});kc._globalThis=void 0;kc._globalThis=typeof globalThis=="object"?globalThis:global});var LI=a(zc=>{"use strict";Object.defineProperty(zc,"__esModule",{value:!0});zc.hexToBase64=void 0;function yI(r){return r>=48&&r<=57?r-48:r>=97&&r<=102?r-87:r-55}var iF=Buffer.alloc(8),sF=Buffer.alloc(16);function oF(r){let e;r.length===16?e=iF:r.length===32?e=sF:e=Buffer.alloc(r.length/2);let t=0;for(let n=0;n<r.length;n+=2){let i=yI(r.charCodeAt(n)),s=yI(r.charCodeAt(n+1));e.writeUInt8(i<<4|s,t++)}return e.toString("base64")}zc.hexToBase64=oF});var UI=a(Zc=>{"use strict";Object.defineProperty(Zc,"__esModule",{value:!0});Zc.RandomIdGenerator=void 0;var aF=8,wI=16,lT=class{constructor(){this.generateTraceId=DI(wI),this.generateSpanId=DI(aF)}};Zc.RandomIdGenerator=lT;var Qc=Buffer.allocUnsafe(wI);function DI(r){return function(){for(let t=0;t<r/4;t++)Qc.writeUInt32BE(Math.random()*2**32>>>0,t*4);for(let t=0;t<r&&!(Qc[t]>0);t++)t===r-1&&(Qc[r-1]=1);return Qc.toString("hex",0,r)}}});var BI=a(Jc=>{"use strict";Object.defineProperty(Jc,"__esModule",{value:!0});Jc.otperformance=void 0;var uF=require("perf_hooks");Jc.otperformance=uF.performance});var t_=a(e_=>{"use strict";Object.defineProperty(e_,"__esModule",{value:!0});e_.VERSION=void 0;e_.VERSION="1.9.0"});var GI=a(K=>{"use strict";Object.defineProperty(K,"__esModule",{value:!0});K.MessageTypeValues=K.RpcGrpcStatusCodeValues=K.MessagingOperationValues=K.MessagingDestinationKindValues=K.HttpFlavorValues=K.NetHostConnectionSubtypeValues=K.NetHostConnectionTypeValues=K.NetTransportValues=K.FaasInvokedProviderValues=K.FaasDocumentOperationValues=K.FaasTriggerValues=K.DbCassandraConsistencyLevelValues=K.DbSystemValues=K.SemanticAttributes=void 0;K.SemanticAttributes={AWS_LAMBDA_INVOKED_ARN:"aws.lambda.invoked_arn",DB_SYSTEM:"db.system",DB_CONNECTION_STRING:"db.connection_string",DB_USER:"db.user",DB_JDBC_DRIVER_CLASSNAME:"db.jdbc.driver_classname",DB_NAME:"db.name",DB_STATEMENT:"db.statement",DB_OPERATION:"db.operation",DB_MSSQL_INSTANCE_NAME:"db.mssql.instance_name",DB_CASSANDRA_KEYSPACE:"db.cassandra.keyspace",DB_CASSANDRA_PAGE_SIZE:"db.cassandra.page_size",DB_CASSANDRA_CONSISTENCY_LEVEL:"db.cassandra.consistency_level",DB_CASSANDRA_TABLE:"db.cassandra.table",DB_CASSANDRA_IDEMPOTENCE:"db.cassandra.idempotence",DB_CASSANDRA_SPECULATIVE_EXECUTION_COUNT:"db.cassandra.speculative_execution_count",DB_CASSANDRA_COORDINATOR_ID:"db.cassandra.coordinator.id",DB_CASSANDRA_COORDINATOR_DC:"db.cassandra.coordinator.dc",DB_HBASE_NAMESPACE:"db.hbase.namespace",DB_REDIS_DATABASE_INDEX:"db.redis.database_index",DB_MONGODB_COLLECTION:"db.mongodb.collection",DB_SQL_TABLE:"db.sql.table",EXCEPTION_TYPE:"exception.type",EXCEPTION_MESSAGE:"exception.message",EXCEPTION_STACKTRACE:"exception.stacktrace",EXCEPTION_ESCAPED:"exception.escaped",FAAS_TRIGGER:"faas.trigger",FAAS_EXECUTION:"faas.execution",FAAS_DOCUMENT_COLLECTION:"faas.document.collection",FAAS_DOCUMENT_OPERATION:"faas.document.operation",FAAS_DOCUMENT_TIME:"faas.document.time",FAAS_DOCUMENT_NAME:"faas.document.name",FAAS_TIME:"faas.time",FAAS_CRON:"faas.cron",FAAS_COLDSTART:"faas.coldstart",FAAS_INVOKED_NAME:"faas.invoked_name",FAAS_INVOKED_PROVIDER:"faas.invoked_provider",FAAS_INVOKED_REGION:"faas.invoked_region",NET_TRANSPORT:"net.transport",NET_PEER_IP:"net.peer.ip",NET_PEER_PORT:"net.peer.port",NET_PEER_NAME:"net.peer.name",NET_HOST_IP:"net.host.ip",NET_HOST_PORT:"net.host.port",NET_HOST_NAME:"net.host.name",NET_HOST_CONNECTION_TYPE:"net.host.connection.type",NET_HOST_CONNECTION_SUBTYPE:"net.host.connection.subtype",NET_HOST_CARRIER_NAME:"net.host.carrier.name",NET_HOST_CARRIER_MCC:"net.host.carrier.mcc",NET_HOST_CARRIER_MNC:"net.host.carrier.mnc",NET_HOST_CARRIER_ICC:"net.host.carrier.icc",PEER_SERVICE:"peer.service",ENDUSER_ID:"enduser.id",ENDUSER_ROLE:"enduser.role",ENDUSER_SCOPE:"enduser.scope",THREAD_ID:"thread.id",THREAD_NAME:"thread.name",CODE_FUNCTION:"code.function",CODE_NAMESPACE:"code.namespace",CODE_FILEPATH:"code.filepath",CODE_LINENO:"code.lineno",HTTP_METHOD:"http.method",HTTP_URL:"http.url",HTTP_TARGET:"http.target",HTTP_HOST:"http.host",HTTP_SCHEME:"http.scheme",HTTP_STATUS_CODE:"http.status_code",HTTP_FLAVOR:"http.flavor",HTTP_USER_AGENT:"http.user_agent",HTTP_REQUEST_CONTENT_LENGTH:"http.request_content_length",HTTP_REQUEST_CONTENT_LENGTH_UNCOMPRESSED:"http.request_content_length_uncompressed",HTTP_RESPONSE_CONTENT_LENGTH:"http.response_content_length",HTTP_RESPONSE_CONTENT_LENGTH_UNCOMPRESSED:"http.response_content_length_uncompressed",HTTP_SERVER_NAME:"http.server_name",HTTP_ROUTE:"http.route",HTTP_CLIENT_IP:"http.client_ip",AWS_DYNAMODB_TABLE_NAMES:"aws.dynamodb.table_names",AWS_DYNAMODB_CONSUMED_CAPACITY:"aws.dynamodb.consumed_capacity",AWS_DYNAMODB_ITEM_COLLECTION_METRICS:"aws.dynamodb.item_collection_metrics",AWS_DYNAMODB_PROVISIONED_READ_CAPACITY:"aws.dynamodb.provisioned_read_capacity",AWS_DYNAMODB_PROVISIONED_WRITE_CAPACITY:"aws.dynamodb.provisioned_write_capacity",AWS_DYNAMODB_CONSISTENT_READ:"aws.dynamodb.consistent_read",AWS_DYNAMODB_PROJECTION:"aws.dynamodb.projection",AWS_DYNAMODB_LIMIT:"aws.dynamodb.limit",AWS_DYNAMODB_ATTRIBUTES_TO_GET:"aws.dynamodb.attributes_to_get",AWS_DYNAMODB_INDEX_NAME:"aws.dynamodb.index_name",AWS_DYNAMODB_SELECT:"aws.dynamodb.select",AWS_DYNAMODB_GLOBAL_SECONDARY_INDEXES:"aws.dynamodb.global_secondary_indexes",AWS_DYNAMODB_LOCAL_SECONDARY_INDEXES:"aws.dynamodb.local_secondary_indexes",AWS_DYNAMODB_EXCLUSIVE_START_TABLE:"aws.dynamodb.exclusive_start_table",AWS_DYNAMODB_TABLE_COUNT:"aws.dynamodb.table_count",AWS_DYNAMODB_SCAN_FORWARD:"aws.dynamodb.scan_forward",AWS_DYNAMODB_SEGMENT:"aws.dynamodb.segment",AWS_DYNAMODB_TOTAL_SEGMENTS:"aws.dynamodb.total_segments",AWS_DYNAMODB_COUNT:"aws.dynamodb.count",AWS_DYNAMODB_SCANNED_COUNT:"aws.dynamodb.scanned_count",AWS_DYNAMODB_ATTRIBUTE_DEFINITIONS:"aws.dynamodb.attribute_definitions",AWS_DYNAMODB_GLOBAL_SECONDARY_INDEX_UPDATES:"aws.dynamodb.global_secondary_index_updates",MESSAGING_SYSTEM:"messaging.system",MESSAGING_DESTINATION:"messaging.destination",MESSAGING_DESTINATION_KIND:"messaging.destination_kind",MESSAGING_TEMP_DESTINATION:"messaging.temp_destination",MESSAGING_PROTOCOL:"messaging.protocol",MESSAGING_PROTOCOL_VERSION:"messaging.protocol_version",MESSAGING_URL:"messaging.url",MESSAGING_MESSAGE_ID:"messaging.message_id",MESSAGING_CONVERSATION_ID:"messaging.conversation_id",MESSAGING_MESSAGE_PAYLOAD_SIZE_BYTES:"messaging.message_payload_size_bytes",MESSAGING_MESSAGE_PAYLOAD_COMPRESSED_SIZE_BYTES:"messaging.message_payload_compressed_size_bytes",MESSAGING_OPERATION:"messaging.operation",MESSAGING_CONSUMER_ID:"messaging.consumer_id",MESSAGING_RABBITMQ_ROUTING_KEY:"messaging.rabbitmq.routing_key",MESSAGING_KAFKA_MESSAGE_KEY:"messaging.kafka.message_key",MESSAGING_KAFKA_CONSUMER_GROUP:"messaging.kafka.consumer_group",MESSAGING_KAFKA_CLIENT_ID:"messaging.kafka.client_id",MESSAGING_KAFKA_PARTITION:"messaging.kafka.partition",MESSAGING_KAFKA_TOMBSTONE:"messaging.kafka.tombstone",RPC_SYSTEM:"rpc.system",RPC_SERVICE:"rpc.service",RPC_METHOD:"rpc.method",RPC_GRPC_STATUS_CODE:"rpc.grpc.status_code",RPC_JSONRPC_VERSION:"rpc.jsonrpc.version",RPC_JSONRPC_REQUEST_ID:"rpc.jsonrpc.request_id",RPC_JSONRPC_ERROR_CODE:"rpc.jsonrpc.error_code",RPC_JSONRPC_ERROR_MESSAGE:"rpc.jsonrpc.error_message",MESSAGE_TYPE:"message.type",MESSAGE_ID:"message.id",MESSAGE_COMPRESSED_SIZE:"message.compressed_size",MESSAGE_UNCOMPRESSED_SIZE:"message.uncompressed_size"};K.DbSystemValues={OTHER_SQL:"other_sql",MSSQL:"mssql",MYSQL:"mysql",ORACLE:"oracle",DB2:"db2",POSTGRESQL:"postgresql",REDSHIFT:"redshift",HIVE:"hive",CLOUDSCAPE:"cloudscape",HSQLDB:"hsqldb",PROGRESS:"progress",MAXDB:"maxdb",HANADB:"hanadb",INGRES:"ingres",FIRSTSQL:"firstsql",EDB:"edb",CACHE:"cache",ADABAS:"adabas",FIREBIRD:"firebird",DERBY:"derby",FILEMAKER:"filemaker",INFORMIX:"informix",INSTANTDB:"instantdb",INTERBASE:"interbase",MARIADB:"mariadb",NETEZZA:"netezza",PERVASIVE:"pervasive",POINTBASE:"pointbase",SQLITE:"sqlite",SYBASE:"sybase",TERADATA:"teradata",VERTICA:"vertica",H2:"h2",COLDFUSION:"coldfusion",CASSANDRA:"cassandra",HBASE:"hbase",MONGODB:"mongodb",REDIS:"redis",COUCHBASE:"couchbase",COUCHDB:"couchdb",COSMOSDB:"cosmosdb",DYNAMODB:"dynamodb",NEO4J:"neo4j",GEODE:"geode",ELASTICSEARCH:"elasticsearch",MEMCACHED:"memcached",COCKROACHDB:"cockroachdb"};K.DbCassandraConsistencyLevelValues={ALL:"all",EACH_QUORUM:"each_quorum",QUORUM:"quorum",LOCAL_QUORUM:"local_quorum",ONE:"one",TWO:"two",THREE:"three",LOCAL_ONE:"local_one",ANY:"any",SERIAL:"serial",LOCAL_SERIAL:"local_serial"};K.FaasTriggerValues={DATASOURCE:"datasource",HTTP:"http",PUBSUB:"pubsub",TIMER:"timer",OTHER:"other"};K.FaasDocumentOperationValues={INSERT:"insert",EDIT:"edit",DELETE:"delete"};K.FaasInvokedProviderValues={ALIBABA_CLOUD:"alibaba_cloud",AWS:"aws",AZURE:"azure",GCP:"gcp"};K.NetTransportValues={IP_TCP:"ip_tcp",IP_UDP:"ip_udp",IP:"ip",UNIX:"unix",PIPE:"pipe",INPROC:"inproc",OTHER:"other"};K.NetHostConnectionTypeValues={WIFI:"wifi",WIRED:"wired",CELL:"cell",UNAVAILABLE:"unavailable",UNKNOWN:"unknown"};K.NetHostConnectionSubtypeValues={GPRS:"gprs",EDGE:"edge",UMTS:"umts",CDMA:"cdma",EVDO_0:"evdo_0",EVDO_A:"evdo_a",CDMA2000_1XRTT:"cdma2000_1xrtt",HSDPA:"hsdpa",HSUPA:"hsupa",HSPA:"hspa",IDEN:"iden",EVDO_B:"evdo_b",LTE:"lte",EHRPD:"ehrpd",HSPAP:"hspap",GSM:"gsm",TD_SCDMA:"td_scdma",IWLAN:"iwlan",NR:"nr",NRNSA:"nrnsa",LTE_CA:"lte_ca"};K.HttpFlavorValues={HTTP_1_0:"1.0",HTTP_1_1:"1.1",HTTP_2_0:"2.0",SPDY:"SPDY",QUIC:"QUIC"};K.MessagingDestinationKindValues={QUEUE:"queue",TOPIC:"topic"};K.MessagingOperationValues={RECEIVE:"receive",PROCESS:"process"};K.RpcGrpcStatusCodeValues={OK:0,CANCELLED:1,UNKNOWN:2,INVALID_ARGUMENT:3,DEADLINE_EXCEEDED:4,NOT_FOUND:5,ALREADY_EXISTS:6,PERMISSION_DENIED:7,RESOURCE_EXHAUSTED:8,FAILED_PRECONDITION:9,ABORTED:10,OUT_OF_RANGE:11,UNIMPLEMENTED:12,INTERNAL:13,UNAVAILABLE:14,DATA_LOSS:15,UNAUTHENTICATED:16};K.MessageTypeValues={SENT:"SENT",RECEIVED:"RECEIVED"}});var qI=a(wn=>{"use strict";var cF=wn&&wn.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),_F=wn&&wn.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&cF(e,r,t)};Object.defineProperty(wn,"__esModule",{value:!0});_F(GI(),wn)});var jI=a(Ge=>{"use strict";Object.defineProperty(Ge,"__esModule",{value:!0});Ge.TelemetrySdkLanguageValues=Ge.OsTypeValues=Ge.HostArchValues=Ge.AwsEcsLaunchtypeValues=Ge.CloudPlatformValues=Ge.CloudProviderValues=Ge.SemanticResourceAttributes=void 0;Ge.SemanticResourceAttributes={CLOUD_PROVIDER:"cloud.provider",CLOUD_ACCOUNT_ID:"cloud.account.id",CLOUD_REGION:"cloud.region",CLOUD_AVAILABILITY_ZONE:"cloud.availability_zone",CLOUD_PLATFORM:"cloud.platform",AWS_ECS_CONTAINER_ARN:"aws.ecs.container.arn",AWS_ECS_CLUSTER_ARN:"aws.ecs.cluster.arn",AWS_ECS_LAUNCHTYPE:"aws.ecs.launchtype",AWS_ECS_TASK_ARN:"aws.ecs.task.arn",AWS_ECS_TASK_FAMILY:"aws.ecs.task.family",AWS_ECS_TASK_REVISION:"aws.ecs.task.revision",AWS_EKS_CLUSTER_ARN:"aws.eks.cluster.arn",AWS_LOG_GROUP_NAMES:"aws.log.group.names",AWS_LOG_GROUP_ARNS:"aws.log.group.arns",AWS_LOG_STREAM_NAMES:"aws.log.stream.names",AWS_LOG_STREAM_ARNS:"aws.log.stream.arns",CONTAINER_NAME:"container.name",CONTAINER_ID:"container.id",CONTAINER_RUNTIME:"container.runtime",CONTAINER_IMAGE_NAME:"container.image.name",CONTAINER_IMAGE_TAG:"container.image.tag",DEPLOYMENT_ENVIRONMENT:"deployment.environment",DEVICE_ID:"device.id",DEVICE_MODEL_IDENTIFIER:"device.model.identifier",DEVICE_MODEL_NAME:"device.model.name",FAAS_NAME:"faas.name",FAAS_ID:"faas.id",FAAS_VERSION:"faas.version",FAAS_INSTANCE:"faas.instance",FAAS_MAX_MEMORY:"faas.max_memory",HOST_ID:"host.id",HOST_NAME:"host.name",HOST_TYPE:"host.type",HOST_ARCH:"host.arch",HOST_IMAGE_NAME:"host.image.name",HOST_IMAGE_ID:"host.image.id",HOST_IMAGE_VERSION:"host.image.version",K8S_CLUSTER_NAME:"k8s.cluster.name",K8S_NODE_NAME:"k8s.node.name",K8S_NODE_UID:"k8s.node.uid",K8S_NAMESPACE_NAME:"k8s.namespace.name",K8S_POD_UID:"k8s.pod.uid",K8S_POD_NAME:"k8s.pod.name",K8S_CONTAINER_NAME:"k8s.container.name",K8S_REPLICASET_UID:"k8s.replicaset.uid",K8S_REPLICASET_NAME:"k8s.replicaset.name",K8S_DEPLOYMENT_UID:"k8s.deployment.uid",K8S_DEPLOYMENT_NAME:"k8s.deployment.name",K8S_STATEFULSET_UID:"k8s.statefulset.uid",K8S_STATEFULSET_NAME:"k8s.statefulset.name",K8S_DAEMONSET_UID:"k8s.daemonset.uid",K8S_DAEMONSET_NAME:"k8s.daemonset.name",K8S_JOB_UID:"k8s.job.uid",K8S_JOB_NAME:"k8s.job.name",K8S_CRONJOB_UID:"k8s.cronjob.uid",K8S_CRONJOB_NAME:"k8s.cronjob.name",OS_TYPE:"os.type",OS_DESCRIPTION:"os.description",OS_NAME:"os.name",OS_VERSION:"os.version",PROCESS_PID:"process.pid",PROCESS_EXECUTABLE_NAME:"process.executable.name",PROCESS_EXECUTABLE_PATH:"process.executable.path",PROCESS_COMMAND:"process.command",PROCESS_COMMAND_LINE:"process.command_line",PROCESS_COMMAND_ARGS:"process.command_args",PROCESS_OWNER:"process.owner",PROCESS_RUNTIME_NAME:"process.runtime.name",PROCESS_RUNTIME_VERSION:"process.runtime.version",PROCESS_RUNTIME_DESCRIPTION:"process.runtime.description",SERVICE_NAME:"service.name",SERVICE_NAMESPACE:"service.namespace",SERVICE_INSTANCE_ID:"service.instance.id",SERVICE_VERSION:"service.version",TELEMETRY_SDK_NAME:"telemetry.sdk.name",TELEMETRY_SDK_LANGUAGE:"telemetry.sdk.language",TELEMETRY_SDK_VERSION:"telemetry.sdk.version",TELEMETRY_AUTO_VERSION:"telemetry.auto.version",WEBENGINE_NAME:"webengine.name",WEBENGINE_VERSION:"webengine.version",WEBENGINE_DESCRIPTION:"webengine.description"};Ge.CloudProviderValues={ALIBABA_CLOUD:"alibaba_cloud",AWS:"aws",AZURE:"azure",GCP:"gcp"};Ge.CloudPlatformValues={ALIBABA_CLOUD_ECS:"alibaba_cloud_ecs",ALIBABA_CLOUD_FC:"alibaba_cloud_fc",AWS_EC2:"aws_ec2",AWS_ECS:"aws_ecs",AWS_EKS:"aws_eks",AWS_LAMBDA:"aws_lambda",AWS_ELASTIC_BEANSTALK:"aws_elastic_beanstalk",AZURE_VM:"azure_vm",AZURE_CONTAINER_INSTANCES:"azure_container_instances",AZURE_AKS:"azure_aks",AZURE_FUNCTIONS:"azure_functions",AZURE_APP_SERVICE:"azure_app_service",GCP_COMPUTE_ENGINE:"gcp_compute_engine",GCP_CLOUD_RUN:"gcp_cloud_run",GCP_KUBERNETES_ENGINE:"gcp_kubernetes_engine",GCP_CLOUD_FUNCTIONS:"gcp_cloud_functions",GCP_APP_ENGINE:"gcp_app_engine"};Ge.AwsEcsLaunchtypeValues={EC2:"ec2",FARGATE:"fargate"};Ge.HostArchValues={AMD64:"amd64",ARM32:"arm32",ARM64:"arm64",IA64:"ia64",PPC32:"ppc32",PPC64:"ppc64",X86:"x86"};Ge.OsTypeValues={WINDOWS:"windows",LINUX:"linux",DARWIN:"darwin",FREEBSD:"freebsd",NETBSD:"netbsd",OPENBSD:"openbsd",DRAGONFLYBSD:"dragonflybsd",HPUX:"hpux",AIX:"aix",SOLARIS:"solaris",Z_OS:"z_os"};Ge.TelemetrySdkLanguageValues={CPP:"cpp",DOTNET:"dotnet",ERLANG:"erlang",GO:"go",JAVA:"java",NODEJS:"nodejs",PHP:"php",PYTHON:"python",RUBY:"ruby",WEBJS:"webjs"}});var VI=a(Un=>{"use strict";var lF=Un&&Un.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),dF=Un&&Un.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&lF(e,r,t)};Object.defineProperty(Un,"__esModule",{value:!0});dF(jI(),Un)});var ur=a(Br=>{"use strict";var EF=Br&&Br.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),HI=Br&&Br.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&EF(e,r,t)};Object.defineProperty(Br,"__esModule",{value:!0});HI(qI(),Br);HI(VI(),Br)});var FI=a(r_=>{"use strict";Object.defineProperty(r_,"__esModule",{value:!0});r_.SDK_INFO=void 0;var pF=t_(),Lo=ur();r_.SDK_INFO={[Lo.SemanticResourceAttributes.TELEMETRY_SDK_NAME]:"opentelemetry",[Lo.SemanticResourceAttributes.PROCESS_RUNTIME_NAME]:"node",[Lo.SemanticResourceAttributes.TELEMETRY_SDK_LANGUAGE]:Lo.TelemetrySdkLanguageValues.NODEJS,[Lo.SemanticResourceAttributes.TELEMETRY_SDK_VERSION]:pF.VERSION}});var xI=a(n_=>{"use strict";Object.defineProperty(n_,"__esModule",{value:!0});n_.unrefTimer=void 0;function fF(r){r.unref()}n_.unrefTimer=fF});var KI=a(dt=>{"use strict";var TF=dt&&dt.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Bn=dt&&dt.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&TF(e,r,t)};Object.defineProperty(dt,"__esModule",{value:!0});Bn(CI(),dt);Bn(MI(),dt);Bn(LI(),dt);Bn(UI(),dt);Bn(BI(),dt);Bn(FI(),dt);Bn(xI(),dt)});var dT=a(Gn=>{"use strict";var SF=Gn&&Gn.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),AF=Gn&&Gn.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&SF(e,r,t)};Object.defineProperty(Gn,"__esModule",{value:!0});AF(KI(),Gn)});var WI=a(ee=>{"use strict";Object.defineProperty(ee,"__esModule",{value:!0});ee.addHrTimes=ee.isTimeInput=ee.isTimeInputHrTime=ee.hrTimeToMicroseconds=ee.hrTimeToMilliseconds=ee.hrTimeToNanoseconds=ee.hrTimeToTimeStamp=ee.hrTimeDuration=ee.timeInputToHrTime=ee.hrTime=ee.getTimeOrigin=ee.millisToHrTime=void 0;var ET=dT(),$I=9,hF=6,gF=Math.pow(10,hF),i_=Math.pow(10,$I);function Do(r){let e=r/1e3,t=Math.trunc(e),n=Math.round(r%1e3*gF);return[t,n]}ee.millisToHrTime=Do;function pT(){let r=ET.otperformance.timeOrigin;if(typeof r!="number"){let e=ET.otperformance;r=e.timing&&e.timing.fetchStart}return r}ee.getTimeOrigin=pT;function XI(r){let e=Do(pT()),t=Do(typeof r=="number"?r:ET.otperformance.now());return YI(e,t)}ee.hrTime=XI;function OF(r){if(fT(r))return r;if(typeof r=="number")return r<pT()?XI(r):Do(r);if(r instanceof Date)return Do(r.getTime());throw TypeError("Invalid input type")}ee.timeInputToHrTime=OF;function mF(r,e){let t=e[0]-r[0],n=e[1]-r[1];return n<0&&(t-=1,n+=i_),[t,n]}ee.hrTimeDuration=mF;function RF(r){let e=$I,t=`${"0".repeat(e)}${r[1]}Z`,n=t.substr(t.length-e-1);return new Date(r[0]*1e3).toISOString().replace("000Z",n)}ee.hrTimeToTimeStamp=RF;function PF(r){return r[0]*i_+r[1]}ee.hrTimeToNanoseconds=PF;function NF(r){return Math.round(r[0]*1e3+r[1]/1e6)}ee.hrTimeToMilliseconds=NF;function IF(r){return Math.round(r[0]*1e6+r[1]/1e3)}ee.hrTimeToMicroseconds=IF;function fT(r){return Array.isArray(r)&&r.length===2&&typeof r[0]=="number"&&typeof r[1]=="number"}ee.isTimeInputHrTime=fT;function bF(r){return fT(r)||typeof r=="number"||r instanceof Date}ee.isTimeInput=bF;function YI(r,e){let t=[r[0]+e[0],r[1]+e[1]];return t[1]>=i_&&(t[1]-=i_,t[0]+=1),t}ee.addHrTimes=YI});var zI=a(kI=>{"use strict";Object.defineProperty(kI,"__esModule",{value:!0})});var QI=a(wo=>{"use strict";Object.defineProperty(wo,"__esModule",{value:!0});wo.ExportResultCode=void 0;var vF;(function(r){r[r.SUCCESS=0]="SUCCESS",r[r.FAILED=1]="FAILED"})(vF=wo.ExportResultCode||(wo.ExportResultCode={}))});var JI=a(s_=>{"use strict";Object.defineProperty(s_,"__esModule",{value:!0});s_.CompositePropagator=void 0;var ZI=f(),TT=class{constructor(e={}){var t;this._propagators=(t=e.propagators)!==null&&t!==void 0?t:[],this._fields=Array.from(new Set(this._propagators.map(n=>typeof n.fields=="function"?n.fields():[]).reduce((n,i)=>n.concat(i),[])))}inject(e,t,n){for(let i of this._propagators)try{i.inject(e,t,n)}catch(s){ZI.diag.warn(`Failed to inject with ${i.constructor.name}. Err: ${s.message}`)}}extract(e,t,n){return this._propagators.reduce((i,s)=>{try{return s.extract(i,t,n)}catch(o){ZI.diag.warn(`Failed to inject with ${s.constructor.name}. Err: ${o.message}`)}return i},e)}fields(){return this._fields.slice()}};s_.CompositePropagator=TT});var eb=a(Qi=>{"use strict";Object.defineProperty(Qi,"__esModule",{value:!0});Qi.validateValue=Qi.validateKey=void 0;var ST="[_0-9a-z-*/]",CF=`[a-z]${ST}{0,255}`,MF=`[a-z0-9]${ST}{0,240}@[a-z]${ST}{0,13}`,yF=new RegExp(`^(?:${CF}|${MF})$`),LF=/^[ -~]{0,255}[!-~]$/,DF=/,|=/;function wF(r){return yF.test(r)}Qi.validateKey=wF;function UF(r){return LF.test(r)&&!DF.test(r)}Qi.validateValue=UF});var AT=a(o_=>{"use strict";Object.defineProperty(o_,"__esModule",{value:!0});o_.TraceState=void 0;var tb=eb(),rb=32,BF=512,nb=",",ib="=",Uo=class{constructor(e){this._internalState=new Map,e&&this._parse(e)}set(e,t){let n=this._clone();return n._internalState.has(e)&&n._internalState.delete(e),n._internalState.set(e,t),n}unset(e){let t=this._clone();return t._internalState.delete(e),t}get(e){return this._internalState.get(e)}serialize(){return this._keys().reduce((e,t)=>(e.push(t+ib+this.get(t)),e),[]).join(nb)}_parse(e){e.length>BF||(this._internalState=e.split(nb).reverse().reduce((t,n)=>{let i=n.trim(),s=i.indexOf(ib);if(s!==-1){let o=i.slice(0,s),u=i.slice(s+1,n.length);(0,tb.validateKey)(o)&&(0,tb.validateValue)(u)&&t.set(o,u)}return t},new Map),this._internalState.size>rb&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,rb))))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let e=new Uo;return e._internalState=new Map(this._internalState),e}};o_.TraceState=Uo});var ob=a(qe=>{"use strict";Object.defineProperty(qe,"__esModule",{value:!0});qe.W3CTraceContextPropagator=qe.parseTraceParent=qe.TRACE_STATE_HEADER=qe.TRACE_PARENT_HEADER=void 0;var a_=f(),GF=Mo(),qF=AT();qe.TRACE_PARENT_HEADER="traceparent";qe.TRACE_STATE_HEADER="tracestate";var jF="00",VF="(?!ff)[\\da-f]{2}",HF="(?![0]{32})[\\da-f]{32}",FF="(?![0]{16})[\\da-f]{16}",xF="[\\da-f]{2}",KF=new RegExp(`^\\s?(${VF})-(${HF})-(${FF})-(${xF})(-.*)?\\s?$`);function sb(r){let e=KF.exec(r);return!e||e[1]==="00"&&e[5]?null:{traceId:e[2],spanId:e[3],traceFlags:parseInt(e[4],16)}}qe.parseTraceParent=sb;var hT=class{inject(e,t,n){let i=a_.trace.getSpanContext(e);if(!i||(0,GF.isTracingSuppressed)(e)||!(0,a_.isSpanContextValid)(i))return;let s=`${jF}-${i.traceId}-${i.spanId}-0${Number(i.traceFlags||a_.TraceFlags.NONE).toString(16)}`;n.set(t,qe.TRACE_PARENT_HEADER,s),i.traceState&&n.set(t,qe.TRACE_STATE_HEADER,i.traceState.serialize())}extract(e,t,n){let i=n.get(t,qe.TRACE_PARENT_HEADER);if(!i)return e;let s=Array.isArray(i)?i[0]:i;if(typeof s!="string")return e;let o=sb(s);if(!o)return e;o.isRemote=!0;let u=n.get(t,qe.TRACE_STATE_HEADER);if(u){let c=Array.isArray(u)?u.join(","):u;o.traceState=new qF.TraceState(typeof c=="string"?c:void 0)}return a_.trace.setSpanContext(e,o)}fields(){return[qe.TRACE_PARENT_HEADER,qe.TRACE_STATE_HEADER]}};qe.W3CTraceContextPropagator=hT});var ub=a(ab=>{"use strict";Object.defineProperty(ab,"__esModule",{value:!0})});var cb=a(yt=>{"use strict";Object.defineProperty(yt,"__esModule",{value:!0});yt.getRPCMetadata=yt.deleteRPCMetadata=yt.setRPCMetadata=yt.RPCType=void 0;var $F=f(),gT=(0,$F.createContextKey)("OpenTelemetry SDK Context Key RPC_METADATA"),XF;(function(r){r.HTTP="http"})(XF=yt.RPCType||(yt.RPCType={}));function YF(r,e){return r.setValue(gT,e)}yt.setRPCMetadata=YF;function WF(r){return r.deleteValue(gT)}yt.deleteRPCMetadata=WF;function kF(r){return r.getValue(gT)}yt.getRPCMetadata=kF});var mT=a(u_=>{"use strict";Object.defineProperty(u_,"__esModule",{value:!0});u_.AlwaysOffSampler=void 0;var zF=f(),OT=class{shouldSample(){return{decision:zF.SamplingDecision.NOT_RECORD}}toString(){return"AlwaysOffSampler"}};u_.AlwaysOffSampler=OT});var PT=a(c_=>{"use strict";Object.defineProperty(c_,"__esModule",{value:!0});c_.AlwaysOnSampler=void 0;var QF=f(),RT=class{shouldSample(){return{decision:QF.SamplingDecision.RECORD_AND_SAMPLED}}toString(){return"AlwaysOnSampler"}};c_.AlwaysOnSampler=RT});var lb=a(l_=>{"use strict";Object.defineProperty(l_,"__esModule",{value:!0});l_.ParentBasedSampler=void 0;var __=f(),ZF=aT(),_b=mT(),NT=PT(),IT=class{constructor(e){var t,n,i,s;this._root=e.root,this._root||((0,ZF.globalErrorHandler)(new Error("ParentBasedSampler must have a root sampler configured")),this._root=new NT.AlwaysOnSampler),this._remoteParentSampled=(t=e.remoteParentSampled)!==null&&t!==void 0?t:new NT.AlwaysOnSampler,this._remoteParentNotSampled=(n=e.remoteParentNotSampled)!==null&&n!==void 0?n:new _b.AlwaysOffSampler,this._localParentSampled=(i=e.localParentSampled)!==null&&i!==void 0?i:new NT.AlwaysOnSampler,this._localParentNotSampled=(s=e.localParentNotSampled)!==null&&s!==void 0?s:new _b.AlwaysOffSampler}shouldSample(e,t,n,i,s,o){let u=__.trace.getSpanContext(e);return!u||!(0,__.isSpanContextValid)(u)?this._root.shouldSample(e,t,n,i,s,o):u.isRemote?u.traceFlags&__.TraceFlags.SAMPLED?this._remoteParentSampled.shouldSample(e,t,n,i,s,o):this._remoteParentNotSampled.shouldSample(e,t,n,i,s,o):u.traceFlags&__.TraceFlags.SAMPLED?this._localParentSampled.shouldSample(e,t,n,i,s,o):this._localParentNotSampled.shouldSample(e,t,n,i,s,o)}toString(){return`ParentBased{root=${this._root.toString()}, remoteParentSampled=${this._remoteParentSampled.toString()}, remoteParentNotSampled=${this._remoteParentNotSampled.toString()}, localParentSampled=${this._localParentSampled.toString()}, localParentNotSampled=${this._localParentNotSampled.toString()}}`}};l_.ParentBasedSampler=IT});var db=a(d_=>{"use strict";Object.defineProperty(d_,"__esModule",{value:!0});d_.TraceIdRatioBasedSampler=void 0;var bT=f(),vT=class{constructor(e=0){this._ratio=e,this._ratio=this._normalize(e),this._upperBound=Math.floor(this._ratio*4294967295)}shouldSample(e,t){return{decision:(0,bT.isValidTraceId)(t)&&this._accumulate(t)<this._upperBound?bT.SamplingDecision.RECORD_AND_SAMPLED:bT.SamplingDecision.NOT_RECORD}}toString(){return`TraceIdRatioBased{${this._ratio}}`}_normalize(e){return typeof e!="number"||isNaN(e)?0:e>=1?1:e<=0?0:e}_accumulate(e){let t=0;for(let n=0;n<e.length/8;n++){let i=n*8,s=parseInt(e.slice(i,i+8),16);t=(t^s)>>>0}return t}};d_.TraceIdRatioBasedSampler=vT});var Sb=a(E_=>{"use strict";Object.defineProperty(E_,"__esModule",{value:!0});E_.isPlainObject=void 0;var JF="[object Object]",ex="[object Null]",tx="[object Undefined]",rx=Function.prototype,Eb=rx.toString,nx=Eb.call(Object),ix=sx(Object.getPrototypeOf,Object),pb=Object.prototype,fb=pb.hasOwnProperty,qn=Symbol?Symbol.toStringTag:void 0,Tb=pb.toString;function sx(r,e){return function(t){return r(e(t))}}function ox(r){if(!ax(r)||ux(r)!==JF)return!1;let e=ix(r);if(e===null)return!0;let t=fb.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t instanceof t&&Eb.call(t)===nx}E_.isPlainObject=ox;function ax(r){return r!=null&&typeof r=="object"}function ux(r){return r==null?r===void 0?tx:ex:qn&&qn in Object(r)?cx(r):_x(r)}function cx(r){let e=fb.call(r,qn),t=r[qn],n=!1;try{r[qn]=void 0,n=!0}catch{}let i=Tb.call(r);return n&&(e?r[qn]=t:delete r[qn]),i}function _x(r){return Tb.call(r)}});var mb=a(T_=>{"use strict";Object.defineProperty(T_,"__esModule",{value:!0});T_.merge=void 0;var Ab=Sb(),lx=20;function dx(...r){let e=r.shift(),t=new WeakMap;for(;r.length>0;)e=gb(e,r.shift(),0,t);return e}T_.merge=dx;function CT(r){return f_(r)?r.slice():r}function gb(r,e,t=0,n){let i;if(!(t>lx)){if(t++,p_(r)||p_(e)||Ob(e))i=CT(e);else if(f_(r)){if(i=r.slice(),f_(e))for(let s=0,o=e.length;s<o;s++)i.push(CT(e[s]));else if(Bo(e)){let s=Object.keys(e);for(let o=0,u=s.length;o<u;o++){let c=s[o];i[c]=CT(e[c])}}}else if(Bo(r))if(Bo(e)){if(!Ex(r,e))return e;i=Object.assign({},r);let s=Object.keys(e);for(let o=0,u=s.length;o<u;o++){let c=s[o],_=e[c];if(p_(_))typeof _>"u"?delete i[c]:i[c]=_;else{let l=i[c],d=_;if(hb(r,c,n)||hb(e,c,n))delete i[c];else{if(Bo(l)&&Bo(d)){let p=n.get(l)||[],E=n.get(d)||[];p.push({obj:r,key:c}),E.push({obj:e,key:c}),n.set(l,p),n.set(d,E)}i[c]=gb(i[c],_,t,n)}}}}else i=e;return i}}function hb(r,e,t){let n=t.get(r[e])||[];for(let i=0,s=n.length;i<s;i++){let o=n[i];if(o.key===e&&o.obj===r)return!0}return!1}function f_(r){return Array.isArray(r)}function Ob(r){return typeof r=="function"}function Bo(r){return!p_(r)&&!f_(r)&&!Ob(r)&&typeof r=="object"}function p_(r){return typeof r=="string"||typeof r=="number"||typeof r=="boolean"||typeof r>"u"||r instanceof Date||r instanceof RegExp||r===null}function Ex(r,e){return!(!(0,Ab.isPlainObject)(r)||!(0,Ab.isPlainObject)(e))}});var Pb=a(Zi=>{"use strict";Object.defineProperty(Zi,"__esModule",{value:!0});Zi.isUrlIgnored=Zi.urlMatches=void 0;function Rb(r,e){return typeof e=="string"?r===e:!!r.match(e)}Zi.urlMatches=Rb;function px(r,e){if(!e)return!1;for(let t of e)if(Rb(r,t))return!0;return!1}Zi.isUrlIgnored=px});var Nb=a(S_=>{"use strict";Object.defineProperty(S_,"__esModule",{value:!0});S_.isWrapped=void 0;function fx(r){return typeof r=="function"&&typeof r.__original=="function"&&typeof r.__unwrap=="function"&&r.__wrapped===!0}S_.isWrapped=fx});var Ib=a(A_=>{"use strict";Object.defineProperty(A_,"__esModule",{value:!0});A_.Deferred=void 0;var MT=class{constructor(){this._promise=new Promise((e,t)=>{this._resolve=e,this._reject=t})}get promise(){return this._promise}resolve(e){this._resolve(e)}reject(e){this._reject(e)}};A_.Deferred=MT});var bb=a(h_=>{"use strict";Object.defineProperty(h_,"__esModule",{value:!0});h_.BindOnceFuture=void 0;var Tx=Ib(),yT=class{constructor(e,t){this._callback=e,this._that=t,this._isCalled=!1,this._deferred=new Tx.Deferred}get isCalled(){return this._isCalled}get promise(){return this._deferred.promise}call(...e){if(!this._isCalled){this._isCalled=!0;try{Promise.resolve(this._callback.call(this._that,...e)).then(t=>this._deferred.resolve(t),t=>this._deferred.reject(t))}catch(t){this._deferred.reject(t)}}return this._deferred.promise}};h_.BindOnceFuture=yT});var Cb=a(g_=>{"use strict";Object.defineProperty(g_,"__esModule",{value:!0});g_._export=void 0;var vb=f(),Sx=Mo();function Ax(r,e){return new Promise(t=>{vb.context.with((0,Sx.suppressTracing)(vb.context.active()),()=>{r.export(e,n=>{t(n)})})})}g_._export=Ax});var nt=a(U=>{"use strict";var hx=U&&U.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),z=U&&U.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&hx(e,r,t)};Object.defineProperty(U,"__esModule",{value:!0});U.internal=U.baggageUtils=void 0;z(hI(),U);z(gI(),U);z(NI(),U);z(aT(),U);z(oT(),U);z(WI(),U);z(zI(),U);z(QI(),U);z(t_(),U);U.baggageUtils=tT();z(dT(),U);z(JI(),U);z(ob(),U);z(ub(),U);z(cb(),U);z(mT(),U);z(PT(),U);z(lb(),U);z(db(),U);z(Mo(),U);z(AT(),U);z(_T(),U);z(mb(),U);z(uT(),U);z(Pb(),U);z(Nb(),U);z(bb(),U);z(t_(),U);var gx=Cb();U.internal={_export:gx._export}});var Mb=a(O_=>{"use strict";Object.defineProperty(O_,"__esModule",{value:!0});O_.ExceptionEventName=void 0;O_.ExceptionEventName="exception"});var DT=a(m_=>{"use strict";Object.defineProperty(m_,"__esModule",{value:!0});m_.Span=void 0;var Xt=f(),je=nt(),jn=ur(),Ox=Mb(),LT=class{constructor(e,t,n,i,s,o,u=[],c,_){this.attributes={},this.links=[],this.events=[],this.status={code:Xt.SpanStatusCode.UNSET},this.endTime=[0,0],this._ended=!1,this._duration=[-1,-1],this.name=n,this._spanContext=i,this.parentSpanId=o,this.kind=s,this.links=u;let l=Date.now();this._performanceStartTime=je.otperformance.now(),this._performanceOffset=l-(this._performanceStartTime+(0,je.getTimeOrigin)()),this._startTimeProvided=c!=null,this.startTime=this._getTime(c??l),this.resource=e.resource,this.instrumentationLibrary=e.instrumentationLibrary,this._spanLimits=e.getSpanLimits(),this._spanProcessor=e.getActiveSpanProcessor(),this._spanProcessor.onStart(this,t),this._attributeValueLengthLimit=this._spanLimits.attributeValueLengthLimit||0}spanContext(){return this._spanContext}setAttribute(e,t){return t==null||this._isSpanEnded()?this:e.length===0?(Xt.diag.warn(`Invalid attribute key: ${e}`),this):(0,je.isAttributeValue)(t)?Object.keys(this.attributes).length>=this._spanLimits.attributeCountLimit&&!Object.prototype.hasOwnProperty.call(this.attributes,e)?this:(this.attributes[e]=this._truncateToSize(t),this):(Xt.diag.warn(`Invalid attribute value set for key: ${e}`),this)}setAttributes(e){for(let[t,n]of Object.entries(e))this.setAttribute(t,n);return this}addEvent(e,t,n){if(this._isSpanEnded())return this;if(this._spanLimits.eventCountLimit===0)return Xt.diag.warn("No events allowed."),this;this.events.length>=this._spanLimits.eventCountLimit&&(Xt.diag.warn("Dropping extra events."),this.events.shift()),(0,je.isTimeInput)(t)&&((0,je.isTimeInput)(n)||(n=t),t=void 0);let i=(0,je.sanitizeAttributes)(t);return this.events.push({name:e,attributes:i,time:this._getTime(n)}),this}setStatus(e){return this._isSpanEnded()?this:(this.status=e,this)}updateName(e){return this._isSpanEnded()?this:(this.name=e,this)}end(e){if(this._isSpanEnded()){Xt.diag.error("You can only call end() on a span once.");return}this._ended=!0,this.endTime=this._getTime(e),this._duration=(0,je.hrTimeDuration)(this.startTime,this.endTime),this._duration[0]<0&&(Xt.diag.warn("Inconsistent start and end time, startTime > endTime. Setting span duration to 0ms.",this.startTime,this.endTime),this.endTime=this.startTime.slice(),this._duration=[0,0]),this._spanProcessor.onEnd(this)}_getTime(e){if(typeof e=="number"&&e<je.otperformance.now())return(0,je.hrTime)(e+this._performanceOffset);if(typeof e=="number")return(0,je.millisToHrTime)(e);if(e instanceof Date)return(0,je.millisToHrTime)(e.getTime());if((0,je.isTimeInputHrTime)(e))return e;if(this._startTimeProvided)return(0,je.millisToHrTime)(Date.now());let t=je.otperformance.now()-this._performanceStartTime;return(0,je.addHrTimes)(this.startTime,(0,je.millisToHrTime)(t))}isRecording(){return this._ended===!1}recordException(e,t){let n={};typeof e=="string"?n[jn.SemanticAttributes.EXCEPTION_MESSAGE]=e:e&&(e.code?n[jn.SemanticAttributes.EXCEPTION_TYPE]=e.code.toString():e.name&&(n[jn.SemanticAttributes.EXCEPTION_TYPE]=e.name),e.message&&(n[jn.SemanticAttributes.EXCEPTION_MESSAGE]=e.message),e.stack&&(n[jn.SemanticAttributes.EXCEPTION_STACKTRACE]=e.stack)),n[jn.SemanticAttributes.EXCEPTION_TYPE]||n[jn.SemanticAttributes.EXCEPTION_MESSAGE]?this.addEvent(Ox.ExceptionEventName,n,t):Xt.diag.warn(`Failed to record an exception ${e}`)}get duration(){return this._duration}get ended(){return this._ended}_isSpanEnded(){return this._ended&&Xt.diag.warn(`Can not execute the operation on ended Span {traceId: ${this._spanContext.traceId}, spanId: ${this._spanContext.spanId}}`),this._ended}_truncateToLimitUtil(e,t){return e.length<=t?e:e.substr(0,t)}_truncateToSize(e){let t=this._attributeValueLengthLimit;return t<=0?(Xt.diag.warn(`Attribute value limit must be positive, got ${t}`),e):typeof e=="string"?this._truncateToLimitUtil(e,t):Array.isArray(e)?e.map(n=>typeof n=="string"?this._truncateToLimitUtil(n,t):n):e}};m_.Span=LT});var qo=a(Go=>{"use strict";Object.defineProperty(Go,"__esModule",{value:!0});Go.SamplingDecision=void 0;var mx;(function(r){r[r.NOT_RECORD=0]="NOT_RECORD",r[r.RECORD=1]="RECORD",r[r.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"})(mx=Go.SamplingDecision||(Go.SamplingDecision={}))});var P_=a(R_=>{"use strict";Object.defineProperty(R_,"__esModule",{value:!0});R_.AlwaysOffSampler=void 0;var Rx=qo(),wT=class{shouldSample(){return{decision:Rx.SamplingDecision.NOT_RECORD}}toString(){return"AlwaysOffSampler"}};R_.AlwaysOffSampler=wT});var I_=a(N_=>{"use strict";Object.defineProperty(N_,"__esModule",{value:!0});N_.AlwaysOnSampler=void 0;var Px=qo(),UT=class{shouldSample(){return{decision:Px.SamplingDecision.RECORD_AND_SAMPLED}}toString(){return"AlwaysOnSampler"}};N_.AlwaysOnSampler=UT});var qT=a(v_=>{"use strict";Object.defineProperty(v_,"__esModule",{value:!0});v_.ParentBasedSampler=void 0;var b_=f(),Nx=nt(),yb=P_(),BT=I_(),GT=class{constructor(e){var t,n,i,s;this._root=e.root,this._root||((0,Nx.globalErrorHandler)(new Error("ParentBasedSampler must have a root sampler configured")),this._root=new BT.AlwaysOnSampler),this._remoteParentSampled=(t=e.remoteParentSampled)!==null&&t!==void 0?t:new BT.AlwaysOnSampler,this._remoteParentNotSampled=(n=e.remoteParentNotSampled)!==null&&n!==void 0?n:new yb.AlwaysOffSampler,this._localParentSampled=(i=e.localParentSampled)!==null&&i!==void 0?i:new BT.AlwaysOnSampler,this._localParentNotSampled=(s=e.localParentNotSampled)!==null&&s!==void 0?s:new yb.AlwaysOffSampler}shouldSample(e,t,n,i,s,o){let u=b_.trace.getSpanContext(e);return!u||!(0,b_.isSpanContextValid)(u)?this._root.shouldSample(e,t,n,i,s,o):u.isRemote?u.traceFlags&b_.TraceFlags.SAMPLED?this._remoteParentSampled.shouldSample(e,t,n,i,s,o):this._remoteParentNotSampled.shouldSample(e,t,n,i,s,o):u.traceFlags&b_.TraceFlags.SAMPLED?this._localParentSampled.shouldSample(e,t,n,i,s,o):this._localParentNotSampled.shouldSample(e,t,n,i,s,o)}toString(){return`ParentBased{root=${this._root.toString()}, remoteParentSampled=${this._remoteParentSampled.toString()}, remoteParentNotSampled=${this._remoteParentNotSampled.toString()}, localParentSampled=${this._localParentSampled.toString()}, localParentNotSampled=${this._localParentNotSampled.toString()}}`}};v_.ParentBasedSampler=GT});var VT=a(C_=>{"use strict";Object.defineProperty(C_,"__esModule",{value:!0});C_.TraceIdRatioBasedSampler=void 0;var Ix=f(),Lb=qo(),jT=class{constructor(e=0){this._ratio=e,this._ratio=this._normalize(e),this._upperBound=Math.floor(this._ratio*4294967295)}shouldSample(e,t){return{decision:(0,Ix.isValidTraceId)(t)&&this._accumulate(t)<this._upperBound?Lb.SamplingDecision.RECORD_AND_SAMPLED:Lb.SamplingDecision.NOT_RECORD}}toString(){return`TraceIdRatioBased{${this._ratio}}`}_normalize(e){return typeof e!="number"||isNaN(e)?0:e>=1?1:e<=0?0:e}_accumulate(e){let t=0;for(let n=0;n<e.length/8;n++){let i=n*8,s=parseInt(e.slice(i,i+8),16);t=(t^s)>>>0}return t}};C_.TraceIdRatioBasedSampler=jT});var xT=a(es=>{"use strict";Object.defineProperty(es,"__esModule",{value:!0});es.buildSamplerFromEnv=es.loadDefaultConfig=void 0;var M_=f(),et=nt(),Db=P_(),HT=I_(),FT=qT(),wb=VT(),bx=(0,et.getEnv)(),vx=et.TracesSamplerValues.AlwaysOn,Ji=1;function Cx(){return{sampler:Bb(bx),forceFlushTimeoutMillis:3e4,generalLimits:{attributeValueLengthLimit:(0,et.getEnv)().OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT,attributeCountLimit:(0,et.getEnv)().OTEL_ATTRIBUTE_COUNT_LIMIT},spanLimits:{attributeValueLengthLimit:(0,et.getEnv)().OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT,attributeCountLimit:(0,et.getEnv)().OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT,linkCountLimit:(0,et.getEnv)().OTEL_SPAN_LINK_COUNT_LIMIT,eventCountLimit:(0,et.getEnv)().OTEL_SPAN_EVENT_COUNT_LIMIT}}}es.loadDefaultConfig=Cx;function Bb(r=(0,et.getEnv)()){switch(r.OTEL_TRACES_SAMPLER){case et.TracesSamplerValues.AlwaysOn:return new HT.AlwaysOnSampler;case et.TracesSamplerValues.AlwaysOff:return new Db.AlwaysOffSampler;case et.TracesSamplerValues.ParentBasedAlwaysOn:return new FT.ParentBasedSampler({root:new HT.AlwaysOnSampler});case et.TracesSamplerValues.ParentBasedAlwaysOff:return new FT.ParentBasedSampler({root:new Db.AlwaysOffSampler});case et.TracesSamplerValues.TraceIdRatio:return new wb.TraceIdRatioBasedSampler(Ub(r));case et.TracesSamplerValues.ParentBasedTraceIdRatio:return new FT.ParentBasedSampler({root:new wb.TraceIdRatioBasedSampler(Ub(r))});default:return M_.diag.error(`OTEL_TRACES_SAMPLER value "${r.OTEL_TRACES_SAMPLER} invalid, defaulting to ${vx}".`),new HT.AlwaysOnSampler}}es.buildSamplerFromEnv=Bb;function Ub(r){if(r.OTEL_TRACES_SAMPLER_ARG===void 0||r.OTEL_TRACES_SAMPLER_ARG==="")return M_.diag.error(`OTEL_TRACES_SAMPLER_ARG is blank, defaulting to ${Ji}.`),Ji;let e=Number(r.OTEL_TRACES_SAMPLER_ARG);return isNaN(e)?(M_.diag.error(`OTEL_TRACES_SAMPLER_ARG=${r.OTEL_TRACES_SAMPLER_ARG} was given, but it is invalid, defaulting to ${Ji}.`),Ji):e<0||e>1?(M_.diag.error(`OTEL_TRACES_SAMPLER_ARG=${r.OTEL_TRACES_SAMPLER_ARG} was given, but it is out of range ([0..1]), defaulting to ${Ji}.`),Ji):e}});var $T=a(ts=>{"use strict";Object.defineProperty(ts,"__esModule",{value:!0});ts.reconfigureLimits=ts.mergeConfig=void 0;var Gb=xT(),KT=nt();function Mx(r){let e={sampler:(0,Gb.buildSamplerFromEnv)()},t=(0,Gb.loadDefaultConfig)(),n=Object.assign({},t,e,r);return n.generalLimits=Object.assign({},t.generalLimits,r.generalLimits||{}),n.spanLimits=Object.assign({},t.spanLimits,r.spanLimits||{}),n}ts.mergeConfig=Mx;function yx(r){var e,t,n,i,s,o,u,c,_,l,d,p;let E=Object.assign({},r.spanLimits),O=(0,KT.getEnvWithoutDefaults)();return E.attributeCountLimit=(o=(s=(i=(t=(e=r.spanLimits)===null||e===void 0?void 0:e.attributeCountLimit)!==null&&t!==void 0?t:(n=r.generalLimits)===null||n===void 0?void 0:n.attributeCountLimit)!==null&&i!==void 0?i:O.OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT)!==null&&s!==void 0?s:O.OTEL_ATTRIBUTE_COUNT_LIMIT)!==null&&o!==void 0?o:KT.DEFAULT_ATTRIBUTE_COUNT_LIMIT,E.attributeValueLengthLimit=(p=(d=(l=(c=(u=r.spanLimits)===null||u===void 0?void 0:u.attributeValueLengthLimit)!==null&&c!==void 0?c:(_=r.generalLimits)===null||_===void 0?void 0:_.attributeValueLengthLimit)!==null&&l!==void 0?l:O.OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT)!==null&&d!==void 0?d:O.OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT)!==null&&p!==void 0?p:KT.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT,Object.assign({},r,{spanLimits:E})}ts.reconfigureLimits=yx});var qb=a(L_=>{"use strict";Object.defineProperty(L_,"__esModule",{value:!0});L_.BatchSpanProcessorBase=void 0;var y_=f(),rs=nt(),XT=class{constructor(e,t){this._exporter=e,this._finishedSpans=[];let n=(0,rs.getEnv)();this._maxExportBatchSize=typeof(t==null?void 0:t.maxExportBatchSize)=="number"?t.maxExportBatchSize:n.OTEL_BSP_MAX_EXPORT_BATCH_SIZE,this._maxQueueSize=typeof(t==null?void 0:t.maxQueueSize)=="number"?t.maxQueueSize:n.OTEL_BSP_MAX_QUEUE_SIZE,this._scheduledDelayMillis=typeof(t==null?void 0:t.scheduledDelayMillis)=="number"?t.scheduledDelayMillis:n.OTEL_BSP_SCHEDULE_DELAY,this._exportTimeoutMillis=typeof(t==null?void 0:t.exportTimeoutMillis)=="number"?t.exportTimeoutMillis:n.OTEL_BSP_EXPORT_TIMEOUT,this._shutdownOnce=new rs.BindOnceFuture(this._shutdown,this),this._maxExportBatchSize>this._maxQueueSize&&(y_.diag.warn("BatchSpanProcessor: maxExportBatchSize must be smaller or equal to maxQueueSize, setting maxExportBatchSize to match maxQueueSize"),this._maxExportBatchSize=this._maxQueueSize)}forceFlush(){return this._shutdownOnce.isCalled?this._shutdownOnce.promise:this._flushAll()}onStart(e,t){}onEnd(e){this._shutdownOnce.isCalled||e.spanContext().traceFlags&y_.TraceFlags.SAMPLED&&this._addToBuffer(e)}shutdown(){return this._shutdownOnce.call()}_shutdown(){return Promise.resolve().then(()=>this.onShutdown()).then(()=>this._flushAll()).then(()=>this._exporter.shutdown())}_addToBuffer(e){this._finishedSpans.length>=this._maxQueueSize||(this._finishedSpans.push(e),this._maybeStartTimer())}_flushAll(){return new Promise((e,t)=>{let n=[],i=Math.ceil(this._finishedSpans.length/this._maxExportBatchSize);for(let s=0,o=i;s<o;s++)n.push(this._flushOneBatch());Promise.all(n).then(()=>{e()}).catch(t)})}_flushOneBatch(){return this._clearTimer(),this._finishedSpans.length===0?Promise.resolve():new Promise((e,t)=>{let n=setTimeout(()=>{t(new Error("Timeout"))},this._exportTimeoutMillis);y_.context.with((0,rs.suppressTracing)(y_.context.active()),()=>{this._exporter.export(this._finishedSpans.splice(0,this._maxExportBatchSize),i=>{var s;clearTimeout(n),i.code===rs.ExportResultCode.SUCCESS?e():t((s=i.error)!==null&&s!==void 0?s:new Error("BatchSpanProcessor: span export failed"))})})})}_maybeStartTimer(){this._timer===void 0&&(this._timer=setTimeout(()=>{this._flushOneBatch().then(()=>{this._finishedSpans.length>0&&(this._clearTimer(),this._maybeStartTimer())}).catch(e=>{(0,rs.globalErrorHandler)(e)})},this._scheduledDelayMillis),(0,rs.unrefTimer)(this._timer))}_clearTimer(){this._timer!==void 0&&(clearTimeout(this._timer),this._timer=void 0)}};L_.BatchSpanProcessorBase=XT});var jb=a(D_=>{"use strict";Object.defineProperty(D_,"__esModule",{value:!0});D_.BatchSpanProcessor=void 0;var Lx=qb(),YT=class extends Lx.BatchSpanProcessorBase{onShutdown(){}};D_.BatchSpanProcessor=YT});var Fb=a(U_=>{"use strict";Object.defineProperty(U_,"__esModule",{value:!0});U_.RandomIdGenerator=void 0;var Dx=8,Hb=16,WT=class{constructor(){this.generateTraceId=Vb(Hb),this.generateSpanId=Vb(Dx)}};U_.RandomIdGenerator=WT;var w_=Buffer.allocUnsafe(Hb);function Vb(r){return function(){for(let t=0;t<r/4;t++)w_.writeUInt32BE(Math.random()*2**32>>>0,t*4);for(let t=0;t<r&&!(w_[t]>0);t++)t===r-1&&(w_[r-1]=1);return w_.toString("hex",0,r)}}});var Kb=a(Gr=>{"use strict";var wx=Gr&&Gr.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),xb=Gr&&Gr.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&wx(e,r,t)};Object.defineProperty(Gr,"__esModule",{value:!0});xb(jb(),Gr);xb(Fb(),Gr)});var B_=a(Vn=>{"use strict";var Ux=Vn&&Vn.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Bx=Vn&&Vn.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Ux(e,r,t)};Object.defineProperty(Vn,"__esModule",{value:!0});Bx(Kb(),Vn)});var $b=a(q_=>{"use strict";Object.defineProperty(q_,"__esModule",{value:!0});q_.Tracer=void 0;var Ne=f(),G_=nt(),Gx=DT(),qx=$T(),jx=B_(),kT=class{constructor(e,t,n){this._tracerProvider=n;let i=(0,qx.mergeConfig)(t);this._sampler=i.sampler,this._generalLimits=i.generalLimits,this._spanLimits=i.spanLimits,this._idGenerator=t.idGenerator||new jx.RandomIdGenerator,this.resource=n.resource,this.instrumentationLibrary=e}startSpan(e,t={},n=Ne.context.active()){var i,s;t.root&&(n=Ne.trace.deleteSpan(n));let o=Ne.trace.getSpan(n);if((0,G_.isTracingSuppressed)(n))return Ne.diag.debug("Instrumentation suppressed, returning Noop Span"),Ne.trace.wrapSpanContext(Ne.INVALID_SPAN_CONTEXT);let u=o==null?void 0:o.spanContext(),c=this._idGenerator.generateSpanId(),_,l,d;!u||!Ne.trace.isSpanContextValid(u)?_=this._idGenerator.generateTraceId():(_=u.traceId,l=u.traceState,d=u.spanId);let p=(i=t.kind)!==null&&i!==void 0?i:Ne.SpanKind.INTERNAL,E=((s=t.links)!==null&&s!==void 0?s:[]).map(H=>({context:H.context,attributes:(0,G_.sanitizeAttributes)(H.attributes)})),O=(0,G_.sanitizeAttributes)(t.attributes),R=this._sampler.shouldSample(n,_,e,p,O,E),C=R.decision===Ne.SamplingDecision.RECORD_AND_SAMPLED?Ne.TraceFlags.SAMPLED:Ne.TraceFlags.NONE,P={traceId:_,spanId:c,traceFlags:C,traceState:l};if(R.decision===Ne.SamplingDecision.NOT_RECORD)return Ne.diag.debug("Recording is off, propagating context in a non-recording span"),Ne.trace.wrapSpanContext(P);let ce=new Gx.Span(this,n,e,P,p,d,E,t.startTime),I=(0,G_.sanitizeAttributes)(Object.assign(O,R.attributes));return ce.setAttributes(I),ce}startActiveSpan(e,t,n,i){let s,o,u;if(arguments.length<2)return;arguments.length===2?u=t:arguments.length===3?(s=t,u=n):(s=t,o=n,u=i);let c=o??Ne.context.active(),_=this.startSpan(e,s,c),l=Ne.trace.setSpan(c,_);return Ne.context.with(l,u,void 0,_)}getGeneralLimits(){return this._generalLimits}getSpanLimits(){return this._spanLimits}getActiveSpanProcessor(){return this._tracerProvider.getActiveSpanProcessor()}};q_.Tracer=kT});var Xb=a(j_=>{"use strict";Object.defineProperty(j_,"__esModule",{value:!0});j_.defaultServiceName=void 0;function Vx(){return`unknown_service:${process.argv0}`}j_.defaultServiceName=Vx});var Wb=a(V_=>{"use strict";Object.defineProperty(V_,"__esModule",{value:!0});V_.detectResources=void 0;var Yb=Hn(),zT=f(),Hx=require("util"),Fx=async(r={})=>{let e=Object.assign(r),t=await Promise.all((e.detectors||[]).map(async n=>{try{let i=await n.detect(e);return zT.diag.debug(`${n.constructor.name} found resource.`,i),i}catch(i){return zT.diag.debug(`${n.constructor.name} failed: ${i.message}`),Yb.Resource.empty()}}));return xx(t),t.reduce((n,i)=>n.merge(i),Yb.Resource.empty())};V_.detectResources=Fx;var xx=r=>{r.forEach(e=>{if(Object.keys(e.attributes).length>0){let t=Hx.inspect(e.attributes,{depth:2,breakLength:1/0,sorted:!0,compact:!1});zT.diag.verbose(t)}})}});var Qb=a(H_=>{"use strict";Object.defineProperty(H_,"__esModule",{value:!0});H_.hostDetector=void 0;var kb=ur(),Kx=Hn(),zb=require("os"),QT=class{async detect(e){let t={[kb.SemanticResourceAttributes.HOST_NAME]:(0,zb.hostname)(),[kb.SemanticResourceAttributes.HOST_ARCH]:this._normalizeArch((0,zb.arch)())};return new Kx.Resource(t)}_normalizeArch(e){switch(e){case"arm":return"arm32";case"ppc":return"ppc32";case"x64":return"amd64";default:return e}}};H_.hostDetector=new QT});var ev=a(F_=>{"use strict";Object.defineProperty(F_,"__esModule",{value:!0});F_.osDetector=void 0;var Zb=ur(),$x=Hn(),Jb=require("os"),ZT=class{async detect(e){let t={[Zb.SemanticResourceAttributes.OS_TYPE]:this._normalizeType((0,Jb.platform)()),[Zb.SemanticResourceAttributes.OS_VERSION]:(0,Jb.release)()};return new $x.Resource(t)}_normalizeType(e){switch(e){case"sunos":return"solaris";case"win32":return"windows";default:return e}}};F_.osDetector=new ZT});var tv=a(Yt=>{"use strict";var Xx=Yt&&Yt.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),x_=Yt&&Yt.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Xx(e,r,t)};Object.defineProperty(Yt,"__esModule",{value:!0});x_(Xb(),Yt);x_(Wb(),Yt);x_(Qb(),Yt);x_(ev(),Yt)});var JT=a(Fn=>{"use strict";var Yx=Fn&&Fn.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Wx=Fn&&Fn.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Yx(e,r,t)};Object.defineProperty(Fn,"__esModule",{value:!0});Wx(tv(),Fn)});var Hn=a(K_=>{"use strict";Object.defineProperty(K_,"__esModule",{value:!0});K_.Resource=void 0;var xn=ur(),eS=nt(),kx=JT(),cr=class{constructor(e){this.attributes=e}static empty(){return cr.EMPTY}static default(){return new cr({[xn.SemanticResourceAttributes.SERVICE_NAME]:(0,kx.defaultServiceName)(),[xn.SemanticResourceAttributes.TELEMETRY_SDK_LANGUAGE]:eS.SDK_INFO[xn.SemanticResourceAttributes.TELEMETRY_SDK_LANGUAGE],[xn.SemanticResourceAttributes.TELEMETRY_SDK_NAME]:eS.SDK_INFO[xn.SemanticResourceAttributes.TELEMETRY_SDK_NAME],[xn.SemanticResourceAttributes.TELEMETRY_SDK_VERSION]:eS.SDK_INFO[xn.SemanticResourceAttributes.TELEMETRY_SDK_VERSION]})}merge(e){if(!e||!Object.keys(e.attributes).length)return this;let t=Object.assign({},this.attributes,e.attributes);return new cr(t)}};K_.Resource=cr;cr.EMPTY=new cr({})});var nv=a(rv=>{"use strict";Object.defineProperty(rv,"__esModule",{value:!0})});var sv=a(iv=>{"use strict";Object.defineProperty(iv,"__esModule",{value:!0})});var ov=a(X_=>{"use strict";Object.defineProperty(X_,"__esModule",{value:!0});X_.browserDetector=void 0;var zx=f(),$_=ur(),tS=nS(),rS=class{async detect(e){if(!(typeof navigator<"u"))return tS.Resource.empty();let n={[$_.SemanticResourceAttributes.PROCESS_RUNTIME_NAME]:"browser",[$_.SemanticResourceAttributes.PROCESS_RUNTIME_DESCRIPTION]:"Web Browser",[$_.SemanticResourceAttributes.PROCESS_RUNTIME_VERSION]:navigator.userAgent};return this._getResourceAttributes(n,e)}_getResourceAttributes(e,t){return e[$_.SemanticResourceAttributes.PROCESS_RUNTIME_VERSION]===""?(zx.diag.debug("BrowserDetector failed: Unable to find required browser resources. "),tS.Resource.empty()):new tS.Resource(Object.assign({},e))}};X_.browserDetector=new rS});var av=a(Y_=>{"use strict";Object.defineProperty(Y_,"__esModule",{value:!0});Y_.envDetector=void 0;var Qx=f(),Zx=nt(),Jx=ur(),eK=Hn(),iS=class{constructor(){this._MAX_LENGTH=255,this._COMMA_SEPARATOR=",",this._LABEL_KEY_VALUE_SPLITTER="=",this._ERROR_MESSAGE_INVALID_CHARS="should be a ASCII string with a length greater than 0 and not exceed "+this._MAX_LENGTH+" characters.",this._ERROR_MESSAGE_INVALID_VALUE="should be a ASCII string with a length not exceed "+this._MAX_LENGTH+" characters."}async detect(e){let t={},n=(0,Zx.getEnv)(),i=n.OTEL_RESOURCE_ATTRIBUTES,s=n.OTEL_SERVICE_NAME;if(i)try{let o=this._parseResourceAttributes(i);Object.assign(t,o)}catch(o){Qx.diag.debug(`EnvDetector failed: ${o.message}`)}return s&&(t[Jx.SemanticResourceAttributes.SERVICE_NAME]=s),new eK.Resource(t)}_parseResourceAttributes(e){if(!e)return{};let t={},n=e.split(this._COMMA_SEPARATOR,-1);for(let i of n){let s=i.split(this._LABEL_KEY_VALUE_SPLITTER,-1);if(s.length!==2)continue;let[o,u]=s;if(o=o.trim(),u=u.trim().split(/^"|"$/).join(""),!this._isValidAndNotEmpty(o))throw new Error(`Attribute key ${this._ERROR_MESSAGE_INVALID_CHARS}`);if(!this._isValid(u))throw new Error(`Attribute value ${this._ERROR_MESSAGE_INVALID_VALUE}`);t[o]=decodeURIComponent(u)}return t}_isValid(e){return e.length<=this._MAX_LENGTH&&this._isBaggageOctetString(e)}_isBaggageOctetString(e){for(let t=0;t<e.length;t++){let n=e.charCodeAt(t);if(n<33||n===44||n===59||n===92||n>126)return!1}return!0}_isValidAndNotEmpty(e){return e.length>0&&this._isValid(e)}};Y_.envDetector=new iS});var uv=a(W_=>{"use strict";Object.defineProperty(W_,"__esModule",{value:!0});W_.processDetector=void 0;var tK=f(),gt=ur(),sS=Hn(),oS=class{async detect(e){if(typeof process!="object")return sS.Resource.empty();let t={[gt.SemanticResourceAttributes.PROCESS_PID]:process.pid,[gt.SemanticResourceAttributes.PROCESS_EXECUTABLE_NAME]:process.title||"",[gt.SemanticResourceAttributes.PROCESS_COMMAND]:process.argv[1]||"",[gt.SemanticResourceAttributes.PROCESS_COMMAND_LINE]:process.argv.join(" ")||"",[gt.SemanticResourceAttributes.PROCESS_RUNTIME_VERSION]:process.versions.node,[gt.SemanticResourceAttributes.PROCESS_RUNTIME_NAME]:"nodejs",[gt.SemanticResourceAttributes.PROCESS_RUNTIME_DESCRIPTION]:"Node.js"};return this._getResourceAttributes(t,e)}_getResourceAttributes(e,t){return e[gt.SemanticResourceAttributes.PROCESS_EXECUTABLE_NAME]===""||e[gt.SemanticResourceAttributes.PROCESS_EXECUTABLE_PATH]===""||e[gt.SemanticResourceAttributes.PROCESS_COMMAND]===""||e[gt.SemanticResourceAttributes.PROCESS_COMMAND_LINE]===""||e[gt.SemanticResourceAttributes.PROCESS_RUNTIME_VERSION]===""?(tK.diag.debug("ProcessDetector failed: Unable to find required process resources. "),sS.Resource.empty()):new sS.Resource(Object.assign({},e))}};W_.processDetector=new oS});var cv=a(_r=>{"use strict";var rK=_r&&_r.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),aS=_r&&_r.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&rK(e,r,t)};Object.defineProperty(_r,"__esModule",{value:!0});aS(ov(),_r);aS(av(),_r);aS(uv(),_r)});var nS=a(Lt=>{"use strict";var nK=Lt&&Lt.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),jo=Lt&&Lt.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&nK(e,r,t)};Object.defineProperty(Lt,"__esModule",{value:!0});jo(Hn(),Lt);jo(JT(),Lt);jo(nv(),Lt);jo(sv(),Lt);jo(cv(),Lt)});var _v=a(k_=>{"use strict";Object.defineProperty(k_,"__esModule",{value:!0});k_.MultiSpanProcessor=void 0;var iK=nt(),uS=class{constructor(e){this._spanProcessors=e}forceFlush(){let e=[];for(let t of this._spanProcessors)e.push(t.forceFlush());return new Promise(t=>{Promise.all(e).then(()=>{t()}).catch(n=>{(0,iK.globalErrorHandler)(n||new Error("MultiSpanProcessor: forceFlush failed")),t()})})}onStart(e,t){for(let n of this._spanProcessors)n.onStart(e,t)}onEnd(e){for(let t of this._spanProcessors)t.onEnd(e)}shutdown(){let e=[];for(let t of this._spanProcessors)e.push(t.shutdown());return new Promise((t,n)=>{Promise.all(e).then(()=>{t()},n)})}};k_.MultiSpanProcessor=uS});var _S=a(z_=>{"use strict";Object.defineProperty(z_,"__esModule",{value:!0});z_.NoopSpanProcessor=void 0;var cS=class{onStart(e,t){}onEnd(e){}shutdown(){return Promise.resolve()}forceFlush(){return Promise.resolve()}};z_.NoopSpanProcessor=cS});var dv=a(Kn=>{"use strict";Object.defineProperty(Kn,"__esModule",{value:!0});Kn.BasicTracerProvider=Kn.ForceFlushState=void 0;var ns=f(),ss=nt(),lv=nS(),sK=Ho(),oK=xT(),aK=_v(),uK=_S(),cK=B_(),_K=$T(),is;(function(r){r[r.resolved=0]="resolved",r[r.timeout=1]="timeout",r[r.error=2]="error",r[r.unresolved=3]="unresolved"})(is=Kn.ForceFlushState||(Kn.ForceFlushState={}));var Vo=class{constructor(e={}){var t;this._registeredSpanProcessors=[],this._tracers=new Map;let n=(0,ss.merge)({},(0,oK.loadDefaultConfig)(),(0,_K.reconfigureLimits)(e));this.resource=(t=n.resource)!==null&&t!==void 0?t:lv.Resource.empty(),this.resource=lv.Resource.default().merge(this.resource),this._config=Object.assign({},n,{resource:this.resource});let i=this._buildExporterFromEnv();if(i!==void 0){let s=new cK.BatchSpanProcessor(i);this.activeSpanProcessor=s}else this.activeSpanProcessor=new uK.NoopSpanProcessor}getTracer(e,t,n){let i=`${e}@${t||""}:${(n==null?void 0:n.schemaUrl)||""}`;return this._tracers.has(i)||this._tracers.set(i,new sK.Tracer({name:e,version:t,schemaUrl:n==null?void 0:n.schemaUrl},this._config,this)),this._tracers.get(i)}addSpanProcessor(e){this._registeredSpanProcessors.length===0&&this.activeSpanProcessor.shutdown().catch(t=>ns.diag.error("Error while trying to shutdown current span processor",t)),this._registeredSpanProcessors.push(e),this.activeSpanProcessor=new aK.MultiSpanProcessor(this._registeredSpanProcessors)}getActiveSpanProcessor(){return this.activeSpanProcessor}register(e={}){ns.trace.setGlobalTracerProvider(this),e.propagator===void 0&&(e.propagator=this._buildPropagatorFromEnv()),e.contextManager&&ns.context.setGlobalContextManager(e.contextManager),e.propagator&&ns.propagation.setGlobalPropagator(e.propagator)}forceFlush(){let e=this._config.forceFlushTimeoutMillis,t=this._registeredSpanProcessors.map(n=>new Promise(i=>{let s,o=setTimeout(()=>{i(new Error(`Span processor did not completed within timeout period of ${e} ms`)),s=is.timeout},e);n.forceFlush().then(()=>{clearTimeout(o),s!==is.timeout&&(s=is.resolved,i(s))}).catch(u=>{clearTimeout(o),s=is.error,i(u)})}));return new Promise((n,i)=>{Promise.all(t).then(s=>{let o=s.filter(u=>u!==is.resolved);o.length>0?i(o):n()}).catch(s=>i([s]))})}shutdown(){return this.activeSpanProcessor.shutdown()}_getPropagator(e){var t;return(t=this.constructor._registeredPropagators.get(e))===null||t===void 0?void 0:t()}_getSpanExporter(e){var t;return(t=this.constructor._registeredExporters.get(e))===null||t===void 0?void 0:t()}_buildPropagatorFromEnv(){let e=Array.from(new Set((0,ss.getEnv)().OTEL_PROPAGATORS)),n=e.map(i=>{let s=this._getPropagator(i);return s||ns.diag.warn(`Propagator "${i}" requested through environment variable is unavailable.`),s}).reduce((i,s)=>(s&&i.push(s),i),[]);if(n.length!==0)return e.length===1?n[0]:new ss.CompositePropagator({propagators:n})}_buildExporterFromEnv(){let e=(0,ss.getEnv)().OTEL_TRACES_EXPORTER;if(e==="none"||e==="")return;let t=this._getSpanExporter(e);return t||ns.diag.error(`Exporter "${e}" requested through environment variable is unavailable.`),t}};Kn.BasicTracerProvider=Vo;Vo._registeredPropagators=new Map([["tracecontext",()=>new ss.W3CTraceContextPropagator],["baggage",()=>new ss.W3CBaggagePropagator]]);Vo._registeredExporters=new Map});var Ev=a(Q_=>{"use strict";Object.defineProperty(Q_,"__esModule",{value:!0});Q_.ConsoleSpanExporter=void 0;var lS=nt(),dS=class{export(e,t){return this._sendSpans(e,t)}shutdown(){return this._sendSpans([]),Promise.resolve()}_exportInfo(e){return{traceId:e.spanContext().traceId,parentId:e.parentSpanId,name:e.name,id:e.spanContext().spanId,kind:e.kind,timestamp:(0,lS.hrTimeToMicroseconds)(e.startTime),duration:(0,lS.hrTimeToMicroseconds)(e.duration),attributes:e.attributes,status:e.status,events:e.events,links:e.links}}_sendSpans(e,t){for(let n of e)console.dir(this._exportInfo(n),{depth:3});if(t)return t({code:lS.ExportResultCode.SUCCESS})}};Q_.ConsoleSpanExporter=dS});var fv=a(Z_=>{"use strict";Object.defineProperty(Z_,"__esModule",{value:!0});Z_.InMemorySpanExporter=void 0;var pv=nt(),ES=class{constructor(){this._finishedSpans=[],this._stopped=!1}export(e,t){if(this._stopped)return t({code:pv.ExportResultCode.FAILED,error:new Error("Exporter has been stopped")});this._finishedSpans.push(...e),setTimeout(()=>t({code:pv.ExportResultCode.SUCCESS}),0)}shutdown(){return this._stopped=!0,this._finishedSpans=[],Promise.resolve()}reset(){this._finishedSpans=[]}getFinishedSpans(){return this._finishedSpans}};Z_.InMemorySpanExporter=ES});var Sv=a(Tv=>{"use strict";Object.defineProperty(Tv,"__esModule",{value:!0})});var Av=a(J_=>{"use strict";Object.defineProperty(J_,"__esModule",{value:!0});J_.SimpleSpanProcessor=void 0;var lK=f(),Fo=nt(),pS=class{constructor(e){this._exporter=e,this._shutdownOnce=new Fo.BindOnceFuture(this._shutdown,this)}forceFlush(){return Promise.resolve()}onStart(e,t){}onEnd(e){this._shutdownOnce.isCalled||e.spanContext().traceFlags&lK.TraceFlags.SAMPLED&&Fo.internal._export(this._exporter,[e]).then(t=>{var n;t.code!==Fo.ExportResultCode.SUCCESS&&(0,Fo.globalErrorHandler)((n=t.error)!==null&&n!==void 0?n:new Error(`SimpleSpanProcessor: span export failed (status ${t})`))}).catch(t=>{(0,Fo.globalErrorHandler)(t)})}shutdown(){return this._shutdownOnce.call()}_shutdown(){return this._exporter.shutdown()}};J_.SimpleSpanProcessor=pS});var gv=a(hv=>{"use strict";Object.defineProperty(hv,"__esModule",{value:!0})});var mv=a(Ov=>{"use strict";Object.defineProperty(Ov,"__esModule",{value:!0})});var Pv=a(Rv=>{"use strict";Object.defineProperty(Rv,"__esModule",{value:!0})});var Iv=a(Nv=>{"use strict";Object.defineProperty(Nv,"__esModule",{value:!0})});var vv=a(bv=>{"use strict";Object.defineProperty(bv,"__esModule",{value:!0})});var Ho=a(ae=>{"use strict";var dK=ae&&ae.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),he=ae&&ae.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&dK(e,r,t)};Object.defineProperty(ae,"__esModule",{value:!0});he($b(),ae);he(dv(),ae);he(B_(),ae);he(Ev(),ae);he(fv(),ae);he(Sv(),ae);he(Av(),ae);he(gv(),ae);he(_S(),ae);he(P_(),ae);he(I_(),ae);he(qT(),ae);he(VT(),ae);he(qo(),ae);he(DT(),ae);he(mv(),ae);he(Pv(),ae);he(Iv(),ae);he(vv(),ae)});var xo=a(Ot=>{"use strict";Object.defineProperty(Ot,"__esModule",{value:!0});Ot.invalidTimeout=Ot.configureExporterTimeout=Ot.appendRootPathToUrlIfNeeded=Ot.appendResourcePathToUrl=Ot.parseHeaders=void 0;var fS=f(),Cv=le(),Mv=1e4;function EK(r={}){let e={};return Object.entries(r).forEach(([t,n])=>{typeof n<"u"?e[t]=String(n):fS.diag.warn(`Header "${t}" has wrong value and will be ignored`)}),e}Ot.parseHeaders=EK;function pK(r,e){return r.endsWith("/")||(r=r+"/"),r+e}Ot.appendResourcePathToUrl=pK;function fK(r){try{let e=new URL(r);return e.pathname===""&&(e.pathname=e.pathname+"/"),e.toString()}catch{return fS.diag.warn(`Could not parse export URL: '${r}'`),r}}Ot.appendRootPathToUrlIfNeeded=fK;function TK(r){return typeof r=="number"?r<=0?TS(r,Mv):r:SK()}Ot.configureExporterTimeout=TK;function SK(){var r;let e=Number((r=(0,Cv.getEnv)().OTEL_EXPORTER_OTLP_TRACES_TIMEOUT)!==null&&r!==void 0?r:(0,Cv.getEnv)().OTEL_EXPORTER_OTLP_TIMEOUT);return e<=0?TS(e,Mv):e}function TS(r,e){return fS.diag.warn("Timeout must be greater than 0",r),e}Ot.invalidTimeout=TS});var tl=a(el=>{"use strict";Object.defineProperty(el,"__esModule",{value:!0});el.OTLPExporterBase=void 0;var yv=f(),Ko=le(),AK=xo(),SS=class{constructor(e={}){this._sendingPromises=[],this.url=this.getDefaultUrl(e),typeof e.hostname=="string"&&(this.hostname=e.hostname),this.shutdown=this.shutdown.bind(this),this._shutdownOnce=new Ko.BindOnceFuture(this._shutdown,this),this._concurrencyLimit=typeof e.concurrencyLimit=="number"?e.concurrencyLimit:1/0,this.timeoutMillis=(0,AK.configureExporterTimeout)(e.timeoutMillis),this.onInit(e)}export(e,t){if(this._shutdownOnce.isCalled){t({code:Ko.ExportResultCode.FAILED,error:new Error("Exporter has been shutdown")});return}if(this._sendingPromises.length>=this._concurrencyLimit){t({code:Ko.ExportResultCode.FAILED,error:new Error("Concurrent export limit reached")});return}this._export(e).then(()=>{t({code:Ko.ExportResultCode.SUCCESS})}).catch(n=>{t({code:Ko.ExportResultCode.FAILED,error:n})})}_export(e){return new Promise((t,n)=>{try{yv.diag.debug("items to be sent",e),this.send(e,t,n)}catch(i){n(i)}})}shutdown(){return this._shutdownOnce.call()}_shutdown(){return yv.diag.debug("shutdown started"),this.onShutdown(),Promise.all(this._sendingPromises).then(()=>{})}};el.OTLPExporterBase=SS});var AS=a($o=>{"use strict";Object.defineProperty($o,"__esModule",{value:!0});$o.CompressionAlgorithm=void 0;var hK;(function(r){r.NONE="none",r.GZIP="gzip"})(hK=$o.CompressionAlgorithm||($o.CompressionAlgorithm={}))});var nl=a(rl=>{"use strict";Object.defineProperty(rl,"__esModule",{value:!0});rl.OTLPExporterError=void 0;var hS=class extends Error{constructor(e,t,n){super(e),this.name="OTLPExporterError",this.data=n,this.code=t}};rl.OTLPExporterError=hS});var mS=a(qr=>{"use strict";Object.defineProperty(qr,"__esModule",{value:!0});qr.configureCompression=qr.createHttpAgent=qr.sendWithHttp=void 0;var Dv=require("url"),wv=require("http"),Uv=require("https"),gK=require("zlib"),OK=require("stream"),OS=f(),il=AS(),Lv=le(),gS=nl();function mK(r,e,t,n,i){let s=r.timeoutMillis,o=new Dv.URL(r.url),u,c=Number(process.versions.node.split(".")[0]),_=setTimeout(()=>{u=!0,c>=14?p.destroy():p.abort()},s),l={hostname:o.hostname,port:o.port,path:o.pathname,method:"POST",headers:Object.assign({"Content-Type":t},r.headers),agent:r.agent},p=(o.protocol==="http:"?wv.request:Uv.request)(l,E=>{let O="";E.on("data",R=>O+=R),E.on("aborted",()=>{if(u){let R=new gS.OTLPExporterError("Request Timeout");i(R)}}),E.on("end",()=>{if(!u){if(E.statusCode&&E.statusCode<299)OS.diag.debug(`statusCode: ${E.statusCode}`,O),n();else{let R=new gS.OTLPExporterError(E.statusMessage,E.statusCode,O);i(R)}clearTimeout(_)}})});switch(p.on("error",E=>{if(u){let O=new gS.OTLPExporterError("Request Timeout",E.code);i(O)}else clearTimeout(_),i(E)}),r.compression){case il.CompressionAlgorithm.GZIP:{p.setHeader("Content-Encoding","gzip"),RK(e).on("error",i).pipe(gK.createGzip()).on("error",i).pipe(p);break}default:p.end(e);break}}qr.sendWithHttp=mK;function RK(r){let e=new OK.Readable;return e.push(r),e.push(null),e}function PK(r){if(r.httpAgentOptions&&r.keepAlive===!1){OS.diag.warn("httpAgentOptions is used only when keepAlive is true");return}if(!(r.keepAlive===!1||!r.url))try{let t=new Dv.URL(r.url).protocol==="http:"?wv.Agent:Uv.Agent;return new t(Object.assign({keepAlive:!0},r.httpAgentOptions))}catch(e){OS.diag.error(`collector exporter failed to create http agent. err: ${e.message}`);return}}qr.createHttpAgent=PK;function NK(r){return r||(((0,Lv.getEnv)().OTEL_EXPORTER_OTLP_TRACES_COMPRESSION||(0,Lv.getEnv)().OTEL_EXPORTER_OTLP_COMPRESSION)===il.CompressionAlgorithm.GZIP?il.CompressionAlgorithm.GZIP:il.CompressionAlgorithm.NONE)}qr.configureCompression=NK});var qv=a(sl=>{"use strict";Object.defineProperty(sl,"__esModule",{value:!0});sl.OTLPExporterNodeBase=void 0;var IK=tl(),bK=xo(),RS=mS(),Bv=f(),Gv=le(),PS=class extends IK.OTLPExporterBase{constructor(e={}){super(e),this.DEFAULT_HEADERS={},e.metadata&&Bv.diag.warn("Metadata cannot be set when using http"),this.headers=Object.assign(this.DEFAULT_HEADERS,(0,bK.parseHeaders)(e.headers),Gv.baggageUtils.parseKeyPairsIntoRecord((0,Gv.getEnv)().OTEL_EXPORTER_OTLP_HEADERS)),this.agent=(0,RS.createHttpAgent)(e),this.compression=(0,RS.configureCompression)(e.compression)}onInit(e){}send(e,t,n){if(this._shutdownOnce.isCalled){Bv.diag.debug("Shutdown already started. Cannot send objects");return}let i=this.convert(e),s=new Promise((u,c)=>{(0,RS.sendWithHttp)(this,JSON.stringify(i),"application/json",u,c)}).then(t,n);this._sendingPromises.push(s);let o=()=>{let u=this._sendingPromises.indexOf(s);this._sendingPromises.splice(u,1)};s.then(o,o)}onShutdown(){}};sl.OTLPExporterNodeBase=PS});var jv=a(lr=>{"use strict";var vK=lr&&lr.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),NS=lr&&lr.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&vK(e,r,t)};Object.defineProperty(lr,"__esModule",{value:!0});NS(qv(),lr);NS(mS(),lr);NS(AS(),lr)});var Hv=a(os=>{"use strict";Object.defineProperty(os,"__esModule",{value:!0});os.sendWithXhr=os.sendWithBeacon=void 0;var Vv=f(),IS=nl();function CK(r,e,t,n,i){if(navigator.sendBeacon(e,new Blob([r],t)))Vv.diag.debug("sendBeacon - can send",r),n();else{let s=new IS.OTLPExporterError(`sendBeacon - cannot send ${r}`);i(s)}}os.sendWithBeacon=CK;function MK(r,e,t,n,i,s){let o,u=setTimeout(()=>{o=!0,c.abort()},n),c=new XMLHttpRequest;c.open("POST",e),Object.entries(Object.assign(Object.assign({},{Accept:"application/json","Content-Type":"application/json"}),t)).forEach(([l,d])=>{c.setRequestHeader(l,d)}),c.send(r),c.onreadystatechange=()=>{if(c.readyState===XMLHttpRequest.DONE)if(c.status>=200&&c.status<=299)clearTimeout(u),Vv.diag.debug("xhr success",r),i();else if(o){let l=new IS.OTLPExporterError("Request Timeout",c.status);s(l)}else{let l=new IS.OTLPExporterError(`Failed to export with XHR (status: ${c.status})`,c.status);clearTimeout(u),s(l)}}}os.sendWithXhr=MK});var Kv=a(ol=>{"use strict";Object.defineProperty(ol,"__esModule",{value:!0});ol.OTLPExporterBrowserBase=void 0;var yK=tl(),LK=xo(),Fv=Hv(),DK=f(),xv=le(),bS=class extends yK.OTLPExporterBase{constructor(e={}){super(e),this._useXHR=!1,this._useXHR=!!e.headers||typeof navigator.sendBeacon!="function",this._useXHR?this._headers=Object.assign({},(0,LK.parseHeaders)(e.headers),xv.baggageUtils.parseKeyPairsIntoRecord((0,xv.getEnv)().OTEL_EXPORTER_OTLP_HEADERS)):this._headers={}}onInit(){window.addEventListener("unload",this.shutdown)}onShutdown(){window.removeEventListener("unload",this.shutdown)}send(e,t,n){if(this._shutdownOnce.isCalled){DK.diag.debug("Shutdown already started. Cannot send objects");return}let i=this.convert(e),s=JSON.stringify(i),o=new Promise((c,_)=>{this._useXHR?(0,Fv.sendWithXhr)(s,this.url,this._headers,this.timeoutMillis,c,_):(0,Fv.sendWithBeacon)(s,this.url,{type:"application/json"},c,_)}).then(t,n);this._sendingPromises.push(o);let u=()=>{let c=this._sendingPromises.indexOf(o);this._sendingPromises.splice(c,1)};o.then(u,u)}};ol.OTLPExporterBrowserBase=bS});var $v=a($n=>{"use strict";var wK=$n&&$n.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),UK=$n&&$n.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&wK(e,r,t)};Object.defineProperty($n,"__esModule",{value:!0});UK(Kv(),$n)});var Xv=a(dr=>{"use strict";var BK=dr&&dr.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),GK=dr&&dr.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&BK(e,r,t)};Object.defineProperty(dr,"__esModule",{value:!0});dr.OTLPExporterBrowserBase=void 0;GK(jv(),dr);var qK=$v();Object.defineProperty(dr,"OTLPExporterBrowserBase",{enumerable:!0,get:function(){return qK.OTLPExporterBrowserBase}})});var vS=a(Wt=>{"use strict";var jK=Wt&&Wt.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),al=Wt&&Wt.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&jK(e,r,t)};Object.defineProperty(Wt,"__esModule",{value:!0});al(tl(),Wt);al(Xv(),Wt);al(nl(),Wt);al(xo(),Wt)});var Wv=a(Yv=>{"use strict";Object.defineProperty(Yv,"__esModule",{value:!0})});var zv=a(kv=>{"use strict";Object.defineProperty(kv,"__esModule",{value:!0})});var Zv=a(Qv=>{"use strict";Object.defineProperty(Qv,"__esModule",{value:!0})});var Jv=a(Xo=>{"use strict";Object.defineProperty(Xo,"__esModule",{value:!0});Xo.ESpanKind=void 0;var VK;(function(r){r[r.SPAN_KIND_UNSPECIFIED=0]="SPAN_KIND_UNSPECIFIED",r[r.SPAN_KIND_INTERNAL=1]="SPAN_KIND_INTERNAL",r[r.SPAN_KIND_SERVER=2]="SPAN_KIND_SERVER",r[r.SPAN_KIND_CLIENT=3]="SPAN_KIND_CLIENT",r[r.SPAN_KIND_PRODUCER=4]="SPAN_KIND_PRODUCER",r[r.SPAN_KIND_CONSUMER=5]="SPAN_KIND_CONSUMER"})(VK=Xo.ESpanKind||(Xo.ESpanKind={}))});var ul=a(mt=>{"use strict";Object.defineProperty(mt,"__esModule",{value:!0});mt.bufToHex=mt.hexToBuf=mt.toAnyValue=mt.toKeyValue=mt.toAttributes=void 0;function HK(r){return Object.keys(r).map(e=>CS(e,r[e]))}mt.toAttributes=HK;function CS(r,e){return{key:r,value:MS(e)}}mt.toKeyValue=CS;function MS(r){let e=typeof r;return e==="string"?{stringValue:r}:e==="number"?Number.isInteger(r)?{intValue:r}:{doubleValue:r}:e==="boolean"?{boolValue:r}:r instanceof Uint8Array?{bytesValue:r}:Array.isArray(r)?{arrayValue:{values:r.map(MS)}}:e==="object"&&r!=null?{kvlistValue:{values:Object.entries(r).map(([t,n])=>CS(t,n))}}:{}}mt.toAnyValue=MS;function FK(r){var e;let t=(e=r.match(/[\da-f]{2}/gi))===null||e===void 0?void 0:e.map(n=>parseInt(n,16));return t&&new Uint8Array(t)}mt.hexToBuf=FK;function xK(r){return("0"+r.toString(16)).slice(-2)}function KK(r){if(!(r==null||r.length===0))return Array.from(r).map(xK).join("")}mt.bufToHex=KK});var rC=a(jr=>{"use strict";Object.defineProperty(jr,"__esModule",{value:!0});jr.toOtlpSpanEvent=jr.toOtlpLink=jr.sdkSpanToOtlpSpan=void 0;var yS=le(),LS=ul(),Yo=le();function $K(r,e){let t=r.spanContext(),n=r.status,i=e?r.parentSpanId:r.parentSpanId!=null?Yo.hexToBase64(r.parentSpanId):void 0;return{traceId:e?t.traceId:Yo.hexToBase64(t.traceId),spanId:e?t.spanId:Yo.hexToBase64(t.spanId),parentSpanId:i,name:r.name,kind:r.kind==null?0:r.kind+1,startTimeUnixNano:(0,yS.hrTimeToNanoseconds)(r.startTime),endTimeUnixNano:(0,yS.hrTimeToNanoseconds)(r.endTime),attributes:(0,LS.toAttributes)(r.attributes),droppedAttributesCount:0,events:r.events.map(tC),droppedEventsCount:0,status:{code:n.code,message:n.message},links:r.links.map(s=>eC(s,e)),droppedLinksCount:0}}jr.sdkSpanToOtlpSpan=$K;function eC(r,e){return{attributes:r.attributes?(0,LS.toAttributes)(r.attributes):[],spanId:e?r.context.spanId:Yo.hexToBase64(r.context.spanId),traceId:e?r.context.traceId:Yo.hexToBase64(r.context.traceId),droppedAttributesCount:0}}jr.toOtlpLink=eC;function tC(r){return{attributes:r.attributes?(0,LS.toAttributes)(r.attributes):[],name:r.name,timeUnixNano:(0,yS.hrTimeToNanoseconds)(r.time),droppedAttributesCount:0}}jr.toOtlpSpanEvent=tC});var nC=a(cl=>{"use strict";Object.defineProperty(cl,"__esModule",{value:!0});cl.createExportTraceServiceRequest=void 0;var XK=ul(),YK=rC();function WK(r,e){return{resourceSpans:zK(r,e)}}cl.createExportTraceServiceRequest=WK;function kK(r){let e=new Map;for(let t of r){let n=e.get(t.resource);n||(n=new Map,e.set(t.resource,n));let i=`${t.instrumentationLibrary.name}@${t.instrumentationLibrary.version||""}:${t.instrumentationLibrary.schemaUrl||""}`,s=n.get(i);s||(s=[],n.set(i,s)),s.push(t)}return e}function zK(r,e){let t=kK(r),n=[],i=t.entries(),s=i.next();for(;!s.done;){let[o,u]=s.value,c=[],_=u.values(),l=_.next();for(;!l.done;){let p=l.value;if(p.length>0){let{name:E,version:O,schemaUrl:R}=p[0].instrumentationLibrary,C=p.map(P=>(0,YK.sdkSpanToOtlpSpan)(P,e));c.push({scope:{name:E,version:O},spans:C,schemaUrl:R})}l=_.next()}let d={resource:{attributes:(0,XK.toAttributes)(o.attributes),droppedAttributesCount:0},scopeSpans:c,schemaUrl:void 0};n.push(d),s=i.next()}return n}});var ko=a(Wo=>{"use strict";Object.defineProperty(Wo,"__esModule",{value:!0});Wo.AggregationTemporality=void 0;var QK;(function(r){r[r.DELTA=0]="DELTA",r[r.CUMULATIVE=1]="CUMULATIVE"})(QK=Wo.AggregationTemporality||(Wo.AggregationTemporality={}))});var Qo=a(zo=>{"use strict";Object.defineProperty(zo,"__esModule",{value:!0});zo.DataPointType=void 0;var ZK;(function(r){r[r.HISTOGRAM=0]="HISTOGRAM",r[r.EXPONENTIAL_HISTOGRAM=1]="EXPONENTIAL_HISTOGRAM",r[r.GAUGE=2]="GAUGE",r[r.SUM=3]="SUM"})(ZK=zo.DataPointType||(zo.DataPointType={}))});var Er=a(Te=>{"use strict";Object.defineProperty(Te,"__esModule",{value:!0});Te.setEquals=Te.FlatMap=Te.isPromiseAllSettledRejectionResult=Te.PromiseAllSettled=Te.callWithTimeout=Te.TimeoutError=Te.instrumentationScopeId=Te.hashAttributes=Te.isNotNullish=void 0;function JK(r){return r!=null}Te.isNotNullish=JK;function e$(r){let e=Object.keys(r);return e.length===0?"":(e=e.sort(),JSON.stringify(e.map(t=>[t,r[t]])))}Te.hashAttributes=e$;function t$(r){var e,t;return`${r.name}:${(e=r.version)!==null&&e!==void 0?e:""}:${(t=r.schemaUrl)!==null&&t!==void 0?t:""}`}Te.instrumentationScopeId=t$;var as=class extends Error{constructor(e){super(e),Object.setPrototypeOf(this,as.prototype)}};Te.TimeoutError=as;function r$(r,e){let t,n=new Promise(function(s,o){t=setTimeout(function(){o(new as("Operation timed out."))},e)});return Promise.race([r,n]).then(i=>(clearTimeout(t),i),i=>{throw clearTimeout(t),i})}Te.callWithTimeout=r$;async function n$(r){return Promise.all(r.map(async e=>{try{return{status:"fulfilled",value:await e}}catch(t){return{status:"rejected",reason:t}}}))}Te.PromiseAllSettled=n$;function i$(r){return r.status==="rejected"}Te.isPromiseAllSettledRejectionResult=i$;function s$(r,e){let t=[];return r.forEach(n=>{t.push(...e(n))}),t}Te.FlatMap=s$;function o$(r,e){if(r.size!==e.size)return!1;for(let t of r)if(!e.has(t))return!1;return!0}Te.setEquals=o$});var Jo=a(Zo=>{"use strict";Object.defineProperty(Zo,"__esModule",{value:!0});Zo.AggregatorKind=void 0;var a$;(function(r){r[r.DROP=0]="DROP",r[r.SUM=1]="SUM",r[r.LAST_VALUE=2]="LAST_VALUE",r[r.HISTOGRAM=3]="HISTOGRAM"})(a$=Zo.AggregatorKind||(Zo.AggregatorKind={}))});var iC=a(_l=>{"use strict";Object.defineProperty(_l,"__esModule",{value:!0});_l.DropAggregator=void 0;var u$=Jo(),DS=class{constructor(){this.kind=u$.AggregatorKind.DROP}createAccumulation(){}merge(e,t){}diff(e,t){}toMetricData(e,t,n,i){}};_l.DropAggregator=DS});var Vr=a(Dt=>{"use strict";Object.defineProperty(Dt,"__esModule",{value:!0});Dt.isDescriptorCompatibleWith=Dt.createInstrumentDescriptorWithView=Dt.createInstrumentDescriptor=Dt.InstrumentType=void 0;var c$=f(),_$;(function(r){r.COUNTER="COUNTER",r.HISTOGRAM="HISTOGRAM",r.UP_DOWN_COUNTER="UP_DOWN_COUNTER",r.OBSERVABLE_COUNTER="OBSERVABLE_COUNTER",r.OBSERVABLE_GAUGE="OBSERVABLE_GAUGE",r.OBSERVABLE_UP_DOWN_COUNTER="OBSERVABLE_UP_DOWN_COUNTER"})(_$=Dt.InstrumentType||(Dt.InstrumentType={}));function l$(r,e,t){var n,i,s;return{name:r,type:e,description:(n=t==null?void 0:t.description)!==null&&n!==void 0?n:"",unit:(i=t==null?void 0:t.unit)!==null&&i!==void 0?i:"",valueType:(s=t==null?void 0:t.valueType)!==null&&s!==void 0?s:c$.ValueType.DOUBLE}}Dt.createInstrumentDescriptor=l$;function d$(r,e){var t,n;return{name:(t=r.name)!==null&&t!==void 0?t:e.name,description:(n=r.description)!==null&&n!==void 0?n:e.description,type:e.type,unit:e.unit,valueType:e.valueType}}Dt.createInstrumentDescriptorWithView=d$;function E$(r,e){return r.name===e.name&&r.unit===e.unit&&r.type===e.type&&r.valueType===e.valueType}Dt.isDescriptorCompatibleWith=E$});var sC=a(cs=>{"use strict";Object.defineProperty(cs,"__esModule",{value:!0});cs.HistogramAggregator=cs.HistogramAccumulation=void 0;var p$=Jo(),f$=Qo(),wS=Vr();function T$(r){let e=r.map(()=>0);return e.push(0),{buckets:{boundaries:r,counts:e},sum:0,count:0,hasMinMax:!1,min:1/0,max:-1/0}}var us=class{constructor(e,t,n=!0,i=T$(t)){this.startTime=e,this._boundaries=t,this._recordMinMax=n,this._current=i}record(e){this._current.count+=1,this._current.sum+=e,this._recordMinMax&&(this._current.min=Math.min(e,this._current.min),this._current.max=Math.max(e,this._current.max),this._current.hasMinMax=!0);for(let t=0;t<this._boundaries.length;t++)if(e<this._boundaries[t]){this._current.buckets.counts[t]+=1;return}this._current.buckets.counts[this._boundaries.length]+=1}setStartTime(e){this.startTime=e}toPointValue(){return this._current}};cs.HistogramAccumulation=us;var US=class{constructor(e,t){this._boundaries=e,this._recordMinMax=t,this.kind=p$.AggregatorKind.HISTOGRAM}createAccumulation(e){return new us(e,this._boundaries,this._recordMinMax)}merge(e,t){let n=e.toPointValue(),i=t.toPointValue(),s=n.buckets.counts,o=i.buckets.counts,u=new Array(s.length);for(let l=0;l<s.length;l++)u[l]=s[l]+o[l];let c=1/0,_=-1/0;return this._recordMinMax&&(n.hasMinMax&&i.hasMinMax?(c=Math.min(n.min,i.min),_=Math.max(n.max,i.max)):n.hasMinMax?(c=n.min,_=n.max):i.hasMinMax&&(c=i.min,_=i.max)),new us(e.startTime,n.buckets.boundaries,this._recordMinMax,{buckets:{boundaries:n.buckets.boundaries,counts:u},count:n.count+i.count,sum:n.sum+i.sum,hasMinMax:this._recordMinMax&&(n.hasMinMax||i.hasMinMax),min:c,max:_})}diff(e,t){let n=e.toPointValue(),i=t.toPointValue(),s=n.buckets.counts,o=i.buckets.counts,u=new Array(s.length);for(let c=0;c<s.length;c++)u[c]=o[c]-s[c];return new us(t.startTime,n.buckets.boundaries,this._recordMinMax,{buckets:{boundaries:n.buckets.boundaries,counts:u},count:i.count-n.count,sum:i.sum-n.sum,hasMinMax:!1,min:1/0,max:-1/0})}toMetricData(e,t,n,i){return{descriptor:e,aggregationTemporality:t,dataPointType:f$.DataPointType.HISTOGRAM,dataPoints:n.map(([s,o])=>{let u=o.toPointValue(),c=e.type===wS.InstrumentType.UP_DOWN_COUNTER||e.type===wS.InstrumentType.OBSERVABLE_GAUGE||e.type===wS.InstrumentType.OBSERVABLE_UP_DOWN_COUNTER;return{attributes:s,startTime:o.startTime,endTime:i,value:{min:u.hasMinMax?u.min:void 0,max:u.hasMinMax?u.max:void 0,sum:c?void 0:u.sum,buckets:u.buckets,count:u.count}}})}}};cs.HistogramAggregator=US});var oC=a(ls=>{"use strict";Object.defineProperty(ls,"__esModule",{value:!0});ls.LastValueAggregator=ls.LastValueAccumulation=void 0;var S$=Jo(),ea=le(),A$=Qo(),_s=class{constructor(e,t=0,n=[0,0]){this.startTime=e,this._current=t,this.sampleTime=n}record(e){this._current=e,this.sampleTime=(0,ea.hrTime)()}setStartTime(e){this.startTime=e}toPointValue(){return this._current}};ls.LastValueAccumulation=_s;var BS=class{constructor(){this.kind=S$.AggregatorKind.LAST_VALUE}createAccumulation(e){return new _s(e)}merge(e,t){let n=(0,ea.hrTimeToMicroseconds)(t.sampleTime)>=(0,ea.hrTimeToMicroseconds)(e.sampleTime)?t:e;return new _s(e.startTime,n.toPointValue(),n.sampleTime)}diff(e,t){let n=(0,ea.hrTimeToMicroseconds)(t.sampleTime)>=(0,ea.hrTimeToMicroseconds)(e.sampleTime)?t:e;return new _s(t.startTime,n.toPointValue(),n.sampleTime)}toMetricData(e,t,n,i){return{descriptor:e,aggregationTemporality:t,dataPointType:A$.DataPointType.GAUGE,dataPoints:n.map(([s,o])=>({attributes:s,startTime:o.startTime,endTime:i,value:o.toPointValue()}))}}};ls.LastValueAggregator=BS});var aC=a(ds=>{"use strict";Object.defineProperty(ds,"__esModule",{value:!0});ds.SumAggregator=ds.SumAccumulation=void 0;var h$=Jo(),g$=Qo(),Hr=class{constructor(e,t,n=0,i=!1){this.startTime=e,this.monotonic=t,this._current=n,this.reset=i}record(e){this.monotonic&&e<0||(this._current+=e)}setStartTime(e){this.startTime=e}toPointValue(){return this._current}};ds.SumAccumulation=Hr;var GS=class{constructor(e){this.monotonic=e,this.kind=h$.AggregatorKind.SUM}createAccumulation(e){return new Hr(e,this.monotonic)}merge(e,t){let n=e.toPointValue(),i=t.toPointValue();return t.reset?new Hr(t.startTime,this.monotonic,i,t.reset):new Hr(e.startTime,this.monotonic,n+i)}diff(e,t){let n=e.toPointValue(),i=t.toPointValue();return this.monotonic&&n>i?new Hr(t.startTime,this.monotonic,i,!0):new Hr(t.startTime,this.monotonic,i-n)}toMetricData(e,t,n,i){return{descriptor:e,aggregationTemporality:t,dataPointType:g$.DataPointType.SUM,dataPoints:n.map(([s,o])=>({attributes:s,startTime:o.startTime,endTime:i,value:o.toPointValue()})),isMonotonic:this.monotonic}}};ds.SumAggregator=GS});var uC=a(kt=>{"use strict";var O$=kt&&kt.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),ll=kt&&kt.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&O$(e,r,t)};Object.defineProperty(kt,"__esModule",{value:!0});ll(iC(),kt);ll(sC(),kt);ll(oC(),kt);ll(aC(),kt)});var El=a(Ve=>{"use strict";Object.defineProperty(Ve,"__esModule",{value:!0});Ve.DefaultAggregation=Ve.ExplicitBucketHistogramAggregation=Ve.HistogramAggregation=Ve.LastValueAggregation=Ve.SumAggregation=Ve.DropAggregation=Ve.Aggregation=void 0;var m$=f(),Es=uC(),pr=Vr(),fr=class{static Drop(){return cC}static Sum(){return _C}static LastValue(){return lC}static Histogram(){return dC}static Default(){return R$}};Ve.Aggregation=fr;var Xn=class extends fr{createAggregator(e){return Xn.DEFAULT_INSTANCE}};Ve.DropAggregation=Xn;Xn.DEFAULT_INSTANCE=new Es.DropAggregator;var Tr=class extends fr{createAggregator(e){switch(e.type){case pr.InstrumentType.COUNTER:case pr.InstrumentType.OBSERVABLE_COUNTER:case pr.InstrumentType.HISTOGRAM:return Tr.MONOTONIC_INSTANCE;default:return Tr.NON_MONOTONIC_INSTANCE}}};Ve.SumAggregation=Tr;Tr.MONOTONIC_INSTANCE=new Es.SumAggregator(!0);Tr.NON_MONOTONIC_INSTANCE=new Es.SumAggregator(!1);var Yn=class extends fr{createAggregator(e){return Yn.DEFAULT_INSTANCE}};Ve.LastValueAggregation=Yn;Yn.DEFAULT_INSTANCE=new Es.LastValueAggregator;var Wn=class extends fr{createAggregator(e){return Wn.DEFAULT_INSTANCE}};Ve.HistogramAggregation=Wn;Wn.DEFAULT_INSTANCE=new Es.HistogramAggregator([0,5,10,25,50,75,100,250,500,1e3],!0);var qS=class extends fr{constructor(e,t=!0){if(super(),this._recordMinMax=t,e===void 0||e.length===0)throw new Error("HistogramAggregator should be created with boundaries.");e=e.concat(),e=e.sort((s,o)=>s-o);let n=e.lastIndexOf(-1/0),i=e.indexOf(1/0);i===-1&&(i=void 0),this._boundaries=e.slice(n+1,i)}createAggregator(e){return new Es.HistogramAggregator(this._boundaries,this._recordMinMax)}};Ve.ExplicitBucketHistogramAggregation=qS;var dl=class extends fr{_resolve(e){switch(e.type){case pr.InstrumentType.COUNTER:case pr.InstrumentType.UP_DOWN_COUNTER:case pr.InstrumentType.OBSERVABLE_COUNTER:case pr.InstrumentType.OBSERVABLE_UP_DOWN_COUNTER:return _C;case pr.InstrumentType.OBSERVABLE_GAUGE:return lC;case pr.InstrumentType.HISTOGRAM:return dC}return m$.diag.warn(`Unable to recognize instrument type: ${e.type}`),cC}createAggregator(e){return this._resolve(e).createAggregator(e)}};Ve.DefaultAggregation=dl;var cC=new Xn,_C=new Tr,lC=new Yn,dC=new Wn,R$=new dl});var EC=a(ps=>{"use strict";Object.defineProperty(ps,"__esModule",{value:!0});ps.DEFAULT_AGGREGATION_TEMPORALITY_SELECTOR=ps.DEFAULT_AGGREGATION_SELECTOR=void 0;var P$=El(),N$=ko(),I$=r=>P$.Aggregation.Default();ps.DEFAULT_AGGREGATION_SELECTOR=I$;var b$=r=>N$.AggregationTemporality.CUMULATIVE;ps.DEFAULT_AGGREGATION_TEMPORALITY_SELECTOR=b$});var VS=a(pl=>{"use strict";Object.defineProperty(pl,"__esModule",{value:!0});pl.MetricReader=void 0;var pC=f(),fC=Er(),TC=EC(),jS=class{constructor(e){var t,n;this._shutdown=!1,this._aggregationSelector=(t=e==null?void 0:e.aggregationSelector)!==null&&t!==void 0?t:TC.DEFAULT_AGGREGATION_SELECTOR,this._aggregationTemporalitySelector=(n=e==null?void 0:e.aggregationTemporalitySelector)!==null&&n!==void 0?n:TC.DEFAULT_AGGREGATION_TEMPORALITY_SELECTOR}setMetricProducer(e){if(this._metricProducer)throw new Error("MetricReader can not be bound to a MeterProvider again.");this._metricProducer=e,this.onInitialized()}selectAggregation(e){return this._aggregationSelector(e)}selectAggregationTemporality(e){return this._aggregationTemporalitySelector(e)}onInitialized(){}async collect(e){if(this._metricProducer===void 0)throw new Error("MetricReader is not bound to a MetricProducer");if(this._shutdown)throw new Error("MetricReader is shutdown");return this._metricProducer.collect({timeoutMillis:e==null?void 0:e.timeoutMillis})}async shutdown(e){if(this._shutdown){pC.diag.error("Cannot call shutdown twice.");return}(e==null?void 0:e.timeoutMillis)==null?await this.onShutdown():await(0,fC.callWithTimeout)(this.onShutdown(),e.timeoutMillis),this._shutdown=!0}async forceFlush(e){if(this._shutdown){pC.diag.warn("Cannot forceFlush on already shutdown MetricReader.");return}if((e==null?void 0:e.timeoutMillis)==null){await this.onForceFlush();return}await(0,fC.callWithTimeout)(this.onForceFlush(),e.timeoutMillis)}};pl.MetricReader=jS});var hC=a(Tl=>{"use strict";Object.defineProperty(Tl,"__esModule",{value:!0});Tl.PeriodicExportingMetricReader=void 0;var SC=f(),fl=le(),v$=VS(),AC=Er(),HS=class extends v$.MetricReader{constructor(e){var t,n,i,s;if(super({aggregationSelector:(t=e.exporter.selectAggregation)===null||t===void 0?void 0:t.bind(e.exporter),aggregationTemporalitySelector:(n=e.exporter.selectAggregationTemporality)===null||n===void 0?void 0:n.bind(e.exporter)}),e.exportIntervalMillis!==void 0&&e.exportIntervalMillis<=0)throw Error("exportIntervalMillis must be greater than 0");if(e.exportTimeoutMillis!==void 0&&e.exportTimeoutMillis<=0)throw Error("exportTimeoutMillis must be greater than 0");if(e.exportTimeoutMillis!==void 0&&e.exportIntervalMillis!==void 0&&e.exportIntervalMillis<e.exportTimeoutMillis)throw Error("exportIntervalMillis must be greater than or equal to exportTimeoutMillis");this._exportInterval=(i=e.exportIntervalMillis)!==null&&i!==void 0?i:6e4,this._exportTimeout=(s=e.exportTimeoutMillis)!==null&&s!==void 0?s:3e4,this._exporter=e.exporter}async _runOnce(){let{resourceMetrics:e,errors:t}=await this.collect({});t.length>0&&SC.diag.error("PeriodicExportingMetricReader: metrics collection errors",...t);let n=await fl.internal._export(this._exporter,e);if(n.code!==fl.ExportResultCode.SUCCESS)throw new Error(`PeriodicExportingMetricReader: metrics export failed (error ${n.error})`)}onInitialized(){this._interval=setInterval(async()=>{try{await(0,AC.callWithTimeout)(this._runOnce(),this._exportTimeout)}catch(e){if(e instanceof AC.TimeoutError){SC.diag.error("Export took longer than %s milliseconds and timed out.",this._exportTimeout);return}(0,fl.globalErrorHandler)(e)}},this._exportInterval),(0,fl.unrefTimer)(this._interval)}async onForceFlush(){await this._exporter.forceFlush()}async onShutdown(){this._interval&&clearInterval(this._interval),await this._exporter.shutdown()}};Tl.PeriodicExportingMetricReader=HS});var OC=a(Sl=>{"use strict";Object.defineProperty(Sl,"__esModule",{value:!0});Sl.InMemoryMetricExporter=void 0;var gC=le(),FS=class{constructor(e){this._shutdown=!1,this._metrics=[],this._aggregationTemporality=e}export(e,t){if(this._shutdown){setTimeout(()=>t({code:gC.ExportResultCode.FAILED}),0);return}this._metrics.push(e),setTimeout(()=>t({code:gC.ExportResultCode.SUCCESS}),0)}getMetrics(){return this._metrics}forceFlush(){return Promise.resolve()}reset(){this._metrics=[]}selectAggregationTemporality(e){return this._aggregationTemporality}shutdown(){return this._shutdown=!0,Promise.resolve()}};Sl.InMemoryMetricExporter=FS});var RC=a(Al=>{"use strict";Object.defineProperty(Al,"__esModule",{value:!0});Al.ConsoleMetricExporter=void 0;var mC=le(),C$=ko(),ta=class{constructor(){this._shutdown=!1}export(e,t){if(this._shutdown){setImmediate(t,{code:mC.ExportResultCode.FAILED});return}return ta._sendMetrics(e,t)}forceFlush(){return Promise.resolve()}selectAggregationTemporality(e){return C$.AggregationTemporality.CUMULATIVE}shutdown(){return this._shutdown=!0,Promise.resolve()}static _sendMetrics(e,t){for(let n of e.scopeMetrics)for(let i of n.metrics)console.dir({descriptor:i.descriptor,dataPointType:i.dataPointType,dataPoints:i.dataPoints});t({code:mC.ExportResultCode.SUCCESS})}};Al.ConsoleMetricExporter=ta});var PC=a(hl=>{"use strict";Object.defineProperty(hl,"__esModule",{value:!0});hl.ViewRegistry=void 0;var xS=class{constructor(){this._registeredViews=[]}addView(e){this._registeredViews.push(e)}findViews(e,t){return this._registeredViews.filter(i=>this._matchInstrument(i.instrumentSelector,e)&&this._matchMeter(i.meterSelector,t))}_matchInstrument(e,t){return(e.getType()===void 0||t.type===e.getType())&&e.getNameFilter().match(t.name)}_matchMeter(e,t){return e.getNameFilter().match(t.name)&&(t.version===void 0||e.getVersionFilter().match(t.version))&&(t.schemaUrl===void 0||e.getSchemaUrlFilter().match(t.schemaUrl))}};hl.ViewRegistry=xS});var gl=a(Se=>{"use strict";Object.defineProperty(Se,"__esModule",{value:!0});Se.isObservableInstrument=Se.ObservableUpDownCounterInstrument=Se.ObservableGaugeInstrument=Se.ObservableCounterInstrument=Se.ObservableInstrument=Se.HistogramInstrument=Se.CounterInstrument=Se.UpDownCounterInstrument=Se.SyncInstrument=void 0;var ra=f(),M$=le(),fs=class{constructor(e,t){this._writableMetricStorage=e,this._descriptor=t}_record(e,t={},n=ra.context.active()){this._descriptor.valueType===ra.ValueType.INT&&!Number.isInteger(e)&&(ra.diag.warn(`INT value type cannot accept a floating-point value for ${this._descriptor.name}, ignoring the fractional digits.`),e=Math.trunc(e)),this._writableMetricStorage.record(e,t,n,(0,M$.hrTime)())}};Se.SyncInstrument=fs;var KS=class extends fs{add(e,t,n){this._record(e,t,n)}};Se.UpDownCounterInstrument=KS;var $S=class extends fs{add(e,t,n){if(e<0){ra.diag.warn(`negative value provided to counter ${this._descriptor.name}: ${e}`);return}this._record(e,t,n)}};Se.CounterInstrument=$S;var XS=class extends fs{record(e,t,n){if(e<0){ra.diag.warn(`negative value provided to histogram ${this._descriptor.name}: ${e}`);return}this._record(e,t,n)}};Se.HistogramInstrument=XS;var kn=class{constructor(e,t,n){this._observableRegistry=n,this._descriptor=e,this._metricStorages=t}addCallback(e){this._observableRegistry.addCallback(e,this)}removeCallback(e){this._observableRegistry.removeCallback(e,this)}};Se.ObservableInstrument=kn;var YS=class extends kn{};Se.ObservableCounterInstrument=YS;var WS=class extends kn{};Se.ObservableGaugeInstrument=WS;var kS=class extends kn{};Se.ObservableUpDownCounterInstrument=kS;function y$(r){return r instanceof kn}Se.isObservableInstrument=y$});var NC=a(Ol=>{"use strict";Object.defineProperty(Ol,"__esModule",{value:!0});Ol.Meter=void 0;var Rt=Vr(),Ts=gl(),zS=class{constructor(e){this._meterSharedState=e}createHistogram(e,t){let n=(0,Rt.createInstrumentDescriptor)(e,Rt.InstrumentType.HISTOGRAM,t),i=this._meterSharedState.registerMetricStorage(n);return new Ts.HistogramInstrument(i,n)}createCounter(e,t){let n=(0,Rt.createInstrumentDescriptor)(e,Rt.InstrumentType.COUNTER,t),i=this._meterSharedState.registerMetricStorage(n);return new Ts.CounterInstrument(i,n)}createUpDownCounter(e,t){let n=(0,Rt.createInstrumentDescriptor)(e,Rt.InstrumentType.UP_DOWN_COUNTER,t),i=this._meterSharedState.registerMetricStorage(n);return new Ts.UpDownCounterInstrument(i,n)}createObservableGauge(e,t){let n=(0,Rt.createInstrumentDescriptor)(e,Rt.InstrumentType.OBSERVABLE_GAUGE,t),i=this._meterSharedState.registerAsyncMetricStorage(n);return new Ts.ObservableGaugeInstrument(n,i,this._meterSharedState.observableRegistry)}createObservableCounter(e,t){let n=(0,Rt.createInstrumentDescriptor)(e,Rt.InstrumentType.OBSERVABLE_COUNTER,t),i=this._meterSharedState.registerAsyncMetricStorage(n);return new Ts.ObservableCounterInstrument(n,i,this._meterSharedState.observableRegistry)}createObservableUpDownCounter(e,t){let n=(0,Rt.createInstrumentDescriptor)(e,Rt.InstrumentType.OBSERVABLE_UP_DOWN_COUNTER,t),i=this._meterSharedState.registerAsyncMetricStorage(n);return new Ts.ObservableUpDownCounterInstrument(n,i,this._meterSharedState.observableRegistry)}addBatchObservableCallback(e,t){this._meterSharedState.observableRegistry.addBatchCallback(e,t)}removeBatchObservableCallback(e,t){this._meterSharedState.observableRegistry.removeBatchCallback(e,t)}};Ol.Meter=zS});var ZS=a(ml=>{"use strict";Object.defineProperty(ml,"__esModule",{value:!0});ml.MetricStorage=void 0;var L$=Vr(),QS=class{constructor(e){this._instrumentDescriptor=e}getInstrumentDescriptor(){return this._instrumentDescriptor}updateDescription(e){this._instrumentDescriptor=(0,L$.createInstrumentDescriptor)(this._instrumentDescriptor.name,this._instrumentDescriptor.type,{description:e,valueType:this._instrumentDescriptor.valueType,unit:this._instrumentDescriptor.unit})}};ml.MetricStorage=QS});var na=a(Ss=>{"use strict";Object.defineProperty(Ss,"__esModule",{value:!0});Ss.AttributeHashMap=Ss.HashMap=void 0;var D$=Er(),Rl=class{constructor(e){this._hash=e,this._valueMap=new Map,this._keyMap=new Map}get(e,t){return t??(t=this._hash(e)),this._valueMap.get(t)}getOrDefault(e,t){let n=this._hash(e);if(this._valueMap.has(n))return this._valueMap.get(n);let i=t();return this._keyMap.has(n)||this._keyMap.set(n,e),this._valueMap.set(n,i),i}set(e,t,n){n??(n=this._hash(e)),this._keyMap.has(n)||this._keyMap.set(n,e),this._valueMap.set(n,t)}has(e,t){return t??(t=this._hash(e)),this._valueMap.has(t)}*keys(){let e=this._keyMap.entries(),t=e.next();for(;t.done!==!0;)yield[t.value[1],t.value[0]],t=e.next()}*entries(){let e=this._valueMap.entries(),t=e.next();for(;t.done!==!0;)yield[this._keyMap.get(t.value[0]),t.value[1],t.value[0]],t=e.next()}get size(){return this._valueMap.size}};Ss.HashMap=Rl;var JS=class extends Rl{constructor(){super(D$.hashAttributes)}};Ss.AttributeHashMap=JS});var rA=a(Pl=>{"use strict";Object.defineProperty(Pl,"__esModule",{value:!0});Pl.DeltaMetricProcessor=void 0;var eA=na(),tA=class{constructor(e){this._aggregator=e,this._activeCollectionStorage=new eA.AttributeHashMap,this._cumulativeMemoStorage=new eA.AttributeHashMap}record(e,t,n,i){let s=this._activeCollectionStorage.getOrDefault(t,()=>this._aggregator.createAccumulation(i));s==null||s.record(e)}batchCumulate(e,t){Array.from(e.entries()).forEach(([n,i,s])=>{let o=this._aggregator.createAccumulation(t);o==null||o.record(i);let u=o;if(this._cumulativeMemoStorage.has(n,s)){let c=this._cumulativeMemoStorage.get(n,s);u=this._aggregator.diff(c,o)}this._cumulativeMemoStorage.set(n,o,s),this._activeCollectionStorage.set(n,u,s)})}collect(){let e=this._activeCollectionStorage;return this._activeCollectionStorage=new eA.AttributeHashMap,e}};Pl.DeltaMetricProcessor=tA});var nA=a(Nl=>{"use strict";Object.defineProperty(Nl,"__esModule",{value:!0});Nl.TemporalMetricProcessor=void 0;var w$=ko(),U$=na(),zn=class{constructor(e){this._aggregator=e,this._unreportedAccumulations=new Map,this._reportHistory=new Map}buildMetrics(e,t,n,i,s){this._stashAccumulations(t,i);let o=this._getMergedUnreportedAccumulations(e),u=o,c;if(this._reportHistory.has(e)){let _=this._reportHistory.get(e),l=_.collectionTime;c=_.aggregationTemporality,c===w$.AggregationTemporality.CUMULATIVE?u=zn.merge(_.accumulations,o,this._aggregator):u=zn.calibrateStartTime(_.accumulations,o,l)}else c=e.selectAggregationTemporality(n.type);return this._reportHistory.set(e,{accumulations:u,collectionTime:s,aggregationTemporality:c}),this._aggregator.toMetricData(n,c,B$(u),s)}_stashAccumulations(e,t){e.forEach(n=>{let i=this._unreportedAccumulations.get(n);i===void 0&&(i=[],this._unreportedAccumulations.set(n,i)),i.push(t)})}_getMergedUnreportedAccumulations(e){let t=new U$.AttributeHashMap,n=this._unreportedAccumulations.get(e);if(this._unreportedAccumulations.set(e,[]),n===void 0)return t;for(let i of n)t=zn.merge(t,i,this._aggregator);return t}static merge(e,t,n){let i=e,s=t.entries(),o=s.next();for(;o.done!==!0;){let[u,c,_]=o.value;if(e.has(u,_)){let l=e.get(u,_),d=n.merge(l,c);i.set(u,d,_)}else i.set(u,c,_);o=s.next()}return i}static calibrateStartTime(e,t,n){for(let[i,s]of e.keys()){let o=t.get(i,s);o==null||o.setStartTime(n)}return t}};Nl.TemporalMetricProcessor=zn;function B$(r){return Array.from(r.entries())}});var IC=a(Il=>{"use strict";Object.defineProperty(Il,"__esModule",{value:!0});Il.AsyncMetricStorage=void 0;var G$=ZS(),q$=rA(),j$=nA(),V$=na(),iA=class extends G$.MetricStorage{constructor(e,t,n){super(e),this._attributesProcessor=n,this._deltaMetricStorage=new q$.DeltaMetricProcessor(t),this._temporalMetricStorage=new j$.TemporalMetricProcessor(t)}record(e,t){let n=new V$.AttributeHashMap;Array.from(e.entries()).forEach(([i,s])=>{n.set(this._attributesProcessor.process(i),s)}),this._deltaMetricStorage.batchCumulate(n,t)}collect(e,t,n){let i=this._deltaMetricStorage.collect();return this._temporalMetricStorage.buildMetrics(e,t,this._instrumentDescriptor,i,n)}};Il.AsyncMetricStorage=iA});var yC=a(it=>{"use strict";Object.defineProperty(it,"__esModule",{value:!0});it.getConflictResolutionRecipe=it.getDescriptionResolutionRecipe=it.getTypeConflictResolutionRecipe=it.getUnitConflictResolutionRecipe=it.getValueTypeConflictResolutionRecipe=it.getIncompatibilityDetails=void 0;function H$(r,e){let t="";return r.unit!==e.unit&&(t+=`	- Unit '${r.unit}' does not match '${e.unit}'
`),r.type!==e.type&&(t+=`	- Type '${r.type}' does not match '${e.type}'
`),r.valueType!==e.valueType&&(t+=`	- Value Type '${r.valueType}' does not match '${e.valueType}'
`),r.description!==e.description&&(t+=`	- Description '${r.description}' does not match '${e.description}'
`),t}it.getIncompatibilityDetails=H$;function bC(r,e){return`	- use valueType '${r.valueType}' on instrument creation or use an instrument name other than '${e.name}'`}it.getValueTypeConflictResolutionRecipe=bC;function vC(r,e){return`	- use unit '${r.unit}' on instrument creation or use an instrument name other than '${e.name}'`}it.getUnitConflictResolutionRecipe=vC;function CC(r,e){let t={name:e.name,type:e.type},n=JSON.stringify(t);return`	- create a new view with a name other than '${r.name}' and InstrumentSelector '${n}'`}it.getTypeConflictResolutionRecipe=CC;function MC(r,e){let t={name:e.name,type:e.type},n=JSON.stringify(t);return`	- create a new view with a name other than '${r.name}' and InstrumentSelector '${n}'
    	- OR - create a new view with the name ${r.name} and description '${r.description}' and InstrumentSelector ${n}
    	- OR - create a new view with the name ${e.name} and description '${r.description}' and InstrumentSelector ${n}`}it.getDescriptionResolutionRecipe=MC;function F$(r,e){return r.valueType!==e.valueType?bC(r,e):r.unit!==e.unit?vC(r,e):r.type!==e.type?CC(r,e):r.description!==e.description?MC(r,e):""}it.getConflictResolutionRecipe=F$});var DC=a(vl=>{"use strict";Object.defineProperty(vl,"__esModule",{value:!0});vl.MetricStorageRegistry=void 0;var x$=Vr(),LC=f(),bl=yC(),ia=class{constructor(){this._sharedRegistry=new Map,this._perCollectorRegistry=new Map}static create(){return new ia}getStorages(e){let t=[];for(let i of this._sharedRegistry.values())t=t.concat(i);let n=this._perCollectorRegistry.get(e);if(n!=null)for(let i of n.values())t=t.concat(i);return t}register(e){this._registerStorage(e,this._sharedRegistry)}registerForCollector(e,t){let n=this._perCollectorRegistry.get(e);n==null&&(n=new Map,this._perCollectorRegistry.set(e,n)),this._registerStorage(t,n)}findOrUpdateCompatibleStorage(e){let t=this._sharedRegistry.get(e.name);return t===void 0?null:this._findOrUpdateCompatibleStorage(e,t)}findOrUpdateCompatibleCollectorStorage(e,t){if(this._perCollectorRegistry.get(e)===void 0)return null;let i=this._sharedRegistry.get(t.name);return i===void 0?null:this._findOrUpdateCompatibleStorage(t,i)}_registerStorage(e,t){let n=e.getInstrumentDescriptor(),i=t.get(n.name);if(i===void 0){t.set(n.name,[e]);return}i.push(e)}_findOrUpdateCompatibleStorage(e,t){let n=null;for(let i of t){let s=i.getInstrumentDescriptor();(0,x$.isDescriptorCompatibleWith)(s,e)?(s.description!==e.description&&(e.description.length>s.description.length&&i.updateDescription(e.description),LC.diag.warn("A view or instrument with the name ",e.name,` has already been registered, but has a different description and is incompatible with another registered view.
`,`Details:
`,(0,bl.getIncompatibilityDetails)(s,e),`The longer description will be used.
To resolve the conflict:`,(0,bl.getConflictResolutionRecipe)(s,e))),n=i):LC.diag.warn("A view or instrument with the name ",e.name,` has already been registered and is incompatible with another registered view.
`,`Details:
`,(0,bl.getIncompatibilityDetails)(s,e),`To resolve the conflict:
`,(0,bl.getConflictResolutionRecipe)(s,e))}return n}};vl.MetricStorageRegistry=ia});var wC=a(Cl=>{"use strict";Object.defineProperty(Cl,"__esModule",{value:!0});Cl.MultiMetricStorage=void 0;var sA=class{constructor(e){this._backingStorages=e}record(e,t,n,i){this._backingStorages.forEach(s=>{s.record(e,t,n,i)})}};Cl.MultiMetricStorage=sA});var BC=a(As=>{"use strict";Object.defineProperty(As,"__esModule",{value:!0});As.BatchObservableResultImpl=As.ObservableResultImpl=void 0;var Ml=f(),UC=na(),K$=gl(),oA=class{constructor(e){this._descriptor=e,this._buffer=new UC.AttributeHashMap}observe(e,t={}){this._descriptor.valueType===Ml.ValueType.INT&&!Number.isInteger(e)&&(Ml.diag.warn(`INT value type cannot accept a floating-point value for ${this._descriptor.name}, ignoring the fractional digits.`),e=Math.trunc(e)),this._buffer.set(t,e)}};As.ObservableResultImpl=oA;var aA=class{constructor(){this._buffer=new Map}observe(e,t,n={}){if(!(0,K$.isObservableInstrument)(e))return;let i=this._buffer.get(e);i==null&&(i=new UC.AttributeHashMap,this._buffer.set(e,i)),e._descriptor.valueType===Ml.ValueType.INT&&!Number.isInteger(t)&&(Ml.diag.warn(`INT value type cannot accept a floating-point value for ${e._descriptor.name}, ignoring the fractional digits.`),t=Math.trunc(t)),i.set(n,t)}};As.BatchObservableResultImpl=aA});var jC=a(yl=>{"use strict";Object.defineProperty(yl,"__esModule",{value:!0});yl.ObservableRegistry=void 0;var $$=f(),GC=gl(),qC=BC(),sa=Er(),uA=class{constructor(){this._callbacks=[],this._batchCallbacks=[]}addCallback(e,t){this._findCallback(e,t)>=0||this._callbacks.push({callback:e,instrument:t})}removeCallback(e,t){let n=this._findCallback(e,t);n<0||this._callbacks.splice(n,1)}addBatchCallback(e,t){let n=new Set(t.filter(GC.isObservableInstrument));if(n.size===0){$$.diag.error("BatchObservableCallback is not associated with valid instruments",t);return}this._findBatchCallback(e,n)>=0||this._batchCallbacks.push({callback:e,instruments:n})}removeBatchCallback(e,t){let n=new Set(t.filter(GC.isObservableInstrument)),i=this._findBatchCallback(e,n);i<0||this._batchCallbacks.splice(i,1)}async observe(e,t){let n=this._observeCallbacks(e,t),i=this._observeBatchCallbacks(e,t);return(await(0,sa.PromiseAllSettled)([...n,...i])).filter(sa.isPromiseAllSettledRejectionResult).map(u=>u.reason)}_observeCallbacks(e,t){return this._callbacks.map(async({callback:n,instrument:i})=>{let s=new qC.ObservableResultImpl(i._descriptor),o=Promise.resolve(n(s));t!=null&&(o=(0,sa.callWithTimeout)(o,t)),await o,i._metricStorages.forEach(u=>{u.record(s._buffer,e)})})}_observeBatchCallbacks(e,t){return this._batchCallbacks.map(async({callback:n,instruments:i})=>{let s=new qC.BatchObservableResultImpl,o=Promise.resolve(n(s));t!=null&&(o=(0,sa.callWithTimeout)(o,t)),await o,i.forEach(u=>{let c=s._buffer.get(u);c!=null&&u._metricStorages.forEach(_=>{_.record(c,e)})})})}_findCallback(e,t){return this._callbacks.findIndex(n=>n.callback===e&&n.instrument===t)}_findBatchCallback(e,t){return this._batchCallbacks.findIndex(n=>n.callback===e&&(0,sa.setEquals)(n.instruments,t))}};yl.ObservableRegistry=uA});var VC=a(Ll=>{"use strict";Object.defineProperty(Ll,"__esModule",{value:!0});Ll.SyncMetricStorage=void 0;var X$=ZS(),Y$=rA(),W$=nA(),cA=class extends X$.MetricStorage{constructor(e,t,n){super(e),this._attributesProcessor=n,this._deltaMetricStorage=new Y$.DeltaMetricProcessor(t),this._temporalMetricStorage=new W$.TemporalMetricProcessor(t)}record(e,t,n,i){t=this._attributesProcessor.process(t,n),this._deltaMetricStorage.record(e,t,n,i)}collect(e,t,n){let i=this._deltaMetricStorage.collect();return this._temporalMetricStorage.buildMetrics(e,t,this._instrumentDescriptor,i,n)}};Ll.SyncMetricStorage=cA});var lA=a(Fr=>{"use strict";Object.defineProperty(Fr,"__esModule",{value:!0});Fr.FilteringAttributesProcessor=Fr.NoopAttributesProcessor=Fr.AttributesProcessor=void 0;var oa=class{static Noop(){return k$}};Fr.AttributesProcessor=oa;var Dl=class extends oa{process(e,t){return e}};Fr.NoopAttributesProcessor=Dl;var _A=class extends oa{constructor(e){super(),this._allowedAttributeNames=e}process(e,t){let n={};return Object.keys(e).filter(i=>this._allowedAttributeNames.includes(i)).forEach(i=>n[i]=e[i]),n}};Fr.FilteringAttributesProcessor=_A;var k$=new Dl});var FC=a(wl=>{"use strict";Object.defineProperty(wl,"__esModule",{value:!0});wl.MeterSharedState=void 0;var z$=Vr(),Q$=NC(),HC=Er(),Z$=IC(),J$=DC(),eX=wC(),tX=jC(),rX=VC(),nX=lA(),dA=class{constructor(e,t){this._meterProviderSharedState=e,this._instrumentationScope=t,this.metricStorageRegistry=new J$.MetricStorageRegistry,this.observableRegistry=new tX.ObservableRegistry,this.meter=new Q$.Meter(this)}registerMetricStorage(e){let t=this._registerMetricStorage(e,rX.SyncMetricStorage);return t.length===1?t[0]:new eX.MultiMetricStorage(t)}registerAsyncMetricStorage(e){return this._registerMetricStorage(e,Z$.AsyncMetricStorage)}async collect(e,t,n){let i=await this.observableRegistry.observe(t,n==null?void 0:n.timeoutMillis),s=Array.from(this.metricStorageRegistry.getStorages(e)).map(o=>o.collect(e,this._meterProviderSharedState.metricCollectors,t)).filter(HC.isNotNullish);return{scopeMetrics:{scope:this._instrumentationScope,metrics:s.filter(HC.isNotNullish)},errors:i}}_registerMetricStorage(e,t){let i=this._meterProviderSharedState.viewRegistry.findViews(e,this._instrumentationScope).map(s=>{let o=(0,z$.createInstrumentDescriptorWithView)(s,e),u=this.metricStorageRegistry.findOrUpdateCompatibleStorage(o);if(u!=null)return u;let c=s.aggregation.createAggregator(o),_=new t(o,c,s.attributesProcessor);return this.metricStorageRegistry.register(_),_});if(i.length===0){let o=this._meterProviderSharedState.selectAggregations(e.type).map(([u,c])=>{let _=this.metricStorageRegistry.findOrUpdateCompatibleCollectorStorage(u,e);if(_!=null)return _;let l=c.createAggregator(e),d=new t(e,l,nX.AttributesProcessor.Noop());return this.metricStorageRegistry.registerForCollector(u,d),d});i=i.concat(o)}return i}};wl.MeterSharedState=dA});var xC=a(Ul=>{"use strict";Object.defineProperty(Ul,"__esModule",{value:!0});Ul.MeterProviderSharedState=void 0;var iX=Er(),sX=PC(),oX=FC(),EA=class{constructor(e){this.resource=e,this.viewRegistry=new sX.ViewRegistry,this.metricCollectors=[],this.meterSharedStates=new Map}getMeterSharedState(e){let t=(0,iX.instrumentationScopeId)(e),n=this.meterSharedStates.get(t);return n==null&&(n=new oX.MeterSharedState(this,e),this.meterSharedStates.set(t,n)),n}selectAggregations(e){let t=[];for(let n of this.metricCollectors)t.push([n,n.selectAggregation(e)]);return t}};Ul.MeterProviderSharedState=EA});var KC=a(Bl=>{"use strict";Object.defineProperty(Bl,"__esModule",{value:!0});Bl.MetricCollector=void 0;var aX=le(),uX=Er(),pA=class{constructor(e,t){this._sharedState=e,this._metricReader=t}async collect(e){let t=(0,aX.hrTime)(),n=Array.from(this._sharedState.meterSharedStates.values()).map(s=>s.collect(this,t,e)),i=await Promise.all(n);return{resourceMetrics:{resource:this._sharedState.resource,scopeMetrics:i.map(s=>s.scopeMetrics)},errors:(0,uX.FlatMap)(i,s=>s.errors)}}async forceFlush(e){await this._metricReader.forceFlush(e)}async shutdown(e){await this._metricReader.shutdown(e)}selectAggregationTemporality(e){return this._metricReader.selectAggregationTemporality(e)}selectAggregation(e){return this._metricReader.selectAggregation(e)}};Bl.MetricCollector=pA});var $C=a(ql=>{"use strict";Object.defineProperty(ql,"__esModule",{value:!0});ql.MeterProvider=void 0;var Gl=f(),cX=Hc(),_X=xC(),lX=KC(),fA=class{constructor(e){var t;if(this._shutdown=!1,this._sharedState=new _X.MeterProviderSharedState((t=e==null?void 0:e.resource)!==null&&t!==void 0?t:cX.Resource.empty()),(e==null?void 0:e.views)!=null&&e.views.length>0)for(let n of e.views)this._sharedState.viewRegistry.addView(n)}getMeter(e,t="",n={}){return this._shutdown?(Gl.diag.warn("A shutdown MeterProvider cannot provide a Meter"),(0,Gl.createNoopMeter)()):this._sharedState.getMeterSharedState({name:e,version:t,schemaUrl:n.schemaUrl}).meter}addMetricReader(e){let t=new lX.MetricCollector(this._sharedState,e);e.setMetricProducer(t),this._sharedState.metricCollectors.push(t)}async shutdown(e){if(this._shutdown){Gl.diag.warn("shutdown may only be called once per MeterProvider");return}this._shutdown=!0,await Promise.all(this._sharedState.metricCollectors.map(t=>t.shutdown(e)))}async forceFlush(e){if(this._shutdown){Gl.diag.warn("invalid attempt to force flush after MeterProvider shutdown");return}await Promise.all(this._sharedState.metricCollectors.map(t=>t.forceFlush(e)))}};ql.MeterProvider=fA});var jl=a(hs=>{"use strict";Object.defineProperty(hs,"__esModule",{value:!0});hs.ExactPredicate=hs.PatternPredicate=void 0;var dX=/[\^$\\.+?()[\]{}|]/g,aa=class{constructor(e){e==="*"?(this._matchAll=!0,this._regexp=/.*/):(this._matchAll=!1,this._regexp=new RegExp(aa.escapePattern(e)))}match(e){return this._matchAll?!0:this._regexp.test(e)}static escapePattern(e){return`^${e.replace(dX,"\\$&").replace("*",".*")}$`}static hasWildcard(e){return e.includes("*")}};hs.PatternPredicate=aa;var TA=class{constructor(e){this._matchAll=e===void 0,this._pattern=e}match(e){return!!(this._matchAll||e===this._pattern)}};hs.ExactPredicate=TA});var XC=a(Vl=>{"use strict";Object.defineProperty(Vl,"__esModule",{value:!0});Vl.InstrumentSelector=void 0;var EX=jl(),SA=class{constructor(e){var t;this._nameFilter=new EX.PatternPredicate((t=e==null?void 0:e.name)!==null&&t!==void 0?t:"*"),this._type=e==null?void 0:e.type}getType(){return this._type}getNameFilter(){return this._nameFilter}};Vl.InstrumentSelector=SA});var YC=a(Hl=>{"use strict";Object.defineProperty(Hl,"__esModule",{value:!0});Hl.MeterSelector=void 0;var AA=jl(),hA=class{constructor(e){this._nameFilter=new AA.ExactPredicate(e==null?void 0:e.name),this._versionFilter=new AA.ExactPredicate(e==null?void 0:e.version),this._schemaUrlFilter=new AA.ExactPredicate(e==null?void 0:e.schemaUrl)}getNameFilter(){return this._nameFilter}getVersionFilter(){return this._versionFilter}getSchemaUrlFilter(){return this._schemaUrlFilter}};Hl.MeterSelector=hA});var kC=a(Fl=>{"use strict";Object.defineProperty(Fl,"__esModule",{value:!0});Fl.View=void 0;var pX=jl(),WC=lA(),fX=XC(),TX=YC(),SX=El();function AX(r){return r.instrumentName==null&&r.instrumentType==null&&r.meterName==null&&r.meterVersion==null&&r.meterSchemaUrl==null}var gA=class{constructor(e){var t;if(AX(e))throw new Error("Cannot create view with no selector arguments supplied");if(e.name!=null&&((e==null?void 0:e.instrumentName)==null||pX.PatternPredicate.hasWildcard(e.instrumentName)))throw new Error("Views with a specified name must be declared with an instrument selector that selects at most one instrument per meter.");e.attributeKeys!=null?this.attributesProcessor=new WC.FilteringAttributesProcessor(e.attributeKeys):this.attributesProcessor=WC.AttributesProcessor.Noop(),this.name=e.name,this.description=e.description,this.aggregation=(t=e.aggregation)!==null&&t!==void 0?t:SX.Aggregation.Default(),this.instrumentSelector=new fX.InstrumentSelector({name:e.instrumentName,type:e.instrumentType}),this.meterSelector=new TX.MeterSelector({name:e.meterName,version:e.meterVersion,schemaUrl:e.meterSchemaUrl})}};Fl.View=gA});var zC=a(q=>{"use strict";Object.defineProperty(q,"__esModule",{value:!0});q.TimeoutError=q.View=q.Aggregation=q.SumAggregation=q.LastValueAggregation=q.HistogramAggregation=q.DropAggregation=q.ExplicitBucketHistogramAggregation=q.DefaultAggregation=q.MeterProvider=q.InstrumentType=q.ConsoleMetricExporter=q.InMemoryMetricExporter=q.PeriodicExportingMetricReader=q.MetricReader=q.DataPointType=q.AggregationTemporality=void 0;var hX=ko();Object.defineProperty(q,"AggregationTemporality",{enumerable:!0,get:function(){return hX.AggregationTemporality}});var gX=Qo();Object.defineProperty(q,"DataPointType",{enumerable:!0,get:function(){return gX.DataPointType}});var OX=VS();Object.defineProperty(q,"MetricReader",{enumerable:!0,get:function(){return OX.MetricReader}});var mX=hC();Object.defineProperty(q,"PeriodicExportingMetricReader",{enumerable:!0,get:function(){return mX.PeriodicExportingMetricReader}});var RX=OC();Object.defineProperty(q,"InMemoryMetricExporter",{enumerable:!0,get:function(){return RX.InMemoryMetricExporter}});var PX=RC();Object.defineProperty(q,"ConsoleMetricExporter",{enumerable:!0,get:function(){return PX.ConsoleMetricExporter}});var NX=Vr();Object.defineProperty(q,"InstrumentType",{enumerable:!0,get:function(){return NX.InstrumentType}});var IX=$C();Object.defineProperty(q,"MeterProvider",{enumerable:!0,get:function(){return IX.MeterProvider}});var Qn=El();Object.defineProperty(q,"DefaultAggregation",{enumerable:!0,get:function(){return Qn.DefaultAggregation}});Object.defineProperty(q,"ExplicitBucketHistogramAggregation",{enumerable:!0,get:function(){return Qn.ExplicitBucketHistogramAggregation}});Object.defineProperty(q,"DropAggregation",{enumerable:!0,get:function(){return Qn.DropAggregation}});Object.defineProperty(q,"HistogramAggregation",{enumerable:!0,get:function(){return Qn.HistogramAggregation}});Object.defineProperty(q,"LastValueAggregation",{enumerable:!0,get:function(){return Qn.LastValueAggregation}});Object.defineProperty(q,"SumAggregation",{enumerable:!0,get:function(){return Qn.SumAggregation}});Object.defineProperty(q,"Aggregation",{enumerable:!0,get:function(){return Qn.Aggregation}});var bX=kC();Object.defineProperty(q,"View",{enumerable:!0,get:function(){return bX.View}});var vX=Er();Object.defineProperty(q,"TimeoutError",{enumerable:!0,get:function(){return vX.TimeoutError}})});var tM=a(xr=>{"use strict";Object.defineProperty(xr,"__esModule",{value:!0});xr.toMetric=xr.toScopeMetrics=xr.toResourceMetrics=void 0;var QC=f(),xl=le(),ua=zC(),OA=ul();function CX(r){return{resource:{attributes:(0,OA.toAttributes)(r.resource.attributes),droppedAttributesCount:0},schemaUrl:void 0,scopeMetrics:JC(r.scopeMetrics)}}xr.toResourceMetrics=CX;function JC(r){return Array.from(r.map(e=>({scope:{name:e.scope.name,version:e.scope.version},metrics:e.metrics.map(n=>eM(n)),schemaUrl:e.scope.schemaUrl})))}xr.toScopeMetrics=JC;function eM(r){let e={name:r.descriptor.name,description:r.descriptor.description,unit:r.descriptor.unit},t=LX(r.aggregationTemporality);return r.dataPointType===ua.DataPointType.SUM?e.sum={aggregationTemporality:t,isMonotonic:r.isMonotonic,dataPoints:ZC(r)}:r.dataPointType===ua.DataPointType.GAUGE?e.gauge={dataPoints:ZC(r)}:r.dataPointType===ua.DataPointType.HISTOGRAM&&(e.histogram={aggregationTemporality:t,dataPoints:yX(r)}),e}xr.toMetric=eM;function MX(r,e){let t={attributes:(0,OA.toAttributes)(r.attributes),startTimeUnixNano:(0,xl.hrTimeToNanoseconds)(r.startTime),timeUnixNano:(0,xl.hrTimeToNanoseconds)(r.endTime)};return e===QC.ValueType.INT?t.asInt=r.value:e===QC.ValueType.DOUBLE&&(t.asDouble=r.value),t}function ZC(r){return r.dataPoints.map(e=>MX(e,r.descriptor.valueType))}function yX(r){return r.dataPoints.map(e=>{let t=e.value;return{attributes:(0,OA.toAttributes)(e.attributes),bucketCounts:t.buckets.counts,explicitBounds:t.buckets.boundaries,count:t.count,sum:t.sum,min:t.min,max:t.max,startTimeUnixNano:(0,xl.hrTimeToNanoseconds)(e.startTime),timeUnixNano:(0,xl.hrTimeToNanoseconds)(e.endTime)}})}function LX(r){return r===ua.AggregationTemporality.DELTA?1:r===ua.AggregationTemporality.CUMULATIVE?2:0}});var rM=a(Kl=>{"use strict";Object.defineProperty(Kl,"__esModule",{value:!0});Kl.createExportMetricsServiceRequest=void 0;var DX=tM();function wX(r){return{resourceMetrics:r.map(e=>(0,DX.toResourceMetrics)(e))}}Kl.createExportMetricsServiceRequest=wX});var nM=a(st=>{"use strict";var UX=st&&st.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),$l=st&&st.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&UX(e,r,t)};Object.defineProperty(st,"__esModule",{value:!0});st.createExportMetricsServiceRequest=st.createExportTraceServiceRequest=void 0;$l(Wv(),st);$l(zv(),st);$l(Zv(),st);$l(Jv(),st);var BX=nC();Object.defineProperty(st,"createExportTraceServiceRequest",{enumerable:!0,get:function(){return BX.createExportTraceServiceRequest}});var GX=rM();Object.defineProperty(st,"createExportMetricsServiceRequest",{enumerable:!0,get:function(){return GX.createExportMetricsServiceRequest}})});var oM=a(Xl=>{"use strict";Object.defineProperty(Xl,"__esModule",{value:!0});Xl.OTLPTraceExporter=void 0;var gs=le(),qX=vS(),iM=vS(),jX=nM(),sM="v1/traces",VX=`http://localhost:4318/${sM}`,mA=class extends qX.OTLPExporterNodeBase{constructor(e={}){super(e),this.headers=Object.assign(this.headers,gs.baggageUtils.parseKeyPairsIntoRecord((0,gs.getEnv)().OTEL_EXPORTER_OTLP_TRACES_HEADERS))}convert(e){return(0,jX.createExportTraceServiceRequest)(e,!0)}getDefaultUrl(e){return typeof e.url=="string"?e.url:(0,gs.getEnv)().OTEL_EXPORTER_OTLP_TRACES_ENDPOINT.length>0?(0,iM.appendRootPathToUrlIfNeeded)((0,gs.getEnv)().OTEL_EXPORTER_OTLP_TRACES_ENDPOINT):(0,gs.getEnv)().OTEL_EXPORTER_OTLP_ENDPOINT.length>0?(0,iM.appendResourcePathToUrl)((0,gs.getEnv)().OTEL_EXPORTER_OTLP_ENDPOINT,sM):VX}};Xl.OTLPTraceExporter=mA});var aM=a(Zn=>{"use strict";var HX=Zn&&Zn.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),FX=Zn&&Zn.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&HX(e,r,t)};Object.defineProperty(Zn,"__esModule",{value:!0});FX(oM(),Zn)});var uM=a(Jn=>{"use strict";var xX=Jn&&Jn.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),KX=Jn&&Jn.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&xX(e,r,t)};Object.defineProperty(Jn,"__esModule",{value:!0});KX(aM(),Jn)});var cM=a(ei=>{"use strict";var $X=ei&&ei.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),XX=ei&&ei.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&$X(e,r,t)};Object.defineProperty(ei,"__esModule",{value:!0});XX(uM(),ei)});var PA=a(Yl=>{"use strict";Object.defineProperty(Yl,"__esModule",{value:!0});Yl.AbstractAsyncHooksContextManager=void 0;var YX=require("events"),WX=["addListener","on","once","prependListener","prependOnceListener"],RA=class{constructor(){this._kOtListeners=Symbol("OtListeners"),this._wrapped=!1}bind(e,t){return t instanceof YX.EventEmitter?this._bindEventEmitter(e,t):typeof t=="function"?this._bindFunction(e,t):t}_bindFunction(e,t){let n=this,i=function(...s){return n.with(e,()=>t.apply(this,s))};return Object.defineProperty(i,"length",{enumerable:!1,configurable:!0,writable:!1,value:t.length}),i}_bindEventEmitter(e,t){return this._getPatchMap(t)!==void 0||(this._createPatchMap(t),WX.forEach(i=>{t[i]!==void 0&&(t[i]=this._patchAddListener(t,t[i],e))}),typeof t.removeListener=="function"&&(t.removeListener=this._patchRemoveListener(t,t.removeListener)),typeof t.off=="function"&&(t.off=this._patchRemoveListener(t,t.off)),typeof t.removeAllListeners=="function"&&(t.removeAllListeners=this._patchRemoveAllListeners(t,t.removeAllListeners))),t}_patchRemoveListener(e,t){let n=this;return function(i,s){var o;let u=(o=n._getPatchMap(e))===null||o===void 0?void 0:o[i];if(u===void 0)return t.call(this,i,s);let c=u.get(s);return t.call(this,i,c||s)}}_patchRemoveAllListeners(e,t){let n=this;return function(i){let s=n._getPatchMap(e);return s!==void 0&&(arguments.length===0?n._createPatchMap(e):s[i]!==void 0&&delete s[i]),t.apply(this,arguments)}}_patchAddListener(e,t,n){let i=this;return function(s,o){if(i._wrapped)return t.call(this,s,o);let u=i._getPatchMap(e);u===void 0&&(u=i._createPatchMap(e));let c=u[s];c===void 0&&(c=new WeakMap,u[s]=c);let _=i.bind(n,o);c.set(o,_),i._wrapped=!0;try{return t.call(this,s,_)}finally{i._wrapped=!1}}}_createPatchMap(e){let t=Object.create(null);return e[this._kOtListeners]=t,t}_getPatchMap(e){return e[this._kOtListeners]}};Yl.AbstractAsyncHooksContextManager=RA});var _M=a(Wl=>{"use strict";Object.defineProperty(Wl,"__esModule",{value:!0});Wl.AsyncHooksContextManager=void 0;var kX=f(),zX=require("async_hooks"),QX=PA(),NA=class extends QX.AbstractAsyncHooksContextManager{constructor(){super(),this._contexts=new Map,this._stack=[],this._asyncHook=zX.createHook({init:this._init.bind(this),before:this._before.bind(this),after:this._after.bind(this),destroy:this._destroy.bind(this),promiseResolve:this._destroy.bind(this)})}active(){var e;return(e=this._stack[this._stack.length-1])!==null&&e!==void 0?e:kX.ROOT_CONTEXT}with(e,t,n,...i){this._enterContext(e);try{return t.call(n,...i)}finally{this._exitContext()}}enable(){return this._asyncHook.enable(),this}disable(){return this._asyncHook.disable(),this._contexts.clear(),this._stack=[],this}_init(e,t){if(t==="TIMERWRAP")return;let n=this._stack[this._stack.length-1];n!==void 0&&this._contexts.set(e,n)}_destroy(e){this._contexts.delete(e)}_before(e){let t=this._contexts.get(e);t!==void 0&&this._enterContext(t)}_after(){this._exitContext()}_enterContext(e){this._stack.push(e)}_exitContext(){this._stack.pop()}};Wl.AsyncHooksContextManager=NA});var lM=a(kl=>{"use strict";Object.defineProperty(kl,"__esModule",{value:!0});kl.AsyncLocalStorageContextManager=void 0;var ZX=f(),JX=require("async_hooks"),eY=PA(),IA=class extends eY.AbstractAsyncHooksContextManager{constructor(){super(),this._asyncLocalStorage=new JX.AsyncLocalStorage}active(){var e;return(e=this._asyncLocalStorage.getStore())!==null&&e!==void 0?e:ZX.ROOT_CONTEXT}with(e,t,n,...i){let s=n==null?t:t.bind(n);return this._asyncLocalStorage.run(e,s,...i)}enable(){return this}disable(){return this._asyncLocalStorage.disable(),this}};kl.AsyncLocalStorageContextManager=IA});var EM=a(Kr=>{"use strict";var tY=Kr&&Kr.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),dM=Kr&&Kr.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&tY(e,r,t)};Object.defineProperty(Kr,"__esModule",{value:!0});dM(_M(),Kr);dM(lM(),Kr)});var ca=a($r=>{"use strict";Object.defineProperty($r,"__esModule",{value:!0});$r.isTracingSuppressed=$r.unsuppressTracing=$r.suppressTracing=void 0;var rY=f(),bA=(0,rY.createContextKey)("OpenTelemetry SDK Context Key SUPPRESS_TRACING");function nY(r){return r.setValue(bA,!0)}$r.suppressTracing=nY;function iY(r){return r.deleteValue(bA)}$r.unsuppressTracing=iY;function sY(r){return r.getValue(bA)===!0}$r.isTracingSuppressed=sY});var vA=a(He=>{"use strict";Object.defineProperty(He,"__esModule",{value:!0});He.BAGGAGE_MAX_TOTAL_LENGTH=He.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=He.BAGGAGE_MAX_NAME_VALUE_PAIRS=He.BAGGAGE_HEADER=He.BAGGAGE_ITEMS_SEPARATOR=He.BAGGAGE_PROPERTIES_SEPARATOR=He.BAGGAGE_KEY_PAIR_SEPARATOR=void 0;He.BAGGAGE_KEY_PAIR_SEPARATOR="=";He.BAGGAGE_PROPERTIES_SEPARATOR=";";He.BAGGAGE_ITEMS_SEPARATOR=",";He.BAGGAGE_HEADER="baggage";He.BAGGAGE_MAX_NAME_VALUE_PAIRS=180;He.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=4096;He.BAGGAGE_MAX_TOTAL_LENGTH=8192});var CA=a(zt=>{"use strict";Object.defineProperty(zt,"__esModule",{value:!0});zt.parseKeyPairsIntoRecord=zt.parsePairKeyValue=zt.getKeyPairs=zt.serializeKeyPairs=void 0;var oY=f(),ti=vA();function aY(r){return r.reduce((e,t)=>{let n=`${e}${e!==""?ti.BAGGAGE_ITEMS_SEPARATOR:""}${t}`;return n.length>ti.BAGGAGE_MAX_TOTAL_LENGTH?e:n},"")}zt.serializeKeyPairs=aY;function uY(r){return r.getAllEntries().map(([e,t])=>{let n=`${encodeURIComponent(e)}=${encodeURIComponent(t.value)}`;return t.metadata!==void 0&&(n+=ti.BAGGAGE_PROPERTIES_SEPARATOR+t.metadata.toString()),n})}zt.getKeyPairs=uY;function pM(r){let e=r.split(ti.BAGGAGE_PROPERTIES_SEPARATOR);if(e.length<=0)return;let t=e.shift();if(!t)return;let n=t.split(ti.BAGGAGE_KEY_PAIR_SEPARATOR);if(n.length!==2)return;let i=decodeURIComponent(n[0].trim()),s=decodeURIComponent(n[1].trim()),o;return e.length>0&&(o=(0,oY.baggageEntryMetadataFromString)(e.join(ti.BAGGAGE_PROPERTIES_SEPARATOR))),{key:i,value:s,metadata:o}}zt.parsePairKeyValue=pM;function cY(r){return typeof r!="string"||r.length===0?{}:r.split(ti.BAGGAGE_ITEMS_SEPARATOR).map(e=>pM(e)).filter(e=>e!==void 0&&e.value.length>0).reduce((e,t)=>(e[t.key]=t.value,e),{})}zt.parseKeyPairsIntoRecord=cY});var fM=a(zl=>{"use strict";Object.defineProperty(zl,"__esModule",{value:!0});zl.W3CBaggagePropagator=void 0;var MA=f(),_Y=ca(),ri=vA(),yA=CA(),LA=class{inject(e,t,n){let i=MA.propagation.getBaggage(e);if(!i||(0,_Y.isTracingSuppressed)(e))return;let s=(0,yA.getKeyPairs)(i).filter(u=>u.length<=ri.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS).slice(0,ri.BAGGAGE_MAX_NAME_VALUE_PAIRS),o=(0,yA.serializeKeyPairs)(s);o.length>0&&n.set(t,ri.BAGGAGE_HEADER,o)}extract(e,t,n){let i=n.get(t,ri.BAGGAGE_HEADER),s=Array.isArray(i)?i.join(ri.BAGGAGE_ITEMS_SEPARATOR):i;if(!s)return e;let o={};return s.length===0||(s.split(ri.BAGGAGE_ITEMS_SEPARATOR).forEach(c=>{let _=(0,yA.parsePairKeyValue)(c);if(_){let l={value:_.value};_.metadata&&(l.metadata=_.metadata),o[_.key]=l}}),Object.entries(o).length===0)?e:MA.propagation.setBaggage(e,MA.propagation.createBaggage(o))}fields(){return[ri.BAGGAGE_HEADER]}};zl.W3CBaggagePropagator=LA});var TM=a(Ql=>{"use strict";Object.defineProperty(Ql,"__esModule",{value:!0});Ql.AnchoredClock=void 0;var DA=class{constructor(e,t){this._monotonicClock=t,this._epochMillis=e.now(),this._performanceMillis=t.now()}now(){let e=this._monotonicClock.now()-this._performanceMillis;return this._epochMillis+e}};Ql.AnchoredClock=DA});var OM=a(Xr=>{"use strict";Object.defineProperty(Xr,"__esModule",{value:!0});Xr.isAttributeValue=Xr.isAttributeKey=Xr.sanitizeAttributes=void 0;var SM=f();function lY(r){let e={};if(typeof r!="object"||r==null)return e;for(let[t,n]of Object.entries(r)){if(!AM(t)){SM.diag.warn(`Invalid attribute key: ${t}`);continue}if(!hM(n)){SM.diag.warn(`Invalid attribute value set for key: ${t}`);continue}Array.isArray(n)?e[t]=n.slice():e[t]=n}return e}Xr.sanitizeAttributes=lY;function AM(r){return typeof r=="string"&&r.length>0}Xr.isAttributeKey=AM;function hM(r){return r==null?!0:Array.isArray(r)?dY(r):gM(r)}Xr.isAttributeValue=hM;function dY(r){let e;for(let t of r)if(t!=null){if(!e){if(gM(t)){e=typeof t;continue}return!1}if(typeof t!==e)return!1}return!0}function gM(r){switch(typeof r){case"number":case"boolean":case"string":return!0}return!1}});var wA=a(Zl=>{"use strict";Object.defineProperty(Zl,"__esModule",{value:!0});Zl.loggingErrorHandler=void 0;var EY=f();function pY(){return r=>{EY.diag.error(fY(r))}}Zl.loggingErrorHandler=pY;function fY(r){return typeof r=="string"?r:JSON.stringify(TY(r))}function TY(r){let e={},t=r;for(;t!==null;)Object.getOwnPropertyNames(t).forEach(n=>{if(e[n])return;let i=t[n];i&&(e[n]=String(i))}),t=Object.getPrototypeOf(t);return e}});var UA=a(Os=>{"use strict";Object.defineProperty(Os,"__esModule",{value:!0});Os.globalErrorHandler=Os.setGlobalErrorHandler=void 0;var SY=wA(),mM=(0,SY.loggingErrorHandler)();function AY(r){mM=r}Os.setGlobalErrorHandler=AY;function hY(r){try{mM(r)}catch{}}Os.globalErrorHandler=hY});var BA=a(_a=>{"use strict";Object.defineProperty(_a,"__esModule",{value:!0});_a.TracesSamplerValues=void 0;var gY;(function(r){r.AlwaysOff="always_off",r.AlwaysOn="always_on",r.ParentBasedAlwaysOff="parentbased_always_off",r.ParentBasedAlwaysOn="parentbased_always_on",r.ParentBasedTraceIdRatio="parentbased_traceidratio",r.TraceIdRatio="traceidratio"})(gY=_a.TracesSamplerValues||(_a.TracesSamplerValues={}))});var RM=a(Jl=>{"use strict";Object.defineProperty(Jl,"__esModule",{value:!0});Jl._globalThis=void 0;Jl._globalThis=typeof globalThis=="object"?globalThis:typeof self=="object"?self:typeof window=="object"?window:typeof global=="object"?global:{}});var qA=a(Ie=>{"use strict";Object.defineProperty(Ie,"__esModule",{value:!0});Ie.getEnvWithoutDefaults=Ie.parseEnvironment=Ie.DEFAULT_ENVIRONMENT=Ie.DEFAULT_ATTRIBUTE_COUNT_LIMIT=Ie.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT=void 0;var Yr=f(),OY=BA(),mY=RM(),RY=",",PY=["OTEL_SDK_DISABLED"];function NY(r){return PY.indexOf(r)>-1}var IY=["OTEL_BSP_EXPORT_TIMEOUT","OTEL_BSP_MAX_EXPORT_BATCH_SIZE","OTEL_BSP_MAX_QUEUE_SIZE","OTEL_BSP_SCHEDULE_DELAY","OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_EVENT_COUNT_LIMIT","OTEL_SPAN_LINK_COUNT_LIMIT","OTEL_EXPORTER_OTLP_TIMEOUT","OTEL_EXPORTER_OTLP_TRACES_TIMEOUT","OTEL_EXPORTER_OTLP_METRICS_TIMEOUT","OTEL_EXPORTER_JAEGER_AGENT_PORT"];function bY(r){return IY.indexOf(r)>-1}var vY=["OTEL_NO_PATCH_MODULES","OTEL_PROPAGATORS"];function CY(r){return vY.indexOf(r)>-1}Ie.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT=1/0;Ie.DEFAULT_ATTRIBUTE_COUNT_LIMIT=128;Ie.DEFAULT_ENVIRONMENT={OTEL_SDK_DISABLED:!1,CONTAINER_NAME:"",ECS_CONTAINER_METADATA_URI_V4:"",ECS_CONTAINER_METADATA_URI:"",HOSTNAME:"",KUBERNETES_SERVICE_HOST:"",NAMESPACE:"",OTEL_BSP_EXPORT_TIMEOUT:3e4,OTEL_BSP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BSP_MAX_QUEUE_SIZE:2048,OTEL_BSP_SCHEDULE_DELAY:5e3,OTEL_EXPORTER_JAEGER_AGENT_HOST:"",OTEL_EXPORTER_JAEGER_AGENT_PORT:6832,OTEL_EXPORTER_JAEGER_ENDPOINT:"",OTEL_EXPORTER_JAEGER_PASSWORD:"",OTEL_EXPORTER_JAEGER_USER:"",OTEL_EXPORTER_OTLP_ENDPOINT:"",OTEL_EXPORTER_OTLP_TRACES_ENDPOINT:"",OTEL_EXPORTER_OTLP_METRICS_ENDPOINT:"",OTEL_EXPORTER_OTLP_HEADERS:"",OTEL_EXPORTER_OTLP_TRACES_HEADERS:"",OTEL_EXPORTER_OTLP_METRICS_HEADERS:"",OTEL_EXPORTER_OTLP_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_TRACES_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_METRICS_TIMEOUT:1e4,OTEL_EXPORTER_ZIPKIN_ENDPOINT:"http://localhost:9411/api/v2/spans",OTEL_LOG_LEVEL:Yr.DiagLogLevel.INFO,OTEL_NO_PATCH_MODULES:[],OTEL_PROPAGATORS:["tracecontext","baggage"],OTEL_RESOURCE_ATTRIBUTES:"",OTEL_SERVICE_NAME:"",OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT:Ie.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT,OTEL_ATTRIBUTE_COUNT_LIMIT:Ie.DEFAULT_ATTRIBUTE_COUNT_LIMIT,OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT:Ie.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT,OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT:Ie.DEFAULT_ATTRIBUTE_COUNT_LIMIT,OTEL_SPAN_EVENT_COUNT_LIMIT:128,OTEL_SPAN_LINK_COUNT_LIMIT:128,OTEL_TRACES_EXPORTER:"",OTEL_TRACES_SAMPLER:OY.TracesSamplerValues.ParentBasedAlwaysOn,OTEL_TRACES_SAMPLER_ARG:"",OTEL_EXPORTER_OTLP_INSECURE:"",OTEL_EXPORTER_OTLP_TRACES_INSECURE:"",OTEL_EXPORTER_OTLP_METRICS_INSECURE:"",OTEL_EXPORTER_OTLP_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_COMPRESSION:"",OTEL_EXPORTER_OTLP_TRACES_COMPRESSION:"",OTEL_EXPORTER_OTLP_METRICS_COMPRESSION:"",OTEL_EXPORTER_OTLP_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_TRACES_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_TEMPORALITY_PREFERENCE:"cumulative"};function MY(r,e,t){if(typeof t[r]>"u")return;let n=String(t[r]);e[r]=n.toLowerCase()==="true"}function yY(r,e,t,n=-1/0,i=1/0){if(typeof t[r]<"u"){let s=Number(t[r]);isNaN(s)||(s<n?e[r]=n:s>i?e[r]=i:e[r]=s)}}function LY(r,e,t,n=RY){let i=t[r];typeof i=="string"&&(e[r]=i.split(n).map(s=>s.trim()))}var DY={ALL:Yr.DiagLogLevel.ALL,VERBOSE:Yr.DiagLogLevel.VERBOSE,DEBUG:Yr.DiagLogLevel.DEBUG,INFO:Yr.DiagLogLevel.INFO,WARN:Yr.DiagLogLevel.WARN,ERROR:Yr.DiagLogLevel.ERROR,NONE:Yr.DiagLogLevel.NONE};function wY(r,e,t){let n=t[r];if(typeof n=="string"){let i=DY[n.toUpperCase()];i!=null&&(e[r]=i)}}function GA(r){let e={};for(let t in Ie.DEFAULT_ENVIRONMENT){let n=t;switch(n){case"OTEL_LOG_LEVEL":wY(n,e,r);break;default:if(NY(n))MY(n,e,r);else if(bY(n))yY(n,e,r);else if(CY(n))LY(n,e,r);else{let i=r[n];typeof i<"u"&&i!==null&&(e[n]=String(i))}}}return e}Ie.parseEnvironment=GA;function UY(){return GA(typeof process<"u"?process.env:mY._globalThis)}Ie.getEnvWithoutDefaults=UY});var NM=a(ed=>{"use strict";Object.defineProperty(ed,"__esModule",{value:!0});ed.getEnv=void 0;var BY=require("os"),PM=qA();function GY(){let r=(0,PM.parseEnvironment)(process.env);return Object.assign({HOSTNAME:BY.hostname()},PM.DEFAULT_ENVIRONMENT,r)}ed.getEnv=GY});var IM=a(td=>{"use strict";Object.defineProperty(td,"__esModule",{value:!0});td._globalThis=void 0;td._globalThis=typeof globalThis=="object"?globalThis:global});var vM=a(rd=>{"use strict";Object.defineProperty(rd,"__esModule",{value:!0});rd.hexToBase64=void 0;function bM(r){return r>=48&&r<=57?r-48:r>=97&&r<=102?r-87:r-55}var qY=Buffer.alloc(8),jY=Buffer.alloc(16);function VY(r){let e;r.length===16?e=qY:r.length===32?e=jY:e=Buffer.alloc(r.length/2);let t=0;for(let n=0;n<r.length;n+=2){let i=bM(r.charCodeAt(n)),s=bM(r.charCodeAt(n+1));e.writeUInt8(i<<4|s,t++)}return e.toString("base64")}rd.hexToBase64=VY});var yM=a(id=>{"use strict";Object.defineProperty(id,"__esModule",{value:!0});id.RandomIdGenerator=void 0;var HY=8,MM=16,jA=class{constructor(){this.generateTraceId=CM(MM),this.generateSpanId=CM(HY)}};id.RandomIdGenerator=jA;var nd=Buffer.allocUnsafe(MM);function CM(r){return function(){for(let t=0;t<r/4;t++)nd.writeUInt32BE(Math.random()*2**32>>>0,t*4);for(let t=0;t<r&&!(nd[t]>0);t++)t===r-1&&(nd[r-1]=1);return nd.toString("hex",0,r)}}});var LM=a(sd=>{"use strict";Object.defineProperty(sd,"__esModule",{value:!0});sd.otperformance=void 0;var FY=require("perf_hooks");sd.otperformance=FY.performance});var ad=a(od=>{"use strict";Object.defineProperty(od,"__esModule",{value:!0});od.VERSION=void 0;od.VERSION="1.9.0"});var DM=a($=>{"use strict";Object.defineProperty($,"__esModule",{value:!0});$.MessageTypeValues=$.RpcGrpcStatusCodeValues=$.MessagingOperationValues=$.MessagingDestinationKindValues=$.HttpFlavorValues=$.NetHostConnectionSubtypeValues=$.NetHostConnectionTypeValues=$.NetTransportValues=$.FaasInvokedProviderValues=$.FaasDocumentOperationValues=$.FaasTriggerValues=$.DbCassandraConsistencyLevelValues=$.DbSystemValues=$.SemanticAttributes=void 0;$.SemanticAttributes={AWS_LAMBDA_INVOKED_ARN:"aws.lambda.invoked_arn",DB_SYSTEM:"db.system",DB_CONNECTION_STRING:"db.connection_string",DB_USER:"db.user",DB_JDBC_DRIVER_CLASSNAME:"db.jdbc.driver_classname",DB_NAME:"db.name",DB_STATEMENT:"db.statement",DB_OPERATION:"db.operation",DB_MSSQL_INSTANCE_NAME:"db.mssql.instance_name",DB_CASSANDRA_KEYSPACE:"db.cassandra.keyspace",DB_CASSANDRA_PAGE_SIZE:"db.cassandra.page_size",DB_CASSANDRA_CONSISTENCY_LEVEL:"db.cassandra.consistency_level",DB_CASSANDRA_TABLE:"db.cassandra.table",DB_CASSANDRA_IDEMPOTENCE:"db.cassandra.idempotence",DB_CASSANDRA_SPECULATIVE_EXECUTION_COUNT:"db.cassandra.speculative_execution_count",DB_CASSANDRA_COORDINATOR_ID:"db.cassandra.coordinator.id",DB_CASSANDRA_COORDINATOR_DC:"db.cassandra.coordinator.dc",DB_HBASE_NAMESPACE:"db.hbase.namespace",DB_REDIS_DATABASE_INDEX:"db.redis.database_index",DB_MONGODB_COLLECTION:"db.mongodb.collection",DB_SQL_TABLE:"db.sql.table",EXCEPTION_TYPE:"exception.type",EXCEPTION_MESSAGE:"exception.message",EXCEPTION_STACKTRACE:"exception.stacktrace",EXCEPTION_ESCAPED:"exception.escaped",FAAS_TRIGGER:"faas.trigger",FAAS_EXECUTION:"faas.execution",FAAS_DOCUMENT_COLLECTION:"faas.document.collection",FAAS_DOCUMENT_OPERATION:"faas.document.operation",FAAS_DOCUMENT_TIME:"faas.document.time",FAAS_DOCUMENT_NAME:"faas.document.name",FAAS_TIME:"faas.time",FAAS_CRON:"faas.cron",FAAS_COLDSTART:"faas.coldstart",FAAS_INVOKED_NAME:"faas.invoked_name",FAAS_INVOKED_PROVIDER:"faas.invoked_provider",FAAS_INVOKED_REGION:"faas.invoked_region",NET_TRANSPORT:"net.transport",NET_PEER_IP:"net.peer.ip",NET_PEER_PORT:"net.peer.port",NET_PEER_NAME:"net.peer.name",NET_HOST_IP:"net.host.ip",NET_HOST_PORT:"net.host.port",NET_HOST_NAME:"net.host.name",NET_HOST_CONNECTION_TYPE:"net.host.connection.type",NET_HOST_CONNECTION_SUBTYPE:"net.host.connection.subtype",NET_HOST_CARRIER_NAME:"net.host.carrier.name",NET_HOST_CARRIER_MCC:"net.host.carrier.mcc",NET_HOST_CARRIER_MNC:"net.host.carrier.mnc",NET_HOST_CARRIER_ICC:"net.host.carrier.icc",PEER_SERVICE:"peer.service",ENDUSER_ID:"enduser.id",ENDUSER_ROLE:"enduser.role",ENDUSER_SCOPE:"enduser.scope",THREAD_ID:"thread.id",THREAD_NAME:"thread.name",CODE_FUNCTION:"code.function",CODE_NAMESPACE:"code.namespace",CODE_FILEPATH:"code.filepath",CODE_LINENO:"code.lineno",HTTP_METHOD:"http.method",HTTP_URL:"http.url",HTTP_TARGET:"http.target",HTTP_HOST:"http.host",HTTP_SCHEME:"http.scheme",HTTP_STATUS_CODE:"http.status_code",HTTP_FLAVOR:"http.flavor",HTTP_USER_AGENT:"http.user_agent",HTTP_REQUEST_CONTENT_LENGTH:"http.request_content_length",HTTP_REQUEST_CONTENT_LENGTH_UNCOMPRESSED:"http.request_content_length_uncompressed",HTTP_RESPONSE_CONTENT_LENGTH:"http.response_content_length",HTTP_RESPONSE_CONTENT_LENGTH_UNCOMPRESSED:"http.response_content_length_uncompressed",HTTP_SERVER_NAME:"http.server_name",HTTP_ROUTE:"http.route",HTTP_CLIENT_IP:"http.client_ip",AWS_DYNAMODB_TABLE_NAMES:"aws.dynamodb.table_names",AWS_DYNAMODB_CONSUMED_CAPACITY:"aws.dynamodb.consumed_capacity",AWS_DYNAMODB_ITEM_COLLECTION_METRICS:"aws.dynamodb.item_collection_metrics",AWS_DYNAMODB_PROVISIONED_READ_CAPACITY:"aws.dynamodb.provisioned_read_capacity",AWS_DYNAMODB_PROVISIONED_WRITE_CAPACITY:"aws.dynamodb.provisioned_write_capacity",AWS_DYNAMODB_CONSISTENT_READ:"aws.dynamodb.consistent_read",AWS_DYNAMODB_PROJECTION:"aws.dynamodb.projection",AWS_DYNAMODB_LIMIT:"aws.dynamodb.limit",AWS_DYNAMODB_ATTRIBUTES_TO_GET:"aws.dynamodb.attributes_to_get",AWS_DYNAMODB_INDEX_NAME:"aws.dynamodb.index_name",AWS_DYNAMODB_SELECT:"aws.dynamodb.select",AWS_DYNAMODB_GLOBAL_SECONDARY_INDEXES:"aws.dynamodb.global_secondary_indexes",AWS_DYNAMODB_LOCAL_SECONDARY_INDEXES:"aws.dynamodb.local_secondary_indexes",AWS_DYNAMODB_EXCLUSIVE_START_TABLE:"aws.dynamodb.exclusive_start_table",AWS_DYNAMODB_TABLE_COUNT:"aws.dynamodb.table_count",AWS_DYNAMODB_SCAN_FORWARD:"aws.dynamodb.scan_forward",AWS_DYNAMODB_SEGMENT:"aws.dynamodb.segment",AWS_DYNAMODB_TOTAL_SEGMENTS:"aws.dynamodb.total_segments",AWS_DYNAMODB_COUNT:"aws.dynamodb.count",AWS_DYNAMODB_SCANNED_COUNT:"aws.dynamodb.scanned_count",AWS_DYNAMODB_ATTRIBUTE_DEFINITIONS:"aws.dynamodb.attribute_definitions",AWS_DYNAMODB_GLOBAL_SECONDARY_INDEX_UPDATES:"aws.dynamodb.global_secondary_index_updates",MESSAGING_SYSTEM:"messaging.system",MESSAGING_DESTINATION:"messaging.destination",MESSAGING_DESTINATION_KIND:"messaging.destination_kind",MESSAGING_TEMP_DESTINATION:"messaging.temp_destination",MESSAGING_PROTOCOL:"messaging.protocol",MESSAGING_PROTOCOL_VERSION:"messaging.protocol_version",MESSAGING_URL:"messaging.url",MESSAGING_MESSAGE_ID:"messaging.message_id",MESSAGING_CONVERSATION_ID:"messaging.conversation_id",MESSAGING_MESSAGE_PAYLOAD_SIZE_BYTES:"messaging.message_payload_size_bytes",MESSAGING_MESSAGE_PAYLOAD_COMPRESSED_SIZE_BYTES:"messaging.message_payload_compressed_size_bytes",MESSAGING_OPERATION:"messaging.operation",MESSAGING_CONSUMER_ID:"messaging.consumer_id",MESSAGING_RABBITMQ_ROUTING_KEY:"messaging.rabbitmq.routing_key",MESSAGING_KAFKA_MESSAGE_KEY:"messaging.kafka.message_key",MESSAGING_KAFKA_CONSUMER_GROUP:"messaging.kafka.consumer_group",MESSAGING_KAFKA_CLIENT_ID:"messaging.kafka.client_id",MESSAGING_KAFKA_PARTITION:"messaging.kafka.partition",MESSAGING_KAFKA_TOMBSTONE:"messaging.kafka.tombstone",RPC_SYSTEM:"rpc.system",RPC_SERVICE:"rpc.service",RPC_METHOD:"rpc.method",RPC_GRPC_STATUS_CODE:"rpc.grpc.status_code",RPC_JSONRPC_VERSION:"rpc.jsonrpc.version",RPC_JSONRPC_REQUEST_ID:"rpc.jsonrpc.request_id",RPC_JSONRPC_ERROR_CODE:"rpc.jsonrpc.error_code",RPC_JSONRPC_ERROR_MESSAGE:"rpc.jsonrpc.error_message",MESSAGE_TYPE:"message.type",MESSAGE_ID:"message.id",MESSAGE_COMPRESSED_SIZE:"message.compressed_size",MESSAGE_UNCOMPRESSED_SIZE:"message.uncompressed_size"};$.DbSystemValues={OTHER_SQL:"other_sql",MSSQL:"mssql",MYSQL:"mysql",ORACLE:"oracle",DB2:"db2",POSTGRESQL:"postgresql",REDSHIFT:"redshift",HIVE:"hive",CLOUDSCAPE:"cloudscape",HSQLDB:"hsqldb",PROGRESS:"progress",MAXDB:"maxdb",HANADB:"hanadb",INGRES:"ingres",FIRSTSQL:"firstsql",EDB:"edb",CACHE:"cache",ADABAS:"adabas",FIREBIRD:"firebird",DERBY:"derby",FILEMAKER:"filemaker",INFORMIX:"informix",INSTANTDB:"instantdb",INTERBASE:"interbase",MARIADB:"mariadb",NETEZZA:"netezza",PERVASIVE:"pervasive",POINTBASE:"pointbase",SQLITE:"sqlite",SYBASE:"sybase",TERADATA:"teradata",VERTICA:"vertica",H2:"h2",COLDFUSION:"coldfusion",CASSANDRA:"cassandra",HBASE:"hbase",MONGODB:"mongodb",REDIS:"redis",COUCHBASE:"couchbase",COUCHDB:"couchdb",COSMOSDB:"cosmosdb",DYNAMODB:"dynamodb",NEO4J:"neo4j",GEODE:"geode",ELASTICSEARCH:"elasticsearch",MEMCACHED:"memcached",COCKROACHDB:"cockroachdb"};$.DbCassandraConsistencyLevelValues={ALL:"all",EACH_QUORUM:"each_quorum",QUORUM:"quorum",LOCAL_QUORUM:"local_quorum",ONE:"one",TWO:"two",THREE:"three",LOCAL_ONE:"local_one",ANY:"any",SERIAL:"serial",LOCAL_SERIAL:"local_serial"};$.FaasTriggerValues={DATASOURCE:"datasource",HTTP:"http",PUBSUB:"pubsub",TIMER:"timer",OTHER:"other"};$.FaasDocumentOperationValues={INSERT:"insert",EDIT:"edit",DELETE:"delete"};$.FaasInvokedProviderValues={ALIBABA_CLOUD:"alibaba_cloud",AWS:"aws",AZURE:"azure",GCP:"gcp"};$.NetTransportValues={IP_TCP:"ip_tcp",IP_UDP:"ip_udp",IP:"ip",UNIX:"unix",PIPE:"pipe",INPROC:"inproc",OTHER:"other"};$.NetHostConnectionTypeValues={WIFI:"wifi",WIRED:"wired",CELL:"cell",UNAVAILABLE:"unavailable",UNKNOWN:"unknown"};$.NetHostConnectionSubtypeValues={GPRS:"gprs",EDGE:"edge",UMTS:"umts",CDMA:"cdma",EVDO_0:"evdo_0",EVDO_A:"evdo_a",CDMA2000_1XRTT:"cdma2000_1xrtt",HSDPA:"hsdpa",HSUPA:"hsupa",HSPA:"hspa",IDEN:"iden",EVDO_B:"evdo_b",LTE:"lte",EHRPD:"ehrpd",HSPAP:"hspap",GSM:"gsm",TD_SCDMA:"td_scdma",IWLAN:"iwlan",NR:"nr",NRNSA:"nrnsa",LTE_CA:"lte_ca"};$.HttpFlavorValues={HTTP_1_0:"1.0",HTTP_1_1:"1.1",HTTP_2_0:"2.0",SPDY:"SPDY",QUIC:"QUIC"};$.MessagingDestinationKindValues={QUEUE:"queue",TOPIC:"topic"};$.MessagingOperationValues={RECEIVE:"receive",PROCESS:"process"};$.RpcGrpcStatusCodeValues={OK:0,CANCELLED:1,UNKNOWN:2,INVALID_ARGUMENT:3,DEADLINE_EXCEEDED:4,NOT_FOUND:5,ALREADY_EXISTS:6,PERMISSION_DENIED:7,RESOURCE_EXHAUSTED:8,FAILED_PRECONDITION:9,ABORTED:10,OUT_OF_RANGE:11,UNIMPLEMENTED:12,INTERNAL:13,UNAVAILABLE:14,DATA_LOSS:15,UNAUTHENTICATED:16};$.MessageTypeValues={SENT:"SENT",RECEIVED:"RECEIVED"}});var wM=a(ni=>{"use strict";var xY=ni&&ni.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),KY=ni&&ni.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&xY(e,r,t)};Object.defineProperty(ni,"__esModule",{value:!0});KY(DM(),ni)});var UM=a(Fe=>{"use strict";Object.defineProperty(Fe,"__esModule",{value:!0});Fe.TelemetrySdkLanguageValues=Fe.OsTypeValues=Fe.HostArchValues=Fe.AwsEcsLaunchtypeValues=Fe.CloudPlatformValues=Fe.CloudProviderValues=Fe.SemanticResourceAttributes=void 0;Fe.SemanticResourceAttributes={CLOUD_PROVIDER:"cloud.provider",CLOUD_ACCOUNT_ID:"cloud.account.id",CLOUD_REGION:"cloud.region",CLOUD_AVAILABILITY_ZONE:"cloud.availability_zone",CLOUD_PLATFORM:"cloud.platform",AWS_ECS_CONTAINER_ARN:"aws.ecs.container.arn",AWS_ECS_CLUSTER_ARN:"aws.ecs.cluster.arn",AWS_ECS_LAUNCHTYPE:"aws.ecs.launchtype",AWS_ECS_TASK_ARN:"aws.ecs.task.arn",AWS_ECS_TASK_FAMILY:"aws.ecs.task.family",AWS_ECS_TASK_REVISION:"aws.ecs.task.revision",AWS_EKS_CLUSTER_ARN:"aws.eks.cluster.arn",AWS_LOG_GROUP_NAMES:"aws.log.group.names",AWS_LOG_GROUP_ARNS:"aws.log.group.arns",AWS_LOG_STREAM_NAMES:"aws.log.stream.names",AWS_LOG_STREAM_ARNS:"aws.log.stream.arns",CONTAINER_NAME:"container.name",CONTAINER_ID:"container.id",CONTAINER_RUNTIME:"container.runtime",CONTAINER_IMAGE_NAME:"container.image.name",CONTAINER_IMAGE_TAG:"container.image.tag",DEPLOYMENT_ENVIRONMENT:"deployment.environment",DEVICE_ID:"device.id",DEVICE_MODEL_IDENTIFIER:"device.model.identifier",DEVICE_MODEL_NAME:"device.model.name",FAAS_NAME:"faas.name",FAAS_ID:"faas.id",FAAS_VERSION:"faas.version",FAAS_INSTANCE:"faas.instance",FAAS_MAX_MEMORY:"faas.max_memory",HOST_ID:"host.id",HOST_NAME:"host.name",HOST_TYPE:"host.type",HOST_ARCH:"host.arch",HOST_IMAGE_NAME:"host.image.name",HOST_IMAGE_ID:"host.image.id",HOST_IMAGE_VERSION:"host.image.version",K8S_CLUSTER_NAME:"k8s.cluster.name",K8S_NODE_NAME:"k8s.node.name",K8S_NODE_UID:"k8s.node.uid",K8S_NAMESPACE_NAME:"k8s.namespace.name",K8S_POD_UID:"k8s.pod.uid",K8S_POD_NAME:"k8s.pod.name",K8S_CONTAINER_NAME:"k8s.container.name",K8S_REPLICASET_UID:"k8s.replicaset.uid",K8S_REPLICASET_NAME:"k8s.replicaset.name",K8S_DEPLOYMENT_UID:"k8s.deployment.uid",K8S_DEPLOYMENT_NAME:"k8s.deployment.name",K8S_STATEFULSET_UID:"k8s.statefulset.uid",K8S_STATEFULSET_NAME:"k8s.statefulset.name",K8S_DAEMONSET_UID:"k8s.daemonset.uid",K8S_DAEMONSET_NAME:"k8s.daemonset.name",K8S_JOB_UID:"k8s.job.uid",K8S_JOB_NAME:"k8s.job.name",K8S_CRONJOB_UID:"k8s.cronjob.uid",K8S_CRONJOB_NAME:"k8s.cronjob.name",OS_TYPE:"os.type",OS_DESCRIPTION:"os.description",OS_NAME:"os.name",OS_VERSION:"os.version",PROCESS_PID:"process.pid",PROCESS_EXECUTABLE_NAME:"process.executable.name",PROCESS_EXECUTABLE_PATH:"process.executable.path",PROCESS_COMMAND:"process.command",PROCESS_COMMAND_LINE:"process.command_line",PROCESS_COMMAND_ARGS:"process.command_args",PROCESS_OWNER:"process.owner",PROCESS_RUNTIME_NAME:"process.runtime.name",PROCESS_RUNTIME_VERSION:"process.runtime.version",PROCESS_RUNTIME_DESCRIPTION:"process.runtime.description",SERVICE_NAME:"service.name",SERVICE_NAMESPACE:"service.namespace",SERVICE_INSTANCE_ID:"service.instance.id",SERVICE_VERSION:"service.version",TELEMETRY_SDK_NAME:"telemetry.sdk.name",TELEMETRY_SDK_LANGUAGE:"telemetry.sdk.language",TELEMETRY_SDK_VERSION:"telemetry.sdk.version",TELEMETRY_AUTO_VERSION:"telemetry.auto.version",WEBENGINE_NAME:"webengine.name",WEBENGINE_VERSION:"webengine.version",WEBENGINE_DESCRIPTION:"webengine.description"};Fe.CloudProviderValues={ALIBABA_CLOUD:"alibaba_cloud",AWS:"aws",AZURE:"azure",GCP:"gcp"};Fe.CloudPlatformValues={ALIBABA_CLOUD_ECS:"alibaba_cloud_ecs",ALIBABA_CLOUD_FC:"alibaba_cloud_fc",AWS_EC2:"aws_ec2",AWS_ECS:"aws_ecs",AWS_EKS:"aws_eks",AWS_LAMBDA:"aws_lambda",AWS_ELASTIC_BEANSTALK:"aws_elastic_beanstalk",AZURE_VM:"azure_vm",AZURE_CONTAINER_INSTANCES:"azure_container_instances",AZURE_AKS:"azure_aks",AZURE_FUNCTIONS:"azure_functions",AZURE_APP_SERVICE:"azure_app_service",GCP_COMPUTE_ENGINE:"gcp_compute_engine",GCP_CLOUD_RUN:"gcp_cloud_run",GCP_KUBERNETES_ENGINE:"gcp_kubernetes_engine",GCP_CLOUD_FUNCTIONS:"gcp_cloud_functions",GCP_APP_ENGINE:"gcp_app_engine"};Fe.AwsEcsLaunchtypeValues={EC2:"ec2",FARGATE:"fargate"};Fe.HostArchValues={AMD64:"amd64",ARM32:"arm32",ARM64:"arm64",IA64:"ia64",PPC32:"ppc32",PPC64:"ppc64",X86:"x86"};Fe.OsTypeValues={WINDOWS:"windows",LINUX:"linux",DARWIN:"darwin",FREEBSD:"freebsd",NETBSD:"netbsd",OPENBSD:"openbsd",DRAGONFLYBSD:"dragonflybsd",HPUX:"hpux",AIX:"aix",SOLARIS:"solaris",Z_OS:"z_os"};Fe.TelemetrySdkLanguageValues={CPP:"cpp",DOTNET:"dotnet",ERLANG:"erlang",GO:"go",JAVA:"java",NODEJS:"nodejs",PHP:"php",PYTHON:"python",RUBY:"ruby",WEBJS:"webjs"}});var BM=a(ii=>{"use strict";var $Y=ii&&ii.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),XY=ii&&ii.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&$Y(e,r,t)};Object.defineProperty(ii,"__esModule",{value:!0});XY(UM(),ii)});var qM=a(Wr=>{"use strict";var YY=Wr&&Wr.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),GM=Wr&&Wr.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&YY(e,r,t)};Object.defineProperty(Wr,"__esModule",{value:!0});GM(wM(),Wr);GM(BM(),Wr)});var jM=a(ud=>{"use strict";Object.defineProperty(ud,"__esModule",{value:!0});ud.SDK_INFO=void 0;var WY=ad(),la=qM();ud.SDK_INFO={[la.SemanticResourceAttributes.TELEMETRY_SDK_NAME]:"opentelemetry",[la.SemanticResourceAttributes.PROCESS_RUNTIME_NAME]:"node",[la.SemanticResourceAttributes.TELEMETRY_SDK_LANGUAGE]:la.TelemetrySdkLanguageValues.NODEJS,[la.SemanticResourceAttributes.TELEMETRY_SDK_VERSION]:WY.VERSION}});var VM=a(cd=>{"use strict";Object.defineProperty(cd,"__esModule",{value:!0});cd.unrefTimer=void 0;function kY(r){r.unref()}cd.unrefTimer=kY});var HM=a(Et=>{"use strict";var zY=Et&&Et.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),si=Et&&Et.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&zY(e,r,t)};Object.defineProperty(Et,"__esModule",{value:!0});si(NM(),Et);si(IM(),Et);si(vM(),Et);si(yM(),Et);si(LM(),Et);si(jM(),Et);si(VM(),Et)});var VA=a(oi=>{"use strict";var QY=oi&&oi.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),ZY=oi&&oi.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&QY(e,r,t)};Object.defineProperty(oi,"__esModule",{value:!0});ZY(HM(),oi)});var $M=a(te=>{"use strict";Object.defineProperty(te,"__esModule",{value:!0});te.addHrTimes=te.isTimeInput=te.isTimeInputHrTime=te.hrTimeToMicroseconds=te.hrTimeToMilliseconds=te.hrTimeToNanoseconds=te.hrTimeToTimeStamp=te.hrTimeDuration=te.timeInputToHrTime=te.hrTime=te.getTimeOrigin=te.millisToHrTime=void 0;var HA=VA(),FM=9,JY=6,eW=Math.pow(10,JY),_d=Math.pow(10,FM);function da(r){let e=r/1e3,t=Math.trunc(e),n=Math.round(r%1e3*eW);return[t,n]}te.millisToHrTime=da;function FA(){let r=HA.otperformance.timeOrigin;if(typeof r!="number"){let e=HA.otperformance;r=e.timing&&e.timing.fetchStart}return r}te.getTimeOrigin=FA;function xM(r){let e=da(FA()),t=da(typeof r=="number"?r:HA.otperformance.now());return KM(e,t)}te.hrTime=xM;function tW(r){if(xA(r))return r;if(typeof r=="number")return r<FA()?xM(r):da(r);if(r instanceof Date)return da(r.getTime());throw TypeError("Invalid input type")}te.timeInputToHrTime=tW;function rW(r,e){let t=e[0]-r[0],n=e[1]-r[1];return n<0&&(t-=1,n+=_d),[t,n]}te.hrTimeDuration=rW;function nW(r){let e=FM,t=`${"0".repeat(e)}${r[1]}Z`,n=t.substr(t.length-e-1);return new Date(r[0]*1e3).toISOString().replace("000Z",n)}te.hrTimeToTimeStamp=nW;function iW(r){return r[0]*_d+r[1]}te.hrTimeToNanoseconds=iW;function sW(r){return Math.round(r[0]*1e3+r[1]/1e6)}te.hrTimeToMilliseconds=sW;function oW(r){return Math.round(r[0]*1e6+r[1]/1e3)}te.hrTimeToMicroseconds=oW;function xA(r){return Array.isArray(r)&&r.length===2&&typeof r[0]=="number"&&typeof r[1]=="number"}te.isTimeInputHrTime=xA;function aW(r){return xA(r)||typeof r=="number"||r instanceof Date}te.isTimeInput=aW;function KM(r,e){let t=[r[0]+e[0],r[1]+e[1]];return t[1]>=_d&&(t[1]-=_d,t[0]+=1),t}te.addHrTimes=KM});var YM=a(XM=>{"use strict";Object.defineProperty(XM,"__esModule",{value:!0})});var WM=a(Ea=>{"use strict";Object.defineProperty(Ea,"__esModule",{value:!0});Ea.ExportResultCode=void 0;var uW;(function(r){r[r.SUCCESS=0]="SUCCESS",r[r.FAILED=1]="FAILED"})(uW=Ea.ExportResultCode||(Ea.ExportResultCode={}))});var zM=a(ld=>{"use strict";Object.defineProperty(ld,"__esModule",{value:!0});ld.CompositePropagator=void 0;var kM=f(),KA=class{constructor(e={}){var t;this._propagators=(t=e.propagators)!==null&&t!==void 0?t:[],this._fields=Array.from(new Set(this._propagators.map(n=>typeof n.fields=="function"?n.fields():[]).reduce((n,i)=>n.concat(i),[])))}inject(e,t,n){for(let i of this._propagators)try{i.inject(e,t,n)}catch(s){kM.diag.warn(`Failed to inject with ${i.constructor.name}. Err: ${s.message}`)}}extract(e,t,n){return this._propagators.reduce((i,s)=>{try{return s.extract(i,t,n)}catch(o){kM.diag.warn(`Failed to inject with ${s.constructor.name}. Err: ${o.message}`)}return i},e)}fields(){return this._fields.slice()}};ld.CompositePropagator=KA});var QM=a(ms=>{"use strict";Object.defineProperty(ms,"__esModule",{value:!0});ms.validateValue=ms.validateKey=void 0;var $A="[_0-9a-z-*/]",cW=`[a-z]${$A}{0,255}`,_W=`[a-z0-9]${$A}{0,240}@[a-z]${$A}{0,13}`,lW=new RegExp(`^(?:${cW}|${_W})$`),dW=/^[ -~]{0,255}[!-~]$/,EW=/,|=/;function pW(r){return lW.test(r)}ms.validateKey=pW;function fW(r){return dW.test(r)&&!EW.test(r)}ms.validateValue=fW});var XA=a(dd=>{"use strict";Object.defineProperty(dd,"__esModule",{value:!0});dd.TraceState=void 0;var ZM=QM(),JM=32,TW=512,ey=",",ty="=",pa=class{constructor(e){this._internalState=new Map,e&&this._parse(e)}set(e,t){let n=this._clone();return n._internalState.has(e)&&n._internalState.delete(e),n._internalState.set(e,t),n}unset(e){let t=this._clone();return t._internalState.delete(e),t}get(e){return this._internalState.get(e)}serialize(){return this._keys().reduce((e,t)=>(e.push(t+ty+this.get(t)),e),[]).join(ey)}_parse(e){e.length>TW||(this._internalState=e.split(ey).reverse().reduce((t,n)=>{let i=n.trim(),s=i.indexOf(ty);if(s!==-1){let o=i.slice(0,s),u=i.slice(s+1,n.length);(0,ZM.validateKey)(o)&&(0,ZM.validateValue)(u)&&t.set(o,u)}return t},new Map),this._internalState.size>JM&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,JM))))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let e=new pa;return e._internalState=new Map(this._internalState),e}};dd.TraceState=pa});var ny=a(xe=>{"use strict";Object.defineProperty(xe,"__esModule",{value:!0});xe.W3CTraceContextPropagator=xe.parseTraceParent=xe.TRACE_STATE_HEADER=xe.TRACE_PARENT_HEADER=void 0;var Ed=f(),SW=ca(),AW=XA();xe.TRACE_PARENT_HEADER="traceparent";xe.TRACE_STATE_HEADER="tracestate";var hW="00",gW="(?!ff)[\\da-f]{2}",OW="(?![0]{32})[\\da-f]{32}",mW="(?![0]{16})[\\da-f]{16}",RW="[\\da-f]{2}",PW=new RegExp(`^\\s?(${gW})-(${OW})-(${mW})-(${RW})(-.*)?\\s?$`);function ry(r){let e=PW.exec(r);return!e||e[1]==="00"&&e[5]?null:{traceId:e[2],spanId:e[3],traceFlags:parseInt(e[4],16)}}xe.parseTraceParent=ry;var YA=class{inject(e,t,n){let i=Ed.trace.getSpanContext(e);if(!i||(0,SW.isTracingSuppressed)(e)||!(0,Ed.isSpanContextValid)(i))return;let s=`${hW}-${i.traceId}-${i.spanId}-0${Number(i.traceFlags||Ed.TraceFlags.NONE).toString(16)}`;n.set(t,xe.TRACE_PARENT_HEADER,s),i.traceState&&n.set(t,xe.TRACE_STATE_HEADER,i.traceState.serialize())}extract(e,t,n){let i=n.get(t,xe.TRACE_PARENT_HEADER);if(!i)return e;let s=Array.isArray(i)?i[0]:i;if(typeof s!="string")return e;let o=ry(s);if(!o)return e;o.isRemote=!0;let u=n.get(t,xe.TRACE_STATE_HEADER);if(u){let c=Array.isArray(u)?u.join(","):u;o.traceState=new AW.TraceState(typeof c=="string"?c:void 0)}return Ed.trace.setSpanContext(e,o)}fields(){return[xe.TRACE_PARENT_HEADER,xe.TRACE_STATE_HEADER]}};xe.W3CTraceContextPropagator=YA});var sy=a(iy=>{"use strict";Object.defineProperty(iy,"__esModule",{value:!0})});var oy=a(wt=>{"use strict";Object.defineProperty(wt,"__esModule",{value:!0});wt.getRPCMetadata=wt.deleteRPCMetadata=wt.setRPCMetadata=wt.RPCType=void 0;var NW=f(),WA=(0,NW.createContextKey)("OpenTelemetry SDK Context Key RPC_METADATA"),IW;(function(r){r.HTTP="http"})(IW=wt.RPCType||(wt.RPCType={}));function bW(r,e){return r.setValue(WA,e)}wt.setRPCMetadata=bW;function vW(r){return r.deleteValue(WA)}wt.deleteRPCMetadata=vW;function CW(r){return r.getValue(WA)}wt.getRPCMetadata=CW});var zA=a(pd=>{"use strict";Object.defineProperty(pd,"__esModule",{value:!0});pd.AlwaysOffSampler=void 0;var MW=f(),kA=class{shouldSample(){return{decision:MW.SamplingDecision.NOT_RECORD}}toString(){return"AlwaysOffSampler"}};pd.AlwaysOffSampler=kA});var ZA=a(fd=>{"use strict";Object.defineProperty(fd,"__esModule",{value:!0});fd.AlwaysOnSampler=void 0;var yW=f(),QA=class{shouldSample(){return{decision:yW.SamplingDecision.RECORD_AND_SAMPLED}}toString(){return"AlwaysOnSampler"}};fd.AlwaysOnSampler=QA});var uy=a(Sd=>{"use strict";Object.defineProperty(Sd,"__esModule",{value:!0});Sd.ParentBasedSampler=void 0;var Td=f(),LW=UA(),ay=zA(),JA=ZA(),eh=class{constructor(e){var t,n,i,s;this._root=e.root,this._root||((0,LW.globalErrorHandler)(new Error("ParentBasedSampler must have a root sampler configured")),this._root=new JA.AlwaysOnSampler),this._remoteParentSampled=(t=e.remoteParentSampled)!==null&&t!==void 0?t:new JA.AlwaysOnSampler,this._remoteParentNotSampled=(n=e.remoteParentNotSampled)!==null&&n!==void 0?n:new ay.AlwaysOffSampler,this._localParentSampled=(i=e.localParentSampled)!==null&&i!==void 0?i:new JA.AlwaysOnSampler,this._localParentNotSampled=(s=e.localParentNotSampled)!==null&&s!==void 0?s:new ay.AlwaysOffSampler}shouldSample(e,t,n,i,s,o){let u=Td.trace.getSpanContext(e);return!u||!(0,Td.isSpanContextValid)(u)?this._root.shouldSample(e,t,n,i,s,o):u.isRemote?u.traceFlags&Td.TraceFlags.SAMPLED?this._remoteParentSampled.shouldSample(e,t,n,i,s,o):this._remoteParentNotSampled.shouldSample(e,t,n,i,s,o):u.traceFlags&Td.TraceFlags.SAMPLED?this._localParentSampled.shouldSample(e,t,n,i,s,o):this._localParentNotSampled.shouldSample(e,t,n,i,s,o)}toString(){return`ParentBased{root=${this._root.toString()}, remoteParentSampled=${this._remoteParentSampled.toString()}, remoteParentNotSampled=${this._remoteParentNotSampled.toString()}, localParentSampled=${this._localParentSampled.toString()}, localParentNotSampled=${this._localParentNotSampled.toString()}}`}};Sd.ParentBasedSampler=eh});var cy=a(Ad=>{"use strict";Object.defineProperty(Ad,"__esModule",{value:!0});Ad.TraceIdRatioBasedSampler=void 0;var th=f(),rh=class{constructor(e=0){this._ratio=e,this._ratio=this._normalize(e),this._upperBound=Math.floor(this._ratio*4294967295)}shouldSample(e,t){return{decision:(0,th.isValidTraceId)(t)&&this._accumulate(t)<this._upperBound?th.SamplingDecision.RECORD_AND_SAMPLED:th.SamplingDecision.NOT_RECORD}}toString(){return`TraceIdRatioBased{${this._ratio}}`}_normalize(e){return typeof e!="number"||isNaN(e)?0:e>=1?1:e<=0?0:e}_accumulate(e){let t=0;for(let n=0;n<e.length/8;n++){let i=n*8,s=parseInt(e.slice(i,i+8),16);t=(t^s)>>>0}return t}};Ad.TraceIdRatioBasedSampler=rh});var py=a(hd=>{"use strict";Object.defineProperty(hd,"__esModule",{value:!0});hd.isPlainObject=void 0;var DW="[object Object]",wW="[object Null]",UW="[object Undefined]",BW=Function.prototype,_y=BW.toString,GW=_y.call(Object),qW=jW(Object.getPrototypeOf,Object),ly=Object.prototype,dy=ly.hasOwnProperty,ai=Symbol?Symbol.toStringTag:void 0,Ey=ly.toString;function jW(r,e){return function(t){return r(e(t))}}function VW(r){if(!HW(r)||FW(r)!==DW)return!1;let e=qW(r);if(e===null)return!0;let t=dy.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t instanceof t&&_y.call(t)===GW}hd.isPlainObject=VW;function HW(r){return r!=null&&typeof r=="object"}function FW(r){return r==null?r===void 0?UW:wW:ai&&ai in Object(r)?xW(r):KW(r)}function xW(r){let e=dy.call(r,ai),t=r[ai],n=!1;try{r[ai]=void 0,n=!0}catch{}let i=Ey.call(r);return n&&(e?r[ai]=t:delete r[ai]),i}function KW(r){return Ey.call(r)}});var hy=a(md=>{"use strict";Object.defineProperty(md,"__esModule",{value:!0});md.merge=void 0;var fy=py(),$W=20;function XW(...r){let e=r.shift(),t=new WeakMap;for(;r.length>0;)e=Sy(e,r.shift(),0,t);return e}md.merge=XW;function nh(r){return Od(r)?r.slice():r}function Sy(r,e,t=0,n){let i;if(!(t>$W)){if(t++,gd(r)||gd(e)||Ay(e))i=nh(e);else if(Od(r)){if(i=r.slice(),Od(e))for(let s=0,o=e.length;s<o;s++)i.push(nh(e[s]));else if(fa(e)){let s=Object.keys(e);for(let o=0,u=s.length;o<u;o++){let c=s[o];i[c]=nh(e[c])}}}else if(fa(r))if(fa(e)){if(!YW(r,e))return e;i=Object.assign({},r);let s=Object.keys(e);for(let o=0,u=s.length;o<u;o++){let c=s[o],_=e[c];if(gd(_))typeof _>"u"?delete i[c]:i[c]=_;else{let l=i[c],d=_;if(Ty(r,c,n)||Ty(e,c,n))delete i[c];else{if(fa(l)&&fa(d)){let p=n.get(l)||[],E=n.get(d)||[];p.push({obj:r,key:c}),E.push({obj:e,key:c}),n.set(l,p),n.set(d,E)}i[c]=Sy(i[c],_,t,n)}}}}else i=e;return i}}function Ty(r,e,t){let n=t.get(r[e])||[];for(let i=0,s=n.length;i<s;i++){let o=n[i];if(o.key===e&&o.obj===r)return!0}return!1}function Od(r){return Array.isArray(r)}function Ay(r){return typeof r=="function"}function fa(r){return!gd(r)&&!Od(r)&&!Ay(r)&&typeof r=="object"}function gd(r){return typeof r=="string"||typeof r=="number"||typeof r=="boolean"||typeof r>"u"||r instanceof Date||r instanceof RegExp||r===null}function YW(r,e){return!(!(0,fy.isPlainObject)(r)||!(0,fy.isPlainObject)(e))}});var Oy=a(Rs=>{"use strict";Object.defineProperty(Rs,"__esModule",{value:!0});Rs.isUrlIgnored=Rs.urlMatches=void 0;function gy(r,e){return typeof e=="string"?r===e:!!r.match(e)}Rs.urlMatches=gy;function WW(r,e){if(!e)return!1;for(let t of e)if(gy(r,t))return!0;return!1}Rs.isUrlIgnored=WW});var my=a(Rd=>{"use strict";Object.defineProperty(Rd,"__esModule",{value:!0});Rd.isWrapped=void 0;function kW(r){return typeof r=="function"&&typeof r.__original=="function"&&typeof r.__unwrap=="function"&&r.__wrapped===!0}Rd.isWrapped=kW});var Ry=a(Pd=>{"use strict";Object.defineProperty(Pd,"__esModule",{value:!0});Pd.Deferred=void 0;var ih=class{constructor(){this._promise=new Promise((e,t)=>{this._resolve=e,this._reject=t})}get promise(){return this._promise}resolve(e){this._resolve(e)}reject(e){this._reject(e)}};Pd.Deferred=ih});var Py=a(Nd=>{"use strict";Object.defineProperty(Nd,"__esModule",{value:!0});Nd.BindOnceFuture=void 0;var zW=Ry(),sh=class{constructor(e,t){this._callback=e,this._that=t,this._isCalled=!1,this._deferred=new zW.Deferred}get isCalled(){return this._isCalled}get promise(){return this._deferred.promise}call(...e){if(!this._isCalled){this._isCalled=!0;try{Promise.resolve(this._callback.call(this._that,...e)).then(t=>this._deferred.resolve(t),t=>this._deferred.reject(t))}catch(t){this._deferred.reject(t)}}return this._deferred.promise}};Nd.BindOnceFuture=sh});var Iy=a(Id=>{"use strict";Object.defineProperty(Id,"__esModule",{value:!0});Id._export=void 0;var Ny=f(),QW=ca();function ZW(r,e){return new Promise(t=>{Ny.context.with((0,QW.suppressTracing)(Ny.context.active()),()=>{r.export(e,n=>{t(n)})})})}Id._export=ZW});var bd=a(B=>{"use strict";var JW=B&&B.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Q=B&&B.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&JW(e,r,t)};Object.defineProperty(B,"__esModule",{value:!0});B.internal=B.baggageUtils=void 0;Q(fM(),B);Q(TM(),B);Q(OM(),B);Q(UA(),B);Q(wA(),B);Q($M(),B);Q(YM(),B);Q(WM(),B);Q(ad(),B);B.baggageUtils=CA();Q(VA(),B);Q(zM(),B);Q(ny(),B);Q(sy(),B);Q(oy(),B);Q(zA(),B);Q(ZA(),B);Q(uy(),B);Q(cy(),B);Q(ca(),B);Q(XA(),B);Q(qA(),B);Q(hy(),B);Q(BA(),B);Q(Oy(),B);Q(my(),B);Q(Py(),B);Q(ad(),B);var e8=Iy();B.internal={_export:e8._export}});var oh=a(vd=>{"use strict";Object.defineProperty(vd,"__esModule",{value:!0});vd.B3_DEBUG_FLAG_KEY=void 0;var t8=f();vd.B3_DEBUG_FLAG_KEY=(0,t8.createContextKey)("OpenTelemetry Context Key B3 Debug Flag")});var Ta=a(ot=>{"use strict";Object.defineProperty(ot,"__esModule",{value:!0});ot.X_B3_FLAGS=ot.X_B3_PARENT_SPAN_ID=ot.X_B3_SAMPLED=ot.X_B3_SPAN_ID=ot.X_B3_TRACE_ID=ot.B3_CONTEXT_HEADER=void 0;ot.B3_CONTEXT_HEADER="b3";ot.X_B3_TRACE_ID="x-b3-traceid";ot.X_B3_SPAN_ID="x-b3-spanid";ot.X_B3_SAMPLED="x-b3-sampled";ot.X_B3_PARENT_SPAN_ID="x-b3-parentspanid";ot.X_B3_FLAGS="x-b3-flags"});var Cy=a(Md=>{"use strict";Object.defineProperty(Md,"__esModule",{value:!0});Md.B3MultiPropagator=void 0;var Ut=f(),r8=bd(),by=oh(),pt=Ta(),n8=new Set([!0,"true","True","1",1]),i8=new Set([!1,"false","False","0",0]);function s8(r){return r===Ut.TraceFlags.SAMPLED||r===Ut.TraceFlags.NONE}function o8(r){return Array.isArray(r)?r[0]:r}function Cd(r,e,t){let n=e.get(r,t);return o8(n)}function a8(r,e){let t=Cd(r,e,pt.X_B3_TRACE_ID);return typeof t=="string"?t.padStart(32,"0"):""}function u8(r,e){let t=Cd(r,e,pt.X_B3_SPAN_ID);return typeof t=="string"?t:""}function vy(r,e){return Cd(r,e,pt.X_B3_FLAGS)==="1"?"1":void 0}function c8(r,e){let t=Cd(r,e,pt.X_B3_SAMPLED);if(vy(r,e)==="1"||n8.has(t))return Ut.TraceFlags.SAMPLED;if(t===void 0||i8.has(t))return Ut.TraceFlags.NONE}var ah=class{inject(e,t,n){let i=Ut.trace.getSpanContext(e);if(!i||!(0,Ut.isSpanContextValid)(i)||(0,r8.isTracingSuppressed)(e))return;let s=e.getValue(by.B3_DEBUG_FLAG_KEY);n.set(t,pt.X_B3_TRACE_ID,i.traceId),n.set(t,pt.X_B3_SPAN_ID,i.spanId),s==="1"?n.set(t,pt.X_B3_FLAGS,s):i.traceFlags!==void 0&&n.set(t,pt.X_B3_SAMPLED,(Ut.TraceFlags.SAMPLED&i.traceFlags)===Ut.TraceFlags.SAMPLED?"1":"0")}extract(e,t,n){let i=a8(t,n),s=u8(t,n),o=c8(t,n),u=vy(t,n);return(0,Ut.isValidTraceId)(i)&&(0,Ut.isValidSpanId)(s)&&s8(o)?(e=e.setValue(by.B3_DEBUG_FLAG_KEY,u),Ut.trace.setSpanContext(e,{traceId:i,spanId:s,isRemote:!0,traceFlags:o})):e}fields(){return[pt.X_B3_TRACE_ID,pt.X_B3_SPAN_ID,pt.X_B3_FLAGS,pt.X_B3_SAMPLED,pt.X_B3_PARENT_SPAN_ID]}};Md.B3MultiPropagator=ah});var yy=a(yd=>{"use strict";Object.defineProperty(yd,"__esModule",{value:!0});yd.B3SinglePropagator=void 0;var ui=f(),_8=bd(),My=oh(),uh=Ta(),l8=/((?:[0-9a-f]{16}){1,2})-([0-9a-f]{16})(?:-([01d](?![0-9a-f])))?(?:-([0-9a-f]{16}))?/,d8="0".repeat(16),E8=new Set(["d","1"]),p8="d";function f8(r){return r.length===32?r:`${d8}${r}`}function T8(r){return r&&E8.has(r)?ui.TraceFlags.SAMPLED:ui.TraceFlags.NONE}var ch=class{inject(e,t,n){let i=ui.trace.getSpanContext(e);if(!i||!(0,ui.isSpanContextValid)(i)||(0,_8.isTracingSuppressed)(e))return;let s=e.getValue(My.B3_DEBUG_FLAG_KEY)||i.traceFlags&1,o=`${i.traceId}-${i.spanId}-${s}`;n.set(t,uh.B3_CONTEXT_HEADER,o)}extract(e,t,n){let i=n.get(t,uh.B3_CONTEXT_HEADER),s=Array.isArray(i)?i[0]:i;if(typeof s!="string")return e;let o=s.match(l8);if(!o)return e;let[,u,c,_]=o,l=f8(u);if(!(0,ui.isValidTraceId)(l)||!(0,ui.isValidSpanId)(c))return e;let d=T8(_);return _===p8&&(e=e.setValue(My.B3_DEBUG_FLAG_KEY,_)),ui.trace.setSpanContext(e,{traceId:l,spanId:c,isRemote:!0,traceFlags:d})}fields(){return[uh.B3_CONTEXT_HEADER]}};yd.B3SinglePropagator=ch});var _h=a(Sa=>{"use strict";Object.defineProperty(Sa,"__esModule",{value:!0});Sa.B3InjectEncoding=void 0;var S8;(function(r){r[r.SINGLE_HEADER=0]="SINGLE_HEADER",r[r.MULTI_HEADER=1]="MULTI_HEADER"})(S8=Sa.B3InjectEncoding||(Sa.B3InjectEncoding={}))});var Ly=a(Ld=>{"use strict";Object.defineProperty(Ld,"__esModule",{value:!0});Ld.B3Propagator=void 0;var A8=bd(),h8=Cy(),g8=yy(),O8=Ta(),m8=_h(),lh=class{constructor(e={}){this._b3MultiPropagator=new h8.B3MultiPropagator,this._b3SinglePropagator=new g8.B3SinglePropagator,e.injectEncoding===m8.B3InjectEncoding.MULTI_HEADER?(this._inject=this._b3MultiPropagator.inject,this._fields=this._b3MultiPropagator.fields()):(this._inject=this._b3SinglePropagator.inject,this._fields=this._b3SinglePropagator.fields())}inject(e,t,n){(0,A8.isTracingSuppressed)(e)||this._inject(e,t,n)}extract(e,t,n){let i=n.get(t,O8.B3_CONTEXT_HEADER);return(Array.isArray(i)?i[0]:i)?this._b3SinglePropagator.extract(e,t,n):this._b3MultiPropagator.extract(e,t,n)}fields(){return this._fields}};Ld.B3Propagator=lh});var Dy=a(Sr=>{"use strict";var R8=Sr&&Sr.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),dh=Sr&&Sr.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&R8(e,r,t)};Object.defineProperty(Sr,"__esModule",{value:!0});dh(Ly(),Sr);dh(Ta(),Sr);dh(_h(),Sr)});var Aa=a(kr=>{"use strict";Object.defineProperty(kr,"__esModule",{value:!0});kr.isTracingSuppressed=kr.unsuppressTracing=kr.suppressTracing=void 0;var P8=f(),Eh=(0,P8.createContextKey)("OpenTelemetry SDK Context Key SUPPRESS_TRACING");function N8(r){return r.setValue(Eh,!0)}kr.suppressTracing=N8;function I8(r){return r.deleteValue(Eh)}kr.unsuppressTracing=I8;function b8(r){return r.getValue(Eh)===!0}kr.isTracingSuppressed=b8});var ph=a(Ke=>{"use strict";Object.defineProperty(Ke,"__esModule",{value:!0});Ke.BAGGAGE_MAX_TOTAL_LENGTH=Ke.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=Ke.BAGGAGE_MAX_NAME_VALUE_PAIRS=Ke.BAGGAGE_HEADER=Ke.BAGGAGE_ITEMS_SEPARATOR=Ke.BAGGAGE_PROPERTIES_SEPARATOR=Ke.BAGGAGE_KEY_PAIR_SEPARATOR=void 0;Ke.BAGGAGE_KEY_PAIR_SEPARATOR="=";Ke.BAGGAGE_PROPERTIES_SEPARATOR=";";Ke.BAGGAGE_ITEMS_SEPARATOR=",";Ke.BAGGAGE_HEADER="baggage";Ke.BAGGAGE_MAX_NAME_VALUE_PAIRS=180;Ke.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=4096;Ke.BAGGAGE_MAX_TOTAL_LENGTH=8192});var fh=a(Qt=>{"use strict";Object.defineProperty(Qt,"__esModule",{value:!0});Qt.parseKeyPairsIntoRecord=Qt.parsePairKeyValue=Qt.getKeyPairs=Qt.serializeKeyPairs=void 0;var v8=f(),ci=ph();function C8(r){return r.reduce((e,t)=>{let n=`${e}${e!==""?ci.BAGGAGE_ITEMS_SEPARATOR:""}${t}`;return n.length>ci.BAGGAGE_MAX_TOTAL_LENGTH?e:n},"")}Qt.serializeKeyPairs=C8;function M8(r){return r.getAllEntries().map(([e,t])=>{let n=`${encodeURIComponent(e)}=${encodeURIComponent(t.value)}`;return t.metadata!==void 0&&(n+=ci.BAGGAGE_PROPERTIES_SEPARATOR+t.metadata.toString()),n})}Qt.getKeyPairs=M8;function wy(r){let e=r.split(ci.BAGGAGE_PROPERTIES_SEPARATOR);if(e.length<=0)return;let t=e.shift();if(!t)return;let n=t.split(ci.BAGGAGE_KEY_PAIR_SEPARATOR);if(n.length!==2)return;let i=decodeURIComponent(n[0].trim()),s=decodeURIComponent(n[1].trim()),o;return e.length>0&&(o=(0,v8.baggageEntryMetadataFromString)(e.join(ci.BAGGAGE_PROPERTIES_SEPARATOR))),{key:i,value:s,metadata:o}}Qt.parsePairKeyValue=wy;function y8(r){return typeof r!="string"||r.length===0?{}:r.split(ci.BAGGAGE_ITEMS_SEPARATOR).map(e=>wy(e)).filter(e=>e!==void 0&&e.value.length>0).reduce((e,t)=>(e[t.key]=t.value,e),{})}Qt.parseKeyPairsIntoRecord=y8});var Uy=a(Dd=>{"use strict";Object.defineProperty(Dd,"__esModule",{value:!0});Dd.W3CBaggagePropagator=void 0;var Th=f(),L8=Aa(),_i=ph(),Sh=fh(),Ah=class{inject(e,t,n){let i=Th.propagation.getBaggage(e);if(!i||(0,L8.isTracingSuppressed)(e))return;let s=(0,Sh.getKeyPairs)(i).filter(u=>u.length<=_i.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS).slice(0,_i.BAGGAGE_MAX_NAME_VALUE_PAIRS),o=(0,Sh.serializeKeyPairs)(s);o.length>0&&n.set(t,_i.BAGGAGE_HEADER,o)}extract(e,t,n){let i=n.get(t,_i.BAGGAGE_HEADER),s=Array.isArray(i)?i.join(_i.BAGGAGE_ITEMS_SEPARATOR):i;if(!s)return e;let o={};return s.length===0||(s.split(_i.BAGGAGE_ITEMS_SEPARATOR).forEach(c=>{let _=(0,Sh.parsePairKeyValue)(c);if(_){let l={value:_.value};_.metadata&&(l.metadata=_.metadata),o[_.key]=l}}),Object.entries(o).length===0)?e:Th.propagation.setBaggage(e,Th.propagation.createBaggage(o))}fields(){return[_i.BAGGAGE_HEADER]}};Dd.W3CBaggagePropagator=Ah});var By=a(wd=>{"use strict";Object.defineProperty(wd,"__esModule",{value:!0});wd.AnchoredClock=void 0;var hh=class{constructor(e,t){this._monotonicClock=t,this._epochMillis=e.now(),this._performanceMillis=t.now()}now(){let e=this._monotonicClock.now()-this._performanceMillis;return this._epochMillis+e}};wd.AnchoredClock=hh});var Hy=a(zr=>{"use strict";Object.defineProperty(zr,"__esModule",{value:!0});zr.isAttributeValue=zr.isAttributeKey=zr.sanitizeAttributes=void 0;var Gy=f();function D8(r){let e={};if(typeof r!="object"||r==null)return e;for(let[t,n]of Object.entries(r)){if(!qy(t)){Gy.diag.warn(`Invalid attribute key: ${t}`);continue}if(!jy(n)){Gy.diag.warn(`Invalid attribute value set for key: ${t}`);continue}Array.isArray(n)?e[t]=n.slice():e[t]=n}return e}zr.sanitizeAttributes=D8;function qy(r){return typeof r=="string"&&r.length>0}zr.isAttributeKey=qy;function jy(r){return r==null?!0:Array.isArray(r)?w8(r):Vy(r)}zr.isAttributeValue=jy;function w8(r){let e;for(let t of r)if(t!=null){if(!e){if(Vy(t)){e=typeof t;continue}return!1}if(typeof t!==e)return!1}return!0}function Vy(r){switch(typeof r){case"number":case"boolean":case"string":return!0}return!1}});var gh=a(Ud=>{"use strict";Object.defineProperty(Ud,"__esModule",{value:!0});Ud.loggingErrorHandler=void 0;var U8=f();function B8(){return r=>{U8.diag.error(G8(r))}}Ud.loggingErrorHandler=B8;function G8(r){return typeof r=="string"?r:JSON.stringify(q8(r))}function q8(r){let e={},t=r;for(;t!==null;)Object.getOwnPropertyNames(t).forEach(n=>{if(e[n])return;let i=t[n];i&&(e[n]=String(i))}),t=Object.getPrototypeOf(t);return e}});var Oh=a(Ps=>{"use strict";Object.defineProperty(Ps,"__esModule",{value:!0});Ps.globalErrorHandler=Ps.setGlobalErrorHandler=void 0;var j8=gh(),Fy=(0,j8.loggingErrorHandler)();function V8(r){Fy=r}Ps.setGlobalErrorHandler=V8;function H8(r){try{Fy(r)}catch{}}Ps.globalErrorHandler=H8});var mh=a(ha=>{"use strict";Object.defineProperty(ha,"__esModule",{value:!0});ha.TracesSamplerValues=void 0;var F8;(function(r){r.AlwaysOff="always_off",r.AlwaysOn="always_on",r.ParentBasedAlwaysOff="parentbased_always_off",r.ParentBasedAlwaysOn="parentbased_always_on",r.ParentBasedTraceIdRatio="parentbased_traceidratio",r.TraceIdRatio="traceidratio"})(F8=ha.TracesSamplerValues||(ha.TracesSamplerValues={}))});var xy=a(Bd=>{"use strict";Object.defineProperty(Bd,"__esModule",{value:!0});Bd._globalThis=void 0;Bd._globalThis=typeof globalThis=="object"?globalThis:typeof self=="object"?self:typeof window=="object"?window:typeof global=="object"?global:{}});var Ph=a(be=>{"use strict";Object.defineProperty(be,"__esModule",{value:!0});be.getEnvWithoutDefaults=be.parseEnvironment=be.DEFAULT_ENVIRONMENT=be.DEFAULT_ATTRIBUTE_COUNT_LIMIT=be.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT=void 0;var Qr=f(),x8=mh(),K8=xy(),$8=",",X8=["OTEL_SDK_DISABLED"];function Y8(r){return X8.indexOf(r)>-1}var W8=["OTEL_BSP_EXPORT_TIMEOUT","OTEL_BSP_MAX_EXPORT_BATCH_SIZE","OTEL_BSP_MAX_QUEUE_SIZE","OTEL_BSP_SCHEDULE_DELAY","OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_EVENT_COUNT_LIMIT","OTEL_SPAN_LINK_COUNT_LIMIT","OTEL_EXPORTER_OTLP_TIMEOUT","OTEL_EXPORTER_OTLP_TRACES_TIMEOUT","OTEL_EXPORTER_OTLP_METRICS_TIMEOUT","OTEL_EXPORTER_JAEGER_AGENT_PORT"];function k8(r){return W8.indexOf(r)>-1}var z8=["OTEL_NO_PATCH_MODULES","OTEL_PROPAGATORS"];function Q8(r){return z8.indexOf(r)>-1}be.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT=1/0;be.DEFAULT_ATTRIBUTE_COUNT_LIMIT=128;be.DEFAULT_ENVIRONMENT={OTEL_SDK_DISABLED:!1,CONTAINER_NAME:"",ECS_CONTAINER_METADATA_URI_V4:"",ECS_CONTAINER_METADATA_URI:"",HOSTNAME:"",KUBERNETES_SERVICE_HOST:"",NAMESPACE:"",OTEL_BSP_EXPORT_TIMEOUT:3e4,OTEL_BSP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BSP_MAX_QUEUE_SIZE:2048,OTEL_BSP_SCHEDULE_DELAY:5e3,OTEL_EXPORTER_JAEGER_AGENT_HOST:"",OTEL_EXPORTER_JAEGER_AGENT_PORT:6832,OTEL_EXPORTER_JAEGER_ENDPOINT:"",OTEL_EXPORTER_JAEGER_PASSWORD:"",OTEL_EXPORTER_JAEGER_USER:"",OTEL_EXPORTER_OTLP_ENDPOINT:"",OTEL_EXPORTER_OTLP_TRACES_ENDPOINT:"",OTEL_EXPORTER_OTLP_METRICS_ENDPOINT:"",OTEL_EXPORTER_OTLP_HEADERS:"",OTEL_EXPORTER_OTLP_TRACES_HEADERS:"",OTEL_EXPORTER_OTLP_METRICS_HEADERS:"",OTEL_EXPORTER_OTLP_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_TRACES_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_METRICS_TIMEOUT:1e4,OTEL_EXPORTER_ZIPKIN_ENDPOINT:"http://localhost:9411/api/v2/spans",OTEL_LOG_LEVEL:Qr.DiagLogLevel.INFO,OTEL_NO_PATCH_MODULES:[],OTEL_PROPAGATORS:["tracecontext","baggage"],OTEL_RESOURCE_ATTRIBUTES:"",OTEL_SERVICE_NAME:"",OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT:be.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT,OTEL_ATTRIBUTE_COUNT_LIMIT:be.DEFAULT_ATTRIBUTE_COUNT_LIMIT,OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT:be.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT,OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT:be.DEFAULT_ATTRIBUTE_COUNT_LIMIT,OTEL_SPAN_EVENT_COUNT_LIMIT:128,OTEL_SPAN_LINK_COUNT_LIMIT:128,OTEL_TRACES_EXPORTER:"",OTEL_TRACES_SAMPLER:x8.TracesSamplerValues.ParentBasedAlwaysOn,OTEL_TRACES_SAMPLER_ARG:"",OTEL_EXPORTER_OTLP_INSECURE:"",OTEL_EXPORTER_OTLP_TRACES_INSECURE:"",OTEL_EXPORTER_OTLP_METRICS_INSECURE:"",OTEL_EXPORTER_OTLP_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_COMPRESSION:"",OTEL_EXPORTER_OTLP_TRACES_COMPRESSION:"",OTEL_EXPORTER_OTLP_METRICS_COMPRESSION:"",OTEL_EXPORTER_OTLP_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_TRACES_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_TEMPORALITY_PREFERENCE:"cumulative"};function Z8(r,e,t){if(typeof t[r]>"u")return;let n=String(t[r]);e[r]=n.toLowerCase()==="true"}function J8(r,e,t,n=-1/0,i=1/0){if(typeof t[r]<"u"){let s=Number(t[r]);isNaN(s)||(s<n?e[r]=n:s>i?e[r]=i:e[r]=s)}}function e3(r,e,t,n=$8){let i=t[r];typeof i=="string"&&(e[r]=i.split(n).map(s=>s.trim()))}var t3={ALL:Qr.DiagLogLevel.ALL,VERBOSE:Qr.DiagLogLevel.VERBOSE,DEBUG:Qr.DiagLogLevel.DEBUG,INFO:Qr.DiagLogLevel.INFO,WARN:Qr.DiagLogLevel.WARN,ERROR:Qr.DiagLogLevel.ERROR,NONE:Qr.DiagLogLevel.NONE};function r3(r,e,t){let n=t[r];if(typeof n=="string"){let i=t3[n.toUpperCase()];i!=null&&(e[r]=i)}}function Rh(r){let e={};for(let t in be.DEFAULT_ENVIRONMENT){let n=t;switch(n){case"OTEL_LOG_LEVEL":r3(n,e,r);break;default:if(Y8(n))Z8(n,e,r);else if(k8(n))J8(n,e,r);else if(Q8(n))e3(n,e,r);else{let i=r[n];typeof i<"u"&&i!==null&&(e[n]=String(i))}}}return e}be.parseEnvironment=Rh;function n3(){return Rh(typeof process<"u"?process.env:K8._globalThis)}be.getEnvWithoutDefaults=n3});var $y=a(Gd=>{"use strict";Object.defineProperty(Gd,"__esModule",{value:!0});Gd.getEnv=void 0;var i3=require("os"),Ky=Ph();function s3(){let r=(0,Ky.parseEnvironment)(process.env);return Object.assign({HOSTNAME:i3.hostname()},Ky.DEFAULT_ENVIRONMENT,r)}Gd.getEnv=s3});var Xy=a(qd=>{"use strict";Object.defineProperty(qd,"__esModule",{value:!0});qd._globalThis=void 0;qd._globalThis=typeof globalThis=="object"?globalThis:global});var Wy=a(jd=>{"use strict";Object.defineProperty(jd,"__esModule",{value:!0});jd.hexToBase64=void 0;function Yy(r){return r>=48&&r<=57?r-48:r>=97&&r<=102?r-87:r-55}var o3=Buffer.alloc(8),a3=Buffer.alloc(16);function u3(r){let e;r.length===16?e=o3:r.length===32?e=a3:e=Buffer.alloc(r.length/2);let t=0;for(let n=0;n<r.length;n+=2){let i=Yy(r.charCodeAt(n)),s=Yy(r.charCodeAt(n+1));e.writeUInt8(i<<4|s,t++)}return e.toString("base64")}jd.hexToBase64=u3});var Qy=a(Hd=>{"use strict";Object.defineProperty(Hd,"__esModule",{value:!0});Hd.RandomIdGenerator=void 0;var c3=8,zy=16,Nh=class{constructor(){this.generateTraceId=ky(zy),this.generateSpanId=ky(c3)}};Hd.RandomIdGenerator=Nh;var Vd=Buffer.allocUnsafe(zy);function ky(r){return function(){for(let t=0;t<r/4;t++)Vd.writeUInt32BE(Math.random()*2**32>>>0,t*4);for(let t=0;t<r&&!(Vd[t]>0);t++)t===r-1&&(Vd[r-1]=1);return Vd.toString("hex",0,r)}}});var Zy=a(Fd=>{"use strict";Object.defineProperty(Fd,"__esModule",{value:!0});Fd.otperformance=void 0;var _3=require("perf_hooks");Fd.otperformance=_3.performance});var Kd=a(xd=>{"use strict";Object.defineProperty(xd,"__esModule",{value:!0});xd.VERSION=void 0;xd.VERSION="1.9.0"});var Jy=a(X=>{"use strict";Object.defineProperty(X,"__esModule",{value:!0});X.MessageTypeValues=X.RpcGrpcStatusCodeValues=X.MessagingOperationValues=X.MessagingDestinationKindValues=X.HttpFlavorValues=X.NetHostConnectionSubtypeValues=X.NetHostConnectionTypeValues=X.NetTransportValues=X.FaasInvokedProviderValues=X.FaasDocumentOperationValues=X.FaasTriggerValues=X.DbCassandraConsistencyLevelValues=X.DbSystemValues=X.SemanticAttributes=void 0;X.SemanticAttributes={AWS_LAMBDA_INVOKED_ARN:"aws.lambda.invoked_arn",DB_SYSTEM:"db.system",DB_CONNECTION_STRING:"db.connection_string",DB_USER:"db.user",DB_JDBC_DRIVER_CLASSNAME:"db.jdbc.driver_classname",DB_NAME:"db.name",DB_STATEMENT:"db.statement",DB_OPERATION:"db.operation",DB_MSSQL_INSTANCE_NAME:"db.mssql.instance_name",DB_CASSANDRA_KEYSPACE:"db.cassandra.keyspace",DB_CASSANDRA_PAGE_SIZE:"db.cassandra.page_size",DB_CASSANDRA_CONSISTENCY_LEVEL:"db.cassandra.consistency_level",DB_CASSANDRA_TABLE:"db.cassandra.table",DB_CASSANDRA_IDEMPOTENCE:"db.cassandra.idempotence",DB_CASSANDRA_SPECULATIVE_EXECUTION_COUNT:"db.cassandra.speculative_execution_count",DB_CASSANDRA_COORDINATOR_ID:"db.cassandra.coordinator.id",DB_CASSANDRA_COORDINATOR_DC:"db.cassandra.coordinator.dc",DB_HBASE_NAMESPACE:"db.hbase.namespace",DB_REDIS_DATABASE_INDEX:"db.redis.database_index",DB_MONGODB_COLLECTION:"db.mongodb.collection",DB_SQL_TABLE:"db.sql.table",EXCEPTION_TYPE:"exception.type",EXCEPTION_MESSAGE:"exception.message",EXCEPTION_STACKTRACE:"exception.stacktrace",EXCEPTION_ESCAPED:"exception.escaped",FAAS_TRIGGER:"faas.trigger",FAAS_EXECUTION:"faas.execution",FAAS_DOCUMENT_COLLECTION:"faas.document.collection",FAAS_DOCUMENT_OPERATION:"faas.document.operation",FAAS_DOCUMENT_TIME:"faas.document.time",FAAS_DOCUMENT_NAME:"faas.document.name",FAAS_TIME:"faas.time",FAAS_CRON:"faas.cron",FAAS_COLDSTART:"faas.coldstart",FAAS_INVOKED_NAME:"faas.invoked_name",FAAS_INVOKED_PROVIDER:"faas.invoked_provider",FAAS_INVOKED_REGION:"faas.invoked_region",NET_TRANSPORT:"net.transport",NET_PEER_IP:"net.peer.ip",NET_PEER_PORT:"net.peer.port",NET_PEER_NAME:"net.peer.name",NET_HOST_IP:"net.host.ip",NET_HOST_PORT:"net.host.port",NET_HOST_NAME:"net.host.name",NET_HOST_CONNECTION_TYPE:"net.host.connection.type",NET_HOST_CONNECTION_SUBTYPE:"net.host.connection.subtype",NET_HOST_CARRIER_NAME:"net.host.carrier.name",NET_HOST_CARRIER_MCC:"net.host.carrier.mcc",NET_HOST_CARRIER_MNC:"net.host.carrier.mnc",NET_HOST_CARRIER_ICC:"net.host.carrier.icc",PEER_SERVICE:"peer.service",ENDUSER_ID:"enduser.id",ENDUSER_ROLE:"enduser.role",ENDUSER_SCOPE:"enduser.scope",THREAD_ID:"thread.id",THREAD_NAME:"thread.name",CODE_FUNCTION:"code.function",CODE_NAMESPACE:"code.namespace",CODE_FILEPATH:"code.filepath",CODE_LINENO:"code.lineno",HTTP_METHOD:"http.method",HTTP_URL:"http.url",HTTP_TARGET:"http.target",HTTP_HOST:"http.host",HTTP_SCHEME:"http.scheme",HTTP_STATUS_CODE:"http.status_code",HTTP_FLAVOR:"http.flavor",HTTP_USER_AGENT:"http.user_agent",HTTP_REQUEST_CONTENT_LENGTH:"http.request_content_length",HTTP_REQUEST_CONTENT_LENGTH_UNCOMPRESSED:"http.request_content_length_uncompressed",HTTP_RESPONSE_CONTENT_LENGTH:"http.response_content_length",HTTP_RESPONSE_CONTENT_LENGTH_UNCOMPRESSED:"http.response_content_length_uncompressed",HTTP_SERVER_NAME:"http.server_name",HTTP_ROUTE:"http.route",HTTP_CLIENT_IP:"http.client_ip",AWS_DYNAMODB_TABLE_NAMES:"aws.dynamodb.table_names",AWS_DYNAMODB_CONSUMED_CAPACITY:"aws.dynamodb.consumed_capacity",AWS_DYNAMODB_ITEM_COLLECTION_METRICS:"aws.dynamodb.item_collection_metrics",AWS_DYNAMODB_PROVISIONED_READ_CAPACITY:"aws.dynamodb.provisioned_read_capacity",AWS_DYNAMODB_PROVISIONED_WRITE_CAPACITY:"aws.dynamodb.provisioned_write_capacity",AWS_DYNAMODB_CONSISTENT_READ:"aws.dynamodb.consistent_read",AWS_DYNAMODB_PROJECTION:"aws.dynamodb.projection",AWS_DYNAMODB_LIMIT:"aws.dynamodb.limit",AWS_DYNAMODB_ATTRIBUTES_TO_GET:"aws.dynamodb.attributes_to_get",AWS_DYNAMODB_INDEX_NAME:"aws.dynamodb.index_name",AWS_DYNAMODB_SELECT:"aws.dynamodb.select",AWS_DYNAMODB_GLOBAL_SECONDARY_INDEXES:"aws.dynamodb.global_secondary_indexes",AWS_DYNAMODB_LOCAL_SECONDARY_INDEXES:"aws.dynamodb.local_secondary_indexes",AWS_DYNAMODB_EXCLUSIVE_START_TABLE:"aws.dynamodb.exclusive_start_table",AWS_DYNAMODB_TABLE_COUNT:"aws.dynamodb.table_count",AWS_DYNAMODB_SCAN_FORWARD:"aws.dynamodb.scan_forward",AWS_DYNAMODB_SEGMENT:"aws.dynamodb.segment",AWS_DYNAMODB_TOTAL_SEGMENTS:"aws.dynamodb.total_segments",AWS_DYNAMODB_COUNT:"aws.dynamodb.count",AWS_DYNAMODB_SCANNED_COUNT:"aws.dynamodb.scanned_count",AWS_DYNAMODB_ATTRIBUTE_DEFINITIONS:"aws.dynamodb.attribute_definitions",AWS_DYNAMODB_GLOBAL_SECONDARY_INDEX_UPDATES:"aws.dynamodb.global_secondary_index_updates",MESSAGING_SYSTEM:"messaging.system",MESSAGING_DESTINATION:"messaging.destination",MESSAGING_DESTINATION_KIND:"messaging.destination_kind",MESSAGING_TEMP_DESTINATION:"messaging.temp_destination",MESSAGING_PROTOCOL:"messaging.protocol",MESSAGING_PROTOCOL_VERSION:"messaging.protocol_version",MESSAGING_URL:"messaging.url",MESSAGING_MESSAGE_ID:"messaging.message_id",MESSAGING_CONVERSATION_ID:"messaging.conversation_id",MESSAGING_MESSAGE_PAYLOAD_SIZE_BYTES:"messaging.message_payload_size_bytes",MESSAGING_MESSAGE_PAYLOAD_COMPRESSED_SIZE_BYTES:"messaging.message_payload_compressed_size_bytes",MESSAGING_OPERATION:"messaging.operation",MESSAGING_CONSUMER_ID:"messaging.consumer_id",MESSAGING_RABBITMQ_ROUTING_KEY:"messaging.rabbitmq.routing_key",MESSAGING_KAFKA_MESSAGE_KEY:"messaging.kafka.message_key",MESSAGING_KAFKA_CONSUMER_GROUP:"messaging.kafka.consumer_group",MESSAGING_KAFKA_CLIENT_ID:"messaging.kafka.client_id",MESSAGING_KAFKA_PARTITION:"messaging.kafka.partition",MESSAGING_KAFKA_TOMBSTONE:"messaging.kafka.tombstone",RPC_SYSTEM:"rpc.system",RPC_SERVICE:"rpc.service",RPC_METHOD:"rpc.method",RPC_GRPC_STATUS_CODE:"rpc.grpc.status_code",RPC_JSONRPC_VERSION:"rpc.jsonrpc.version",RPC_JSONRPC_REQUEST_ID:"rpc.jsonrpc.request_id",RPC_JSONRPC_ERROR_CODE:"rpc.jsonrpc.error_code",RPC_JSONRPC_ERROR_MESSAGE:"rpc.jsonrpc.error_message",MESSAGE_TYPE:"message.type",MESSAGE_ID:"message.id",MESSAGE_COMPRESSED_SIZE:"message.compressed_size",MESSAGE_UNCOMPRESSED_SIZE:"message.uncompressed_size"};X.DbSystemValues={OTHER_SQL:"other_sql",MSSQL:"mssql",MYSQL:"mysql",ORACLE:"oracle",DB2:"db2",POSTGRESQL:"postgresql",REDSHIFT:"redshift",HIVE:"hive",CLOUDSCAPE:"cloudscape",HSQLDB:"hsqldb",PROGRESS:"progress",MAXDB:"maxdb",HANADB:"hanadb",INGRES:"ingres",FIRSTSQL:"firstsql",EDB:"edb",CACHE:"cache",ADABAS:"adabas",FIREBIRD:"firebird",DERBY:"derby",FILEMAKER:"filemaker",INFORMIX:"informix",INSTANTDB:"instantdb",INTERBASE:"interbase",MARIADB:"mariadb",NETEZZA:"netezza",PERVASIVE:"pervasive",POINTBASE:"pointbase",SQLITE:"sqlite",SYBASE:"sybase",TERADATA:"teradata",VERTICA:"vertica",H2:"h2",COLDFUSION:"coldfusion",CASSANDRA:"cassandra",HBASE:"hbase",MONGODB:"mongodb",REDIS:"redis",COUCHBASE:"couchbase",COUCHDB:"couchdb",COSMOSDB:"cosmosdb",DYNAMODB:"dynamodb",NEO4J:"neo4j",GEODE:"geode",ELASTICSEARCH:"elasticsearch",MEMCACHED:"memcached",COCKROACHDB:"cockroachdb"};X.DbCassandraConsistencyLevelValues={ALL:"all",EACH_QUORUM:"each_quorum",QUORUM:"quorum",LOCAL_QUORUM:"local_quorum",ONE:"one",TWO:"two",THREE:"three",LOCAL_ONE:"local_one",ANY:"any",SERIAL:"serial",LOCAL_SERIAL:"local_serial"};X.FaasTriggerValues={DATASOURCE:"datasource",HTTP:"http",PUBSUB:"pubsub",TIMER:"timer",OTHER:"other"};X.FaasDocumentOperationValues={INSERT:"insert",EDIT:"edit",DELETE:"delete"};X.FaasInvokedProviderValues={ALIBABA_CLOUD:"alibaba_cloud",AWS:"aws",AZURE:"azure",GCP:"gcp"};X.NetTransportValues={IP_TCP:"ip_tcp",IP_UDP:"ip_udp",IP:"ip",UNIX:"unix",PIPE:"pipe",INPROC:"inproc",OTHER:"other"};X.NetHostConnectionTypeValues={WIFI:"wifi",WIRED:"wired",CELL:"cell",UNAVAILABLE:"unavailable",UNKNOWN:"unknown"};X.NetHostConnectionSubtypeValues={GPRS:"gprs",EDGE:"edge",UMTS:"umts",CDMA:"cdma",EVDO_0:"evdo_0",EVDO_A:"evdo_a",CDMA2000_1XRTT:"cdma2000_1xrtt",HSDPA:"hsdpa",HSUPA:"hsupa",HSPA:"hspa",IDEN:"iden",EVDO_B:"evdo_b",LTE:"lte",EHRPD:"ehrpd",HSPAP:"hspap",GSM:"gsm",TD_SCDMA:"td_scdma",IWLAN:"iwlan",NR:"nr",NRNSA:"nrnsa",LTE_CA:"lte_ca"};X.HttpFlavorValues={HTTP_1_0:"1.0",HTTP_1_1:"1.1",HTTP_2_0:"2.0",SPDY:"SPDY",QUIC:"QUIC"};X.MessagingDestinationKindValues={QUEUE:"queue",TOPIC:"topic"};X.MessagingOperationValues={RECEIVE:"receive",PROCESS:"process"};X.RpcGrpcStatusCodeValues={OK:0,CANCELLED:1,UNKNOWN:2,INVALID_ARGUMENT:3,DEADLINE_EXCEEDED:4,NOT_FOUND:5,ALREADY_EXISTS:6,PERMISSION_DENIED:7,RESOURCE_EXHAUSTED:8,FAILED_PRECONDITION:9,ABORTED:10,OUT_OF_RANGE:11,UNIMPLEMENTED:12,INTERNAL:13,UNAVAILABLE:14,DATA_LOSS:15,UNAUTHENTICATED:16};X.MessageTypeValues={SENT:"SENT",RECEIVED:"RECEIVED"}});var eL=a(li=>{"use strict";var l3=li&&li.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),d3=li&&li.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&l3(e,r,t)};Object.defineProperty(li,"__esModule",{value:!0});d3(Jy(),li)});var tL=a($e=>{"use strict";Object.defineProperty($e,"__esModule",{value:!0});$e.TelemetrySdkLanguageValues=$e.OsTypeValues=$e.HostArchValues=$e.AwsEcsLaunchtypeValues=$e.CloudPlatformValues=$e.CloudProviderValues=$e.SemanticResourceAttributes=void 0;$e.SemanticResourceAttributes={CLOUD_PROVIDER:"cloud.provider",CLOUD_ACCOUNT_ID:"cloud.account.id",CLOUD_REGION:"cloud.region",CLOUD_AVAILABILITY_ZONE:"cloud.availability_zone",CLOUD_PLATFORM:"cloud.platform",AWS_ECS_CONTAINER_ARN:"aws.ecs.container.arn",AWS_ECS_CLUSTER_ARN:"aws.ecs.cluster.arn",AWS_ECS_LAUNCHTYPE:"aws.ecs.launchtype",AWS_ECS_TASK_ARN:"aws.ecs.task.arn",AWS_ECS_TASK_FAMILY:"aws.ecs.task.family",AWS_ECS_TASK_REVISION:"aws.ecs.task.revision",AWS_EKS_CLUSTER_ARN:"aws.eks.cluster.arn",AWS_LOG_GROUP_NAMES:"aws.log.group.names",AWS_LOG_GROUP_ARNS:"aws.log.group.arns",AWS_LOG_STREAM_NAMES:"aws.log.stream.names",AWS_LOG_STREAM_ARNS:"aws.log.stream.arns",CONTAINER_NAME:"container.name",CONTAINER_ID:"container.id",CONTAINER_RUNTIME:"container.runtime",CONTAINER_IMAGE_NAME:"container.image.name",CONTAINER_IMAGE_TAG:"container.image.tag",DEPLOYMENT_ENVIRONMENT:"deployment.environment",DEVICE_ID:"device.id",DEVICE_MODEL_IDENTIFIER:"device.model.identifier",DEVICE_MODEL_NAME:"device.model.name",FAAS_NAME:"faas.name",FAAS_ID:"faas.id",FAAS_VERSION:"faas.version",FAAS_INSTANCE:"faas.instance",FAAS_MAX_MEMORY:"faas.max_memory",HOST_ID:"host.id",HOST_NAME:"host.name",HOST_TYPE:"host.type",HOST_ARCH:"host.arch",HOST_IMAGE_NAME:"host.image.name",HOST_IMAGE_ID:"host.image.id",HOST_IMAGE_VERSION:"host.image.version",K8S_CLUSTER_NAME:"k8s.cluster.name",K8S_NODE_NAME:"k8s.node.name",K8S_NODE_UID:"k8s.node.uid",K8S_NAMESPACE_NAME:"k8s.namespace.name",K8S_POD_UID:"k8s.pod.uid",K8S_POD_NAME:"k8s.pod.name",K8S_CONTAINER_NAME:"k8s.container.name",K8S_REPLICASET_UID:"k8s.replicaset.uid",K8S_REPLICASET_NAME:"k8s.replicaset.name",K8S_DEPLOYMENT_UID:"k8s.deployment.uid",K8S_DEPLOYMENT_NAME:"k8s.deployment.name",K8S_STATEFULSET_UID:"k8s.statefulset.uid",K8S_STATEFULSET_NAME:"k8s.statefulset.name",K8S_DAEMONSET_UID:"k8s.daemonset.uid",K8S_DAEMONSET_NAME:"k8s.daemonset.name",K8S_JOB_UID:"k8s.job.uid",K8S_JOB_NAME:"k8s.job.name",K8S_CRONJOB_UID:"k8s.cronjob.uid",K8S_CRONJOB_NAME:"k8s.cronjob.name",OS_TYPE:"os.type",OS_DESCRIPTION:"os.description",OS_NAME:"os.name",OS_VERSION:"os.version",PROCESS_PID:"process.pid",PROCESS_EXECUTABLE_NAME:"process.executable.name",PROCESS_EXECUTABLE_PATH:"process.executable.path",PROCESS_COMMAND:"process.command",PROCESS_COMMAND_LINE:"process.command_line",PROCESS_COMMAND_ARGS:"process.command_args",PROCESS_OWNER:"process.owner",PROCESS_RUNTIME_NAME:"process.runtime.name",PROCESS_RUNTIME_VERSION:"process.runtime.version",PROCESS_RUNTIME_DESCRIPTION:"process.runtime.description",SERVICE_NAME:"service.name",SERVICE_NAMESPACE:"service.namespace",SERVICE_INSTANCE_ID:"service.instance.id",SERVICE_VERSION:"service.version",TELEMETRY_SDK_NAME:"telemetry.sdk.name",TELEMETRY_SDK_LANGUAGE:"telemetry.sdk.language",TELEMETRY_SDK_VERSION:"telemetry.sdk.version",TELEMETRY_AUTO_VERSION:"telemetry.auto.version",WEBENGINE_NAME:"webengine.name",WEBENGINE_VERSION:"webengine.version",WEBENGINE_DESCRIPTION:"webengine.description"};$e.CloudProviderValues={ALIBABA_CLOUD:"alibaba_cloud",AWS:"aws",AZURE:"azure",GCP:"gcp"};$e.CloudPlatformValues={ALIBABA_CLOUD_ECS:"alibaba_cloud_ecs",ALIBABA_CLOUD_FC:"alibaba_cloud_fc",AWS_EC2:"aws_ec2",AWS_ECS:"aws_ecs",AWS_EKS:"aws_eks",AWS_LAMBDA:"aws_lambda",AWS_ELASTIC_BEANSTALK:"aws_elastic_beanstalk",AZURE_VM:"azure_vm",AZURE_CONTAINER_INSTANCES:"azure_container_instances",AZURE_AKS:"azure_aks",AZURE_FUNCTIONS:"azure_functions",AZURE_APP_SERVICE:"azure_app_service",GCP_COMPUTE_ENGINE:"gcp_compute_engine",GCP_CLOUD_RUN:"gcp_cloud_run",GCP_KUBERNETES_ENGINE:"gcp_kubernetes_engine",GCP_CLOUD_FUNCTIONS:"gcp_cloud_functions",GCP_APP_ENGINE:"gcp_app_engine"};$e.AwsEcsLaunchtypeValues={EC2:"ec2",FARGATE:"fargate"};$e.HostArchValues={AMD64:"amd64",ARM32:"arm32",ARM64:"arm64",IA64:"ia64",PPC32:"ppc32",PPC64:"ppc64",X86:"x86"};$e.OsTypeValues={WINDOWS:"windows",LINUX:"linux",DARWIN:"darwin",FREEBSD:"freebsd",NETBSD:"netbsd",OPENBSD:"openbsd",DRAGONFLYBSD:"dragonflybsd",HPUX:"hpux",AIX:"aix",SOLARIS:"solaris",Z_OS:"z_os"};$e.TelemetrySdkLanguageValues={CPP:"cpp",DOTNET:"dotnet",ERLANG:"erlang",GO:"go",JAVA:"java",NODEJS:"nodejs",PHP:"php",PYTHON:"python",RUBY:"ruby",WEBJS:"webjs"}});var rL=a(di=>{"use strict";var E3=di&&di.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),p3=di&&di.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&E3(e,r,t)};Object.defineProperty(di,"__esModule",{value:!0});p3(tL(),di)});var iL=a(Zr=>{"use strict";var f3=Zr&&Zr.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),nL=Zr&&Zr.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&f3(e,r,t)};Object.defineProperty(Zr,"__esModule",{value:!0});nL(eL(),Zr);nL(rL(),Zr)});var sL=a($d=>{"use strict";Object.defineProperty($d,"__esModule",{value:!0});$d.SDK_INFO=void 0;var T3=Kd(),ga=iL();$d.SDK_INFO={[ga.SemanticResourceAttributes.TELEMETRY_SDK_NAME]:"opentelemetry",[ga.SemanticResourceAttributes.PROCESS_RUNTIME_NAME]:"node",[ga.SemanticResourceAttributes.TELEMETRY_SDK_LANGUAGE]:ga.TelemetrySdkLanguageValues.NODEJS,[ga.SemanticResourceAttributes.TELEMETRY_SDK_VERSION]:T3.VERSION}});var oL=a(Xd=>{"use strict";Object.defineProperty(Xd,"__esModule",{value:!0});Xd.unrefTimer=void 0;function S3(r){r.unref()}Xd.unrefTimer=S3});var aL=a(ft=>{"use strict";var A3=ft&&ft.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Ei=ft&&ft.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&A3(e,r,t)};Object.defineProperty(ft,"__esModule",{value:!0});Ei($y(),ft);Ei(Xy(),ft);Ei(Wy(),ft);Ei(Qy(),ft);Ei(Zy(),ft);Ei(sL(),ft);Ei(oL(),ft)});var Ih=a(pi=>{"use strict";var h3=pi&&pi.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),g3=pi&&pi.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&h3(e,r,t)};Object.defineProperty(pi,"__esModule",{value:!0});g3(aL(),pi)});var lL=a(re=>{"use strict";Object.defineProperty(re,"__esModule",{value:!0});re.addHrTimes=re.isTimeInput=re.isTimeInputHrTime=re.hrTimeToMicroseconds=re.hrTimeToMilliseconds=re.hrTimeToNanoseconds=re.hrTimeToTimeStamp=re.hrTimeDuration=re.timeInputToHrTime=re.hrTime=re.getTimeOrigin=re.millisToHrTime=void 0;var bh=Ih(),uL=9,O3=6,m3=Math.pow(10,O3),Yd=Math.pow(10,uL);function Oa(r){let e=r/1e3,t=Math.trunc(e),n=Math.round(r%1e3*m3);return[t,n]}re.millisToHrTime=Oa;function vh(){let r=bh.otperformance.timeOrigin;if(typeof r!="number"){let e=bh.otperformance;r=e.timing&&e.timing.fetchStart}return r}re.getTimeOrigin=vh;function cL(r){let e=Oa(vh()),t=Oa(typeof r=="number"?r:bh.otperformance.now());return _L(e,t)}re.hrTime=cL;function R3(r){if(Ch(r))return r;if(typeof r=="number")return r<vh()?cL(r):Oa(r);if(r instanceof Date)return Oa(r.getTime());throw TypeError("Invalid input type")}re.timeInputToHrTime=R3;function P3(r,e){let t=e[0]-r[0],n=e[1]-r[1];return n<0&&(t-=1,n+=Yd),[t,n]}re.hrTimeDuration=P3;function N3(r){let e=uL,t=`${"0".repeat(e)}${r[1]}Z`,n=t.substr(t.length-e-1);return new Date(r[0]*1e3).toISOString().replace("000Z",n)}re.hrTimeToTimeStamp=N3;function I3(r){return r[0]*Yd+r[1]}re.hrTimeToNanoseconds=I3;function b3(r){return Math.round(r[0]*1e3+r[1]/1e6)}re.hrTimeToMilliseconds=b3;function v3(r){return Math.round(r[0]*1e6+r[1]/1e3)}re.hrTimeToMicroseconds=v3;function Ch(r){return Array.isArray(r)&&r.length===2&&typeof r[0]=="number"&&typeof r[1]=="number"}re.isTimeInputHrTime=Ch;function C3(r){return Ch(r)||typeof r=="number"||r instanceof Date}re.isTimeInput=C3;function _L(r,e){let t=[r[0]+e[0],r[1]+e[1]];return t[1]>=Yd&&(t[1]-=Yd,t[0]+=1),t}re.addHrTimes=_L});var EL=a(dL=>{"use strict";Object.defineProperty(dL,"__esModule",{value:!0})});var pL=a(ma=>{"use strict";Object.defineProperty(ma,"__esModule",{value:!0});ma.ExportResultCode=void 0;var M3;(function(r){r[r.SUCCESS=0]="SUCCESS",r[r.FAILED=1]="FAILED"})(M3=ma.ExportResultCode||(ma.ExportResultCode={}))});var TL=a(Wd=>{"use strict";Object.defineProperty(Wd,"__esModule",{value:!0});Wd.CompositePropagator=void 0;var fL=f(),Mh=class{constructor(e={}){var t;this._propagators=(t=e.propagators)!==null&&t!==void 0?t:[],this._fields=Array.from(new Set(this._propagators.map(n=>typeof n.fields=="function"?n.fields():[]).reduce((n,i)=>n.concat(i),[])))}inject(e,t,n){for(let i of this._propagators)try{i.inject(e,t,n)}catch(s){fL.diag.warn(`Failed to inject with ${i.constructor.name}. Err: ${s.message}`)}}extract(e,t,n){return this._propagators.reduce((i,s)=>{try{return s.extract(i,t,n)}catch(o){fL.diag.warn(`Failed to inject with ${s.constructor.name}. Err: ${o.message}`)}return i},e)}fields(){return this._fields.slice()}};Wd.CompositePropagator=Mh});var SL=a(Ns=>{"use strict";Object.defineProperty(Ns,"__esModule",{value:!0});Ns.validateValue=Ns.validateKey=void 0;var yh="[_0-9a-z-*/]",y3=`[a-z]${yh}{0,255}`,L3=`[a-z0-9]${yh}{0,240}@[a-z]${yh}{0,13}`,D3=new RegExp(`^(?:${y3}|${L3})$`),w3=/^[ -~]{0,255}[!-~]$/,U3=/,|=/;function B3(r){return D3.test(r)}Ns.validateKey=B3;function G3(r){return w3.test(r)&&!U3.test(r)}Ns.validateValue=G3});var Lh=a(kd=>{"use strict";Object.defineProperty(kd,"__esModule",{value:!0});kd.TraceState=void 0;var AL=SL(),hL=32,q3=512,gL=",",OL="=",Ra=class{constructor(e){this._internalState=new Map,e&&this._parse(e)}set(e,t){let n=this._clone();return n._internalState.has(e)&&n._internalState.delete(e),n._internalState.set(e,t),n}unset(e){let t=this._clone();return t._internalState.delete(e),t}get(e){return this._internalState.get(e)}serialize(){return this._keys().reduce((e,t)=>(e.push(t+OL+this.get(t)),e),[]).join(gL)}_parse(e){e.length>q3||(this._internalState=e.split(gL).reverse().reduce((t,n)=>{let i=n.trim(),s=i.indexOf(OL);if(s!==-1){let o=i.slice(0,s),u=i.slice(s+1,n.length);(0,AL.validateKey)(o)&&(0,AL.validateValue)(u)&&t.set(o,u)}return t},new Map),this._internalState.size>hL&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,hL))))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let e=new Ra;return e._internalState=new Map(this._internalState),e}};kd.TraceState=Ra});var RL=a(Xe=>{"use strict";Object.defineProperty(Xe,"__esModule",{value:!0});Xe.W3CTraceContextPropagator=Xe.parseTraceParent=Xe.TRACE_STATE_HEADER=Xe.TRACE_PARENT_HEADER=void 0;var zd=f(),j3=Aa(),V3=Lh();Xe.TRACE_PARENT_HEADER="traceparent";Xe.TRACE_STATE_HEADER="tracestate";var H3="00",F3="(?!ff)[\\da-f]{2}",x3="(?![0]{32})[\\da-f]{32}",K3="(?![0]{16})[\\da-f]{16}",$3="[\\da-f]{2}",X3=new RegExp(`^\\s?(${F3})-(${x3})-(${K3})-(${$3})(-.*)?\\s?$`);function mL(r){let e=X3.exec(r);return!e||e[1]==="00"&&e[5]?null:{traceId:e[2],spanId:e[3],traceFlags:parseInt(e[4],16)}}Xe.parseTraceParent=mL;var Dh=class{inject(e,t,n){let i=zd.trace.getSpanContext(e);if(!i||(0,j3.isTracingSuppressed)(e)||!(0,zd.isSpanContextValid)(i))return;let s=`${H3}-${i.traceId}-${i.spanId}-0${Number(i.traceFlags||zd.TraceFlags.NONE).toString(16)}`;n.set(t,Xe.TRACE_PARENT_HEADER,s),i.traceState&&n.set(t,Xe.TRACE_STATE_HEADER,i.traceState.serialize())}extract(e,t,n){let i=n.get(t,Xe.TRACE_PARENT_HEADER);if(!i)return e;let s=Array.isArray(i)?i[0]:i;if(typeof s!="string")return e;let o=mL(s);if(!o)return e;o.isRemote=!0;let u=n.get(t,Xe.TRACE_STATE_HEADER);if(u){let c=Array.isArray(u)?u.join(","):u;o.traceState=new V3.TraceState(typeof c=="string"?c:void 0)}return zd.trace.setSpanContext(e,o)}fields(){return[Xe.TRACE_PARENT_HEADER,Xe.TRACE_STATE_HEADER]}};Xe.W3CTraceContextPropagator=Dh});var NL=a(PL=>{"use strict";Object.defineProperty(PL,"__esModule",{value:!0})});var IL=a(Bt=>{"use strict";Object.defineProperty(Bt,"__esModule",{value:!0});Bt.getRPCMetadata=Bt.deleteRPCMetadata=Bt.setRPCMetadata=Bt.RPCType=void 0;var Y3=f(),wh=(0,Y3.createContextKey)("OpenTelemetry SDK Context Key RPC_METADATA"),W3;(function(r){r.HTTP="http"})(W3=Bt.RPCType||(Bt.RPCType={}));function k3(r,e){return r.setValue(wh,e)}Bt.setRPCMetadata=k3;function z3(r){return r.deleteValue(wh)}Bt.deleteRPCMetadata=z3;function Q3(r){return r.getValue(wh)}Bt.getRPCMetadata=Q3});var Bh=a(Qd=>{"use strict";Object.defineProperty(Qd,"__esModule",{value:!0});Qd.AlwaysOffSampler=void 0;var Z3=f(),Uh=class{shouldSample(){return{decision:Z3.SamplingDecision.NOT_RECORD}}toString(){return"AlwaysOffSampler"}};Qd.AlwaysOffSampler=Uh});var qh=a(Zd=>{"use strict";Object.defineProperty(Zd,"__esModule",{value:!0});Zd.AlwaysOnSampler=void 0;var J3=f(),Gh=class{shouldSample(){return{decision:J3.SamplingDecision.RECORD_AND_SAMPLED}}toString(){return"AlwaysOnSampler"}};Zd.AlwaysOnSampler=Gh});var vL=a(eE=>{"use strict";Object.defineProperty(eE,"__esModule",{value:!0});eE.ParentBasedSampler=void 0;var Jd=f(),ek=Oh(),bL=Bh(),jh=qh(),Vh=class{constructor(e){var t,n,i,s;this._root=e.root,this._root||((0,ek.globalErrorHandler)(new Error("ParentBasedSampler must have a root sampler configured")),this._root=new jh.AlwaysOnSampler),this._remoteParentSampled=(t=e.remoteParentSampled)!==null&&t!==void 0?t:new jh.AlwaysOnSampler,this._remoteParentNotSampled=(n=e.remoteParentNotSampled)!==null&&n!==void 0?n:new bL.AlwaysOffSampler,this._localParentSampled=(i=e.localParentSampled)!==null&&i!==void 0?i:new jh.AlwaysOnSampler,this._localParentNotSampled=(s=e.localParentNotSampled)!==null&&s!==void 0?s:new bL.AlwaysOffSampler}shouldSample(e,t,n,i,s,o){let u=Jd.trace.getSpanContext(e);return!u||!(0,Jd.isSpanContextValid)(u)?this._root.shouldSample(e,t,n,i,s,o):u.isRemote?u.traceFlags&Jd.TraceFlags.SAMPLED?this._remoteParentSampled.shouldSample(e,t,n,i,s,o):this._remoteParentNotSampled.shouldSample(e,t,n,i,s,o):u.traceFlags&Jd.TraceFlags.SAMPLED?this._localParentSampled.shouldSample(e,t,n,i,s,o):this._localParentNotSampled.shouldSample(e,t,n,i,s,o)}toString(){return`ParentBased{root=${this._root.toString()}, remoteParentSampled=${this._remoteParentSampled.toString()}, remoteParentNotSampled=${this._remoteParentNotSampled.toString()}, localParentSampled=${this._localParentSampled.toString()}, localParentNotSampled=${this._localParentNotSampled.toString()}}`}};eE.ParentBasedSampler=Vh});var CL=a(tE=>{"use strict";Object.defineProperty(tE,"__esModule",{value:!0});tE.TraceIdRatioBasedSampler=void 0;var Hh=f(),Fh=class{constructor(e=0){this._ratio=e,this._ratio=this._normalize(e),this._upperBound=Math.floor(this._ratio*4294967295)}shouldSample(e,t){return{decision:(0,Hh.isValidTraceId)(t)&&this._accumulate(t)<this._upperBound?Hh.SamplingDecision.RECORD_AND_SAMPLED:Hh.SamplingDecision.NOT_RECORD}}toString(){return`TraceIdRatioBased{${this._ratio}}`}_normalize(e){return typeof e!="number"||isNaN(e)?0:e>=1?1:e<=0?0:e}_accumulate(e){let t=0;for(let n=0;n<e.length/8;n++){let i=n*8,s=parseInt(e.slice(i,i+8),16);t=(t^s)>>>0}return t}};tE.TraceIdRatioBasedSampler=Fh});var wL=a(rE=>{"use strict";Object.defineProperty(rE,"__esModule",{value:!0});rE.isPlainObject=void 0;var tk="[object Object]",rk="[object Null]",nk="[object Undefined]",ik=Function.prototype,ML=ik.toString,sk=ML.call(Object),ok=ak(Object.getPrototypeOf,Object),yL=Object.prototype,LL=yL.hasOwnProperty,fi=Symbol?Symbol.toStringTag:void 0,DL=yL.toString;function ak(r,e){return function(t){return r(e(t))}}function uk(r){if(!ck(r)||_k(r)!==tk)return!1;let e=ok(r);if(e===null)return!0;let t=LL.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t instanceof t&&ML.call(t)===sk}rE.isPlainObject=uk;function ck(r){return r!=null&&typeof r=="object"}function _k(r){return r==null?r===void 0?nk:rk:fi&&fi in Object(r)?lk(r):dk(r)}function lk(r){let e=LL.call(r,fi),t=r[fi],n=!1;try{r[fi]=void 0,n=!0}catch{}let i=DL.call(r);return n&&(e?r[fi]=t:delete r[fi]),i}function dk(r){return DL.call(r)}});var jL=a(sE=>{"use strict";Object.defineProperty(sE,"__esModule",{value:!0});sE.merge=void 0;var UL=wL(),Ek=20;function pk(...r){let e=r.shift(),t=new WeakMap;for(;r.length>0;)e=GL(e,r.shift(),0,t);return e}sE.merge=pk;function xh(r){return iE(r)?r.slice():r}function GL(r,e,t=0,n){let i;if(!(t>Ek)){if(t++,nE(r)||nE(e)||qL(e))i=xh(e);else if(iE(r)){if(i=r.slice(),iE(e))for(let s=0,o=e.length;s<o;s++)i.push(xh(e[s]));else if(Pa(e)){let s=Object.keys(e);for(let o=0,u=s.length;o<u;o++){let c=s[o];i[c]=xh(e[c])}}}else if(Pa(r))if(Pa(e)){if(!fk(r,e))return e;i=Object.assign({},r);let s=Object.keys(e);for(let o=0,u=s.length;o<u;o++){let c=s[o],_=e[c];if(nE(_))typeof _>"u"?delete i[c]:i[c]=_;else{let l=i[c],d=_;if(BL(r,c,n)||BL(e,c,n))delete i[c];else{if(Pa(l)&&Pa(d)){let p=n.get(l)||[],E=n.get(d)||[];p.push({obj:r,key:c}),E.push({obj:e,key:c}),n.set(l,p),n.set(d,E)}i[c]=GL(i[c],_,t,n)}}}}else i=e;return i}}function BL(r,e,t){let n=t.get(r[e])||[];for(let i=0,s=n.length;i<s;i++){let o=n[i];if(o.key===e&&o.obj===r)return!0}return!1}function iE(r){return Array.isArray(r)}function qL(r){return typeof r=="function"}function Pa(r){return!nE(r)&&!iE(r)&&!qL(r)&&typeof r=="object"}function nE(r){return typeof r=="string"||typeof r=="number"||typeof r=="boolean"||typeof r>"u"||r instanceof Date||r instanceof RegExp||r===null}function fk(r,e){return!(!(0,UL.isPlainObject)(r)||!(0,UL.isPlainObject)(e))}});var HL=a(Is=>{"use strict";Object.defineProperty(Is,"__esModule",{value:!0});Is.isUrlIgnored=Is.urlMatches=void 0;function VL(r,e){return typeof e=="string"?r===e:!!r.match(e)}Is.urlMatches=VL;function Tk(r,e){if(!e)return!1;for(let t of e)if(VL(r,t))return!0;return!1}Is.isUrlIgnored=Tk});var FL=a(oE=>{"use strict";Object.defineProperty(oE,"__esModule",{value:!0});oE.isWrapped=void 0;function Sk(r){return typeof r=="function"&&typeof r.__original=="function"&&typeof r.__unwrap=="function"&&r.__wrapped===!0}oE.isWrapped=Sk});var xL=a(aE=>{"use strict";Object.defineProperty(aE,"__esModule",{value:!0});aE.Deferred=void 0;var Kh=class{constructor(){this._promise=new Promise((e,t)=>{this._resolve=e,this._reject=t})}get promise(){return this._promise}resolve(e){this._resolve(e)}reject(e){this._reject(e)}};aE.Deferred=Kh});var KL=a(uE=>{"use strict";Object.defineProperty(uE,"__esModule",{value:!0});uE.BindOnceFuture=void 0;var Ak=xL(),$h=class{constructor(e,t){this._callback=e,this._that=t,this._isCalled=!1,this._deferred=new Ak.Deferred}get isCalled(){return this._isCalled}get promise(){return this._deferred.promise}call(...e){if(!this._isCalled){this._isCalled=!0;try{Promise.resolve(this._callback.call(this._that,...e)).then(t=>this._deferred.resolve(t),t=>this._deferred.reject(t))}catch(t){this._deferred.reject(t)}}return this._deferred.promise}};uE.BindOnceFuture=$h});var XL=a(cE=>{"use strict";Object.defineProperty(cE,"__esModule",{value:!0});cE._export=void 0;var $L=f(),hk=Aa();function gk(r,e){return new Promise(t=>{$L.context.with((0,hk.suppressTracing)($L.context.active()),()=>{r.export(e,n=>{t(n)})})})}cE._export=gk});var YL=a(G=>{"use strict";var Ok=G&&G.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Z=G&&G.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Ok(e,r,t)};Object.defineProperty(G,"__esModule",{value:!0});G.internal=G.baggageUtils=void 0;Z(Uy(),G);Z(By(),G);Z(Hy(),G);Z(Oh(),G);Z(gh(),G);Z(lL(),G);Z(EL(),G);Z(pL(),G);Z(Kd(),G);G.baggageUtils=fh();Z(Ih(),G);Z(TL(),G);Z(RL(),G);Z(NL(),G);Z(IL(),G);Z(Bh(),G);Z(qh(),G);Z(vL(),G);Z(CL(),G);Z(Aa(),G);Z(Lh(),G);Z(Ph(),G);Z(jL(),G);Z(mh(),G);Z(HL(),G);Z(FL(),G);Z(KL(),G);Z(Kd(),G);var mk=XL();G.internal={_export:mk._export}});var WL=a(Gt=>{"use strict";Object.defineProperty(Gt,"__esModule",{value:!0});Gt.JaegerPropagator=Gt.UBER_BAGGAGE_HEADER_PREFIX=Gt.UBER_TRACE_ID_HEADER=void 0;var Ti=f(),Rk=YL();Gt.UBER_TRACE_ID_HEADER="uber-trace-id";Gt.UBER_BAGGAGE_HEADER_PREFIX="uberctx";var Xh=class{constructor(e){typeof e=="string"?(this._jaegerTraceHeader=e,this._jaegerBaggageHeaderPrefix=Gt.UBER_BAGGAGE_HEADER_PREFIX):(this._jaegerTraceHeader=(e==null?void 0:e.customTraceHeader)||Gt.UBER_TRACE_ID_HEADER,this._jaegerBaggageHeaderPrefix=(e==null?void 0:e.customBaggageHeaderPrefix)||Gt.UBER_BAGGAGE_HEADER_PREFIX)}inject(e,t,n){let i=Ti.trace.getSpanContext(e),s=Ti.propagation.getBaggage(e);if(i&&(0,Rk.isTracingSuppressed)(e)===!1){let o=`0${(i.traceFlags||Ti.TraceFlags.NONE).toString(16)}`;n.set(t,this._jaegerTraceHeader,`${i.traceId}:${i.spanId}:0:${o}`)}if(s)for(let[o,u]of s.getAllEntries())n.set(t,`${this._jaegerBaggageHeaderPrefix}-${o}`,encodeURIComponent(u.value))}extract(e,t,n){var i;let s=n.get(t,this._jaegerTraceHeader),o=Array.isArray(s)?s[0]:s,u=n.keys(t).filter(l=>l.startsWith(`${this._jaegerBaggageHeaderPrefix}-`)).map(l=>{let d=n.get(t,l);return{key:l.substring(this._jaegerBaggageHeaderPrefix.length+1),value:Array.isArray(d)?d[0]:d}}),c=e;if(typeof o=="string"){let l=Pk(o);l&&(c=Ti.trace.setSpanContext(c,l))}if(u.length===0)return c;let _=(i=Ti.propagation.getBaggage(e))!==null&&i!==void 0?i:Ti.propagation.createBaggage();for(let l of u)l.value!==void 0&&(_=_.setEntry(l.key,{value:decodeURIComponent(l.value)}));return c=Ti.propagation.setBaggage(c,_),c}fields(){return[this._jaegerTraceHeader]}};Gt.JaegerPropagator=Xh;function Pk(r){let e=decodeURIComponent(r).split(":");if(e.length!==4)return null;let[t,n,,i]=e,s=t.padStart(32,"0"),o=n.padStart(16,"0"),u=i.match(/^[0-9a-f]{1,2}$/i)?parseInt(i,16)&1:1;return{traceId:s,spanId:o,isRemote:!0,traceFlags:u}}});var kL=a(Si=>{"use strict";var Nk=Si&&Si.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Ik=Si&&Si.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Nk(e,r,t)};Object.defineProperty(Si,"__esModule",{value:!0});Ik(WL(),Si)});var ZL=a(dE=>{"use strict";Object.defineProperty(dE,"__esModule",{value:!0});dE.NodeTracerProvider=void 0;var zL=EM(),_E=Dy(),QL=Ho(),bk=ho(),vk=kL(),lE=class extends QL.BasicTracerProvider{constructor(e={}){super(e)}register(e={}){if(e.contextManager===void 0){let t=bk.gte(process.version,"14.8.0")?zL.AsyncLocalStorageContextManager:zL.AsyncHooksContextManager;e.contextManager=new t,e.contextManager.enable()}super.register(e)}};dE.NodeTracerProvider=lE;lE._registeredPropagators=new Map([...QL.BasicTracerProvider._registeredPropagators,["b3",()=>new _E.B3Propagator({injectEncoding:_E.B3InjectEncoding.SINGLE_HEADER})],["b3multi",()=>new _E.B3Propagator({injectEncoding:_E.B3InjectEncoding.MULTI_HEADER})],["jaeger",()=>new vk.JaegerPropagator]])});var eD=a(Jr=>{"use strict";var Ck=Jr&&Jr.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),JL=Jr&&Jr.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Ck(e,r,t)};Object.defineProperty(Jr,"__esModule",{value:!0});JL(ZL(),Jr);JL(Ho(),Jr)});var Yh=a(L=>{"use strict";Object.defineProperty(L,"__esModule",{value:!0});L.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=L.NOOP_OBSERVABLE_GAUGE_METRIC=L.NOOP_OBSERVABLE_COUNTER_METRIC=L.NOOP_UP_DOWN_COUNTER_METRIC=L.NOOP_HISTOGRAM_METRIC=L.NOOP_COUNTER_METRIC=L.NOOP_METER=L.NoopObservableUpDownCounterMetric=L.NoopObservableGaugeMetric=L.NoopObservableCounterMetric=L.NoopObservableMetric=L.NoopHistogramMetric=L.NoopUpDownCounterMetric=L.NoopCounterMetric=L.NoopMetric=L.NoopMeter=void 0;var EE=class{constructor(){}createHistogram(e,t){return L.NOOP_HISTOGRAM_METRIC}createCounter(e,t){return L.NOOP_COUNTER_METRIC}createUpDownCounter(e,t){return L.NOOP_UP_DOWN_COUNTER_METRIC}createObservableGauge(e,t){return L.NOOP_OBSERVABLE_GAUGE_METRIC}createObservableCounter(e,t){return L.NOOP_OBSERVABLE_COUNTER_METRIC}createObservableUpDownCounter(e,t){return L.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC}addBatchObservableCallback(e,t){}removeBatchObservableCallback(e){}};L.NoopMeter=EE;var bs=class{};L.NoopMetric=bs;var pE=class extends bs{add(e,t){}};L.NoopCounterMetric=pE;var fE=class extends bs{add(e,t){}};L.NoopUpDownCounterMetric=fE;var TE=class extends bs{record(e,t){}};L.NoopHistogramMetric=TE;var vs=class{addCallback(e){}removeCallback(e){}};L.NoopObservableMetric=vs;var SE=class extends vs{};L.NoopObservableCounterMetric=SE;var AE=class extends vs{};L.NoopObservableGaugeMetric=AE;var hE=class extends vs{};L.NoopObservableUpDownCounterMetric=hE;L.NOOP_METER=new EE;L.NOOP_COUNTER_METRIC=new pE;L.NOOP_HISTOGRAM_METRIC=new TE;L.NOOP_UP_DOWN_COUNTER_METRIC=new fE;L.NOOP_OBSERVABLE_COUNTER_METRIC=new SE;L.NOOP_OBSERVABLE_GAUGE_METRIC=new AE;L.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=new hE});var Wh=a(Cs=>{"use strict";Object.defineProperty(Cs,"__esModule",{value:!0});Cs.NOOP_METER_PROVIDER=Cs.NoopMeterProvider=void 0;var Mk=Yh(),gE=class{getMeter(e,t,n){return Mk.NOOP_METER}};Cs.NoopMeterProvider=gE;Cs.NOOP_METER_PROVIDER=new gE});var rD=a(tD=>{"use strict";Object.defineProperty(tD,"__esModule",{value:!0})});var iD=a(nD=>{"use strict";Object.defineProperty(nD,"__esModule",{value:!0})});var sD=a(Na=>{"use strict";Object.defineProperty(Na,"__esModule",{value:!0});Na.ValueType=void 0;var yk;(function(r){r[r.INT=0]="INT",r[r.DOUBLE=1]="DOUBLE"})(yk=Na.ValueType||(Na.ValueType={}))});var aD=a(oD=>{"use strict";Object.defineProperty(oD,"__esModule",{value:!0})});var uD=a(OE=>{"use strict";Object.defineProperty(OE,"__esModule",{value:!0});OE._globalThis=void 0;OE._globalThis=typeof globalThis=="object"?globalThis:global});var cD=a(Ai=>{"use strict";var Lk=Ai&&Ai.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Dk=Ai&&Ai.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Lk(e,r,t)};Object.defineProperty(Ai,"__esModule",{value:!0});Dk(uD(),Ai)});var _D=a(hi=>{"use strict";var wk=hi&&hi.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Uk=hi&&hi.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&wk(e,r,t)};Object.defineProperty(hi,"__esModule",{value:!0});Uk(cD(),hi)});var lD=a(Zt=>{"use strict";Object.defineProperty(Zt,"__esModule",{value:!0});Zt.API_BACKWARDS_COMPATIBILITY_VERSION=Zt.makeGetter=Zt._global=Zt.GLOBAL_METRICS_API_KEY=void 0;var Bk=_D();Zt.GLOBAL_METRICS_API_KEY=Symbol.for("io.opentelemetry.js.api.metrics");Zt._global=Bk._globalThis;function Gk(r,e,t){return n=>n===r?e:t}Zt.makeGetter=Gk;Zt.API_BACKWARDS_COMPATIBILITY_VERSION=4});var ED=a(mE=>{"use strict";Object.defineProperty(mE,"__esModule",{value:!0});mE.MetricsAPI=void 0;var dD=Wh(),Pt=lD(),Ia=class{constructor(){}static getInstance(){return this._instance||(this._instance=new Ia),this._instance}setGlobalMeterProvider(e){return Pt._global[Pt.GLOBAL_METRICS_API_KEY]?this.getMeterProvider():(Pt._global[Pt.GLOBAL_METRICS_API_KEY]=(0,Pt.makeGetter)(Pt.API_BACKWARDS_COMPATIBILITY_VERSION,e,dD.NOOP_METER_PROVIDER),e)}getMeterProvider(){var e,t;return(t=(e=Pt._global[Pt.GLOBAL_METRICS_API_KEY])===null||e===void 0?void 0:e.call(Pt._global,Pt.API_BACKWARDS_COMPATIBILITY_VERSION))!==null&&t!==void 0?t:dD.NOOP_METER_PROVIDER}getMeter(e,t,n){return this.getMeterProvider().getMeter(e,t,n)}disable(){delete Pt._global[Pt.GLOBAL_METRICS_API_KEY]}};mE.MetricsAPI=Ia});var kh=a(at=>{"use strict";var qk=at&&at.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Ms=at&&at.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&qk(e,r,t)};Object.defineProperty(at,"__esModule",{value:!0});at.metrics=void 0;Ms(Yh(),at);Ms(Wh(),at);Ms(rD(),at);Ms(iD(),at);Ms(sD(),at);Ms(aD(),at);var jk=ED();at.metrics=jk.MetricsAPI.getInstance()});var fD=a(en=>{"use strict";Object.defineProperty(en,"__esModule",{value:!0});en.disableInstrumentations=en.enableInstrumentations=en.parseInstrumentationOptions=void 0;function pD(r=[]){let e=[];for(let t=0,n=r.length;t<n;t++){let i=r[t];if(Array.isArray(i)){let s=pD(i);e=e.concat(s.instrumentations)}else typeof i=="function"?e.push(new i):i.instrumentationName&&e.push(i)}return{instrumentations:e}}en.parseInstrumentationOptions=pD;function Vk(r,e,t){for(let n=0,i=r.length;n<i;n++){let s=r[n];e&&s.setTracerProvider(e),t&&s.setMeterProvider(t),s.getConfig().enabled||s.enable()}}en.enableInstrumentations=Vk;function Hk(r){r.forEach(e=>e.disable())}en.disableInstrumentations=Hk});var TD=a(RE=>{"use strict";Object.defineProperty(RE,"__esModule",{value:!0});RE.registerInstrumentations=void 0;var Fk=f(),xk=kh(),zh=fD();function Kk(r){let{instrumentations:e}=(0,zh.parseInstrumentationOptions)(r.instrumentations),t=r.tracerProvider||Fk.trace.getTracerProvider(),n=r.meterProvider||xk.metrics.getMeterProvider();return(0,zh.enableInstrumentations)(e,t,n),()=>{(0,zh.disableInstrumentations)(e)}}RE.registerInstrumentations=Kk});var AD=a(NE=>{"use strict";Object.defineProperty(NE,"__esModule",{value:!0});NE.InstrumentationAbstract=void 0;var SD=f(),$k=kh(),PE=gf(),Qh=class{constructor(e,t,n={}){this.instrumentationName=e,this.instrumentationVersion=t,this._wrap=PE.wrap,this._unwrap=PE.unwrap,this._massWrap=PE.massWrap,this._massUnwrap=PE.massUnwrap,this._config=Object.assign({enabled:!0},n),this._diag=SD.diag.createComponentLogger({namespace:e}),this._tracer=SD.trace.getTracer(e,t),this._meter=$k.metrics.getMeter(e,t)}get meter(){return this._meter}setMeterProvider(e){this._meter=e.getMeter(this.instrumentationName,this.instrumentationVersion)}getConfig(){return this._config}setConfig(e={}){this._config=Object.assign({},e)}setTracerProvider(e){this._tracer=e.getTracer(this.instrumentationName,this.instrumentationVersion)}get tracer(){return this._tracer}};NE.InstrumentationAbstract=Qh});var OD=a(IE=>{"use strict";Object.defineProperty(IE,"__esModule",{value:!0});IE.InstrumentationBase=void 0;var Xk=require("path"),Yk=wf(),Wk=ho(),kk=AD(),hD=f(),Zh=class extends kk.InstrumentationAbstract{constructor(e,t,n={}){super(e,t,n),this._hooks=[],this._enabled=!1;let i=this.init();i&&!Array.isArray(i)&&(i=[i]),this._modules=i||[],this._modules.length===0&&hD.diag.warn("No modules instrumentation has been defined, nothing will be patched"),this._config.enabled&&this.enable()}_warnOnPreloadedModules(){this._modules.forEach(e=>{let{name:t}=e;try{let n=require.resolve(t);require.cache[n]&&this._diag.warn(`Module ${t} has been loaded before ${this.instrumentationName} so it might not work, please initialize it before requiring ${t}`)}catch{}})}_extractPackageVersion(e){try{let t=require(Xk.join(e,"package.json")).version;return typeof t=="string"?t:void 0}catch{hD.diag.warn("Failed extracting version",e)}}_onRequire(e,t,n,i){var s;if(!i)return typeof e.patch=="function"&&(e.moduleExports=t,this._enabled)?e.patch(t):t;let o=this._extractPackageVersion(i);return e.moduleVersion=o,e.name===n?gD(e.supportedVersions,o,e.includePrerelease)&&typeof e.patch=="function"&&(e.moduleExports=t,this._enabled)?e.patch(t,e.moduleVersion):t:((s=e.files)!==null&&s!==void 0?s:[]).filter(_=>_.name===n).filter(_=>gD(_.supportedVersions,o,e.includePrerelease)).reduce((_,l)=>(l.moduleExports=_,this._enabled?l.patch(_,e.moduleVersion):_),t)}enable(){if(!this._enabled){if(this._enabled=!0,this._hooks.length>0){for(let e of this._modules){typeof e.patch=="function"&&e.moduleExports&&e.patch(e.moduleExports,e.moduleVersion);for(let t of e.files)t.moduleExports&&t.patch(t.moduleExports,e.moduleVersion)}return}this._warnOnPreloadedModules();for(let e of this._modules)this._hooks.push(Yk([e.name],{internals:!0},(t,n,i)=>this._onRequire(e,t,n,i)))}}disable(){if(this._enabled){this._enabled=!1;for(let e of this._modules){typeof e.unpatch=="function"&&e.moduleExports&&e.unpatch(e.moduleExports,e.moduleVersion);for(let t of e.files)t.moduleExports&&t.unpatch(t.moduleExports,e.moduleVersion)}}}isEnabled(){return this._enabled}};IE.InstrumentationBase=Zh;function gD(r,e,t){return typeof e>"u"?r.includes("*"):r.some(n=>(0,Wk.satisfies)(e,n,{includePrerelease:t}))}});var mD=a(bE=>{"use strict";Object.defineProperty(bE,"__esModule",{value:!0});bE.InstrumentationNodeModuleDefinition=void 0;var Jh=class{constructor(e,t,n,i,s){this.name=e,this.supportedVersions=t,this.patch=n,this.unpatch=i,this.files=s||[]}};bE.InstrumentationNodeModuleDefinition=Jh});var RD=a(vE=>{"use strict";Object.defineProperty(vE,"__esModule",{value:!0});vE.InstrumentationNodeModuleFile=void 0;var zk=require("path"),eg=class{constructor(e,t,n,i){this.supportedVersions=t,this.patch=n,this.unpatch=i,this.name=(0,zk.normalize)(e)}};vE.InstrumentationNodeModuleFile=eg});var ND=a(PD=>{"use strict";Object.defineProperty(PD,"__esModule",{value:!0})});var ID=a(Jt=>{"use strict";var Qk=Jt&&Jt.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),CE=Jt&&Jt.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Qk(e,r,t)};Object.defineProperty(Jt,"__esModule",{value:!0});CE(OD(),Jt);CE(mD(),Jt);CE(RD(),Jt);CE(ND(),Jt)});var bD=a(gi=>{"use strict";var Zk=gi&&gi.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Jk=gi&&gi.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Zk(e,r,t)};Object.defineProperty(gi,"__esModule",{value:!0});Jk(ID(),gi)});var CD=a(vD=>{"use strict";Object.defineProperty(vD,"__esModule",{value:!0})});var yD=a(MD=>{"use strict";Object.defineProperty(MD,"__esModule",{value:!0})});var LD=a(tn=>{"use strict";Object.defineProperty(tn,"__esModule",{value:!0});tn.isWrapped=tn.safeExecuteInTheMiddleAsync=tn.safeExecuteInTheMiddle=void 0;function e6(r,e,t){let n,i;try{i=r()}catch(s){n=s}finally{if(e(n,i),n&&!t)throw n;return i}}tn.safeExecuteInTheMiddle=e6;async function t6(r,e,t){let n,i;try{i=await r()}catch(s){n=s}finally{if(e(n,i),n&&!t)throw n;return i}}tn.safeExecuteInTheMiddleAsync=t6;function r6(r){return typeof r=="function"&&typeof r.__original=="function"&&typeof r.__unwrap=="function"&&r.__wrapped===!0}tn.isWrapped=r6});var DD=a(qt=>{"use strict";var n6=qt&&qt.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),ba=qt&&qt.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&n6(e,r,t)};Object.defineProperty(qt,"__esModule",{value:!0});ba(TD(),qt);ba(bD(),qt);ba(CD(),qt);ba(yD(),qt);ba(LD(),qt)});var VD=a(Ar=>{"use strict";Object.defineProperty(Ar,"__esModule",{value:!0});Ar.AWSXRayPropagator=Ar.AWSXRAY_TRACE_ID_HEADER=void 0;var de=f();Ar.AWSXRAY_TRACE_ID_HEADER="x-amzn-trace-id";var i6=";",s6="=",o6="Root",wD=35,a6="1",UD="-",BD=1,tg=10,GD=8,u6="Parent",c6="Sampled",qD="1",jD="0",Oi=class{inject(e,t,n){var i;let s=(i=de.trace.getSpan(e))===null||i===void 0?void 0:i.spanContext();if(!s||!de.isSpanContextValid(s))return;let o=s.traceId,u=o.substring(0,GD),c=o.substring(GD),_=s.spanId,l=(de.TraceFlags.SAMPLED&s.traceFlags)===de.TraceFlags.SAMPLED?qD:jD,d=`Root=1-${u}-${c};Parent=${_};Sampled=${l}`;n.set(t,Ar.AWSXRAY_TRACE_ID_HEADER,d)}extract(e,t,n){let i=this.getSpanContextFromHeader(t,n);return de.isSpanContextValid(i)?de.trace.setSpan(e,de.trace.wrapSpanContext(i)):e}fields(){return[Ar.AWSXRAY_TRACE_ID_HEADER]}getSpanContextFromHeader(e,t){let n=t.get(e,Ar.AWSXRAY_TRACE_ID_HEADER);if(!n||typeof n!="string")return de.INVALID_SPAN_CONTEXT;let i=0,s,o=de.INVALID_TRACEID,u=de.INVALID_SPANID,c=null;for(;i<n.length;){let l=n.indexOf(i6,i);l>=0?(s=n.substring(i,l).trim(),i=l+1):(s=n.substring(i).trim(),i=n.length);let d=s.indexOf(s6),p=s.substring(d+1);s.startsWith(o6)?o=Oi._parseTraceId(p):s.startsWith(u6)?u=Oi._parseSpanId(p):s.startsWith(c6)&&(c=Oi._parseTraceFlag(p))}if(c===null)return de.INVALID_SPAN_CONTEXT;let _={traceId:o,spanId:u,traceFlags:c,isRemote:!0};return de.isSpanContextValid(_)?_:de.INVALID_SPAN_CONTEXT}static _parseTraceId(e){if(e.length!==wD||!e.startsWith(a6)||e.charAt(BD)!==UD||e.charAt(tg)!==UD)return de.INVALID_TRACEID;let t=e.substring(BD+1,tg),n=e.substring(tg+1,wD),i=t+n;return de.isValidTraceId(i)?i:de.INVALID_TRACEID}static _parseSpanId(e){return de.isValidSpanId(e)?e:de.INVALID_SPANID}static _parseTraceFlag(e){return e===jD?de.TraceFlags.NONE:e===qD?de.TraceFlags.SAMPLED:null}};Ar.AWSXRayPropagator=Oi});var HD=a(mi=>{"use strict";var _6=mi&&mi.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),l6=mi&&mi.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&_6(e,r,t)};Object.defineProperty(mi,"__esModule",{value:!0});l6(VD(),mi)});var FD=a(ME=>{"use strict";Object.defineProperty(ME,"__esModule",{value:!0});ME.VERSION=void 0;ME.VERSION="0.34.0"});var XD=a(Pi=>{"use strict";Object.defineProperty(Pi,"__esModule",{value:!0});Pi.AwsLambdaInstrumentation=Pi.traceContextEnvironmentKey=void 0;var xD=require("path"),rn=DD(),Ee=f(),$D=HD(),rg=Le(),d6=FD(),E6=new $D.AWSXRayPropagator,KD={keys(r){return Object.keys(r)},get(r,e){return r[e]}};Pi.traceContextEnvironmentKey="_X_AMZN_TRACE_ID";var Ri=class extends rn.InstrumentationBase{constructor(e={}){super("@opentelemetry/instrumentation-aws-lambda",d6.VERSION,e),this._config=e}setConfig(e={}){this._config=e}init(){let e=process.env.LAMBDA_TASK_ROOT,t=process.env._HANDLER;if(!e||!t)return[];let n=xD.basename(t),i=t.substr(0,t.length-n.length),[s,o]=n.split(".",2),u=xD.resolve(e,i,s);return u.endsWith(".js")||(u+=".js"),[new rn.InstrumentationNodeModuleDefinition(u,["*"],void 0,void 0,[new rn.InstrumentationNodeModuleFile(s,["*"],c=>(Ee.diag.debug("Applying patch for lambda handler"),rn.isWrapped(c[o])&&this._unwrap(c,o),this._wrap(c,o,this._getHandler()),c),c=>{c!=null&&(Ee.diag.debug("Removing patch for lambda handler"),this._unwrap(c,o))})])]}_getHandler(){return e=>this._getPatchHandler(e)}_getPatchHandler(e){Ee.diag.debug("patch handler function");let t=this;return function(i,s,o){let u=t._config,c=Ri._determineParent(i,s,u.disableAwsContextPropagation===!0,u.eventContextExtractor||Ri._defaultEventContextExtractor),_=s.functionName,l=t.tracer.startSpan(_,{kind:Ee.SpanKind.SERVER,attributes:{[rg.SemanticAttributes.FAAS_EXECUTION]:s.awsRequestId,[rg.SemanticResourceAttributes.FAAS_ID]:s.invokedFunctionArn,[rg.SemanticResourceAttributes.CLOUD_ACCOUNT_ID]:Ri._extractAccountId(s.invokedFunctionArn)}},c);return u.requestHook&&rn.safeExecuteInTheMiddle(()=>u.requestHook(l,{event:i,context:s}),d=>{d&&Ee.diag.error("aws-lambda instrumentation: requestHook error",d)},!0),Ee.context.with(Ee.trace.setSpan(c,l),()=>{let d=t._wrapCallback(o,l),p=rn.safeExecuteInTheMiddle(()=>e.apply(this,[i,s,d]),E=>{E!=null&&(t._applyResponseHook(l,E),t._endSpan(l,E,()=>{}))});return typeof(p==null?void 0:p.then)=="function"?p.then(E=>(t._applyResponseHook(l,null,E),new Promise(O=>t._endSpan(l,void 0,()=>O(E)))),E=>(t._applyResponseHook(l,E),new Promise((O,R)=>t._endSpan(l,E,()=>R(E))))):p})}}setTracerProvider(e){super.setTracerProvider(e),this._forceFlush=this._getForceFlush(e)}_getForceFlush(e){if(!e)return;let t=e;if(typeof t.getDelegate=="function"&&(t=t.getDelegate()),typeof t.forceFlush=="function")return t.forceFlush.bind(t)}_wrapCallback(e,t){let n=this;return function(s,o){Ee.diag.debug("executing wrapped lookup callback function"),n._applyResponseHook(t,s,o),n._endSpan(t,s,()=>(Ee.diag.debug("executing original lookup callback function"),e.apply(this,[s,o])))}}_endSpan(e,t,n){t&&e.recordException(t);let i;typeof t=="string"?i=t:t&&(i=t.message),i&&e.setStatus({code:Ee.SpanStatusCode.ERROR,message:i}),e.end(),this._forceFlush?this._forceFlush().then(()=>n(),()=>n()):(Ee.diag.error("Spans may not be exported for the lambda function because we are not force flushing before callback."),n())}_applyResponseHook(e,t,n){var i;!((i=this._config)===null||i===void 0)&&i.responseHook&&rn.safeExecuteInTheMiddle(()=>this._config.responseHook(e,{err:t,res:n}),s=>{s&&Ee.diag.error("aws-lambda instrumentation: responseHook error",s)},!0)}static _extractAccountId(e){let t=e.split(":");if(t.length>=5)return t[4]}static _defaultEventContextExtractor(e){let t=e.headers||{};return Ee.propagation.extract(Ee.context.active(),t,KD)}static _determineParent(e,t,n,i){var s,o;let u;if(!n){let _=process.env[Pi.traceContextEnvironmentKey];if(_&&(u=E6.extract(Ee.context.active(),{[$D.AWSXRAY_TRACE_ID_HEADER]:_},KD)),u){let l=(s=Ee.trace.getSpan(u))===null||s===void 0?void 0:s.spanContext();if(l&&(l.traceFlags&Ee.TraceFlags.SAMPLED)===Ee.TraceFlags.SAMPLED)return u}}let c=rn.safeExecuteInTheMiddle(()=>i(e,t),_=>{_&&Ee.diag.error("aws-lambda instrumentation: eventContextExtractor error",_)},!0);return!((o=Ee.trace.getSpan(c))===null||o===void 0)&&o.spanContext()?c:u||Ee.ROOT_CONTEXT}};Pi.AwsLambdaInstrumentation=Ri});var WD=a(YD=>{"use strict";Object.defineProperty(YD,"__esModule",{value:!0})});var zD=a(nn=>{"use strict";var p6=nn&&nn.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),kD=nn&&nn.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&p6(e,r,t)};Object.defineProperty(nn,"__esModule",{value:!0});kD(XD(),nn);kD(WD(),nn)});var ng=a(va=>{"use strict";Object.defineProperty(va,"__esModule",{value:!0});va.AttributeNames=void 0;var f6;(function(r){r.AWS_ERROR="aws.error",r.AWS_OPERATION="aws.operation",r.AWS_REGION="aws.region",r.AWS_SERVICE_API="aws.service.api",r.AWS_SERVICE_NAME="aws.service.name",r.AWS_SERVICE_IDENTIFIER="aws.service.identifier",r.AWS_REQUEST_ID="aws.request.id",r.AWS_REQUEST_EXTENDED_ID="aws.request.extended_id",r.AWS_SIGNATURE_VERSION="aws.signature.version"})(f6=va.AttributeNames||(va.AttributeNames={}))});var JD=a(sg=>{"use strict";Object.defineProperty(sg,"__esModule",{value:!0});var Ls=f(),Ca=Symbol("opentelemetry.pubsub-propagation.start_span"),ys=Symbol("opentelemetry.pubsub-propagation.end_span"),T6=(r,e,t)=>{let n=r.filter;Object.defineProperty(r,"filter",{enumerable:!1,value:function(...s){let o=n.apply(this,s);return ig(o,e,t),o}})};function QD(r){var e;return typeof((e=r)===null||e===void 0?void 0:e.then)=="function"}var ZD=(r,e,t,n)=>{let i=r[e];Object.defineProperty(r,e,{enumerable:!1,value:function(...o){let u=o[0],c=function(...l){var d;let p=l[0],E=(d=p==null?void 0:p[Ca])===null||d===void 0?void 0:d.call(p);if(!E)return u.apply(this,l);let O=Ls.context.with(Ls.trace.setSpan(n,E),()=>{var R;let C;try{if(C=u.apply(this,l),QD(C)){let P=()=>{var ce;return(ce=p[ys])===null||ce===void 0?void 0:ce.call(p)};C.then(P,P)}return C}finally{QD(C)||(R=p[ys])===null||R===void 0||R.call(p)}});if(typeof O=="object"){let R=Object.getOwnPropertyDescriptor(p,Ca);R&&Object.defineProperty(O,Ca,R);let C=Object.getOwnPropertyDescriptor(p,ys);C&&Object.defineProperty(O,ys,C)}return O};o[0]=c;let _=i.apply(this,o);return Array.isArray(_)&&ig(_,t,n),_}})},ig=(r,e,t=Ls.context.active())=>{ZD(r,"forEach",e,t),ZD(r,"map",e,t),T6(r,e,t)},S6=(r,e,t,n,i,s,o)=>{let u=[],c=Ls.trace.getSpanContext(i);c&&u.push({context:c});let _=`${e} process`,l=s.startSpan(_,{kind:Ls.SpanKind.CONSUMER,attributes:Object.assign(Object.assign({},t),{["messaging.operation"]:"process"}),links:u},n);Object.defineProperty(r,Ca,{enumerable:!1,writable:!0,value:()=>l}),Object.defineProperty(r,ys,{enumerable:!1,writable:!0,value:()=>{l.end(),Object.defineProperty(r,ys,{enumerable:!1,writable:!0,value:()=>{}})}});try{o==null||o(l,r)}catch(d){Ls.diag.error("opentelemetry-pubsub-propagation: process hook error",d)}return l},A6=({messages:r,tracer:e,parentContext:t,messageToSpanDetails:n,processHook:i})=>{r.forEach(s=>{let{attributes:o,name:u,parentContext:c}=n(s);Object.defineProperty(s,Ca,{enumerable:!1,writable:!0,value:()=>S6(s,u,o,t,c,e,i)})})};sg.default={patchMessagesArrayToStartProcessSpans:A6,patchArrayForProcessSpans:ig}});var e0=a(yE=>{"use strict";Object.defineProperty(yE,"__esModule",{value:!0});yE.pubsubPropagation=void 0;var h6=JD();Object.defineProperty(yE,"pubsubPropagation",{enumerable:!0,get:function(){return h6.default}})});var ug=a(Ye=>{"use strict";Object.defineProperty(Ye,"__esModule",{value:!0});Ye.addPropagationFieldsToAttributeNames=Ye.extractPropagationContext=Ye.injectPropagationContext=Ye.contextGetter=Ye.contextSetter=Ye.MAX_MESSAGE_ATTRIBUTES=void 0;var Ds=f();Ye.MAX_MESSAGE_ATTRIBUTES=10;var og=class{set(e,t,n){e[t]={DataType:"String",StringValue:n}}};Ye.contextSetter=new og;var ag=class{keys(e){return Object.keys(e)}get(e,t){var n,i;return((n=e==null?void 0:e[t])===null||n===void 0?void 0:n.StringValue)||((i=e==null?void 0:e[t])===null||i===void 0?void 0:i.Value)}};Ye.contextGetter=new ag;var g6=r=>{let e=r??{};return Object.keys(e).length+Ds.propagation.fields().length<=Ye.MAX_MESSAGE_ATTRIBUTES?Ds.propagation.inject(Ds.context.active(),e,Ye.contextSetter):Ds.diag.warn("aws-sdk instrumentation: cannot set context propagation on SQS/SNS message due to maximum amount of MessageAttributes"),e};Ye.injectPropagationContext=g6;var O6=(r,e)=>{let t=Ds.propagation.fields();if(Object.keys(r.MessageAttributes||[]).some(i=>t.includes(i)))return r.MessageAttributes;if(e&&r.Body)try{return JSON.parse(r.Body).MessageAttributes}catch{Ds.diag.debug("failed to parse SQS payload to extract context propagation, trace might be incomplete.")}};Ye.extractPropagationContext=O6;var m6=(r=[],e)=>r.length?Array.from(new Set([...r,...e])):e;Ye.addPropagationFieldsToAttributeNames=m6});var r0=a(LE=>{"use strict";Object.defineProperty(LE,"__esModule",{value:!0});LE.SqsServiceExtension=void 0;var hr=f(),t0=e0(),We=Le(),Ma=ug(),cg=class{constructor(){this.requestPostSpanHook=e=>{var t,n,i;switch(e.commandName){case"SendMessage":{let s=(t=e.commandInput.MessageAttributes)!==null&&t!==void 0?t:{};s&&(e.commandInput.MessageAttributes=Ma.injectPropagationContext(s))}break;case"SendMessageBatch":(i=(n=e.commandInput)===null||n===void 0?void 0:n.Entries)===null||i===void 0||i.forEach(s=>{var o;s.MessageAttributes=Ma.injectPropagationContext((o=s.MessageAttributes)!==null&&o!==void 0?o:{})});break}},this.responseHook=(e,t,n,i)=>{var s,o;switch(e.request.commandName){case"SendMessage":t.setAttribute(We.SemanticAttributes.MESSAGING_MESSAGE_ID,(s=e==null?void 0:e.data)===null||s===void 0?void 0:s.MessageId);break;case"SendMessageBatch":break;case"ReceiveMessage":{let u=(o=e==null?void 0:e.data)===null||o===void 0?void 0:o.Messages;if(u){let c=this.extractQueueUrl(e.request.commandInput),_=this.extractQueueNameFromUrl(c);t0.pubsubPropagation.patchMessagesArrayToStartProcessSpans({messages:u,parentContext:hr.trace.setSpan(hr.context.active(),t),tracer:n,messageToSpanDetails:l=>({name:_??"unknown",parentContext:hr.propagation.extract(hr.ROOT_CONTEXT,Ma.extractPropagationContext(l,i.sqsExtractContextPropagationFromPayload),Ma.contextGetter),attributes:{[We.SemanticAttributes.MESSAGING_SYSTEM]:"aws.sqs",[We.SemanticAttributes.MESSAGING_DESTINATION]:_,[We.SemanticAttributes.MESSAGING_DESTINATION_KIND]:We.MessagingDestinationKindValues.QUEUE,[We.SemanticAttributes.MESSAGING_MESSAGE_ID]:l.MessageId,[We.SemanticAttributes.MESSAGING_URL]:c,[We.SemanticAttributes.MESSAGING_OPERATION]:We.MessagingOperationValues.PROCESS}}),processHook:(l,d)=>{var p;return(p=i.sqsProcessHook)===null||p===void 0?void 0:p.call(i,l,{message:d})}}),t0.pubsubPropagation.patchArrayForProcessSpans(u,n,hr.context.active())}break}}},this.extractQueueUrl=e=>e==null?void 0:e.QueueUrl,this.extractQueueNameFromUrl=e=>{if(!e)return;let t=e.split("/");if(t.length!==0)return t[t.length-1]}}requestPreSpanHook(e){let t=this.extractQueueUrl(e.commandInput),n=this.extractQueueNameFromUrl(t),i=hr.SpanKind.CLIENT,s,o={[We.SemanticAttributes.MESSAGING_SYSTEM]:"aws.sqs",[We.SemanticAttributes.MESSAGING_DESTINATION_KIND]:We.MessagingDestinationKindValues.QUEUE,[We.SemanticAttributes.MESSAGING_DESTINATION]:n,[We.SemanticAttributes.MESSAGING_URL]:t},u=!1;switch(e.commandName){case"ReceiveMessage":u=!0,i=hr.SpanKind.CONSUMER,s=`${n} receive`,o[We.SemanticAttributes.MESSAGING_OPERATION]=We.MessagingOperationValues.RECEIVE,e.commandInput.MessageAttributeNames=Ma.addPropagationFieldsToAttributeNames(e.commandInput.MessageAttributeNames,hr.propagation.fields());break;case"SendMessage":case"SendMessageBatch":i=hr.SpanKind.PRODUCER,s=`${n} send`;break}return{isIncoming:u,spanAttributes:o,spanKind:i,spanName:s}}};LE.SqsServiceExtension=cg});var n0=a(DE=>{"use strict";Object.defineProperty(DE,"__esModule",{value:!0});DE.DynamodbServiceExtension=void 0;var R6=f(),Ni=Le(),_g=class{requestPreSpanHook(e){var t;let n=R6.SpanKind.CLIENT,i,s=!1,o=e.commandName,u={[Ni.SemanticAttributes.DB_SYSTEM]:Ni.DbSystemValues.DYNAMODB,[Ni.SemanticAttributes.DB_NAME]:(t=e.commandInput)===null||t===void 0?void 0:t.TableName,[Ni.SemanticAttributes.DB_OPERATION]:o,[Ni.SemanticAttributes.DB_STATEMENT]:JSON.stringify(e.commandInput)};return o=="BatchGetItem"&&(u[Ni.SemanticAttributes.AWS_DYNAMODB_TABLE_NAMES]=Object.keys(e.commandInput.RequestItems)),{isIncoming:s,spanAttributes:u,spanKind:n,spanName:i}}responseHook(e,t,n,i){var s;e.request.commandName==="BatchGetItem"&&Array.isArray((s=e.data)===null||s===void 0?void 0:s.ConsumedCapacity)&&t.setAttribute(Ni.SemanticAttributes.AWS_DYNAMODB_CONSUMED_CAPACITY,e.data.ConsumedCapacity.map(u=>JSON.stringify(u)))}};DE.DynamodbServiceExtension=_g});var s0=a(wE=>{"use strict";Object.defineProperty(wE,"__esModule",{value:!0});wE.SnsServiceExtension=void 0;var i0=f(),ya=Le(),P6=ug(),lg=class{requestPreSpanHook(e){let t=i0.SpanKind.CLIENT,n=`SNS ${e.commandName}`,i={[ya.SemanticAttributes.MESSAGING_SYSTEM]:"aws.sns"};if(e.commandName==="Publish"){t=i0.SpanKind.PRODUCER,i[ya.SemanticAttributes.MESSAGING_DESTINATION_KIND]=ya.MessagingDestinationKindValues.TOPIC;let{TopicArn:s,TargetArn:o,PhoneNumber:u}=e.commandInput;i[ya.SemanticAttributes.MESSAGING_DESTINATION]=this.extractDestinationName(s,o,u),n=`${u?"phone_number":i[ya.SemanticAttributes.MESSAGING_DESTINATION]} send`}return{isIncoming:!1,spanAttributes:i,spanKind:t,spanName:n}}requestPostSpanHook(e){var t;if(e.commandName==="Publish"){let n=(t=e.commandInput.MessageAttributes)!==null&&t!==void 0?t:{};n&&(e.commandInput.MessageAttributes=P6.injectPropagationContext(n))}}responseHook(e,t,n,i){}extractDestinationName(e,t,n){if(e||t){let i=e??t;try{return i.substr(i.lastIndexOf(":")+1)}catch{return i}}else return n||"unknown"}};wE.SnsServiceExtension=lg});var a0=a(BE=>{"use strict";Object.defineProperty(BE,"__esModule",{value:!0});BE.LambdaServiceExtension=void 0;var dg=f(),UE=Le(),o0=f(),ws=class{};ws.Invoke="Invoke";var Eg=class{constructor(){this.requestPostSpanHook=e=>{switch(e.commandName){case ws.Invoke:e.commandInput&&(e.commandInput.ClientContext=N6(e.commandInput.ClientContext));break}},this.extractFunctionName=e=>e==null?void 0:e.FunctionName}requestPreSpanHook(e){let t=this.extractFunctionName(e.commandInput),n={},i;switch(e.commandName){case"Invoke":n={[UE.SemanticAttributes.FAAS_INVOKED_NAME]:t,[UE.SemanticAttributes.FAAS_INVOKED_PROVIDER]:"aws"},e.region&&(n[UE.SemanticAttributes.FAAS_INVOKED_REGION]=e.region),i=`${t} ${ws.Invoke}`;break}return{isIncoming:!1,spanAttributes:n,spanKind:dg.SpanKind.CLIENT,spanName:i}}responseHook(e,t,n,i){switch(e.request.commandName){case ws.Invoke:t.setAttribute(UE.SemanticAttributes.FAAS_EXECUTION,e.requestId);break}}};BE.LambdaServiceExtension=Eg;var N6=r=>{try{let e={};o0.propagation.inject(o0.context.active(),e);let t=r?JSON.parse(Buffer.from(r,"base64").toString("utf8")):{},n=Object.assign(Object.assign({},t),{Custom:Object.assign(Object.assign({},t.Custom),e)}),i=Buffer.from(JSON.stringify(n)).toString("base64");return i.length>3583?(dg.diag.warn("lambda instrumentation: cannot set context propagation on lambda invoke parameters due to ClientContext length limitations."),r):i}catch(e){return dg.diag.debug("lambda instrumentation: failed to set context propagation on ClientContext",e),r}}});var u0=a(GE=>{"use strict";Object.defineProperty(GE,"__esModule",{value:!0});GE.ServicesExtensions=void 0;var I6=r0(),b6=n0(),v6=s0(),C6=a0(),pg=class{constructor(){this.services=new Map,this.services.set("SQS",new I6.SqsServiceExtension),this.services.set("SNS",new v6.SnsServiceExtension),this.services.set("DynamoDB",new b6.DynamodbServiceExtension),this.services.set("Lambda",new C6.LambdaServiceExtension)}requestPreSpanHook(e){let t=this.services.get(e.serviceName);return t?t.requestPreSpanHook(e):{isIncoming:!1}}requestPostSpanHook(e){let t=this.services.get(e.serviceName);if(t!=null&&t.requestPostSpanHook)return t.requestPostSpanHook(e)}responseHook(e,t,n,i){var s;let o=this.services.get(e.request.serviceName);(s=o==null?void 0:o.responseHook)===null||s===void 0||s.call(o,e,t,n,i)}};GE.ServicesExtensions=pg});var c0=a(qE=>{"use strict";Object.defineProperty(qE,"__esModule",{value:!0});qE.ServicesExtensions=void 0;var M6=u0();Object.defineProperty(qE,"ServicesExtensions",{enumerable:!0,get:function(){return M6.ServicesExtensions}})});var _0=a(jE=>{"use strict";Object.defineProperty(jE,"__esModule",{value:!0});jE.VERSION=void 0;jE.VERSION="0.33.0"});var d0=a(ut=>{"use strict";Object.defineProperty(ut,"__esModule",{value:!0});ut.bindPromise=ut.extractAttributesFromNormalizedRequest=ut.normalizeV3Request=ut.normalizeV2Request=ut.removeSuffixFromStringIfExists=void 0;var l0=f(),fg=Le(),y6=ng(),L6=r=>typeof r=="string"?r.charAt(0).toUpperCase()+r.slice(1):r,D6=(r,e)=>{let t=e.length;return(r==null?void 0:r.slice(-t))===e?r.slice(0,r.length-t):r};ut.removeSuffixFromStringIfExists=D6;var w6=r=>{var e,t,n;let i=r==null?void 0:r.service;return{serviceName:(t=(e=i==null?void 0:i.api)===null||e===void 0?void 0:e.serviceId)===null||t===void 0?void 0:t.replace(/\s+/g,""),commandName:L6(r==null?void 0:r.operation),commandInput:r.params,region:(n=i==null?void 0:i.config)===null||n===void 0?void 0:n.region}};ut.normalizeV2Request=w6;var U6=(r,e,t,n)=>({serviceName:r==null?void 0:r.replace(/\s+/g,""),commandName:ut.removeSuffixFromStringIfExists(e,"Command"),commandInput:t,region:n});ut.normalizeV3Request=U6;var B6=r=>({[fg.SemanticAttributes.RPC_SYSTEM]:"aws-api",[fg.SemanticAttributes.RPC_METHOD]:r.commandName,[fg.SemanticAttributes.RPC_SERVICE]:r.serviceName,[y6.AttributeNames.AWS_REGION]:r.region});ut.extractAttributesFromNormalizedRequest=B6;var G6=(r,e,t=1)=>{let n=r.then;return r.then=function(i,s){let o=l0.context.bind(e,i),u=l0.context.bind(e,s),c=n.call(this,o,u);return t>1?ut.bindPromise(c,e,t-1):c},r};ut.bindPromise=G6});var f0=a(VE=>{"use strict";Object.defineProperty(VE,"__esModule",{value:!0});VE.AwsInstrumentation=void 0;var ue=f(),q6=le(),Nt=ng(),j6=c0(),V6=_0(),It=yc(),sn=d0(),E0=Le(),p0=Symbol("opentelemetry.instrumentation.aws-sdk.client.config"),Us=Symbol("opentelemetry.instrumentation.aws-sdk.span"),gr=class extends It.InstrumentationBase{constructor(e={}){super("@opentelemetry/instrumentation-aws-sdk",V6.VERSION,Object.assign({},e)),this.servicesExtensions=new j6.ServicesExtensions}setConfig(e={}){this._config=Object.assign({},e)}init(){let e=new It.InstrumentationNodeModuleFile("@aws-sdk/middleware-stack/dist/cjs/MiddlewareStack.js",[">=3.1.0 <3.35.0"],this.patchV3ConstructStack.bind(this),this.unpatchV3ConstructStack.bind(this)),t=new It.InstrumentationNodeModuleFile("@aws-sdk/middleware-stack/dist-cjs/MiddlewareStack.js",[">=3.35.0"],this.patchV3ConstructStack.bind(this),this.unpatchV3ConstructStack.bind(this)),n=new It.InstrumentationNodeModuleDefinition("@aws-sdk/middleware-stack",["^3.1.0"],void 0,void 0,[e,t]),i=new It.InstrumentationNodeModuleDefinition("@aws-sdk/smithy-client",["^3.1.0"],this.patchV3SmithyClient.bind(this),this.unpatchV3SmithyClient.bind(this)),s=new It.InstrumentationNodeModuleFile("aws-sdk/lib/core.js",["^2.308.0"],this.patchV2.bind(this),this.unpatchV2.bind(this));return[new It.InstrumentationNodeModuleDefinition("aws-sdk",["^2.308.0"],void 0,void 0,[s]),n,i]}patchV3ConstructStack(e,t){return ue.diag.debug("aws-sdk instrumentation: applying patch to aws-sdk v3 constructStack"),this._wrap(e,"constructStack",this._getV3ConstructStackPatch.bind(this,t)),e}unpatchV3ConstructStack(e){return ue.diag.debug("aws-sdk instrumentation: applying unpatch to aws-sdk v3 constructStack"),this._unwrap(e,"constructStack"),e}patchV3SmithyClient(e){return ue.diag.debug("aws-sdk instrumentation: applying patch to aws-sdk v3 client send"),this._wrap(e.Client.prototype,"send",this._getV3SmithyClientSendPatch.bind(this)),e}unpatchV3SmithyClient(e){return ue.diag.debug("aws-sdk instrumentation: applying patch to aws-sdk v3 constructStack"),this._unwrap(e.Client.prototype,"send"),e}patchV2(e,t){return ue.diag.debug(`aws-sdk instrumentation: applying patch to ${gr.component}`),this.unpatchV2(e),this._wrap(e==null?void 0:e.Request.prototype,"send",this._getRequestSendPatch.bind(this,t)),this._wrap(e==null?void 0:e.Request.prototype,"promise",this._getRequestPromisePatch.bind(this,t)),e}unpatchV2(e){It.isWrapped(e==null?void 0:e.Request.prototype.send)&&this._unwrap(e.Request.prototype,"send"),It.isWrapped(e==null?void 0:e.Request.prototype.promise)&&this._unwrap(e.Request.prototype,"promise")}_startAwsV3Span(e,t){var n,i;let s=(n=t.spanName)!==null&&n!==void 0?n:`${e.serviceName}.${e.commandName}`;return this.tracer.startSpan(s,{kind:(i=t.spanKind)!==null&&i!==void 0?i:ue.SpanKind.CLIENT,attributes:Object.assign(Object.assign({},sn.extractAttributesFromNormalizedRequest(e)),t.spanAttributes)})}_startAwsV2Span(e,t,n){var i,s,o,u,c;let _=e.operation,l=e.service,d=l==null?void 0:l.serviceIdentifier,p=(i=t.spanName)!==null&&i!==void 0?i:`${n.serviceName}.${n.commandName}`;return this.tracer.startSpan(p,{kind:(s=t.spanKind)!==null&&s!==void 0?s:ue.SpanKind.CLIENT,attributes:Object.assign(Object.assign({[Nt.AttributeNames.AWS_OPERATION]:_,[Nt.AttributeNames.AWS_SIGNATURE_VERSION]:(o=l==null?void 0:l.config)===null||o===void 0?void 0:o.signatureVersion,[Nt.AttributeNames.AWS_SERVICE_API]:(u=l==null?void 0:l.api)===null||u===void 0?void 0:u.className,[Nt.AttributeNames.AWS_SERVICE_IDENTIFIER]:d,[Nt.AttributeNames.AWS_SERVICE_NAME]:(c=l==null?void 0:l.api)===null||c===void 0?void 0:c.abbreviation},sn.extractAttributesFromNormalizedRequest(n)),t.spanAttributes)})}_callUserPreRequestHook(e,t,n){var i;if(!((i=this._config)===null||i===void 0)&&i.preRequestHook){let s={moduleVersion:n,request:t};It.safeExecuteInTheMiddle(()=>this._config.preRequestHook(e,s),o=>{o&&ue.diag.error(`${gr.component} instrumentation: preRequestHook error`,o)},!0)}}_callUserResponseHook(e,t){var n;let i=(n=this._config)===null||n===void 0?void 0:n.responseHook;if(!i)return;let s={response:t};It.safeExecuteInTheMiddle(()=>i(e,s),o=>{o&&ue.diag.error(`${gr.component} instrumentation: responseHook error`,o)},!0)}_registerV2CompletedEvent(e,t,n,i){let s=this;t.on("complete",o=>{ue.context.with(i,()=>{var u;if(!t[Us])return;delete t[Us];let c=o.requestId,_={data:o.data,request:n,requestId:c};s._callUserResponseHook(e,_),o.error?e.setAttribute(Nt.AttributeNames.AWS_ERROR,o.error):this.servicesExtensions.responseHook(_,e,s.tracer,s._config),e.setAttribute(Nt.AttributeNames.AWS_REQUEST_ID,c);let l=(u=o.httpResponse)===null||u===void 0?void 0:u.statusCode;l&&e.setAttribute(E0.SemanticAttributes.HTTP_STATUS_CODE,l),e.end()})})}_getV3ConstructStackPatch(e,t){let n=this;return function(...s){let o=t.apply(this,s);return n.patchV3MiddlewareStack(e,o),o}}_getV3SmithyClientSendPatch(e){return function(n,...i){return n[p0]=this.config,e.apply(this,[n,...i])}}patchV3MiddlewareStack(e,t){It.isWrapped(t.resolve)||this._wrap(t,"resolve",this._getV3MiddlewareStackResolvePatch.bind(this,e)),this._wrap(t,"clone",this._getV3MiddlewareStackClonePatch.bind(this,e)),this._wrap(t,"concat",this._getV3MiddlewareStackClonePatch.bind(this,e))}_getV3MiddlewareStackClonePatch(e,t){let n=this;return function(...i){let s=t.apply(this,i);return n.patchV3MiddlewareStack(e,s),s}}_getV3MiddlewareStackResolvePatch(e,t){let n=this;return function(i,s){let o=t.call(this,i,s);return function(c){var _,l,d,p;let E=c[p0],O=(_=E==null?void 0:E.region)===null||_===void 0?void 0:_.call(E),R=(l=E==null?void 0:E.serviceId)!==null&&l!==void 0?l:sn.removeSuffixFromStringIfExists(s.clientName,"Client"),C=(d=s.commandName)!==null&&d!==void 0?d:(p=c.constructor)===null||p===void 0?void 0:p.name,P=sn.normalizeV3Request(R,C,c.input,void 0),ce=n.servicesExtensions.requestPreSpanHook(P),I=n._startAwsV3Span(P,ce),H=ue.trace.setSpan(ue.context.active(),I),ke=new Promise((Y,N)=>{Promise.resolve(O).then(j=>{P.region=j,I.setAttribute(Nt.AttributeNames.AWS_REGION,j)}).catch(j=>{ue.diag.debug(`${gr.component} instrumentation: failed to extract region from async function`,j)}).finally(()=>{n._callUserPreRequestHook(I,P,e),ue.context.with(H,()=>(n.servicesExtensions.requestPostSpanHook(P),n._callOriginalFunction(()=>o.call(this,c)))).then(V=>{var A,v,ne,D,J,ve;let ie=(v=(A=V.output)===null||A===void 0?void 0:A.$metadata)===null||v===void 0?void 0:v.requestId;ie&&I.setAttribute(Nt.AttributeNames.AWS_REQUEST_ID,ie);let se=(D=(ne=V.output)===null||ne===void 0?void 0:ne.$metadata)===null||D===void 0?void 0:D.httpStatusCode;se&&I.setAttribute(E0.SemanticAttributes.HTTP_STATUS_CODE,se);let Oe=(ve=(J=V.output)===null||J===void 0?void 0:J.$metadata)===null||ve===void 0?void 0:ve.extendedRequestId;Oe&&I.setAttribute(Nt.AttributeNames.AWS_REQUEST_EXTENDED_ID,Oe);let Tt={data:V.output,request:P,requestId:ie};return n.servicesExtensions.responseHook(Tt,I,n.tracer,n._config),n._callUserResponseHook(I,Tt),V}).catch(V=>{let A=V==null?void 0:V.RequestId;A&&I.setAttribute(Nt.AttributeNames.AWS_REQUEST_ID,A);let v=V==null?void 0:V.extendedRequestId;throw v&&I.setAttribute(Nt.AttributeNames.AWS_REQUEST_EXTENDED_ID,v),I.setAttributes({"error.name":V.name,"error.message":V.message,"error.stack":V.stack}),I.setStatus({code:ue.SpanStatusCode.ERROR,message:V.message}),I.recordException(V),V}).finally(()=>{I.end()}).then(V=>{Y(V)}).catch(V=>N(V))})});return ce.isIncoming?sn.bindPromise(ke,H,2):ke}}}_getRequestSendPatch(e,t){let n=this;return function(i){if(this[Us])return t.call(this,i);let s=sn.normalizeV2Request(this),o=n.servicesExtensions.requestPreSpanHook(s),u=n._startAwsV2Span(this,o,s);this[Us]=u;let c=ue.trace.setSpan(ue.context.active(),u),_=ue.context.bind(c,i);return n._callUserPreRequestHook(u,s,e),n._registerV2CompletedEvent(u,this,s,c),ue.context.with(c,()=>(n.servicesExtensions.requestPostSpanHook(s),n._callOriginalFunction(()=>t.call(this,_))))}}_getRequestPromisePatch(e,t){let n=this;return function(...i){if(this[Us])return t.apply(this,i);let s=sn.normalizeV2Request(this),o=n.servicesExtensions.requestPreSpanHook(s),u=n._startAwsV2Span(this,o,s);this[Us]=u;let c=ue.trace.setSpan(ue.context.active(),u);n._callUserPreRequestHook(u,s,e),n._registerV2CompletedEvent(u,this,s,c);let _=ue.context.with(c,()=>(n.servicesExtensions.requestPostSpanHook(s),n._callOriginalFunction(()=>t.call(this,arguments))));return o.isIncoming?sn.bindPromise(_,c):_}}_callOriginalFunction(e){var t;return!((t=this._config)===null||t===void 0)&&t.suppressInternalInstrumentation?ue.context.with(q6.suppressTracing(ue.context.active()),e):e()}};VE.AwsInstrumentation=gr;gr.component="aws-sdk"});var S0=a(T0=>{"use strict";Object.defineProperty(T0,"__esModule",{value:!0})});var h0=a(on=>{"use strict";var H6=on&&on.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),A0=on&&on.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&H6(e,r,t)};Object.defineProperty(on,"__esModule",{value:!0});A0(f0(),on);A0(S0(),on)});var O0=Ag(JN()),m0=Ag(Hc());function Co(r,e="",t={}){if(e&&typeof r=="object"&&r!==null&&Object.keys(r).length===0)return t[e]=Array.isArray(r)?[]:{},t;e=e?`${e}.`:"";for(let n in r)Object.prototype.hasOwnProperty.call(r,n)&&(typeof r[n]=="object"&&r[n]!==null?Co(r[n],e+n,t):t[e+n]=r[n]);return t}var Bs=f(),{BatchSpanProcessor:F6}=Ho(),{OTLPTraceExporter:x6}=cM(),{NodeTracerProvider:K6}=eD(),{registerInstrumentations:$6}=yc(),{AwsLambdaInstrumentation:X6}=zD(),{AwsInstrumentation:Y6}=h0(),R0=new K6({resource:new m0.Resource({"service.name":process.env.BASELIME_NAMESPACE})}),W6=new F6(new x6({url:"https://otel.baselime.cc/v1",headers:{"x-api-key":process.env.BASELIME_OTEL_KEY}}));R0.addSpanProcessor(W6);R0.register();function k6(r){var e,t;if((e=r.requestContext)!=null&&e.apiId)return"api";if(r.Records&&((t=r.Records[0])==null?void 0:t.EventSource)==="aws:sns")return"sns"}var g0={keys(r){return Object.keys(r)},get(r,e){return r[e]}},z6={keys(r){return Object.keys(r)},get(r,e){var t;return console.log(r,e),(t=r[e])==null?void 0:t.Value}};$6({instrumentations:[new Y6({suppressInternalInstrumentation:!0,responseHook:(r,{response:e})=>{e&&r.setAttributes(Co({request:e.request,response:e.data}))}}),new O0.HttpInstrumentation({}),new X6({disableAwsContextPropagation:!0,requestHook:(r,{event:e,context:t})=>{r.setAttribute("name",t.functionName),r.setAttributes(Co(e,"event"))},responseHook:(r,{err:e,res:t})=>{e instanceof Error&&(r.setAttribute("error.message",e.message),r.setAttribute("error.name",e.name),r.setAttribute("error.stack",e.stack)),t&&r.setAttributes(Co(t,"response"))},eventContextExtractor:r=>{switch(k6(r)){case"api":let e=r.headers||{};return Bs.propagation.extract(Bs.context.active(),e,g0);case"sns":return Bs.propagation.extract(Bs.context.active(),r.Records[0].Sns.MessageAttributes,z6)}return Bs.propagation.extract(Bs.context.active(),{},g0)}})]});
